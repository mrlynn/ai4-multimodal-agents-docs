# .gitignore

```
node_modules
build
dist
.DS_Store
.claude
.docusaurus
.docusaurus/*
.vercel
DOCUMENTATION-UPDATE-PROMPT.md
_old
codebase.md
/docs/backup

```

# COMPONENT-USAGE-GUIDE.md

```md
# üìñ Workshop Component Usage Guide

This guide explains how to use the custom workshop components throughout your documentation.

## üéØ Component Overview

### 1. WorkshopTransition
**Purpose**: Bridge between Google Slides presentation and hands-on Docusaurus content.
**Where it's used**: Currently only on the main workshop overview page (`docs/index.mdx`)
**When to use**: At the very beginning of your workshop documentation to welcome attendees transitioning from slides.

### 2. InstructorNotes
**Purpose**: Provide timing, tips, and guidance for workshop instructors.
**Where it's used**: Throughout the documentation (`index.mdx`, `10-intro.mdx`, `25-n8n-first-run.mdx`, `30-mongodb-atlas-setup.mdx`)
**When to use**: At the beginning of each major section or before complex exercises.

### 3. SlideRecap
**Purpose**: Summarize what was covered in the Google Slides before diving into hands-on content.
**Where it's used**: Currently in `10-intro.mdx`
**When to use**: After transitioning from slides to reinforce key concepts.

### 4. QRCodeAccess
**Purpose**: Generate QR codes for easy mobile access to workshop materials.
**Where it's used**: Bottom of `index.mdx`
**When to use**: Anywhere you want attendees to quickly access a URL on their phones.

## üìù Usage Examples

### WorkshopTransition

\`\`\`jsx
<WorkshopTransition 
  slideTopics={[
    "Workshop overview and learning objectives",
    "Architecture overview", 
    "Technology stack introduction"
  ]}
  instructor="Michael Lynn"
  welcomeMessage="Welcome to the Hands-On Workshop!"
  handsOnUrl="/docs/intro"
/>
\`\`\`

**Best practices:**
- Use only on the main landing page
- List 3-5 key slide topics
- Customize instructor name
- Optional: Override welcome message

### InstructorNotes

\`\`\`jsx
<InstructorNotes 
  timing="MongoDB Atlas Setup (15-20 minutes)"
  notes={[
    "Atlas signup can take a few minutes - start early",
    "Credit card may be required but we'll stay in free tier",
    "Network access setup often confuses first-time users"
  ]}
  tips={[
    "Demo the Atlas setup on screen while attendees follow",
    "Have backup connection strings ready",
    "Consider pair programming for troubleshooting"
  ]}
/>
\`\`\`

**Best practices:**
- Include realistic timing estimates
- Add 3-5 practical notes from experience
- Provide actionable tips
- Place at the beginning of sections

### SlideRecap

\`\`\`jsx
<SlideRecap 
  title="From Presentation to Practice"
  items={[
    {
      icon: "üèóÔ∏è",
      title: "Architecture Overview",
      description: "We covered how n8n, MongoDB Atlas, and Voyage AI work together"
    },
    {
      icon: "üéØ", 
      title: "Learning Objectives",
      description: "Build a production-ready multimodal PDF processing system"
    }
  ]}
  nextSection="Now we'll build this system step by step!"
/>
\`\`\`

**Best practices:**
- Use after transitioning from slides
- Include 3-4 key concepts from slides
- Use relevant emojis for visual appeal
- End with encouraging next step message

### QRCodeAccess

\`\`\`jsx
<QRCodeAccess 
  url={typeof window !== 'undefined' ? window.location.origin + '/docs/' : 'https://workshop.example.com/docs/'}
  title="Share Workshop Materials"
/>
\`\`\`

**Best practices:**
- Use dynamic URL generation when possible
- Provide fallback URL for SSR
- Place where attendees might need mobile access
- Consider adding at section transitions

## üöÄ Where to Add More Components

### Recommended Additions:

1. **InstructorNotes** - Add to every major section:
   - `prerequisites.mdx` - Common setup issues
   - `github-codespaces.mdx` - Port forwarding tips
   - `pdf-processing-workflow.mdx` - Debugging workflow issues
   - `voyage-ai-setup.mdx` - API key management
   - `vector-search-implementation.mdx` - Index creation timing
   - `ai-agent-workflow.mdx` - Model selection guidance
   - `complete-multimodal-agent.mdx` - Integration testing tips

2. **SlideRecap** - Add after major conceptual sections:
   - After prerequisites overview
   - Before starting PDF processing
   - Before vector search implementation

3. **QRCodeAccess** - Add for:
   - External resources (MongoDB Atlas signup)
   - API documentation links
   - Sample file downloads
   - Final deployed application

## üí° Component Composition

You can combine components for powerful experiences:

\`\`\`jsx
{/* Start of a major section */}
<SlideRecap 
  title="Vector Search Concepts"
  items={[...]}
/>

<InstructorNotes 
  timing="20 minutes"
  notes={["Start MongoDB Atlas setup early"]}
/>

<WorkshopExercise>
  {/* Exercise content */}
</WorkshopExercise>

{/* End with access options */}
<QRCodeAccess 
  url="https://docs.mongodb.com/atlas"
  title="MongoDB Atlas Documentation"
/>
\`\`\`

## üé® Styling Guidelines

1. **Consistency**: Use components in similar patterns across sections
2. **Visibility**: InstructorNotes should be at section starts
3. **Context**: SlideRecap should reference actual slide content
4. **Accessibility**: QR codes should include text URLs too

## üìä Current Usage Statistics

- **WorkshopTransition**: 1 instance (index.mdx)
- **InstructorNotes**: 4 instances across 3 files
- **SlideRecap**: 1 instance (10-intro.mdx)
- **QRCodeAccess**: 1 instance (index.mdx)

## üîÑ Next Steps

1. Add InstructorNotes to remaining sections
2. Create SlideRecap components for major transitions
3. Add QRCodeAccess for external resources
4. Consider creating a WorkshopFeedback component
5. Build a WorkshopResources component for additional materials

## üõ†Ô∏è Maintenance

- Review instructor notes after each workshop
- Update timing estimates based on actual experience
- Add new tips discovered during delivery
- Keep slide topics synchronized with actual presentation
```

# docs/73-workflows-library-complex.mdx.backup

```backup
---
sidebar_position: 73
---

# üìö Workflows Library

Access all pre-built workshop workflows ready for import into n8n. Each workflow demonstrates specific concepts and can be used as templates for your own implementations.

<InstructorNotes 
  timing="Workflows Library Overview (10-15 minutes)"
  notes={[
    "This is where participants can download all workshop workflows",
    "Each workflow builds on previous concepts progressively",
    "Workflows can be imported directly into n8n",
    "Encourage participants to examine the workflow JSON to understand structure",
    "Remind them to update credentials after importing"
  ]}
  tips={[
    "Demo the import process live with one workflow",
    "Show how to modify workflows after importing",
    "Explain the naming convention (01-09)",
    "Point out the progression from simple to complex",
    "Mention workflows are also available in the GitHub repo"
  ]}
/>

<SlideRecap 
  title="Pre-Built Workflows for Learning"
  items={[
    {
      icon: "üéØ",
      title: "Progressive Learning", 
      description: "Workflows increase in complexity from basic to advanced"
    },
    {
      icon: "üîß", 
      title: "Ready to Import",
      description: "Download and import directly into your n8n instance"
    },
    {
      icon: "üìñ",
      title: "Educational Templates",
      description: "Each workflow teaches specific concepts and patterns"
    }
  ]}
  nextSection="Download workflows and start building!"
/>

## üöÄ Quick Start

### How to Import Workflows

1. **Download** the workflow JSON file
2. In n8n, go to **Workflows** ‚Üí **Import**
3. Select the downloaded JSON file
4. **Review** the imported workflow
5. **Update credentials** as needed
6. **Test** the workflow

:::tip Direct Download
All workflows are available at: `/workflows/`

Or access from GitHub: [Workshop Workflows Repository](https://github.com/mrlynn/ai4-multimodal-agents-n8n/tree/main/workflows)
:::

## üìã Available Workflows

### üéì Foundation Workflows (01-02)

<WorkflowCard
  number="01"
  title="Getting Started"
  description="Your first workflow! Tests the environment and verifies everything is working."
  concepts={["Webhooks", "Basic nodes", "Response handling"]}
  difficulty="beginner"
  downloadUrl="/workflows/01-getting-started.json"
>

**What it does:**
- Creates a simple webhook endpoint
- Returns workshop status information
- Verifies n8n is configured correctly

**Use this to:**
- Test your n8n installation
- Understand basic workflow structure
- Learn webhook configuration

</WorkflowCard>

<WorkflowCard
  number="02"
  title="PDF Processor"
  description="Extract and process PDF content for embedding generation."
  concepts={["PDF handling", "Page extraction", "Data transformation"]}
  difficulty="intermediate"
  downloadUrl="/workflows/02-pdf-processor.json"
>

**What it does:**
- Accepts PDF upload via webhook
- Extracts pages as images
- Prepares content for embedding generation
- Handles errors gracefully

**Use this to:**
- Process PDF documents
- Extract text and images
- Prepare for vector storage

</WorkflowCard>

### ü§ñ AI Agent Workflows (03-07)

<WorkflowCard
  number="03"
  title="Multimodal Agent"
  description="Basic multimodal agent that processes both text and images."
  concepts={["Multimodal embeddings", "Vector search", "AI responses"]}
  difficulty="intermediate"
  downloadUrl="/workflows/03-multimodal-agent.json"
>

**What it does:**
- Generates multimodal embeddings
- Stores in MongoDB Atlas
- Performs vector similarity search
- Returns AI-powered responses

**Key features:**
- Voyage AI multimodal-3 integration
- MongoDB vector search
- Basic RAG implementation

</WorkflowCard>

<WorkflowCard
  number="04"
  title="Complete Agent (Mock)"
  description="Full agent workflow with mock services for testing without API keys."
  concepts={["Mock testing", "Agent architecture", "Error handling"]}
  difficulty="intermediate"
  downloadUrl="/workflows/04-complete-agent-mock.json"
>

**What it does:**
- Complete agent flow with mock embeddings
- Simulated vector search
- Mock AI responses
- Perfect for testing without API costs

**Use this to:**
- Test agent architecture
- Develop without API keys
- Understand the complete flow

</WorkflowCard>

<WorkflowCard
  number="05"
  title="Real Multimodal Agent"
  description="Production-ready multimodal agent with real API integrations."
  concepts={["Production patterns", "Real APIs", "Advanced RAG"]}
  difficulty="advanced"
  downloadUrl="/workflows/05-real-multimodal-agent.json"
>

**What it does:**
- Full production workflow
- Real Voyage AI embeddings
- MongoDB Atlas vector search
- Gemini 2.0 AI responses
- Error handling and retries

**Requirements:**
- MongoDB Atlas connection
- Workshop API access
- Proper credential configuration

</WorkflowCard>

<WorkflowCard
  number="06"
  title="Real Voyage Multimodal"
  description="Advanced workflow showcasing Voyage AI's multimodal capabilities."
  concepts={["Image embeddings", "Visual search", "Multimodal RAG"]}
  difficulty="advanced"
  downloadUrl="/workflows/06-real-voyage-multimodal.json"
>

**What it does:**
- Processes images and text separately
- Creates unified multimodal embeddings
- Implements visual similarity search
- Handles mixed content queries

**Best for:**
- PDFs with diagrams
- Visual content analysis
- Image-based queries

</WorkflowCard>

<WorkflowCard
  number="07"
  title="Form-Based Agent"
  description="Interactive agent with web form interface for queries."
  concepts={["Web interface", "Form handling", "User interaction"]}
  difficulty="intermediate"
  downloadUrl="/workflows/07-form-based-agent.json"
>

**What it does:**
- Provides web form for queries
- Handles file uploads
- Interactive chat interface
- Session management

**Features:**
- HTML form integration
- File upload handling
- Response formatting
- User-friendly interface

</WorkflowCard>

### üöÄ Advanced Workflows (08-09)

<WorkflowCard
  number="08"
  title="Voyage Context-3 Embeddings"
  description="Enhanced text understanding with Voyage AI's Context-3 model."
  concepts={["Context-3 model", "Complex text", "Contextual embeddings"]}
  difficulty="advanced"
  downloadUrl="/workflows/08-voyage-context-3-embeddings.json"
>

**What it does:**
- Uses voyage-context-3 for deep text understanding
- Adds contextual information to embeddings
- Optimized for legal and technical documents
- Implements intelligent model selection

**Best for:**
- Legal documents
- Technical manuals
- Research papers
- Complex narratives

</WorkflowCard>

<WorkflowCard
  number="09"
  title="Hybrid Multimodal Context Agent"
  description="The ultimate workflow combining multimodal-3 and context-3 models."
  concepts={["Hybrid approach", "Model orchestration", "Advanced RAG"]}
  difficulty="expert"
  downloadUrl="/workflows/09-hybrid-multimodal-context-agent.json"
>

**What it does:**
- Intelligently routes content to appropriate models
- Uses multimodal-3 for images and diagrams
- Uses context-3 for complex text
- Combines results for comprehensive understanding
- Implements weighted search strategies

**Key features:**
- Automatic model selection
- Parallel processing
- Unified search across embeddings
- Optimal performance/cost balance

**Use cases:**
- Technical documentation with diagrams
- Legal contracts with exhibits
- Research papers with charts
- Any complex mixed-content documents

</WorkflowCard>

## üéØ Workflow Selection Guide

### By Experience Level

<Tabs>
<TabItem value="beginner" label="Beginner">

Start with these workflows:
1. **01 - Getting Started**: Learn n8n basics
2. **02 - PDF Processor**: Handle document processing
3. **04 - Complete Agent (Mock)**: Understand agent architecture

</TabItem>
<TabItem value="intermediate" label="Intermediate">

Progress to:
1. **03 - Multimodal Agent**: Real embedding generation
2. **07 - Form-Based Agent**: Add user interfaces
3. **05 - Real Multimodal Agent**: Production patterns

</TabItem>
<TabItem value="advanced" label="Advanced">

Master these:
1. **06 - Real Voyage Multimodal**: Visual content processing
2. **08 - Context-3 Embeddings**: Enhanced text understanding
3. **09 - Hybrid Agent**: Complete solution

</TabItem>
</Tabs>

### By Use Case

| Use Case | Recommended Workflows |
|----------|---------------------|
| **Basic PDF Processing** | 02, 03 |
| **Visual Content (Images/Diagrams)** | 06, 09 |
| **Legal/Technical Documents** | 08, 09 |
| **Interactive Applications** | 07 |
| **Production Deployment** | 05, 09 |
| **Testing/Development** | 04 |

## üîß Customization Tips

### After Importing

1. **Update Credentials**
   - MongoDB connection string
   - API endpoints (if not using workshop proxy)
   - Any authentication tokens

2. **Modify for Your Needs**
   - Change webhook paths
   - Adjust embedding models
   - Customize response formats
   - Add error notifications

3. **Common Customizations**
   \`\`\`javascript
   // Change embedding model
   "model": "voyage-context-3"  // Instead of voyage-3
   
   // Add metadata
   "metadata": {
     "source": "custom_app",
     "user_id": "{{ $json.user_id }}"
   }
   
   // Adjust search parameters
   "numCandidates": 100,  // Increase for better recall
   "limit": 10  // Return more results
   \`\`\`

## üì¶ Bulk Download

### Download All Workflows
Get all 9 workflows at once! Use these direct links:

- [01-getting-started.json](/workflows/01-getting-started.json)
- [02-pdf-processor.json](/workflows/02-pdf-processor.json)
- [03-multimodal-agent.json](/workflows/03-multimodal-agent.json)
- [04-complete-agent-mock.json](/workflows/04-complete-agent-mock.json)
- [05-real-multimodal-agent.json](/workflows/05-real-multimodal-agent.json)
- [06-real-voyage-multimodal.json](/workflows/06-real-voyage-multimodal.json)
- [07-form-based-agent.json](/workflows/07-form-based-agent.json)
- [08-voyage-context-3-embeddings.json](/workflows/08-voyage-context-3-embeddings.json)
- [09-hybrid-multimodal-context-agent.json](/workflows/09-hybrid-multimodal-context-agent.json)

Or use this script in your terminal:

\`\`\`bash
# Download all workflows
for i in {01..09}; do
  curl -O https://your-workshop-url.com/workflows/${i}-*.json
done
\`\`\`

## üö® Troubleshooting

### Common Import Issues

#### Credentials not found
After importing, you need to:
1. Go to **Credentials** ‚Üí **New**
2. Add MongoDB credentials
3. Update webhook URLs if needed
4. Save and test connections

#### Workflow errors on execution
Check these common issues:
- API endpoints are accessible
- MongoDB collection exists
- Webhook paths are unique
- All required nodes are connected

#### Version compatibility
These workflows require:
- n8n version 1.0.0 or higher
- MongoDB node v2
- HTTP Request node v4.1

## üìö Next Steps

After exploring the workflows:

1. **Start with workflow 01** to verify setup
2. **Progress through numbered order** for best learning
3. **Customize workflows** for your use case
4. **Combine patterns** from different workflows
5. **Build your own** using these as templates

:::tip Pro Tip
Open workflows in n8n's JSON view to understand the structure and learn how to build your own from scratch!
:::

Ready to import your first workflow? [Start with Getting Started ‚Üí](/workflows/01-getting-started.json)
```

# docs/atlas-setup.mdx

```mdx
---
id: atlas-setup
title: üçÉ MongoDB Atlas Cluster Setup
sidebar_label: üçÉ Atlas Setup
sidebar_position: 4
---

import ClickableImage from '@site/src/components/ClickableImage';

# üçÉ MongoDB Atlas Cluster Setup

## Why MongoDB Atlas?

MongoDB Atlas provides:
- **Native vector search** with HNSW algorithms for fast similarity matching
- **Flexible document storage** for mixed data types
- **Free tier** perfect for development and learning
- **Built-in vector indexing** without additional infrastructure

---

## Step-by-Step Atlas Deployment

### Step 1: Create MongoDB Atlas Account

Navigate to [MongoDB Atlas](https://www.mongodb.com/cloud/atlas/register) and create your free account:

<ClickableImage 
  src="/img/atlas-1-signup.png" 
  alt="MongoDB Atlas Signup Page"
  caption="Fill in your account details and click 'Create your Atlas account'"
/>

Fill in your account details and click **"Create your Atlas account"**.

### Step 2: Verify Your Email Address

Check your email inbox for a verification message from MongoDB Atlas:

<ClickableImage 
  src="/img/atlas-2-verify-email.png" 
  alt="Email verification message from MongoDB Atlas"
  caption="Check your email for the verification message"
/>

Click the verification link in the email to activate your account:

<ClickableImage 
  src="/img/atlas-3-verify-email.png" 
  alt="Email verification confirmation page"
  caption="Click the verification link in your email"
/>

Complete the email verification process:

<ClickableImage 
  src="/img/atlas-4-verify-email.png" 
  alt="Email verification completion"
  caption="Complete the email verification process"
/>

### Step 3: Complete Initial Setup

You may be prompted to complete a personalization questionnaire. Fill it out based on your preferences:

![Personalization Survey](/img/atlas-5-personalization.png)

### Step 4: Deploy Your Free Cluster

When prompted to create your first database deployment, select the **"M0"** free tier option:

![Select Free Tier](/img/atlas-6-select-free.png)

Choose your preferred:
- **Cloud Provider**: AWS, Google Cloud, or Azure (any will work)
- **Region**: Select one closest to your location for better performance
- **Cluster Name**: You can keep the default or use "workshop-cluster"

Click **"Create Deployment"** to proceed.

### Step 5: Create Database User

Set up a database user with the following credentials:

![Create Database User](/img/atlas-7-username.png)

1. **Username**: Enter `workshop` (or your preference)
2. **Password**: Use the auto-generated password or create your own secure password
3. **Important**: Copy and save these credentials - you'll need them for your connection string
4. Click **"Create Database User"**

### Step 6: Configure Network Access

For this workshop, we'll allow access from anywhere for simplicity:

![Network Access Configuration](/img/atlas-11-network.png)

Set up network access:

![Allow Access from Anywhere](/img/atlas-12-anywhere.png)

1. The system may automatically configure network access
2. If prompted, select **"Add My Current IP Address"** or **"Allow Access from Anywhere"**
3. For workshop purposes, "Allow Access from Anywhere" (0.0.0.0/0) is acceptable

   ‚ö†Ô∏è **Production Note**: In production environments, always restrict access to specific IP addresses for security.

### Step 7: Choose Connection Method

Once your cluster is deployed, click **"Connect"** to access connection options:

![Choose Connection Method](/img/atlas-8-choose-connection.png)

Select **"Drivers"** to get the connection string for Python applications.

### Step 8: Get Your Connection String

Choose your driver and version:

![Select Python Driver](/img/atlas-9-drivers.png)

1. Select **"Python"** as your driver
2. Choose version **"3.6 or later"** (our workshop uses Python 3.8+)
3. Copy the provided connection string

![Copy Connection String](/img/atlas-10-copy-connection-string.png)

Your connection string will look like:
\`\`\`
mongodb+srv://workshop:<password>@cluster0.xxxxx.mongodb.net/?retryWrites=true&w=majority&appName=Cluster0
\`\`\`

**Important**: Replace `<password>` with the actual password you created for your database user.

---

## Setting Up Your Environment

### Add to .env File

Add your MongoDB connection string to your `.env` file:

\`\`\`bash
# MongoDB Atlas Configuration
MONGODB_URI="mongodb+srv://workshop:your_password@cluster0.xxxxx.mongodb.net/"
\`\`\`

### Install Required Packages

Make sure you have PyMongo installed:

\`\`\`bash
pip install pymongo
\`\`\`

### Verify Your Connection

Test your MongoDB connection:

\`\`\`python
from pymongo import MongoClient
import os

# Replace with your connection string
MONGODB_URI = os.getenv("MONGODB_URI")

try:
    client = MongoClient(MONGODB_URI)
    # Test the connection
    result = client.admin.command("ping")
    if result.get("ok") == 1:
        print("‚úÖ MongoDB Atlas connected successfully!")
        
        # List available databases
        print("Available databases:", client.list_database_names())
    else:
        print("‚ùå Connection failed")
except Exception as e:
    print(f"‚ùå MongoDB connection failed: {e}")
\`\`\`

---

## Understanding Atlas Features

### Vector Search Capabilities

MongoDB Atlas includes native vector search with:
- **HNSW Algorithm**: Hierarchical Navigable Small World for fast approximate nearest neighbor search
- **Multiple Distance Metrics**: Cosine, Euclidean, and dot product similarity
- **Filtering**: Combine vector similarity with traditional MongoDB queries
- **Real-time Updates**: Vector indexes update automatically as data changes

### Document Storage

Atlas stores documents in BSON format, allowing:
- **Mixed Data Types**: Store text, numbers, arrays, and embedded documents
- **Flexible Schema**: No need to define schema upfront
- **Rich Queries**: Complex aggregation pipelines for data processing
- **Scalability**: Automatic scaling as your data grows

### Performance Optimization

For vector search workloads:
- **Index Configuration**: Optimize for your embedding dimensions and similarity metric
- **Candidate Selection**: Balance between speed and accuracy with `numCandidates`
- **Filtering**: Pre-filter documents before vector search for better performance
- **Batch Operations**: Use bulk operations for efficient data loading

---

## Workshop Database Structure

We'll be using the following database structure:

\`\`\`javascript
// Database: mongodb_aiewf
// Collection: multimodal_workshop_voyageai

// Sample document structure:
{
  "_id": ObjectId("..."),
  "key": "data/images/1.png",           // Path to the image file
  "page_number": 1,                     // PDF page number
  "width": 2100,                        // Image width in pixels
  "height": 2970,                       // Image height in pixels
  "embedding": [0.1, 0.2, ...],        // 1024-dimensional vector from VoyageAI
}
\`\`\`

### Vector Search Index

We'll create a vector search index with these specifications:

\`\`\`javascript
{
  "name": "vector_index_voyageai",
  "type": "vectorSearch",
  "definition": {
    "fields": [
      {
        "type": "vector",
        "path": "embedding",
        "numDimensions": 1024,          // VoyageAI multimodal embeddings
        "similarity": "cosine"          // Cosine similarity metric
      }
    ]
  }
}
\`\`\`

---

## Troubleshooting

### Common Connection Issues

**Authentication Failed**
- Verify your username and password are correct
- Ensure you've replaced `<password>` in the connection string
- Check that your database user has the necessary permissions

**Network Access Denied**
- Verify your IP address is whitelisted
- For workshop purposes, ensure "Allow Access from Anywhere" is enabled
- Check your network's firewall settings

**DNS Resolution Issues**
- Try using `mongodb://` instead of `mongodb+srv://` 
- Check your internet connection
- Verify the cluster hostname is correct

### Performance Considerations

**Slow Vector Search**
- Ensure your vector index is built and ready (status: "READY")
- Optimize `numCandidates` parameter (typically 10-20x your `limit`)
- Consider using pre-filtering to reduce search space

**Memory Issues**
- Free tier clusters have memory limitations
- Monitor your cluster metrics in the Atlas dashboard
- Consider upgrading if you hit limits

### Getting Help

If you encounter issues:
- Check the [MongoDB Atlas Documentation](https://www.mongodb.com/docs/atlas/)
- Review your cluster logs in the Atlas dashboard
- Use the Atlas support chat for technical assistance
- Visit the [MongoDB Community Forums](https://www.mongodb.com/community/forums/)

---

## Security Best Practices

### Production Recommendations

1. **Network Security**
   - Use specific IP address allowlists instead of "Allow Access from Anywhere"
   - Implement VPC peering for cloud-based applications
   - Use private endpoints when available

2. **Authentication & Authorization**
   - Create database users with minimal required permissions
   - Use strong, unique passwords
   - Enable two-factor authentication on your Atlas account
   - Regularly rotate database user passwords

3. **Monitoring & Alerting**
   - Set up alerts for unusual connection patterns
   - Monitor query performance and resource usage
   - Enable audit logging for compliance requirements
   - Review access logs regularly

4. **Data Protection**
   - Enable encryption at rest (available on M10+ clusters)
   - Use TLS/SSL for all connections (enabled by default)
   - Implement proper backup and disaster recovery strategies
   - Follow data residency requirements if applicable

---

**[‚Üê Back to Prerequisites Overview](./prerequisites)** | **[Next: Start Workshop ‚Üí](./python-exercise-1)**
```

# docs/backup/python-exercise-1.mdx

```mdx
---
id: python-exercise-1
title: üìä Exercise 1 - Environment Setup & PDF Processing
sidebar_label: üìä Exercise 1 - Setup & Data
---

# Exercise 1: Environment Setup & PDF Processing

<div style={{textAlign: 'center', margin: '10px 0'}}>
  <a 
    href="https://codespaces.new/mongodb-developer/ai4-multimodal-agents-lab" 
    target="_blank" 
    rel="noopener noreferrer"
    style={{
      backgroundColor: '#589636',
      color: 'white',
      padding: '12px 24px',
      borderRadius: '6px',
      textDecoration: 'none',
      fontWeight: '900',
      display: 'inline-block',
      fontSize: '16px'
    }}
  >
    üöÄ Open in GitHub Codespaces
    </a>
</div>

## üéØ Objective
Set up your environment, connect to MongoDB Atlas, and process PDFs using VoyageAI embeddings.

## üîß Setup

### Step 1: Open the Workshop Notebook
Open the workshop notebook at `/static/notebooks/multimodal_agents_lab_voyageai.ipynb`

### Step 2: Set Environment Variables
Create a `.env` file with your credentials:
\`\`\`bash
MONGODB_URI="your_mongodb_connection_string"
VOYAGE_API_KEY="your_voyage_api_key"
GOOGLE_API_KEY="your_google_api_key"
\`\`\`

### Step 3: Install Required Libraries
\`\`\`python
!pip install pymongo voyageai pymupdf google-genai pillow tqdm
\`\`\`

## üìä Exercise Tasks

### Task 1: Initialize Progress Tracking and Connect to MongoDB
Run the first cells in the notebook to set up tracking and connect to MongoDB:

\`\`\`python
# Initialize progress tracking
from jupyter_lab_progress import LabProgress, LabValidator

progress = LabProgress(
    steps=[
        "Environment Setup",
        "VoyageAI Client Setup",
        "PDF Processing", 
        "Embedding Generation",
        "Data Ingestion"
    ],
    lab_name="Multimodal Agents with VoyageAI Client"
)

# Connect to MongoDB
from pymongo import MongoClient
mongodb_client = MongoClient(os.getenv("MONGODB_URI"))
\`\`\`

### Task 2: Set Up VoyageAI Client
\`\`\`python
import voyageai

# Initialize VoyageAI client
voyage_client = voyageai.Client(api_key=os.getenv("VOYAGE_API_KEY"))

# Test the client with a simple embedding
test_response = voyage_client.embed(
    texts=["Hello, multimodal world!"],
    model="voyage-2",
    input_type="document"
)
print(f"üöÄ VoyageAI client ready! Embedding dimensions: {len(test_response.embeddings[0])}")
\`\`\`

### Task 3: Process PDF and Extract Pages
\`\`\`python
import pymupdf
import requests

# Download the DeepSeek paper
response = requests.get("https://arxiv.org/pdf/2501.12948")
pdf = pymupdf.Document(stream=response.content, filetype="pdf")

# Extract pages as images
from pathlib import Path
Path("data/images").mkdir(parents=True, exist_ok=True)

docs = []
zoom = 3.0
mat = pymupdf.Matrix(zoom, zoom)

for n in range(min(5, pdf.page_count)):  # Process first 5 pages for testing
    pix = pdf[n].get_pixmap(matrix=mat)
    key = f"data/images/{n+1}.png"
    pix.save(key)
    docs.append({"key": key, "page_number": n + 1})

print(f"‚úÖ Extracted {len(docs)} pages as images")
\`\`\`

## ‚úÖ Success Criteria
- [ ] MongoDB connection established successfully
- [ ] VoyageAI client initialized and tested
- [ ] PDF downloaded and pages extracted as images
- [ ] At least 5 page images saved to `data/images/`
- [ ] Progress tracker showing steps completed

## üöÄ Next Steps
Once you've successfully loaded the data, proceed to [Exercise 2: Build Vector Search](./python-exercise-2)
```

# docs/backup/python-exercise-2.mdx

```mdx
---
id: python-exercise-2
title: üîç Exercise 2 - Embeddings & Vector Search
sidebar_label: üîç Exercise 2 - Vector Search
---

# Exercise 2: Generate Embeddings & Build Vector Search

## üéØ Objective
Generate multimodal embeddings using VoyageAI, store them in MongoDB Atlas, and create a vector search index.

## üìä Exercise Tasks

### Task 1: Generate Embeddings with VoyageAI
\`\`\`python
from PIL import Image
import numpy as np

def generate_embedding(data, input_type="document", model="voyage-multimodal-3"):
    """Generate embedding using VoyageAI client."""
    if isinstance(data, Image.Image):
        # For images, use multimodal embedding
        inputs = [[data]]  # VoyageAI expects nested list format
        response = voyage_client.multimodal_embed(
            inputs=inputs, 
            model=model, 
            input_type=input_type
        )
        embedding = response.embeddings[0]
    else:
        # For text, use regular embedding
        response = voyage_client.embed(
            texts=[str(data)],
            model="voyage-2",
            input_type=input_type
        )
        embedding = response.embeddings[0]
    
    # Normalize the embedding
    normalized = normalize_vector(np.array(embedding)).tolist()
    return normalized

# Generate embeddings for extracted pages
embedded_docs = []
for doc in docs:
    img = Image.open(doc['key'])
    embedding = generate_embedding(img, input_type="document")
    doc["embedding"] = embedding
    embedded_docs.append(doc)
    
print(f"‚úÖ Generated {len(embedded_docs)} embeddings")
\`\`\`

### Task 2: Insert Embeddings into MongoDB
\`\`\`python
# Database configuration
DB_NAME = "mongodb_aiewf"
COLLECTION_NAME = "multimodal_workshop_voyageai"

# Connect to the collection
collection = mongodb_client[DB_NAME][COLLECTION_NAME]

# Clear existing documents
collection.delete_many({})

# Insert documents with embeddings
insert_result = collection.insert_many(embedded_docs)
print(f"‚úÖ Inserted {len(insert_result.inserted_ids)} documents into MongoDB")

# Verify insertion
doc_count = collection.count_documents({})
print(f"üìä Total documents in collection: {doc_count}")
\`\`\`

### Task 3: Create Vector Search Index
\`\`\`python
VS_INDEX_NAME = "vector_index_voyageai"

# Define vector index configuration
model = {
    "name": VS_INDEX_NAME,
    "type": "vectorSearch",
    "definition": {
        "fields": [
            {
                "type": "vector",
                "path": "embedding",
                "numDimensions": 1024,
                "similarity": "cosine",
            }
        ]
    },
}

# Create the vector search index
collection.create_search_index(model=model)
print(f"üéØ Vector search index '{VS_INDEX_NAME}' created!")

# Check index status
indexes = list(collection.list_search_indexes())
for idx in indexes:
    print(f"üîç Index: {idx.get('name')} - Status: {idx.get('status')}")
\`\`\`

### Task 4: Test Vector Search
\`\`\`python
def get_information_for_question_answering(user_query: str):
    """Retrieve information using vector search."""
    # Generate query embedding
    query_embedding = generate_embedding(user_query, input_type="query")
    
    # Define aggregation pipeline
    pipeline = [
        {
            "$vectorSearch": {
                "index": VS_INDEX_NAME,
                "path": "embedding",
                "queryVector": query_embedding,
                "numCandidates": 150,
                "limit": 2,
            }
        },
        {
            "$project": {
                "_id": 0,
                "key": 1,
                "page_number": 1,
                "score": {"$meta": "vectorSearchScore"},
            }
        },
    ]
    
    # Execute search
    results = list(collection.aggregate(pipeline))
    
    print(f"üîç Found {len(results)} relevant documents")
    for result in results:
        print(f"  üìÑ Page {result['page_number']} - Score: {result['score']:.4f}")
    
    return [result["key"] for result in results]

# Test the search function
test_query = "What is the DeepSeek R1 model?"
relevant_docs = get_information_for_question_answering(test_query)
print(f"‚úÖ Vector search working! Retrieved {len(relevant_docs)} documents")
\`\`\`

## ‚úÖ Success Criteria
- [ ] Generated embeddings for all extracted pages using VoyageAI
- [ ] Successfully inserted documents into MongoDB collection
- [ ] Created vector search index with status "READY"
- [ ] Vector search function returns relevant results with scores
- [ ] Test query retrieves appropriate document pages

## üöÄ Next Steps
With vector search working, proceed to [Exercise 3: Create ReAct Agent](./python-exercise-3)
```

# docs/backup/python-exercise-3.mdx

```mdx
---
id: python-exercise-3
title: ü§ñ Exercise 3 - Build AI Agent with Gemini
sidebar_label: ü§ñ Exercise 3 - AI Agent
---

# Exercise 3: Build AI Agent with Tool Calling

## üéØ Objective
Create an intelligent agent using Google Gemini 2.0 Flash with function calling capabilities and implement ReAct pattern.

## üìä Exercise Tasks

### Task 1: Set Up Gemini and Define Function Tools
\`\`\`python
from google import genai
from google.genai import types
from google.genai.types import FunctionCall

LLM = "gemini-2.0-flash"

# Initialize Gemini client
gemini_client = genai.Client(api_key=os.getenv("GOOGLE_API_KEY"))

# Define function declaration for Gemini
get_information_for_question_answering_declaration = {
    "name": "get_information_for_question_answering",
    "description": "Retrieve information using vector search to answer a user query. Uses VoyageAI embeddings.",
    "parameters": {
        "type": "object",
        "properties": {
            "user_query": {
                "type": "string",
                "description": "Query string to use for vector search",
            }
        },
        "required": ["user_query"],
    },
}

# Create tools configuration
tools = types.Tool(
    function_declarations=[get_information_for_question_answering_declaration]
)
tools_config = types.GenerateContentConfig(tools=[tools], temperature=0.0)

print(f"ü§ñ Gemini {LLM} configured with function calling!")
\`\`\`

### Task 2: Implement Core Agent Functions
\`\`\`python
def select_tool(messages: List) -> FunctionCall | None:
    """Use LLM to decide which tool to call."""
    system_prompt = [(
        "You're an AI assistant. Based on the given information, decide which tool to use. "
        "If the user is asking to explain an image, don't call any tools unless that would help you better explain the image. "
        "Here is the provided information:\n"
    )]
    
    contents = system_prompt + messages
    
    # Generate response using Gemini
    response = gemini_client.models.generate_content(
        model=LLM, contents=contents, config=tools_config
    )
    
    # Extract and return the function call
    if response.candidates and response.candidates[0].content.parts:
        return response.candidates[0].content.parts[0].function_call
    
    return None

def generate_answer(user_query: str, images: List = []) -> str:
    """Execute tools and generate response."""
    # Check if we need to call tools
    tool_call = select_tool([user_query])
    
    if tool_call and tool_call.name == "get_information_for_question_answering":
        print(f"üõ†Ô∏è Agent calling tool: {tool_call.name}")
        
        # Call the tool with extracted arguments
        tool_images = get_information_for_question_answering(**tool_call.args)
        images.extend(tool_images)
    
    # Prepare system prompt
    system_prompt = (
        "Answer the questions based on the provided context only. "
        "If the context is not sufficient, say I DON'T KNOW. "
        "DO NOT use any other information to answer the question."
    )
    
    # Prepare contents for the LLM
    contents = [system_prompt] + [user_query]
    if images:
        contents.extend([Image.open(image) for image in images])
    
    # Get response from LLM
    response = gemini_client.models.generate_content(
        model=LLM,
        contents=contents,
        config=types.GenerateContentConfig(temperature=0.0),
    )
    
    return response.text

def execute_agent(user_query: str, images: List = []) -> None:
    """Execute the agent and display response."""
    print(f"ü§ñ Processing query: {user_query}")
    response = generate_answer(user_query, images)
    print(f"\nü§ñ Agent Response:\n{response}\n")

# Test the agent
print("üí¨ Testing Agent:")
execute_agent("What is the Pass@1 accuracy of Deepseek R1 on the MATH500 benchmark?")
\`\`\`

### Task 3: Implement ReAct Pattern
\`\`\`python
def generate_answer_react(user_query: str, images: List = []) -> str:
    """Implement ReAct (Reasoning + Acting) agent."""
    print("üß† Starting ReAct agent processing...")
    
    # Define reasoning prompt
    system_prompt = [(
        "You are an AI assistant with access to VoyageAI embeddings for document search. "
        "Based on the current information, decide if you have enough to answer the user query, "
        "or if you need more information. "
        "If you have enough information, respond with 'ANSWER: <your answer>'. "
        "If you need more information, respond with 'TOOL: <question for the tool>'. "
        f"User query: {user_query}\n"
        "Current information:\n"
    )]
    
    max_iterations = 3
    current_iteration = 0
    current_information = []
    
    # Add user-provided images
    if images:
        current_information.extend([Image.open(img) for img in images])
    
    # Run reasoning ‚Üí action loop
    while current_iteration < max_iterations:
        current_iteration += 1
        print(f"üîÑ ReAct Iteration {current_iteration}:")
        
        # Generate reasoning and decision
        response = gemini_client.models.generate_content(
            model=LLM,
            contents=system_prompt + current_information,
            config=types.GenerateContentConfig(temperature=0.0),
        )
        
        decision = response.text
        print(f"üí≠ Agent decision: {decision[:100]}...")
        
        # Check for final answer
        if "ANSWER:" in decision:
            final_answer = decision.split("ANSWER:", 1)[1].strip()
            print(f"‚úÖ Final answer reached in {current_iteration} iterations")
            return final_answer
        
        # Check for tool use
        elif "TOOL:" in decision:
            tool_query = decision.split("TOOL:", 1)[1].strip()
            print(f"üõ†Ô∏è Agent requesting tool with: {tool_query}")
            
            # Call the tool
            tool_call = select_tool([tool_query])
            
            if tool_call and tool_call.name == "get_information_for_question_answering":
                tool_images = get_information_for_question_answering(**tool_call.args)
                
                if tool_images:
                    new_images = [Image.open(img) for img in tool_images]
                    current_information.extend(new_images)
                    print(f"‚ûï Added {len(new_images)} retrieved images")
                else:
                    current_information.append("No relevant information found.")
    
    return "I couldn't find a definitive answer after exploring the available information."

# Test ReAct agent
print("\nüß† Testing ReAct Agent:")
execute_react_agent = lambda q: print(f"ü§ñ ReAct Response:\n{generate_answer_react(q)}\n")
execute_react_agent("What is the Pass@1 accuracy of Deepseek R1 on the MATH500 benchmark?")
\`\`\`

## ‚úÖ Success Criteria
- [ ] Gemini client configured with function calling
- [ ] Agent can select and call tools based on queries
- [ ] Basic agent generates answers using retrieved context
- [ ] ReAct agent performs iterative reasoning and acting
- [ ] Agent successfully answers questions about PDF content

## üöÄ Next Steps
Your AI agent with ReAct pattern is working! Now proceed to [Exercise 4: Add Memory & Testing](./python-exercise-4)
```

# docs/backup/python-exercise-4.mdx

```mdx
---
id: python-exercise-4
title: üß™ Exercise 4 - Add Memory & Testing
sidebar_label: üß™ Exercise 4 - Memory & Testing
---

# Exercise 4: Add Memory System & Complete Testing

## üéØ Objective
Implement conversation memory for your agent and thoroughly test the complete multimodal AI system.

## üìä Exercise Tasks

### Task 1: Implement Conversation Memory
\`\`\`python
def test_agent_queries(agent):
    """Test agent with various query types"""
    
    test_cases = [
        {
            "name": "Document Discovery",
            "query": "What PDF documents are available?",
            "expected_tool": "get_document_info"
        },
        {
            "name": "Technical Search",
            "query": "Find information about neural networks",
            "expected_tool": "vector_search"
        },
        {
            "name": "Concept Search", 
            "query": "What is machine learning?",
            "expected_tool": "vector_search"
        },
        {
            "name": "Visual Content",
            "query": "Are there any diagrams or charts?",
            "expected_tool": "vector_search"
        }
    ]
    
    print("üß™ Running Agent Test Suite")
    print("=" * 50)
    
    for test_case in test_cases:
        print(f"\nüìã Test: {test_case['name']}")
        print(f"‚ùì Query: {test_case['query']}")
        
        response = agent.chat(test_case['query'])
        
        print(f"ü§ñ Response: {response['response'][:200]}...")
        print(f"üõ†Ô∏è Tool used: {response['tool_used']}")
        
        # Check if correct tool was used
        tool_match = response['tool_used'] == test_case['expected_tool']
        status = "‚úÖ PASS" if tool_match else "‚ùå FAIL"
        print(f"üìä Result: {status}")

# Run tests
test_agent_queries(enhanced_agent)
\`\`\`

### Task 2: Create Memory-Enabled Agent Functions
\`\`\`python
def analyze_search_quality(agent):
    """Analyze the quality of search results"""
    
    test_queries = [
        "artificial intelligence",
        "machine learning algorithms", 
        "data science techniques",
        "neural network architecture"
    ]
    
    print("\nüîç Search Quality Analysis")
    print("=" * 40)
    
    for query in test_queries:
        print(f"\nüîé Query: '{query}'")
        
        # Get search results directly
        tool_result = agent.vector_search_tool(query, top_k=5)
        
        if tool_result["success"]:
            results = tool_result["results"]
            scores = [r['score'] for r in results]
            
            print(f"üìä Results found: {len(results)}")
            print(f"üìä Score range: {min(scores):.3f} - {max(scores):.3f}")
            print(f"üìä Average score: {sum(scores)/len(scores):.3f}")
            
            # Show top result
            if results:
                top_result = results[0]
                print(f"üéØ Top result: {top_result['filename']}")
                print(f"üìù Preview: {top_result['text'][:150]}...")
        else:
            print(f"‚ùå Search failed: {tool_result['error']}")

# Analyze search quality
analyze_search_quality(enhanced_agent)
\`\`\`

### Task 3: Test Memory Persistence
\`\`\`python
def test_conversation_flow(agent):
    """Test multi-turn conversation"""
    
    print("\nüí¨ Testing Conversation Flow")
    print("=" * 40)
    
    # Reset conversation
    agent.conversation_history = []
    
    conversation = [
        "What documents do you have available?",
        "Tell me about machine learning in these documents",
        "Are there any specific algorithms mentioned?",
        "What about deep learning techniques?"
    ]
    
    for i, message in enumerate(conversation, 1):
        print(f"\nTurn {i}: {message}")
        response = agent.chat(message)
        print(f"Response: {response['response'][:200]}...")
        
        # Check conversation history
        history_length = len(agent.conversation_history)
        print(f"üìö History length: {history_length} messages")
    
    # Final summary
    summary = agent.get_conversation_summary()
    print(f"\nüìä Final Summary: {summary}")

# Test conversation flow
test_conversation_flow(enhanced_agent)
\`\`\`

### Task 4: Test Complete ReAct Agent with Memory
\`\`\`python
def test_multimodal_features(agent):
    """Test multimodal content detection"""
    
    print("\nüñºÔ∏è Testing Multimodal Features")
    print("=" * 40)
    
    multimodal_queries = [
        "Find documents with images or diagrams",
        "Are there any charts or graphs in the PDFs?",
        "Show me visual content from the documents",
        "What figures or illustrations are available?"
    ]
    
    for query in multimodal_queries:
        print(f"\nüîé Query: {query}")
        
        tool_result = agent.vector_search_tool(query, top_k=3)
        
        if tool_result["success"]:
            results = tool_result["results"]
            
            # Check metadata for image indicators
            has_image_results = []
            for result in results:
                # This would work if metadata includes image info
                text_content = result['text'].lower()
                has_visual_keywords = any(keyword in text_content for keyword in 
                                        ['figure', 'chart', 'diagram', 'image', 'graph', 'table'])
                has_image_results.append(has_visual_keywords)
            
            print(f"üìä Results with visual content indicators: {sum(has_image_results)}/{len(results)}")
            
            # Show relevant results
            for i, result in enumerate(results):
                if has_image_results[i]:
                    print(f"üñºÔ∏è Visual content found in {result['filename']}")
                    print(f"   {result['text'][:100]}...")

# Test multimodal capabilities
test_multimodal_features(enhanced_agent)
\`\`\`

### Task 5: Test Document Analysis with Images
\`\`\`python
import time

def test_performance(agent):
    """Test agent response times"""
    
    print("\n‚è±Ô∏è Performance Testing")
    print("=" * 30)
    
    test_queries = [
        "What documents are available?",
        "Find AI information",
        "Search for machine learning",
        "Tell me about data science"
    ]
    
    response_times = []
    
    for query in test_queries:
        start_time = time.time()
        response = agent.chat(query)
        end_time = time.time()
        
        response_time = end_time - start_time
        response_times.append(response_time)
        
        print(f"Query: '{query[:30]}...' - {response_time:.2f}s")
    
    avg_time = sum(response_times) / len(response_times)
    max_time = max(response_times)
    
    print(f"\nüìä Performance Summary:")
    print(f"Average response time: {avg_time:.2f}s")
    print(f"Max response time: {max_time:.2f}s")
    
    # Performance criteria
    if avg_time < 2.0 and max_time < 5.0:
        print("‚úÖ Performance: GOOD")
    elif avg_time < 5.0 and max_time < 10.0:
        print("‚ö†Ô∏è Performance: ACCEPTABLE") 
    else:
        print("‚ùå Performance: NEEDS IMPROVEMENT")

# Test performance
test_performance(enhanced_agent)
\`\`\`

## ‚úÖ Final Validation Checklist

Run this final validation:

\`\`\`python
def final_validation(agent):
    """Final workshop validation"""
    
    print("\nüéì FINAL WORKSHOP VALIDATION")
    print("=" * 50)
    
    checks = [
        ("Agent initialized", agent is not None),
        ("MongoDB connected", agent.collection.count_documents({}) > 0),  
        ("Vector search works", len(agent.vector_search_tool("test")["results"]) > 0),
        ("Document info works", agent.get_document_info_tool()["success"]),
        ("Chat works", len(agent.chat("Hello")["response"]) > 0),
        ("Memory works", len(agent.conversation_history) > 0)
    ]
    
    passed = 0
    for check_name, result in checks:
        status = "‚úÖ PASS" if result else "‚ùå FAIL"
        print(f"{status} {check_name}")
        if result:
            passed += 1
    
    print(f"\nüéØ Final Score: {passed}/{len(checks)} checks passed")
    
    if passed == len(checks):
        print("\nüéâ CONGRATULATIONS!")
        print("You've successfully built a multimodal PDF agent!")
    else:
        print(f"\n‚ö†Ô∏è {len(checks) - passed} checks failed. Please review.")

# Run final validation
final_validation(enhanced_agent)
\`\`\`

## ‚úÖ Success Criteria
- [ ] Memory system stores and retrieves conversation history
- [ ] Agent maintains context across multiple queries
- [ ] ReAct agent performs iterative reasoning successfully
- [ ] Document pages can be analyzed with multimodal understanding
- [ ] All validation checks pass

## üéâ Congratulations!

You've successfully completed the Multimodal AI Agent Workshop! You've built:

- ‚úÖ **VoyageAI Integration** - Multimodal embeddings with the Python client
- ‚úÖ **MongoDB Atlas Vector Search** - Scalable similarity search  
- ‚úÖ **Google Gemini 2.0 Flash** - Advanced LLM with function calling
- ‚úÖ **ReAct Agent Pattern** - Reasoning and acting architecture
- ‚úÖ **Conversation Memory** - Persistent context across sessions
- ‚úÖ **Production Patterns** - Error handling, normalization, and testing

Your agent can now:
- Process and understand PDF documents with both text and images
- Answer complex questions using vector search and retrieval
- Maintain conversation context across multiple interactions
- Reason iteratively to find the best answers
- Analyze visual content in documents

## üöÄ Next Steps

1. **Extend the agent** with more tools and capabilities
2. **Process larger documents** using batch processing
3. **Add reranking** for improved search quality
4. **Deploy to production** with proper API management
5. **Monitor usage** and optimize costs

Thank you for participating in this workshop! üöÄ
```

# docs/codespaces-setup.mdx

```mdx
---
id: codespaces-setup
title: üöÄ Codespaces Setup Guide
sidebar_label: üöÄ Codespaces Setup
description: Complete guide to launching GitHub Codespaces and configuring your workshop environment
---

import BrowserWindow from '@site/src/components/BrowserWindow';
import Screenshot from '@site/src/components/Screenshot';

# GitHub Codespaces Setup Guide

This guide walks you through launching your GitHub Codespaces instance and configuring all the necessary credentials for the Multimodal Agents Workshop.

## üéØ Overview

You'll need to set up:
1. **GitHub Codespaces** - Your development environment
2. **MongoDB Atlas** - Vector database and document storage
3. **Voyage AI** - Multimodal embeddings (optional)
4. **Google Gemini** - Large language model
5. **Environment Configuration** - Secure credential storage

---

## Step 1: Launch GitHub Codespaces

### 1.1 Access the Repository

Click the button below or navigate to the workshop repository:

<div style={{textAlign: 'center', margin: '20px 0'}}>
  <a 
    href="https://codespaces.new/mongodb-developer/ai4-multimodal-agents-lab" 
    target="_blank" 
    rel="noopener noreferrer"
    style={{
      backgroundColor: '#589636',
      color: 'white',
      padding: '12px 24px',
      borderRadius: '6px',
      textDecoration: 'none',
      fontWeight: '900',
      display: 'inline-block',
      fontSize: '16px'
    }}
  >
    üöÄ Open in GitHub Codespaces
  </a>
</div>

### 1.2 Create Codespace

<!-- SCREENSHOT PLACEHOLDER: Screenshot of GitHub Codespaces creation page showing the "Create codespace" button and configuration options -->
<Screenshot 
  src="/img/screenshots/codespaces-create.png" 
  alt="Creating a new GitHub Codespace"
  title="GitHub Codespaces Creation Page"
/>

1. Click **"Create codespace"**
2. Choose your preferred machine type:
   - **2-core**: Sufficient for the workshop
   - **4-core**: Recommended for faster performance
3. Wait for the environment to initialize (2-3 minutes)

### 1.3 Verify Installation

Once your Codespace loads, verify the environment:

\`\`\`bash
# Check Python version
python --version

# Verify required packages
pip list | grep -E "(pymongo|requests|google-generativeai)"

# Check if Jupyter is available
jupyter --version
\`\`\`

‚úÖ **Success Indicators:**
- Terminal opens without errors
- Python 3.9+ is installed
- Required packages are pre-installed
- Jupyter Lab is available

---

## Step 2: MongoDB Atlas Setup

### 2.1 Create MongoDB Atlas Account

1. Go to [MongoDB Atlas](https://www.mongodb.com/atlas)
2. Click **"Start Free"**
3. Sign up with your preferred method

<!-- SCREENSHOT PLACEHOLDER: Screenshot of MongoDB Atlas sign-up page -->
<Screenshot 
  src="/img/screenshots/atlas-signup.png" 
  alt="MongoDB Atlas sign-up page"
  title="MongoDB Atlas Registration"
/>

### 2.2 Create a Cluster

<!-- SCREENSHOT PLACEHOLDER: Screenshot of MongoDB Atlas cluster creation page with M0 free tier selected -->
<Screenshot 
  src="/img/screenshots/atlas-cluster-creation.png" 
  alt="MongoDB Atlas cluster creation"
  title="Creating a MongoDB Atlas Cluster"
/>

1. Choose **"M0 Free"** tier
2. Select your preferred cloud provider and region
3. Name your cluster (e.g., "workshop-cluster")
4. Click **"Create"**

### 2.3 Configure Database Access

<!-- SCREENSHOT PLACEHOLDER: Screenshot of MongoDB Atlas database access configuration page -->
<Screenshot 
  src="/img/screenshots/atlas-database-access.png" 
  alt="MongoDB Atlas database access configuration"
  title="Configuring Database Access"
/>

1. Go to **"Database Access"** in the left sidebar
2. Click **"Add New Database User"**
3. Choose **"Password"** authentication
4. Create username and password (save these!)
5. Set privileges to **"Read and write to any database"**
6. Click **"Add User"**

### 2.4 Configure Network Access

<!-- SCREENSHOT PLACEHOLDER: Screenshot of MongoDB Atlas network access page showing IP whitelist configuration -->
<Screenshot 
  src="/img/screenshots/atlas-network-access.png" 
  alt="MongoDB Atlas network access configuration"
  title="Configuring Network Access"
/>

1. Go to **"Network Access"** in the left sidebar
2. Click **"Add IP Address"**
3. Click **"Allow Access from Anywhere"** (for workshop purposes)
4. Click **"Confirm"**

### 2.5 Get Connection String

<!-- SCREENSHOT PLACEHOLDER: Screenshot of MongoDB Atlas connection string page -->
<Screenshot 
  src="/img/screenshots/atlas-connection-string.png" 
  alt="MongoDB Atlas connection string"
  title="Getting Your Connection String"
/>

1. Go to **"Database"** in the left sidebar
2. Click **"Connect"** on your cluster
3. Choose **"Drivers"**
4. Select **"Python"** and version **"3.6 or later"**
5. Copy the connection string
6. Replace `<password>` with your database user password

**Example Connection String:**
\`\`\`
mongodb+srv://workshop-user:<password>@workshop-cluster.abc123.mongodb.net/?retryWrites=true&w=majority
\`\`\`

---

## Step 3: Google Gemini API Setup

### 3.1 Access Google AI Studio

1. Go to [Google AI Studio](https://aistudio.google.com/)
2. Sign in with your Google account
3. Accept the terms of service

<!-- SCREENSHOT PLACEHOLDER: Screenshot of Google AI Studio homepage -->
<Screenshot 
  src="/img/screenshots/gemini-ai-studio.png" 
  alt="Google AI Studio homepage"
  title="Google AI Studio Dashboard"
/>

### 3.2 Create API Key

<!-- SCREENSHOT PLACEHOLDER: Screenshot of Google AI Studio API key creation page -->
<Screenshot 
  src="/img/screenshots/gemini-api-key.png" 
  alt="Creating Google Gemini API key"
  title="Google Gemini API Key Creation"
/>

1. Click **"Get API Key"** in the left sidebar
2. Click **"Create API Key"**
3. Select an existing Google Cloud project or create a new one
4. Copy the generated API key (starts with `AIza...`)

‚ö†Ô∏è **Important:** Keep this key secure and never commit it to version control!

---

## Step 4: Voyage AI Setup (Optional)

### 4.1 Create Voyage AI Account

1. Go to [Voyage AI](https://www.voyageai.com/)
2. Click **"Get Started"**
3. Sign up for an account

<!-- SCREENSHOT PLACEHOLDER: Screenshot of Voyage AI sign-up page -->
<Screenshot 
  src="/img/screenshots/voyage-signup.png" 
  alt="Voyage AI sign-up page"
  title="Voyage AI Registration"
/>

### 4.2 Generate API Key

<!-- SCREENSHOT PLACEHOLDER: Screenshot of Voyage AI dashboard showing API key generation -->
<Screenshot 
  src="/img/screenshots/voyage-api-key.png" 
  alt="Voyage AI API key generation"
  title="Voyage AI API Key Dashboard"
/>

1. Navigate to your dashboard
2. Go to **"API Keys"** section
3. Click **"Generate New Key"**
4. Copy the generated key

üí° **Note:** Voyage AI is optional for this workshop as we provide pre-generated embeddings, but it's useful for understanding the full pipeline.

---

## Step 5: Environment Configuration

### 5.1 Create .env File

In your Codespace, create a `.env` file in the root directory:

<!-- SCREENSHOT PLACEHOLDER: Screenshot of VS Code in Codespace showing the file explorer and .env file creation -->
<Screenshot 
  src="/img/screenshots/codespace-env-file.png" 
  alt="Creating .env file in VS Code"
  title="Creating Environment Configuration File"
/>

1. Right-click in the file explorer
2. Select **"New File"**
3. Name it `.env`

### 5.2 Configure Environment Variables

Add your credentials to the `.env` file:

\`\`\`bash
# MongoDB Atlas Connection
MONGODB_URI="mongodb+srv://username:<password>@cluster.abc123.mongodb.net/?retryWrites=true&w=majority"

# Serverless Endpoint (provided by workshop)
SERVERLESS_URL="https://your-workshop-endpoint.com/api"

# Google Gemini API (your personal key)
GOOGLE_API_KEY="AIzaSyC-your-actual-api-key-here"

# Voyage AI API (optional - only if you have one)
VOYAGE_API_KEY="your-voyage-api-key-here"
\`\`\`

### 5.3 Verify Environment Setup

Test your environment configuration:

\`\`\`python
# Create a test script to verify credentials
import os
from dotenv import load_dotenv

# Load environment variables
load_dotenv()

# Check each required variable
required_vars = [
    "MONGODB_URI",
    "SERVERLESS_URL", 
    "GOOGLE_API_KEY"
]

for var in required_vars:
    value = os.getenv(var)
    if value:
        print(f"‚úÖ {var}: {'*' * 20}")  # Masked for security
    else:
        print(f"‚ùå {var}: Not set")

print("\nüéâ Environment check complete!")
\`\`\`

---

## Step 6: Launch Jupyter Lab

### 6.1 Start Jupyter Lab

In your Codespace terminal, run:

\`\`\`bash
# Navigate to the notebooks directory
cd static/notebooks

# Start Jupyter Lab
jupyter lab --ip=0.0.0.0 --port=8888 --allow-root --no-browser
\`\`\`

### 6.2 Access Jupyter Lab

<!-- SCREENSHOT PLACEHOLDER: Screenshot showing Codespace port forwarding notification for Jupyter -->
<Screenshot 
  src="/img/screenshots/codespace-jupyter-port.png" 
  alt="Codespace port forwarding for Jupyter Lab"
  title="Accessing Jupyter Lab via Port Forwarding"
/>

1. Codespaces will automatically forward port 8888
2. Click the notification to open Jupyter Lab
3. Or manually navigate to the forwarded port URL

### 6.3 Open Lab Notebook

<!-- SCREENSHOT PLACEHOLDER: Screenshot of Jupyter Lab interface showing the file browser with lab.ipynb highlighted -->
<Screenshot 
  src="/img/screenshots/jupyter-lab-interface.png" 
  alt="Jupyter Lab interface with lab notebook"
  title="Jupyter Lab File Browser"
/>

1. In Jupyter Lab, navigate to the file browser
2. Open `lab.ipynb`
3. Verify all cells load without errors

---

## ‚úÖ Verification Checklist

Before starting the workshop, ensure:

- [ ] **Codespaces**: Environment launches successfully
- [ ] **MongoDB Atlas**: Cluster created and accessible
- [ ] **Connection String**: Copied and configured in .env
- [ ] **Gemini API**: Key generated and configured
- [ ] **Environment**: .env file created with all credentials
- [ ] **Jupyter Lab**: Accessible and notebook opens
- [ ] **Dependencies**: All packages installed and importable

---

## üîß Troubleshooting

### Common Issues

**Codespace Won't Start:**
- Check your GitHub account has Codespaces enabled
- Ensure you have sufficient Codespaces quota
- Try refreshing the page and creating again

**MongoDB Connection Failed:**
- Verify your connection string format
- Check that your IP is whitelisted (or allow all IPs)
- Ensure database user has correct permissions
- Confirm password doesn't contain special characters requiring URL encoding

**Jupyter Lab Won't Load:**
- Check that port 8888 is properly forwarded
- Try restarting the Jupyter server
- Clear browser cache and cookies

**Environment Variables Not Loading:**
- Verify `.env` file is in the root directory
- Check file has no trailing spaces or hidden characters
- Restart your Python kernel after changes

**API Keys Not Working:**
- Verify keys are copied completely (no truncation)
- Check for extra spaces or newlines
- Confirm API quotas haven't been exceeded

### Getting Help

If you encounter issues:

1. **Check the terminal** for error messages
2. **Verify credentials** by testing them individually
3. **Ask workshop facilitators** for assistance
4. **Check documentation** links provided in each section

---

## üöÄ You're Ready!

Once you've completed all steps and verified your setup, you're ready to begin the Multimodal Agents Workshop! 

**Next Steps:**
1. Open the `lab.ipynb` notebook in Jupyter Lab
2. Follow along with the workshop exercises
3. Use the [Python Exercise guides](/python-exercise-1) for additional support
4. Reference the [Complete Notebook Walkthrough](/complete-notebook) for detailed explanations

Happy coding! üéâ
```

# docs/complete-notebook.mdx

```mdx
---
title: Complete Lab Notebook Walkthrough
sidebar_label: üìì Complete Notebook
description: Complete walkthrough of the multimodal agents workshop lab notebook with explanations and solutions
---

import BrowserWindow from '@site/src/components/BrowserWindow';
import Screenshot from '@site/src/components/Screenshot';

# Complete Lab Notebook Walkthrough

This document provides a comprehensive walkthrough of the `lab.ipynb` notebook used in the multimodal agents workshop. It includes detailed explanations of each step, the complete code with solutions, and insights into building a production-ready multimodal AI agent.

<div style={{textAlign: 'center', margin: '20px 0'}}>
  <a 
    href="https://codespaces.new/mongodb-developer/ai4-multimodal-agents-lab" 
    target="_blank" 
    rel="noopener noreferrer"
    style={{
      backgroundColor: '#589636',
      color: 'white',
      padding: '12px 24px',
      borderRadius: '6px',
      textDecoration: 'none',
      fontWeight: '900',
      display: 'inline-block',
      fontSize: '16px'
    }}
  >
    üöÄ Open in GitHub Codespaces
  </a>
</div>

## Workshop Overview

**What You'll Build:**
- A multimodal AI agent that can analyze documents and images
- Vector search system using MongoDB Atlas
- Function calling with Google Gemini 2.0 Flash
- Conversation memory for multi-turn interactions
- ReAct (Reasoning + Acting) agent architecture

**Learning Objectives:**
- Process PDFs and extract images for multimodal search
- Set up MongoDB Atlas vector search indexes
- Build an AI agent with tool calling capabilities
- Implement session-based memory for conversational agents
- Create advanced reasoning patterns

---

## Step 1: Setup Prerequisites

The first step establishes our foundational environment and connections.

### Import Core Libraries

\`\`\`python
import os
from pymongo import MongoClient
\`\`\`

### Environment Configuration

\`\`\`python
# If you are using your own MongoDB Atlas cluster, use the connection string for your cluster here
MONGODB_URI = os.getenv("MONGODB_URI")
# Initialize a MongoDB Python client
mongodb_client = MongoClient(MONGODB_URI)
# Check the connection to the server
mongodb_client.admin.command("ping")

SERVERLESS_URL = os.getenv("SERVERLESS_URL")
LLM_PROVIDER = "google"
\`\`\`

**Key Concepts:**
- **MongoDB Atlas**: Cloud-hosted MongoDB service with built-in vector search capabilities
- **Connection String**: URI containing all information needed to connect to MongoDB
- **Ping Command**: Lightweight method to verify database connectivity
- **Environment Variables**: Secure way to store credentials outside of code

**Success Criteria:** MongoDB connection established with successful ping response

---

## Step 2: Read PDF from URL

Download and process a research paper directly from the internet.

### Download PDF Document

\`\`\`python
import pymupdf
import requests

# Download the DeepSeek paper
response = requests.get("https://arxiv.org/pdf/2501.12948")
if response.status_code != 200:
    raise ValueError(f"Failed to download PDF. Status code: {response.status_code}")

# Get the content of the response
pdf_stream = response.content

# üß™ CODE_BLOCK_1 Solution:
pdf = pymupdf.Document(stream=pdf_stream, filetype="pdf")
\`\`\`

**Key Concepts:**
- **PyMuPDF**: High-performance PDF processing library (also known as `fitz`)
- **Stream Processing**: Opening documents directly from memory without temporary files
- **HTTP Response**: Handling web requests and status codes
- **DeepSeek R1**: The research paper we'll be analyzing in this workshop

**Reference:** [PyMuPDF - Opening Remote Files](https://pymupdf.readthedocs.io/en/latest/how-to-open-a-file.html#opening-remote-files)

---

## Step 3: Store PDF Images Locally and Extract Metadata

Convert each PDF page into a high-resolution image for multimodal processing.

### Image Extraction Process

\`\`\`python
from tqdm import tqdm

docs = []
zoom = 3.0
# Set image matrix dimensions
mat = pymupdf.Matrix(zoom, zoom)

# Iterate through the pages of the PDF
for n in tqdm(range(pdf.page_count)):
    temp = {}
    
    # üß™ CODE_BLOCK_2 Solution:
    pix = pdf[n].get_pixmap(matrix=mat)
    
    # Store image locally
    key = f"data/images/{n+1}.png"
    pix.save(key)
    
    # Extract image metadata to be stored in MongoDB
    temp["key"] = key
    temp["width"] = pix.width
    temp["height"] = pix.height
    docs.append(temp)
\`\`\`

**Key Concepts:**
- **Zoom Factor**: Controls image resolution (3.0 = 3x default size for better quality)
- **Matrix Transformation**: Mathematical scaling applied during rendering
- **Pixmap**: PyMuPDF's image object containing pixel data
- **Metadata Extraction**: Storing image dimensions and file paths for later use
- **Progress Tracking**: Using `tqdm` for visual feedback during processing

**Reference:** [PyMuPDF - Page.get_pixmap](https://pymupdf.readthedocs.io/en/latest/page.html#Page.get_pixmap)

---

## Step 4: Generate Image Embeddings (Optional)

This step demonstrates how to generate embeddings using Voyage AI, but we'll use pre-generated embeddings for the workshop.

### Voyage AI Embedding Generation

\`\`\`python
# Uncomment this section only if you are generating embedding using your own Voyage AI API key.
# Follow the steps here to obtain a Voyage AI API key:
# https://docs.voyageai.com/docs/api-key-and-installation#authentication-with-api-keys

# from voyageai import Client
# from PIL import Image

# # Set Voyage AI API Key
# os.environ["VOYAGE_API_KEY"] = "your-api-key"
# voyageai_client = Client()

# def get_embedding(data, input_type):
#     """
#     Get Voyage AI embeddings for images and text.
#     
#     Args:
#         data: An image or text to embed
#         input_type: Input type, either "document" or "query"
#     
#     Returns: Embeddings as a list
#     """
#     embedding = voyageai_client.multimodal_embed(
#         inputs=[[data]], model="voyage-multimodal-3", input_type=input_type
#     ).embeddings[0]
#     return embedding

# embedded_docs = []
# for doc in tqdm(docs):
#     # Open the image from file
#     img = Image.open(f"{doc['key']}")
#     # Add the embeddings to the document
#     doc["embedding"] = get_embedding(img, "document")
#     embedded_docs.append(doc)
\`\`\`

**Key Concepts:**
- **Multimodal Embeddings**: Vector representations that capture semantic meaning of images
- **Voyage AI**: Service providing state-of-the-art multimodal embeddings
- **Input Types**: "document" for content being indexed, "query" for search queries
- **1024 Dimensions**: Voyage multimodal-3 produces 1024-dimensional vectors

---

## Step 5: Write Embeddings and Metadata to MongoDB

Ingest the document data with embeddings into MongoDB Atlas for vector search.

### Database Configuration

\`\`\`python
import json

# Database name
DB_NAME = "mongodb_aiewf"
# Name of the collection to insert documents into
COLLECTION_NAME = "multimodal_workshop"

# Connect to the collection
collection = mongodb_client[DB_NAME][COLLECTION_NAME]

# Read data from local file
with open("data/embeddings.json", "r") as data_file:
    json_data = data_file.read()
data = json.loads(json_data)
\`\`\`

### Data Ingestion

\`\`\`python
# Delete existing documents from the `collection` collection
collection.delete_many({})
print(f"Deleted existing documents from the {COLLECTION_NAME} collection.")

# üß™ CODE_BLOCK_3 Solution:
collection.insert_many(data)

print(
    f"{collection.count_documents({})} documents ingested into the {COLLECTION_NAME} collection."
)
\`\`\`

**Key Concepts:**
- **Collection**: MongoDB's equivalent of a table in relational databases
- **Bulk Insert**: Efficient method to insert multiple documents at once
- **Pre-generated Data**: Using provided embeddings to save time and API costs
- **Data Validation**: Ensuring all documents are successfully ingested

**Reference:** [PyMongo - Collection.insert_many](https://pymongo.readthedocs.io/en/stable/api/pymongo/collection.html#pymongo.collection.Collection.insert_many)

---

## Step 6: Create a Vector Search Index

Set up MongoDB Atlas Vector Search to enable similarity searches on embeddings.

### Index Configuration

\`\`\`python
VS_INDEX_NAME = "vector_index"

# Create vector index definition specifying:
# path: Path to the embeddings field
# numDimensions: Number of embedding dimensions- depends on the embedding model used
# similarity: Similarity metric. One of cosine, euclidean, dotProduct.
model = {
    "name": VS_INDEX_NAME,
    "type": "vectorSearch",
    "definition": {
        "fields": [
            {
                "type": "vector",
                "path": "embedding",
                "numDimensions": 1024,
                "similarity": "cosine",
            }
        ]
    },
}

# üß™ CODE_BLOCK_4 Solution:
collection.create_search_index(model=model)

# Verify that the index is in READY status before proceeding
list(collection.list_search_indexes())
\`\`\`

**Key Concepts:**
- **Vector Index**: Specialized database index for high-dimensional similarity search
- **Cosine Similarity**: Measures angle between vectors, ideal for normalized embeddings
- **1024 Dimensions**: Must match the embedding model's output size
- **Asynchronous Creation**: Index building happens in background, may take minutes

**Reference:** [PyMongo - Collection.create_search_index](https://pymongo.readthedocs.io/en/stable/api/pymongo/collection.html#pymongo.collection.Collection.create_search_index)

---

## Step 7: Create Agent Tools

Build the vector search function that serves as the core retrieval tool for the AI agent.

### Vector Search Implementation

\`\`\`python
from typing import List

def get_information_for_question_answering(user_query: str) -> List[str]:
    """
    Retrieve information using vector search to answer a user query.

    Args:
    user_query (str): The user's query string.

    Returns:
    str: The retrieved information formatted as a string.
    """
    # Embed the user query using our serverless endpoint
    response = requests.post(
        url=SERVERLESS_URL,
        json={
            "task": "get_embedding",
            "data": {"input": user_query, "input_type": "query"},
        },
    )
    # Extract the embedding from the response
    query_embedding = response.json()["embedding"]

    # üß™ CODE_BLOCK_5 Solution:
    pipeline = [
        {
            "$vectorSearch": {
                "index": VS_INDEX_NAME,
                "path": "embedding",
                "queryVector": query_embedding,
                "numCandidates": 150,
                "limit": 2,
            }
        },
        {
            "$project": {
                "_id": 0,
                "key": 1,
                "width": 1,
                "height": 1,
                "score": {"$meta": "vectorSearchScore"},
            }
        },
    ]

    # üß™ CODE_BLOCK_6 Solution:
    results = list(collection.aggregate(pipeline))
    
    # Get images from local storage
    keys = [result["key"] for result in results]
    print(f"Keys: {keys}")
    return keys
\`\`\`

### Function Declaration for Gemini

\`\`\`python
# Define the function declaration for the `get_information_for_question_answering` function
get_information_for_question_answering_declaration = {
    "name": <CODE_BLOCK_7>,
    "description": "Retrieve information using vector search to answer a user query.",
    "parameters": {
        "type": "object",
        "properties": {
            "user_query": {
                "type": <CODE_BLOCK_8>,
                "description": "Query string to use for vector search",
            }
        },
        "required": <CODE_BLOCK_9>,
    },
}
\`\`\`

**Solutions for CODE_BLOCK_7, 8, 9:**
\`\`\`python
# CODE_BLOCK_7:
"get_information_for_question_answering"

# CODE_BLOCK_8:
"string"

# CODE_BLOCK_9:
["user_query"]
\`\`\`

**Key Concepts:**
- **$vectorSearch**: MongoDB's aggregation stage for similarity search
- **numCandidates**: Number of candidates considered (affects accuracy vs speed)
- **Pipeline Aggregation**: MongoDB's powerful data processing framework
- **Function Declaration**: Schema that tells Gemini how to use our tool
- **Vector Search Score**: Similarity score between query and document vectors

**References:**
- [MongoDB Atlas Vector Search - Basic Example](https://www.mongodb.com/docs/atlas/atlas-vector-search/vector-search-stage/#ann-examples)
- [Gemini Function Calling](https://ai.google.dev/gemini-api/docs/function-calling?example=meeting#step_1_define_function_declaration)

---

## Step 8: Instantiate the Gemini Client

Set up Google Gemini 2.0 Flash for multimodal AI capabilities.

### Gemini Client Setup

\`\`\`python
from google import genai
from google.genai import types

LLM = "gemini-2.0-flash"

api_key = requests.post(
    url=SERVERLESS_URL, json={"task": "get_api_key", "data": LLM_PROVIDER}
).json()["api_key"]

gemini_client = genai.Client(api_key=api_key)
\`\`\`

**Key Concepts:**
- **Gemini 2.0 Flash**: Google's fast, multimodal AI model optimized for function calling
- **Serverless API**: Centralized service for securely providing API keys
- **Client Initialization**: Setting up the connection to Google's AI services

---

## Step 9: Create Generation Config

Configure Gemini with function calling capabilities and generation parameters.

### Configuration Setup

\`\`\`python
# Create a generation config with the function declaration and temperature set to 0.0
tools = types.Tool(
    function_declarations=[get_information_for_question_answering_declaration]
)
tools_config = types.GenerateContentConfig(tools=[tools], temperature=0.0)
\`\`\`

**Key Concepts:**
- **Temperature 0.0**: Deterministic responses for consistent, factual answers
- **Function Declarations**: Schema defining available tools for the LLM
- **Generation Config**: Controls LLM behavior including tools and randomness

---

## Step 10: Define Core Agent Functions

Build the tool selection logic and response generation functions.

### Tool Selection Function

\`\`\`python
from google.genai.types import FunctionCall

def select_tool(messages: List) -> FunctionCall | None:
    """
    Use an LLM to decide which tool to call

    Args:
        messages (List): Messages as a list

    Returns:
        functionCall: Function call object consisting of the tool name and arguments
    """
    system_prompt = [
        (
            "You're an AI assistant. Based on the given information, decide which tool to use."
            "If the user is asking to explain an image, don't call any tools unless that would help you better explain the image."
            "Here is the provided information:\n"
        )
    ]
    # Input to the LLM
    contents = system_prompt + messages
    
    # üß™ CODE_BLOCK_10 Solution:
    response = gemini_client.models.generate_content(
        model=LLM, contents=contents, config=tools_config
    )
    
    # Extract and return the function call from the response
    return response.candidates[0].content.parts[0].function_call
\`\`\`

### Answer Generation Function

\`\`\`python
from PIL import Image

def generate_answer(user_query: str, images: List = []) -> str:
    """
    Execute any tools and generate a response

    Args:
        user_query (str): User's query string
        images (List): List of filepaths. Defaults to [].

    Returns:
        str: LLM-generated response
    """
    # üß™ CODE_BLOCK_11 Solution:
    tool_call = select_tool([user_query])
    
    # If a tool call is found and the name is `get_information_for_question_answering`
    if (
        tool_call is not None
        and tool_call.name == "get_information_for_question_answering"
    ):
        print(f"Agent: Calling tool: {tool_call.name}")
        
        # üß™ CODE_BLOCK_12 Solution:
        tool_images = get_information_for_question_answering(**tool_call.args)
        
        # Add images return by the tool to the list of input images if any
        images.extend(tool_images)

    system_prompt = f"Answer the questions based on the provided context only. If the context is not sufficient, say I DON'T KNOW. DO NOT use any other information to answer the question."
    
    # Pass the system prompt, user query, and content retrieved using vector search (`images`) as input to the LLM
    contents = [system_prompt] + [user_query] + [Image.open(image) for image in images]

    # Get the response from the LLM
    response = gemini_client.models.generate_content(
        model=LLM,
        contents=contents,
        config=types.GenerateContentConfig(temperature=0.0),
    )
    answer = response.text
    return answer
\`\`\`

**Key Concepts:**
- **Tool Selection**: LLM-driven decision making about when to use tools
- **Function Calling**: Gemini's ability to invoke external functions
- **Multimodal Input**: Combining text queries with image content
- **RAG Pattern**: Retrieve relevant context, then generate answers
- **System Prompts**: Instructions that guide LLM behavior

**References:**
- [Gemini Function Calling - Response](https://ai.google.dev/gemini-api/docs/function-calling?example=meeting#step_4_create_user_friendly_response_with_function_result_and_call_the_model_again)
- [Gemini Function Calling - Execute](https://ai.google.dev/gemini-api/docs/function-calling?example=meeting#step_3_execute_set_light_values_function_code)

---

## Step 11: Define Function to Execute the Agent

Create a user-friendly wrapper to execute the agent.

### Agent Execution

\`\`\`python
def execute_agent(user_query: str, images: List = []) -> None:
    """
    Execute the agent.

    Args:
        user_query (str): User query
        images (List, optional): List of filepaths. Defaults to [].
    """
    response = generate_answer(user_query, images)
    print("Agent:", response)

# Test the agent with a text input
execute_agent("What is the Pass@1 accuracy of Deepseek R1 on the MATH500 benchmark?")

# Test the agent with an image input
execute_agent("Explain the graph in this image:", ["data/test.png"])
\`\`\`

**Key Concepts:**
- **Agent Orchestration**: Coordinating tool use and response generation
- **Testing Strategy**: Using both text-only and image-based queries
- **User Interface**: Simple function interface for agent interaction

---

## Step 12: Add Memory to the Agent

Implement conversational memory using MongoDB for multi-turn interactions.

### Memory Storage Setup

\`\`\`python
from datetime import datetime

# Instantiate the history collection
history_collection = mongodb_client[DB_NAME]["history"]

# üß™ CODE_BLOCK_13 Solution:
history_collection.create_index("session_id")
\`\`\`

### Memory Functions

\`\`\`python
def store_chat_message(session_id: str, role: str, type: str, content: str) -> None:
    """
    Create chat history document and store it in MongoDB

    Args:
        session_id (str): Session ID
        role (str): Message role, one of `human` or `agent`.
        type (str): Type of message, one of `text` or `image`.
        content (str): Content of the message. For images, this is the image key.
    """
    message = {
        "session_id": session_id,
        "role": role,
        "type": type,
        "content": content,
        "timestamp": datetime.now(),
    }
    
    # üß™ CODE_BLOCK_14 Solution:
    history_collection.insert_one(message)

def retrieve_session_history(session_id: str) -> List:
    """
    Retrieve chat history for a particular session.

    Args:
        session_id (str): Session ID

    Returns:
        List: List of messages. Can be a combination of text and images.
    """
    # üß™ CODE_BLOCK_15 Solution:
    cursor = history_collection.find({"session_id": session_id}).sort("timestamp", 1)
    
    messages = []
    if cursor:
        for msg in cursor:
            # If the message type is `text`, append the content as is
            if msg["type"] == "text":
                messages.append(msg["content"])
            # If message type is `image`, open the image
            elif msg["type"] == "image":
                messages.append(Image.open(msg["content"]))
    return messages
\`\`\`

### Memory-Enhanced Agent

\`\`\`python
def generate_answer(session_id: str, user_query: str, images: List = []) -> str:
    """
    Execute any tools and generate a response with memory

    Args:
        session_id (str): Session ID
        user_query (str): User's query string
        images (List): List of filepaths. Defaults to [].

    Returns:
        str: LLM-generated response
    """
    # üß™ CODE_BLOCK_16 Solution:
    history = retrieve_session_history(session_id)
    
    # Determine if any additional tools need to be called
    tool_call = select_tool(history + [user_query])
    if (
        tool_call is not None
        and tool_call.name == "get_information_for_question_answering"
    ):
        print(f"Agent: Calling tool: {tool_call.name}")
        tool_images = get_information_for_question_answering(**tool_call.args)
        images.extend(tool_images)

    # Pass the system prompt, conversation history, user query and retrieved context to the LLM
    system_prompt = f"Answer the questions based on the provided context only. If the context is not sufficient, say I DON'T KNOW. DO NOT use any other information to answer the question."
    contents = (
        [system_prompt]
        + history
        + [user_query]
        + [Image.open(image) for image in images]
    )
    
    # Get a response from the LLM
    response = gemini_client.models.generate_content(
        model=LLM,
        contents=contents,
        config=types.GenerateContentConfig(temperature=0.0),
    )
    answer = response.text
    
    # üß™ CODE_BLOCK_17 Solution:
    store_chat_message(session_id, "user", "text", user_query)
    
    # üß™ CODE_BLOCK_18 Solution:
    for image in images:
        store_chat_message(session_id, "user", "image", image)
    
    # üß™ CODE_BLOCK_19 Solution:
    store_chat_message(session_id, "agent", "text", answer)
    
    return answer

def execute_agent(session_id: str, user_query: str, images: List = []) -> None:
    """
    Execute the agent with memory support.

    Args:
        session_id (str): Session ID
        user_query (str): User query
        images (List, optional): List of filepaths. Defaults to [].
    """
    response = generate_answer(session_id, user_query, images)
    print("Agent:", response)

# Test memory functionality
execute_agent(
    "1",
    "What is the Pass@1 accuracy of Deepseek R1 on the MATH500 benchmark?",
)

# Follow-up question to test memory
execute_agent(
    "1",
    "What did I just ask you?",
)
\`\`\`

**Key Concepts:**
- **Session Management**: Isolating conversations by unique session IDs
- **Conversation Memory**: Storing and retrieving chat history
- **Temporal Ordering**: Using timestamps to maintain conversation flow
- **Multimodal Memory**: Storing both text messages and image references
- **Context Window Management**: Including conversation history in LLM input

**References:**
- [PyMongo - Collection.create_index](https://pymongo.readthedocs.io/en/stable/api/pymongo/collection.html#pymongo.collection.Collection.create_index)
- [PyMongo - Collection.insert_one](https://pymongo.readthedocs.io/en/stable/api/pymongo/collection.html#pymongo.collection.Collection.insert_one)
- [PyMongo - Cursor.sort](https://pymongo.readthedocs.io/en/stable/api/pymongo/cursor.html#pymongo.cursor.Cursor.sort)

---

## ü¶∏‚Äç‚ôÄÔ∏è Bonus: ReAct Agent Implementation

Implement a ReAct (Reasoning + Acting) agent that can reason about information sufficiency and iteratively gather more data.

### ReAct Agent Logic

\`\`\`python
def generate_answer(user_query: str, images: List = []) -> str:
    """
    Implement a ReAct agent

    Args:
        user_query (str): User's query string
        images (List): List of filepaths. Defaults to [].

    Returns:
        str: LLM-generated response
    """
    # Define reasoning prompt
    system_prompt = [
        (
            "You are an AI assistant. Based on the current information, decide if you have enough to answer the user query, or if you need more information."
            "If you have enough information, respond with 'ANSWER: <your answer>'."
            "If you need more information, respond with 'TOOL: <question for the tool>'. Keep the question concise."
            f"User query: {user_query}\n"
            "Current information:\n"
        )
    ]
    
    # Set max iterations
    max_iterations = 3
    current_iteration = 0
    # Initialize list to accumulate tool outcomes etc.
    current_information = []

    # If the user input has images, add them to `current_information`
    if len(images) != 0:
        current_information.extend([Image.open(image) for image in images])

    # Run the reasoning -> action taking loop for `max_iterations` number of iterations
    while current_iteration < max_iterations:
        current_iteration += 1
        print(f"Iteration {current_iteration}:")
        
        # Generate action -> final answer/tool call
        response = gemini_client.models.generate_content(
            model=LLM,
            contents=system_prompt + current_information,
            config=types.GenerateContentConfig(temperature=0.0),
        )
        answer = response.text
        print(f"Agent: {answer}")
        
        # If the agent has the final answer, return it
        if "ANSWER" in answer:
            return answer
        # If the agent decides to call a tool
        else:
            # determine which tool to call
            tool_call = select_tool([answer])
            if (
                tool_call is not None
                and tool_call.name == "get_information_for_question_answering"
            ):
                print(f"Agent: Calling tool: {tool_call.name}")
                # Call the tool with the arguments extracted by the LLM
                tool_images = get_information_for_question_answering(**tool_call.args)
                # Add images returned by the tool to the list of input images if any
                current_information.extend([Image.open(image) for image in tool_images])
                continue

def execute_agent(user_query: str, images: List = []) -> None:
    """
    Execute the ReAct agent.

    Args:
        user_query (str): User query
        images (List, optional): List of filepaths. Defaults to [].
    """
    response = generate_answer(user_query, images)
    print("Agent:", response)

# Test ReAct agent
execute_agent("What is the Pass@1 accuracy of Deepseek R1 on the MATH500 benchmark?")
execute_agent("Explain the graph in this image:", ["data/test.png"])
\`\`\`

**Key Concepts:**
- **ReAct Pattern**: Reasoning about information needs before taking action
- **Iterative Processing**: Multiple rounds of reasoning and information gathering
- **Transparent Reasoning**: Agent explains its thought process
- **Information Sufficiency**: Deciding when enough context has been gathered
- **Loop Control**: Maximum iterations prevent infinite reasoning loops

---

## üéâ Workshop Complete!

Congratulations! You've successfully built a comprehensive multimodal AI agent system with:

### What You've Built
‚úÖ **PDF Processing Pipeline**: Convert documents to searchable images  
‚úÖ **Vector Search System**: MongoDB Atlas integration for similarity search  
‚úÖ **Function Calling Agent**: Gemini 2.0 Flash with tool integration  
‚úÖ **Conversation Memory**: Session-based chat history  
‚úÖ **ReAct Architecture**: Advanced reasoning and acting capabilities  
‚úÖ **End-to-End System**: Production-ready multimodal AI application  

### Agent Capabilities
- **Multimodal Understanding**: Process both text and images
- **Intelligent Retrieval**: Vector search for relevant information
- **Context Awareness**: Maintain conversation history
- **Reasoning**: ReAct pattern for sophisticated decision-making
- **Tool Usage**: Autonomous function calling based on user needs

### Next Steps
üéØ **Extend Your Agent:**
- Add more tools (web search, calculations, etc.)
- Build a web interface with Streamlit or Gradio
- Implement fine-tuned prompts for specific domains
- Deploy as a production API service
- Add analytics and monitoring

üî¨ **Experiment:**
- Try different document types and datasets
- Explore other embedding models
- Test with various LLMs and configurations
- Build domain-specific agents

### Key Learning Outcomes
By completing this workshop, you've mastered:
- Multimodal AI agent architecture
- Vector database design and optimization
- LLM function calling patterns
- Conversation memory systems
- Advanced reasoning patterns (ReAct)
- Production deployment considerations

---

## Additional Resources

üìö **Documentation:**
- [MongoDB Atlas Vector Search](https://www.mongodb.com/docs/atlas/atlas-vector-search/)
- [Google Gemini API](https://ai.google.dev/gemini-api/docs)
- [Voyage AI Embeddings](https://docs.voyageai.com/)
- [PyMuPDF Documentation](https://pymupdf.readthedocs.io/)

üìñ **Research Papers:**
- [ReAct: Reasoning and Acting](https://arxiv.org/abs/2210.03629)
- [Function Calling in LLMs](https://ai.google.dev/gemini-api/docs/function-calling)

üõ†Ô∏è **Development Tools:**
- [GitHub Codespaces](https://codespaces.new/mongodb-developer/ai4-multimodal-agents-lab)
- [MongoDB Atlas](https://www.mongodb.com/atlas)
- [Google AI Studio](https://aistudio.google.com/)

Thank you for completing the Multimodal Agents Workshop! You now have the foundation to build sophisticated AI agents that can understand and reason about both text and visual content. üöÄ
```

# docs/content-organization-guide.md

```md
# Content Organization Guide

## Workshop Structure Overview

The workshop now has a clear two-path structure that guides attendees through different learning approaches while achieving the same outcome.

### Navigation Flow

\`\`\`
Workshop Home (index.mdx)
‚îú‚îÄ‚îÄ 00-workshop-overview.mdx (Instructor slides & overview)
‚îú‚îÄ‚îÄ 01-path-selection.mdx (Decision point)
‚îú‚îÄ‚îÄ path-a-n8n-overview.mdx (n8n visual path)
‚îú‚îÄ‚îÄ path-b-python-overview.mdx (Python code path)
‚îî‚îÄ‚îÄ Existing content organized by path relevance
\`\`\`

## Content Categorization

### **Shared Foundation** (Both Paths)
- `00-workshop-overview.mdx` - Complete overview with slides
- `01-path-selection.mdx` - Path decision framework
- `20-prerequisites.mdx` - API keys and accounts
- `30-mongodb-atlas-setup.mdx` - Database setup
- `35-voyage-ai-setup.mdx` - AI model setup

### **Path A: n8n Visual Workflows**
- `path-a-n8n-overview.mdx` - Path landing page
- `15-github-codespaces.mdx` - Environment setup
- `25-n8n-first-run.mdx` - n8n introduction
- `40-pdf-processing-workflow.mdx` - Document processing
- `50-vector-search-workflow.mdx` - Search implementation
- `60-ai-agent-workflow.mdx` - Agent development
- `65-agent-patterns.mdx` - Advanced patterns
- `67-memory-context-patterns.mdx` - Memory systems
- `69-multimodal-image-queries.mdx` - Multimodal features
- `70-complete-multimodal-agent.mdx` - Full integration
- `72-workflow-reference.mdx` - Reference materials
- `73-workflows-library.mdx` - Pre-built workflows
- `74-workflow-integration-guide.mdx` - Integration patterns
- `75-mongodb-vector-setup.mdx` - Vector database
- `77-status-monitoring.mdx` - Monitoring
- `78-api-gateway-status.mdx` - API status
- `79-workflow-guide-getting-started.mdx` - Getting started
- `80-upload-interface.mdx` - Web interface
- `81-workflow-guide-hybrid-agent.mdx` - Hybrid workflows
- `82-production-security.mdx` - Security
- `83-monitoring-observability.mdx` - Observability
- `84-cost-optimization.mdx` - Cost management
- `85-troubleshooting-guide.mdx` - Troubleshooting

### **Path B: Python & Jupyter**
- `path-b-python-overview.mdx` - Path landing page
- `85-python-mongodb-approaches.mdx` - Python patterns
- `90-approach-comparison.mdx` - Implementation comparison
- `/static/notebooks/notebook.ipynb` - Complete implementation

### **Exercises & Advanced Topics** (Path-Specific)
- `exercise-pdf-rag-agent.mdx` - PDF RAG exercise
- `exercise-memory-context.mdx` - Memory exercise
- `exercise-advanced-tools.mdx` - Advanced tools
- `api-architecture.mdx` - Architecture patterns
- `architecture-overview.mdx` - System overview
- `68-tool-definition-primer.mdx` - Tool development
- `71-enhanced-text-context-3.mdx` - Advanced text processing

### **Reference & Support** (Both Paths)
- `45-local-setup-tips.mdx` - Local development
- `95-community-resources.mdx` - Community support
- `96-docker-troubleshooting.mdx` - Docker help
- `status-badge-usage-guide.mdx` - Status badges
- `summary.mdx` - Workshop summary
- `workshop-alignment-assessment.md` - Assessment document

## Sidebar Organization Recommendations

### Suggested Structure:
\`\`\`
Workshop Materials
‚îú‚îÄ‚îÄ üè† Workshop Home
‚îú‚îÄ‚îÄ üìã Overview & Slides
‚îú‚îÄ‚îÄ üõ§Ô∏è Choose Your Path
‚îú‚îÄ‚îÄ üé® Path A: n8n Visual
‚îÇ   ‚îú‚îÄ‚îÄ Getting Started
‚îÇ   ‚îú‚îÄ‚îÄ Core Workflows
‚îÇ   ‚îú‚îÄ‚îÄ Advanced Features
‚îÇ   ‚îî‚îÄ‚îÄ Production
‚îú‚îÄ‚îÄ üêç Path B: Python Code
‚îÇ   ‚îú‚îÄ‚îÄ Setup & Notebook
‚îÇ   ‚îú‚îÄ‚îÄ Implementation Guide
‚îÇ   ‚îî‚îÄ‚îÄ Advanced Patterns
‚îú‚îÄ‚îÄ üìö Exercises
‚îú‚îÄ‚îÄ üîß Reference
‚îî‚îÄ‚îÄ üÜò Support & Troubleshooting
\`\`\`

## Key Implementation Notes

### 1. **Clear Decision Point**
- Attendees see the path decision immediately after overview
- Each path has distinct value propositions
- Cross-references between paths for comparison

### 2. **Instructor Experience**
- `00-workshop-overview.mdx` contains all slides for presentation
- No need to switch between applications during instruction
- SlideViewer component enables seamless slide integration

### 3. **Attendee Experience**
- Clear path selection with guidance
- Path-specific landing pages with complete roadmaps
- Ability to explore both paths if desired

### 4. **Content Reuse**
- Shared foundation content (prerequisites, setup)
- Path-specific deep dives
- Both paths achieve identical outcomes

## Next Steps

1. **Update sidebar configuration** in `docusaurus.config.js`
2. **Add path indicators** to existing content
3. **Create cross-references** between paths
4. **Test navigation flow** with workshop attendees
5. **Gather feedback** on path selection effectiveness
```

# docs/gemini-setup.mdx

```mdx
---
id: gemini-setup
title: ü§ñ Google Gemini API Key Setup
sidebar_label: ü§ñ Gemini Setup
sidebar_position: 3
---

import ClickableImage from '@site/src/components/ClickableImage';

# ü§ñ Google Gemini API Key Setup

## Why You Need a Gemini API Key

Google's Gemini 2.0 Flash is our chosen LLM for this workshop because it offers:
- Advanced function calling capabilities for tool use
- Multimodal understanding (text and images)
- Fast response times ideal for interactive agents
- Generous free tier for development

---

## Step-by-Step Gemini API Key Creation

### Step 1: Access Google AI Studio

Navigate to [Google AI Studio](https://aistudio.google.com/app/apikey) and sign in with your Google account.

You may be prompted to accept Google's AI Studio terms and conditions:

<ClickableImage 
  src="/img/gemini-1-consent.png" 
  alt="Google AI Studio consent and terms"
  caption="Accept the terms and conditions to continue"
/>

### Step 2: Get Your API Key

Once you're signed in, you'll see the API key management page:

<ClickableImage 
  src="/img/gemini-2-get-api-key.png" 
  alt="Google AI Studio API key page"
  caption="Click 'Get API key' to start the API key creation process"
/>

Click **"Get API key"** to start creating your API key.

### Step 3: Create API Key

You'll be presented with options for creating your API key:

<ClickableImage 
  src="/img/gemini-3-create-api-key.png" 
  alt="Create API key options"
  caption="Choose to create API key in existing project or new project"
/>

Choose **"Create API key in new project"** if this is your first time, or select an existing Google Cloud project if you have one.

### Step 4: Create in New Project

If you selected "Create API key in new project", you'll see this confirmation:

<ClickableImage 
  src="/img/gemini-4-create-api-new-project.png" 
  alt="Create API key in new project"
  caption="Confirm creating your API key in a new project"
/>

Click **"Create API key in new project"** to proceed.

### Step 5: Copy Your API Key

Your API key will be generated and displayed:

<ClickableImage 
  src="/img/gemini-6-copy-key.png" 
  alt="Copy your generated API key"
  caption="Copy your API key immediately - you won't be able to see it again"
/>

‚ö†Ô∏è **IMPORTANT**: Save your API key immediately:
- Click the copy button to copy the generated API key
- Store it in your `.env` file as `GOOGLE_API_KEY`
- Keep it secure and never share it publicly
- **You won't be able to view the key again after this screen**

---

## Setting Up Your Environment

### Add to .env File

Add your Gemini API key to your `.env` file:

\`\`\`bash
# Google Gemini Configuration
GOOGLE_API_KEY="your_gemini_api_key_here"
\`\`\`

### Install Required Packages

Make sure you have the Google GenAI package installed:

\`\`\`bash
pip install google-genai
\`\`\`

### Verify Your Setup

Test your API key with this Python code:

\`\`\`python
from google import genai
import os

# Initialize the client with your API key
client = genai.Client(api_key=os.getenv("GOOGLE_API_KEY"))

# Test with a simple generation
try:
    response = client.models.generate_content(
        model="gemini-2.0-flash",
        contents="Hello, Gemini! Can you confirm you're working?"
    )
    print("‚úÖ Gemini API key verified!")
    print(f"Response: {response.text}")
except Exception as e:
    print(f"‚ùå Gemini verification failed: {e}")
\`\`\`

---

## Understanding Gemini Capabilities

### Function Calling

Gemini 2.0 Flash supports advanced function calling, which we'll use for:
- Tool selection and execution
- Structured data extraction
- Multi-step reasoning (ReAct pattern)

### Multimodal Processing

Gemini can process both text and images simultaneously:
- Analyze PDF page images
- Understand visual content in context
- Generate responses based on both text and visual information

### Performance Characteristics

- **Speed**: Optimized for fast response times
- **Context Window**: Large context for complex conversations
- **Free Tier**: Generous limits for development and learning

---

## Best Practices

### API Key Security

1. **Never hardcode keys**: Always use environment variables
2. **Restrict access**: Use Google Cloud IAM for production environments
3. **Monitor usage**: Check your Google Cloud console for API usage
4. **Rotate keys**: Regenerate keys periodically for security

### Usage Optimization

1. **Batch requests**: Group multiple operations when possible
2. **Cache responses**: Store common responses to reduce API calls
3. **Monitor quotas**: Track your usage against free tier limits
4. **Error handling**: Implement proper retry logic for failed requests

---

## Troubleshooting

### Common Issues

**API Key Not Working**
- Ensure you've enabled the Gemini API in your Google Cloud project
- Check that your API key has the necessary permissions
- Verify you're using the correct model name: `gemini-2.0-flash`

**Quota Exceeded**
- Check your Google Cloud console for quota limits
- Consider upgrading to a paid plan if needed
- Implement rate limiting in your code

**Permission Denied**
- Verify your Google Cloud project has the Gemini API enabled
- Check that your API key is associated with the correct project
- Ensure your Google account has the necessary permissions

### Rate Limiting

Free tier limits:
- **Requests per minute**: Check your console for current limits
- **Tokens per request**: Large context windows count against quotas
- **Monthly usage**: Monitor your monthly API usage

### Getting Help

If you encounter issues:
- Check the [Google AI Studio documentation](https://ai.google.dev/docs)
- Review your Google Cloud console for error messages
- Ensure you're using the latest version of the `google-genai` package

---

## Advanced Configuration

### Setting Up Function Calling

For the workshop's ReAct agent, we'll configure function calling:

\`\`\`python
from google.genai import types

# Define your function declarations
function_declaration = {
    "name": "search_documents",
    "description": "Search through PDF documents using vector similarity",
    "parameters": {
        "type": "object",
        "properties": {
            "query": {
                "type": "string",
                "description": "Search query for document retrieval"
            }
        },
        "required": ["query"]
    }
}

# Create tools configuration
tools = types.Tool(function_declarations=[function_declaration])
config = types.GenerateContentConfig(tools=[tools], temperature=0.0)
\`\`\`

### Multimodal Inputs

Gemini can process images alongside text:

\`\`\`python
from PIL import Image

# Load an image
image = Image.open("document_page.png")

# Generate content with both text and image
response = client.models.generate_content(
    model="gemini-2.0-flash",
    contents=["What do you see in this document page?", image]
)
\`\`\`

---

**[‚Üê Back to Prerequisites Overview](./prerequisites)** | **[Next: Atlas Setup ‚Üí](./atlas-setup)**
```

# docs/index.mdx

```mdx
---
id: index
sidebar_position: 1
slug: /
title: Workshop Home
---

# üéì Multimodal PDF Agent Workshop

**Build Intelligent AI Systems That Understand Both Text and Images**

Welcome to our comprehensive workshop where you'll learn to create sophisticated AI agents that can reason, plan, use tools, and understand multimodal content from PDFs.

---

## üß† What Are We Learning?

You're learning what **AI agents** are‚Äîsystems that don't just answer simple prompts, but can:

- **Reason through problems** step-by-step
- **Plan solutions** across multiple steps  
- **Use external tools** (vector databases, APIs, search, etc.)
- **Remember previous conversations** (short- and long-term memory)
- **Iterate and refine** their answers

### üîç Key Components You'll Master

**üéØ Perception**: How the agent "sees" and ingests information (text, images, audio, etc.)

**üß© Planning & Reasoning**: How it decides what to do, possibly in multiple steps

**üõ†Ô∏è Tools**: How it interacts with the outside world (searches, code execution, APIs)

**üíæ Memory**: How it recalls and uses past interactions or data

We dive deep into **multimodality**‚Äîmeaning models that process more than one kind of data. Not just text, but also images, charts, diagrams, and visual elements that contain critical information.

---

## üèóÔ∏è What Are We Building?

You're building a **multimodal AI agent from scratch** that can:

‚úÖ **Answer questions** about a collection of documents (PDFs, reports, etc.)

‚úÖ **Understand both text and visual elements** (charts, diagrams, tables) inside those documents

‚úÖ **Explain charts, diagrams, and content** across modalities‚Äînot just copy text

‚úÖ **Remember conversations** and build context over time

‚úÖ **Use tools intelligently** to search, retrieve, and reason

You'll prepare data for mixed-modal retrieval, feed it into a vector store, and wire up a system that leverages the latest LLMs and multimodal models for robust, intelligent answers.

---

## üåü Why Does This Matter?

### üìä Real-World Data is Multimodal
Business documents, scientific papers, and reports all have **critical information in images, diagrams, and tables**‚Äînot just text. Traditional approaches miss this entirely.

### ‚ùå Classic AI Falls Short
- **Text-only models** can't "see" a chart or interpret a figure
- **Image-only models** can't explain what's written
- **Simple chatbots** can't reason through complex, multi-step problems

### ‚ú® Multimodal Agents Bridge the Gap
Combining LLMs, perception, memory, and external tools to solve **more complex, useful, real-world tasks**. You're not just using AI‚Äîyou're **engineering it** to reason, search, and respond with context from all types of content.

---

## üçÉ Why MongoDB?

You'll see how **MongoDB's vector search**, document flexibility, and ability to store mixed data types make it a perfect fit for building these next-generation AI agents.

- **Native vector search** with HNSW algorithms for lightning-fast similarity matching
- **Flexible document storage** that handles text, images, and metadata seamlessly  
- **Production-ready scaling** that grows with your application
- **Real tools and code** you can adapt for production systems

---

## üõ§Ô∏è Workshop Approach

### üêç **Python & Jupyter Notebooks**  
**Perfect for:** Developers, data scientists, and AI engineers

Build multimodal AI agents with Python:
- Hands-on coding with Jupyter notebooks
- VoyageAI embeddings for multimodal search
- MongoDB Atlas vector search integration
- ReAct agent architecture implementation
- Full control over the implementation
- Production-ready patterns and best practices

**[Start Workshop ‚Üí](./python-exercise-1)**

---

## üéØ Big Picture: What You'll Walk Away With

### üß† **Deep Understanding**
- The key patterns for building modern AI agents
- How to handle and retrieve from mixed-modal data  
- Where the field is going, and how you can contribute right now

### üõ†Ô∏è **Practical Skills**
- Production-ready code and workflows
- Experience with cutting-edge AI tools
- Real systems you can adapt and extend

### üöÄ **Future-Ready Knowledge**
This workshop is about creating agents that can answer questions about **both the words and the pictures**‚Äîtrue "understanding" at machine scale.

---

## üöÄ Ready to Start Building?

<div style={{
  textAlign: 'center', 
  padding: '3rem', 
  background: 'linear-gradient(135deg, #7C3AED 0%, #A855F7 100%)', 
  borderRadius: '12px',
  color: 'white',
  marginTop: '2rem',
  marginBottom: '2rem'
}}>
  <h3 style={{color: 'white', marginBottom: '1rem', fontSize: '1.8rem'}}>üêç Build with Python & Jupyter</h3>
  <p style={{marginBottom: '2rem', fontSize: '1.2rem'}}>Create production-ready multimodal AI agents<br/>with VoyageAI embeddings and MongoDB Atlas</p>
  <a 
    href="/docs/python-exercise-1"
    style={{
      display: 'inline-block',
      padding: '1rem 3rem',
      background: 'white',
      color: '#7C3AED',
      textDecoration: 'none',
      borderRadius: '8px',
      fontWeight: 'bold',
      fontSize: '1.2rem',
      boxShadow: '0 4px 6px rgba(0,0,0,0.1)'
    }}
  >
    Start Workshop ‚Üí
  </a>
</div>

---

## üìö Additional Resources

- **[Workshop Overview & Slides](./workshop-overview)** - Complete presentation materials
- **[Workshop Objectives](./objectives-overview)** - Detailed learning outcomes
- **[PDF Tester](/upload)** - Test your workflows as you build

---

<div style={{
  marginTop: '3rem',
  padding: '2rem',
  background: 'var(--ifm-color-primary-lightest)',
  borderRadius: '12px',
  textAlign: 'center'
}}>
  <h2>üéâ Let's Build Something Amazing!</h2>
  <p style={{fontSize: '1.2rem', marginBottom: '0'}}>
    Ready to create AI agents that understand both words and pictures?<br/>
    <strong>Let's get started with Python and Jupyter!</strong>
  </p>
</div>
```

# docs/objectives-overview.mdx

```mdx
---
id: objectives-overview
title: üéØ Workshop Objectives
sidebar_label: üéØ Objectives
---

# Workshop Objectives: Multimodal PDF Agents

## üéØ What You'll Build

Create intelligent agents that can process, understand, and interact with PDF documents containing both text and images.

### Core Capabilities
- **Process PDFs** - Extract and chunk text content from PDF documents
- **Generate Embeddings** - Create vector representations using pre-generated multimodal embeddings
- **Store & Search** - Use MongoDB Vector Search for semantic retrieval
- **Reason & Act** - Build agents using the ReAct pattern (Reasoning + Acting)
- **Chat Interface** - Natural conversations about document content

### Python + Jupyter + LangChain

**What you'll do:**
- Work with pre-generated embeddings from the enhanced notebook
- Use MongoDB Atlas Local (Docker-based)
- Build ReAct agents with LangChain
- Complete 4 hands-on exercises

## üìö Technologies Used

- **MongoDB Atlas Vector Search** - Document storage and semantic search
- **Voyage AI Multimodal Embeddings** - 1024-dimensional vectors for text + images
- **Google Gemini 2.0** - LLM with function calling capabilities
- **ReAct Pattern** - Reasoning + Acting agent architecture

## üéØ Learning Outcomes

After completing this workshop, you will:

1. **Understand multimodal AI** and how to work with text + image embeddings
2. **Build production-ready vector search** using MongoDB Atlas
3. **Create intelligent agents** that can reason and take actions
4. **Process real PDF documents** and make them searchable

## üöÄ Ready to Start?

Choose your preferred path below and complete the exercises to build your multimodal PDF agent!
```

# docs/prerequisites.mdx

```mdx
---
id: prerequisites
title: üìã Prerequisites & Setup
sidebar_label: üìã Prerequisites
sidebar_position: 2
---

import PrerequisitesWizard from '@site/src/components/PrerequisitesWizard';

# Workshop Prerequisites & Setup

Before diving into building your multimodal AI agent, you'll need to set up three essential services. Use our interactive setup wizard below to guide you through the process.

## üéØ What You'll Need

To complete this workshop successfully, you'll need:
1. **Voyage AI API Key** - For state-of-the-art multimodal embeddings
2. **Google Gemini API Key** - For the LLM with function calling capabilities
3. **MongoDB Atlas Cluster** - For vector storage and search
4. **GitHub Codespaces** Access to [GitHub Codespaces](https://codespaces.new/mongodb-developer/ai4-multimodal-agents-lab)

---

<PrerequisitesWizard />

---

## üîß Final Environment Setup

Once you've completed all three prerequisites above, follow these final steps:

### Create Your `.env` File

Create a `.env` file in your project root with all your credentials:

\`\`\`bash
# Voyage AI Configuration
VOYAGE_API_KEY="voy_your_api_key_here"

# Google Gemini Configuration
GOOGLE_API_KEY="your_gemini_api_key_here"

# MongoDB Atlas Configuration
MONGODB_URI="mongodb+srv://username:password@cluster.mongodb.net/"
\`\`\`

### Install Required Python Packages

\`\`\`bash
pip install pymongo voyageai google-genai pymupdf pillow python-dotenv tqdm
\`\`\`

### Complete Verification Script

Save this as `verify_setup.py` to test all your configurations:

\`\`\`python
import os
from dotenv import load_dotenv
import voyageai
from google import genai
from pymongo import MongoClient

# Load environment variables
load_dotenv()

def verify_setup():
    """Verify all workshop prerequisites are configured correctly."""
    
    print("üîç Verifying Workshop Setup...\n")
    
    checks_passed = 0
    total_checks = 3
    
    # Check Voyage AI
    try:
        voyage_client = voyageai.Client(api_key=os.getenv("VOYAGE_API_KEY"))
        response = voyage_client.embed(texts=["test"], model="voyage-2")
        print("‚úÖ Voyage AI API key verified")
        checks_passed += 1
    except Exception as e:
        print(f"‚ùå Voyage AI verification failed: {e}")
    
    # Check Gemini
    try:
        gemini_client = genai.Client(api_key=os.getenv("GOOGLE_API_KEY"))
        response = gemini_client.models.generate_content(
            model="gemini-2.0-flash",
            contents="Test"
        )
        print("‚úÖ Google Gemini API key verified")
        checks_passed += 1
    except Exception as e:
        print(f"‚ùå Gemini verification failed: {e}")
    
    # Check MongoDB
    try:
        mongodb_client = MongoClient(os.getenv("MONGODB_URI"))
        result = mongodb_client.admin.command("ping")
        if result.get("ok") == 1:
            print("‚úÖ MongoDB Atlas connection verified")
            checks_passed += 1
    except Exception as e:
        print(f"‚ùå MongoDB connection failed: {e}")
    
    # Summary
    print(f"\nüìä Setup Status: {checks_passed}/{total_checks} checks passed")
    
    if checks_passed == total_checks:
        print("\nüéâ All prerequisites configured successfully!")
        print("You're ready to start the workshop!")
        return True
    else:
        print("\n‚ö†Ô∏è Some prerequisites are missing.")
        print("Please review the errors above and check your .env file.")
        return False

if __name__ == "__main__":
    verify_setup()
\`\`\`

---

## üÜò Troubleshooting

### Common Issues and Solutions

**Voyage AI Key Issues:**
- Ensure you've copied the entire key (it's quite long)
- Check that you're using the correct model names
- Verify your account has access to multimodal models

**Gemini API Issues:**
- Make sure you've enabled the Gemini API in your Google Cloud project
- Check that your API key has the necessary permissions
- Try regenerating the key if it's not working

**MongoDB Connection Issues:**
- Verify your IP address is whitelisted
- Double-check your username and password
- Ensure you've replaced `<password>` in the connection string
- Try using the connection string with `mongodb://` instead of `mongodb+srv://` if DNS issues occur

**Python Environment Issues:**
- Use Python 3.8 or higher
- Consider using a virtual environment: `python -m venv workshop_env`
- If packages fail to install, try upgrading pip: `pip install --upgrade pip`

---

## üìö Additional Resources

- [Voyage AI Documentation](https://docs.voyageai.com/)
- [Google Gemini API Docs](https://ai.google.dev/docs)
- [MongoDB Atlas Documentation](https://www.mongodb.com/docs/atlas/)
- [Workshop GitHub Repository](https://github.com/mongodb-developer/multimodal-pdf-agent-workshop)

Need help? Check the detailed setup guides linked in the wizard above or ask in the workshop chat!
```

# docs/python-exercise-1.mdx

```mdx
---
id: python-exercise-1
title: üìä Exercise 1 - Environment Setup & Data Processing
sidebar_label: üìä Exercise 1 - Setup & Data
---

# Exercise 1: Environment Setup & Data Processing

<div style={{textAlign: 'center', margin: '20px 0'}}>
  <a 
    href="https://codespaces.new/mongodb-developer/ai4-multimodal-agents-lab" 
    target="_blank" 
    rel="noopener noreferrer"
    style={{
      backgroundColor: '#589636',
      color: 'white',
      padding: '12px 24px',
      borderRadius: '6px',
      textDecoration: 'none',
      fontWeight: '900',
      display: 'inline-block',
      fontSize: '16px'
    }}
  >
    üöÄ Open in GitHub Codespaces
  </a>
</div>

## üéØ Objective
Set up your environment, process a PDF document into images, and ingest pre-generated embeddings into MongoDB Atlas.

## üìã Prerequisites
- MongoDB Atlas connection string
- Access to the serverless endpoint for embeddings
- Python environment with required packages

## üîß Lab Steps

### Step 1: Setup Prerequisites

First, let's import necessary libraries and establish our MongoDB connection.

\`\`\`python
import os
from pymongo import MongoClient

# If you are using your own MongoDB Atlas cluster, use the connection string for your cluster here
MONGODB_URI = os.getenv("MONGODB_URI")
# Initialize a MongoDB Python client
mongodb_client = MongoClient(MONGODB_URI)
# Check the connection to the server
mongodb_client.admin.command("ping")

SERVERLESS_URL = os.getenv("SERVERLESS_URL")
LLM_PROVIDER = "google"
\`\`\`

‚úÖ **Success Criteria**: MongoDB connection established with successful ping response

### Step 2: Read PDF from URL

Download and open the DeepSeek research paper from arXiv.

\`\`\`python
import pymupdf
import requests

# Download the DeepSeek paper
response = requests.get("https://arxiv.org/pdf/2501.12948")
if response.status_code != 200:
    raise ValueError(f"Failed to download PDF. Status code: {response.status_code}")

# Get the content of the response
pdf_stream = response.content

# üß™ TODO: Open the data in `pdf_stream` as a PDF document and store it in `pdf`.
# HINT: Set the `filetype` argument to "pdf".
pdf = <CODE_BLOCK_1>
\`\`\`

<details>
<summary>üí° Solution for CODE_BLOCK_1</summary>

\`\`\`python
pdf = pymupdf.Document(stream=pdf_stream, filetype="pdf")
\`\`\`

</details>

üìö **Reference**: [PyMuPDF - Opening Remote Files](https://pymupdf.readthedocs.io/en/latest/how-to-open-a-file.html#opening-remote-files)

### Step 3: Store PDF Images Locally and Extract Metadata

Convert each PDF page to a high-resolution image for multimodal processing.

\`\`\`python
from tqdm import tqdm

docs = []
zoom = 3.0
# Set image matrix dimensions
mat = pymupdf.Matrix(zoom, zoom)

# Iterate through the pages of the PDF
for n in tqdm(range(pdf.page_count)):
    temp = {}
    
    # üß™ TODO: Use the `get_pixmap` method to render the PDF page as a matrix of pixels
    # HINT: Access the PDF page as pdf[n]
    pix = <CODE_BLOCK_2>
    
    # Store image locally
    key = f"data/images/{n+1}.png"
    pix.save(key)
    
    # Extract image metadata to be stored in MongoDB
    temp["key"] = key
    temp["width"] = pix.width
    temp["height"] = pix.height
    docs.append(temp)
\`\`\`

<details>
<summary>üí° Solution for CODE_BLOCK_2</summary>

\`\`\`python
pix = pdf[n].get_pixmap(matrix=mat)
\`\`\`

</details>

üìö **Reference**: [PyMuPDF - Page.get_pixmap](https://pymupdf.readthedocs.io/en/latest/page.html#Page.get_pixmap)

### Step 4: Generate Image Embeddings (Optional)

This step shows how to generate embeddings using Voyage AI. For the workshop, we'll use pre-generated embeddings.

\`\`\`python
# Uncomment this section only if you are generating embeddings using your own Voyage AI API key

# from voyageai import Client
# from PIL import Image

# # Set Voyage AI API Key
# os.environ["VOYAGE_API_KEY"] = "your-api-key"
# voyageai_client = Client()

# def get_embedding(data, input_type):
#     """Get Voyage AI embeddings for images and text."""
#     embedding = voyageai_client.multimodal_embed(
#         inputs=[[data]], model="voyage-multimodal-3", input_type=input_type
#     ).embeddings[0]
#     return embedding

# embedded_docs = []
# for doc in tqdm(docs):
#     img = Image.open(f"{doc['key']}")
#     doc["embedding"] = get_embedding(img, "document")
#     embedded_docs.append(doc)
\`\`\`

üí° **Note**: To get a Voyage AI API key, follow the steps [here](https://docs.voyageai.com/docs/api-key-and-installation#authentication-with-api-keys)

### Step 5: Write Embeddings and Metadata to MongoDB

Load pre-generated embeddings and ingest them into MongoDB Atlas.

\`\`\`python
import json

# Database name
DB_NAME = "mongodb_aiewf"
# Name of the collection to insert documents into
COLLECTION_NAME = "multimodal_workshop"

# Connect to the collection
collection = mongodb_client[DB_NAME][COLLECTION_NAME]

# Read data from local file
with open("data/embeddings.json", "r") as data_file:
    json_data = data_file.read()
data = json.loads(json_data)

# Delete existing documents from the collection
collection.delete_many({})
print(f"Deleted existing documents from the {COLLECTION_NAME} collection.")

# üß™ TODO: Bulk insert documents in `data`, into the `collection` collection.
<CODE_BLOCK_3>

print(
    f"{collection.count_documents({})} documents ingested into the {COLLECTION_NAME} collection."
)
\`\`\`

<details>
<summary>üí° Solution for CODE_BLOCK_3</summary>

\`\`\`python
collection.insert_many(data)
\`\`\`

</details>

üìö **Reference**: [PyMongo - Collection.insert_many](https://pymongo.readthedocs.io/en/stable/api/pymongo/collection.html#pymongo.collection.Collection.insert_many)

## ‚úÖ Success Criteria

By the end of this exercise, you should have:
- [ ] MongoDB connection established successfully
- [ ] PDF downloaded and opened with PyMuPDF
- [ ] All PDF pages extracted as high-resolution images
- [ ] Images saved to `data/images/` directory
- [ ] Embeddings data loaded from JSON file
- [ ] Documents with embeddings ingested into MongoDB collection
- [ ] Verification that all documents are stored correctly

## üéØ What You've Accomplished

In this exercise, you've:
1. Set up the foundational environment for the workshop
2. Processed a research paper PDF into individual page images
3. Prepared for multimodal search by storing documents with embeddings
4. Created the data foundation for building your AI agent

## üöÄ Next Steps

Once you've successfully completed all tasks, proceed to [Exercise 2: Vector Search Setup](./python-exercise-2) where you'll create a vector search index and build the search tool for your agent.
```

# docs/python-exercise-2.mdx

```mdx
---
id: python-exercise-2
title: üîç Exercise 2 - Vector Search Setup
sidebar_label: üîç Exercise 2 - Vector Search
---

# Exercise 2: Vector Search Setup

<div style={{textAlign: 'center', margin: '20px 0'}}>
  <a 
    href="https://codespaces.new/mongodb-developer/ai4-multimodal-agents-lab" 
    target="_blank" 
    rel="noopener noreferrer"
    style={{
      backgroundColor: '#589636',
      color: 'white',
      padding: '12px 24px',
      borderRadius: '6px',
      textDecoration: 'none',
      fontWeight: '900',
      display: 'inline-block',
      fontSize: '16px'
    }}
  >
    üöÄ Open in GitHub Codespaces
  </a>
</div>

## üéØ Objective
Create a vector search index in MongoDB Atlas and build the search tool function that your AI agent will use to retrieve relevant information.

## üìã Prerequisites
- Completed Exercise 1 with documents ingested into MongoDB
- MongoDB collection with embeddings in place
- Understanding of vector search concepts

## üîß Lab Steps

### Step 6: Create a Vector Search Index

Define and create a vector search index to enable similarity searches on your multimodal embeddings.

\`\`\`python
VS_INDEX_NAME = "vector_index"

# Create vector index definition specifying:
# path: Path to the embeddings field
# numDimensions: Number of embedding dimensions - depends on the embedding model used
# similarity: Similarity metric. One of cosine, euclidean, dotProduct.
model = {
    "name": VS_INDEX_NAME,
    "type": "vectorSearch",
    "definition": {
        "fields": [
            {
                "type": "vector",
                "path": "embedding",
                "numDimensions": 1024,
                "similarity": "cosine",
            }
        ]
    },
}

# üß™ TODO: Create a vector search index with the above `model` for the `collection` collection
<CODE_BLOCK_4>

# Verify that the index is in READY status before proceeding
list(collection.list_search_indexes())
\`\`\`

<details>
<summary>üí° Solution for CODE_BLOCK_4</summary>

\`\`\`python
collection.create_search_index(model=model)
\`\`\`

</details>

üìö **Reference**: [PyMongo - Collection.create_search_index](https://pymongo.readthedocs.io/en/stable/api/pymongo/collection.html#pymongo.collection.Collection.create_search_index)

üí° **Important Notes**:
- The index creation is asynchronous and may take a few minutes
- Check the Atlas UI or wait for status to be "READY" before proceeding
- Voyage multimodal embeddings have 1024 dimensions

### Step 7: Create Agent Tools

Build the vector search function that will serve as the core tool for your AI agent.

#### Part A: Implement the Search Function

\`\`\`python
from typing import List

def get_information_for_question_answering(user_query: str) -> List[str]:
    """
    Retrieve information using vector search to answer a user query.

    Args:
        user_query (str): The user's query string.

    Returns:
        List[str]: The retrieved image file paths.
    """
    # Embed the user query using our serverless endpoint
    response = requests.post(
        url=SERVERLESS_URL,
        json={
            "task": "get_embedding",
            "data": {"input": user_query, "input_type": "query"},
        },
    )
    # Extract the embedding from the response
    query_embedding = response.json()["embedding"]

    # üß™ TODO: Define an aggregation pipeline consisting of:
    # 1. A $vectorSearch stage with:
    #    - index: VS_INDEX_NAME
    #    - path: "embedding"
    #    - queryVector: query_embedding
    #    - numCandidates: 150
    #    - limit: 2
    # 2. A $project stage that:
    #    - Excludes the `_id` field
    #    - Includes: `key`, `width`, `height`
    #    - Includes the vector search score as `score`
    pipeline = <CODE_BLOCK_5>

    # üß™ TODO: Execute the aggregation `pipeline` against the `collection` collection
    results = <CODE_BLOCK_6>
    
    # Get images from local storage
    keys = [result["key"] for result in results]
    print(f"Keys: {keys}")
    return keys
\`\`\`

<details>
<summary>üí° Solution for CODE_BLOCK_5</summary>

\`\`\`python
pipeline = [
    {
        "$vectorSearch": {
            "index": VS_INDEX_NAME,
            "path": "embedding",
            "queryVector": query_embedding,
            "numCandidates": 150,
            "limit": 2,
        }
    },
    {
        "$project": {
            "_id": 0,
            "key": 1,
            "width": 1,
            "height": 1,
            "score": {"$meta": "vectorSearchScore"},
        }
    },
]
\`\`\`

</details>

<details>
<summary>üí° Solution for CODE_BLOCK_6</summary>

\`\`\`python
results = list(collection.aggregate(pipeline))
\`\`\`

</details>

üìö **Reference**: [MongoDB Atlas Vector Search - Basic Example](https://www.mongodb.com/docs/atlas/atlas-vector-search/vector-search-stage/#ann-examples)

#### Part B: Define Function Declaration for Gemini

Create the function declaration that tells Gemini about your search tool.

\`\`\`python
# Define the function declaration for the `get_information_for_question_answering` function
get_information_for_question_answering_declaration = {
    "name": <CODE_BLOCK_7>,
    "description": "Retrieve information using vector search to answer a user query.",
    "parameters": {
        "type": "object",
        "properties": {
            "user_query": {
                "type": <CODE_BLOCK_8>,
                "description": "Query string to use for vector search",
            }
        },
        "required": <CODE_BLOCK_9>,
    },
}
\`\`\`

<details>
<summary>üí° Solutions for CODE_BLOCK_7, 8, 9</summary>

\`\`\`python
# CODE_BLOCK_7:
"get_information_for_question_answering"

# CODE_BLOCK_8:
"string"

# CODE_BLOCK_9:
["user_query"]
\`\`\`

</details>

üìö **Reference**: [Gemini Function Calling - Define Function Declaration](https://ai.google.dev/gemini-api/docs/function-calling?example=meeting#step_1_define_function_declaration)

### Testing Your Vector Search

Once your index is ready, test the search function:

\`\`\`python
# Test the vector search function
test_query = "What is deep learning?"
results = get_information_for_question_answering(test_query)
print(f"Found {len(results)} relevant images for query: '{test_query}'")
for i, key in enumerate(results):
    print(f"  {i+1}. {key}")
\`\`\`

## ‚úÖ Success Criteria

By the end of this exercise, you should have:
- [ ] Vector search index created and in READY status
- [ ] Search function implemented with proper aggregation pipeline
- [ ] Function declaration defined for Gemini integration
- [ ] Successful test of vector search returning relevant images
- [ ] Understanding of how vector search works with embeddings

## üéØ What You've Accomplished

In this exercise, you've:
1. Created a vector search index optimized for multimodal embeddings
2. Built a search function that converts queries to embeddings
3. Implemented MongoDB aggregation pipeline for similarity search
4. Prepared function declaration for AI agent integration
5. Created the retrieval component of your RAG system

## üí° Key Concepts

- **Vector Search**: Finds similar documents based on embedding similarity
- **numCandidates**: Number of candidates to consider (affects recall)
- **limit**: Final number of results to return
- **Cosine Similarity**: Measures angle between embedding vectors
- **Function Declaration**: Schema that tells the LLM how to use your tool

## üöÄ Next Steps

Once you've successfully completed all tasks and your vector search is working, proceed to [Exercise 3: Build the AI Agent](./python-exercise-3) where you'll integrate Gemini and create your intelligent agent.
```

# docs/python-exercise-3.mdx

```mdx
---
id: python-exercise-3
title: ü§ñ Exercise 3 - Build the AI Agent
sidebar_label: ü§ñ Exercise 3 - AI Agent
---

# Exercise 3: Build the AI Agent

<div style={{textAlign: 'center', margin: '20px 0'}}>
  <a 
    href="https://codespaces.new/mongodb-developer/ai4-multimodal-agents-lab" 
    target="_blank" 
    rel="noopener noreferrer"
    style={{
      backgroundColor: '#589636',
      color: 'white',
      padding: '12px 24px',
      borderRadius: '6px',
      textDecoration: 'none',
      fontWeight: '900',
      display: 'inline-block',
      fontSize: '16px'
    }}
  >
    üöÄ Open in GitHub Codespaces
  </a>
</div>

## üéØ Objective
Set up Google Gemini 2.0 Flash with function calling capabilities and build the core agent logic that orchestrates tool calls and generates responses.

## üìã Prerequisites
- Completed Exercises 1 & 2
- Vector search function and declaration ready
- Understanding of LLM function calling

## üîß Lab Steps

### Step 8: Instantiate the Gemini Client

Set up the Gemini 2.0 Flash model for multimodal AI capabilities.

\`\`\`python
from google import genai
from google.genai import types

LLM = "gemini-2.0-flash"

# Get API key from serverless endpoint
api_key = requests.post(
    url=SERVERLESS_URL, json={"task": "get_api_key", "data": LLM_PROVIDER}
).json()["api_key"]

# Initialize Gemini client
gemini_client = genai.Client(api_key=api_key)

print(f"‚úÖ Gemini {LLM} client initialized!")
\`\`\`

### Step 9: Create Generation Config

Configure Gemini with your tool and generation parameters.

\`\`\`python
# Create a generation config with the function declaration and temperature set to 0.0
tools = types.Tool(
    function_declarations=[get_information_for_question_answering_declaration]
)
tools_config = types.GenerateContentConfig(tools=[tools], temperature=0.0)

print("‚úÖ Generation config created with function calling enabled!")
\`\`\`

üí° **Key Parameters**:
- **temperature**: 0.0 for deterministic, fact-based responses
- **tools**: List of available functions the model can call

### Step 10: Define Core Agent Functions

Build the tool selection logic and response generation functions.

#### Part A: Tool Selection Function

\`\`\`python
from google.genai.types import FunctionCall

def select_tool(messages: List) -> FunctionCall | None:
    """
    Use an LLM to decide which tool to call

    Args:
        messages (List): Messages as a list

    Returns:
        FunctionCall: Function call object consisting of the tool name and arguments
    """
    system_prompt = [
        (
            "You're an AI assistant. Based on the given information, decide which tool to use."
            "If the user is asking to explain an image, don't call any tools unless that would help you better explain the image."
            "Here is the provided information:\n"
        )
    ]
    # Input to the LLM
    contents = system_prompt + messages
    
    # üß™ TODO: Use the `gemini_client`, `LLM`, `contents` and `tools_config` 
    # to generate a response using Gemini
    response = <CODE_BLOCK_10>
    
    # Extract and return the function call from the response
    return response.candidates[0].content.parts[0].function_call
\`\`\`

<details>
<summary>üí° Solution for CODE_BLOCK_10</summary>

\`\`\`python
response = gemini_client.models.generate_content(
    model=LLM, contents=contents, config=tools_config
)
\`\`\`

</details>

üìö **Reference**: [Gemini Function Calling - Create Response](https://ai.google.dev/gemini-api/docs/function-calling?example=meeting#step_4_create_user_friendly_response_with_function_result_and_call_the_model_again)

#### Part B: Answer Generation Function

\`\`\`python
from PIL import Image

def generate_answer(user_query: str, images: List = []) -> str:
    """
    Execute any tools and generate a response

    Args:
        user_query (str): User's query string
        images (List): List of filepaths. Defaults to [].

    Returns:
        str: LLM-generated response
    """
    # üß™ TODO: Use the `select_tool` function to determine if tools are needed
    # NOTE: Input to `select_tool` should be a list
    tool_call = <CODE_BLOCK_11>
    
    # If a tool call is found and it's our vector search function
    if (
        tool_call is not None
        and tool_call.name == "get_information_for_question_answering"
    ):
        print(f"Agent: Calling tool: {tool_call.name}")
        
        # üß™ TODO: Call the tool with the arguments extracted by the LLM
        tool_images = <CODE_BLOCK_12>
        
        # Add images returned by the tool to the list of input images
        images.extend(tool_images)

    system_prompt = f"Answer the questions based on the provided context only. If the context is not sufficient, say I DON'T KNOW. DO NOT use any other information to answer the question."
    
    # Pass the system prompt, user query, and retrieved images to the LLM
    contents = [system_prompt] + [user_query] + [Image.open(image) for image in images]

    # Get the response from the LLM
    response = gemini_client.models.generate_content(
        model=LLM,
        contents=contents,
        config=types.GenerateContentConfig(temperature=0.0),
    )
    answer = response.text
    return answer
\`\`\`

<details>
<summary>üí° Solution for CODE_BLOCK_11</summary>

\`\`\`python
tool_call = select_tool([user_query])
\`\`\`

</details>

<details>
<summary>üí° Solution for CODE_BLOCK_12</summary>

\`\`\`python
tool_images = get_information_for_question_answering(**tool_call.args)
\`\`\`

</details>

üìö **Reference**: [Gemini Function Calling - Execute Function](https://ai.google.dev/gemini-api/docs/function-calling?example=meeting#step_3_execute_set_light_values_function_code)

### Step 11: Define Function to Execute the Agent

Create a user-friendly wrapper to execute your agent.

\`\`\`python
def execute_agent(user_query: str, images: List = []) -> None:
    """
    Execute the agent.

    Args:
        user_query (str): User query
        images (List, optional): List of filepaths. Defaults to [].
    """
    response = generate_answer(user_query, images)
    print("Agent:", response)
\`\`\`

### Testing Your Agent

Test your agent with different types of queries:

\`\`\`python
# Test the agent with a text input
execute_agent("What is the Pass@1 accuracy of Deepseek R1 on the MATH500 benchmark?")

# Test the agent with an image input (if you have a test image)
execute_agent("Explain the graph in this image:", ["data/test.png"])
\`\`\`

## ‚úÖ Success Criteria

By the end of this exercise, you should have:
- [ ] Gemini 2.0 Flash client initialized successfully
- [ ] Generation config created with function calling enabled
- [ ] Tool selection function working correctly
- [ ] Answer generation function orchestrating tool calls
- [ ] Agent successfully answering questions using vector search
- [ ] Agent able to analyze provided images directly

## üéØ What You've Accomplished

In this exercise, you've:
1. Set up Gemini 2.0 Flash for multimodal AI tasks
2. Implemented intelligent tool selection logic
3. Built the orchestration layer for your agent
4. Created a complete RAG (Retrieval-Augmented Generation) system
5. Enabled both text and image understanding capabilities

## üí° Key Concepts

- **Function Calling**: LLM's ability to recognize when to use tools
- **Tool Selection**: Decision-making process for using available tools
- **Multimodal Input**: Processing both text queries and images
- **RAG Pattern**: Retrieve relevant context, then generate answers
- **Temperature**: Controls randomness (0.0 = deterministic)

## üé™ How the Agent Works

1. **Query Analysis**: Agent analyzes the user's question
2. **Tool Decision**: Determines if vector search is needed
3. **Retrieval**: If needed, searches for relevant document images
4. **Context Assembly**: Combines query with retrieved/provided images
5. **Response Generation**: Generates answer based on available context

## üöÄ Next Steps

Congratulations! You now have a working multimodal AI agent. Proceed to [Exercise 4: Memory & Advanced Features](./python-exercise-4) where you'll add conversation memory and implement the ReAct pattern for more sophisticated reasoning.
```

# docs/python-exercise-4.mdx

```mdx
---
id: python-exercise-4
title: üß† Exercise 4 - Memory & Advanced Features
sidebar_label: üß† Exercise 4 - Memory & ReAct
---

# Exercise 4: Memory & Advanced Features

<div style={{textAlign: 'center', margin: '20px 0'}}>
  <a 
    href="https://codespaces.new/mongodb-developer/ai4-multimodal-agents-lab" 
    target="_blank" 
    rel="noopener noreferrer"
    style={{
      backgroundColor: '#589636',
      color: 'white',
      padding: '12px 24px',
      borderRadius: '6px',
      textDecoration: 'none',
      fontWeight: '900',
      display: 'inline-block',
      fontSize: '16px'
    }}
  >
    üöÄ Open in GitHub Codespaces
  </a>
</div>

## üéØ Objective
Add conversation memory to enable multi-turn interactions and implement the ReAct (Reasoning + Acting) pattern for more sophisticated agent behavior.

## üìã Prerequisites
- Completed Exercises 1-3
- Working AI agent with vector search
- Understanding of conversation context

## üîß Lab Steps

### Step 12: Add Memory to the Agent

Implement a conversation memory system using MongoDB to maintain context across interactions.

#### Part A: Set Up Memory Storage

\`\`\`python
from datetime import datetime

# Instantiate the history collection
history_collection = mongodb_client[DB_NAME]["history"]

# üß™ TODO: Create an index on `session_id` on the `history_collection` collection
<CODE_BLOCK_13>

print("‚úÖ Memory storage initialized with session index!")
\`\`\`

<details>
<summary>üí° Solution for CODE_BLOCK_13</summary>

\`\`\`python
history_collection.create_index("session_id")
\`\`\`

</details>

üìö **Reference**: [PyMongo - Collection.create_index](https://pymongo.readthedocs.io/en/stable/api/pymongo/collection.html#pymongo.collection.Collection.create_index)

#### Part B: Store Chat Messages

\`\`\`python
def store_chat_message(session_id: str, role: str, type: str, content: str) -> None:
    """
    Create chat history document and store it in MongoDB

    Args:
        session_id (str): Session ID
        role (str): Message role, one of `user` or `agent`
        type (str): Type of message, one of `text` or `image`
        content (str): Content of the message. For images, this is the image key.
    """
    # Create a message object with all required fields
    message = {
        "session_id": session_id,
        "role": role,
        "type": type,
        "content": content,
        "timestamp": datetime.now(),
    }
    
    # üß™ TODO: Insert the `message` into the `history_collection` collection
    <CODE_BLOCK_14>
\`\`\`

<details>
<summary>üí° Solution for CODE_BLOCK_14</summary>

\`\`\`python
history_collection.insert_one(message)
\`\`\`

</details>

üìö **Reference**: [PyMongo - Collection.insert_one](https://pymongo.readthedocs.io/en/stable/api/pymongo/collection.html#pymongo.collection.Collection.insert_one)

#### Part C: Retrieve Session History

\`\`\`python
def retrieve_session_history(session_id: str) -> List:
    """
    Retrieve chat history for a particular session.

    Args:
        session_id (str): Session ID

    Returns:
        List: List of messages. Can be a combination of text and images.
    """
    # üß™ TODO: Query the `history_collection` for documents with matching session_id
    # Sort the results in increasing order by `timestamp`
    cursor = <CODE_BLOCK_15>
    
    messages = []
    if cursor:
        for msg in cursor:
            # If message type is `text`, append content as is
            if msg["type"] == "text":
                messages.append(msg["content"])
            # If message type is `image`, open the image
            elif msg["type"] == "image":
                messages.append(Image.open(msg["content"]))
    return messages
\`\`\`

<details>
<summary>üí° Solution for CODE_BLOCK_15</summary>

\`\`\`python
cursor = history_collection.find({"session_id": session_id}).sort("timestamp", 1)
\`\`\`

</details>

üìö **Reference**: [PyMongo - Cursor.sort](https://pymongo.readthedocs.io/en/stable/api/pymongo/cursor.html#pymongo.cursor.Cursor.sort)

#### Part D: Update Agent with Memory

\`\`\`python
def generate_answer(session_id: str, user_query: str, images: List = []) -> str:
    """
    Execute any tools and generate a response with memory

    Args:
        session_id (str): Session ID
        user_query (str): User's query string
        images (List): List of filepaths. Defaults to [].

    Returns:
        str: LLM-generated response
    """
    # üß™ TODO: Retrieve past conversation history for the session
    history = <CODE_BLOCK_16>
    
    # Determine if any additional tools need to be called
    tool_call = select_tool(history + [user_query])
    if (
        tool_call is not None
        and tool_call.name == "get_information_for_question_answering"
    ):
        print(f"Agent: Calling tool: {tool_call.name}")
        tool_images = get_information_for_question_answering(**tool_call.args)
        images.extend(tool_images)

    # Pass system prompt, conversation history, user query and retrieved context
    system_prompt = f"Answer the questions based on the provided context only. If the context is not sufficient, say I DON'T KNOW. DO NOT use any other information to answer the question."
    contents = (
        [system_prompt]
        + history
        + [user_query]
        + [Image.open(image) for image in images]
    )
    
    # Get a response from the LLM
    response = gemini_client.models.generate_content(
        model=LLM,
        contents=contents,
        config=types.GenerateContentConfig(temperature=0.0),
    )
    answer = response.text
    
    # üß™ TODO: Store the user query in memory
    # Role: "user", Type: "text"
    <CODE_BLOCK_17>
    
    # üß™ TODO: Store each image filepath in memory
    # Role: "user", Type: "image"
    for image in images:
        <CODE_BLOCK_18>
    
    # üß™ TODO: Store the agent response in memory
    # Role: "agent", Type: "text"
    <CODE_BLOCK_19>
    
    return answer
\`\`\`

<details>
<summary>üí° Solutions for CODE_BLOCK_16-19</summary>

\`\`\`python
# CODE_BLOCK_16:
history = retrieve_session_history(session_id)

# CODE_BLOCK_17:
store_chat_message(session_id, "user", "text", user_query)

# CODE_BLOCK_18:
store_chat_message(session_id, "user", "image", image)

# CODE_BLOCK_19:
store_chat_message(session_id, "agent", "text", answer)
\`\`\`

</details>

#### Part E: Update Execute Function

\`\`\`python
def execute_agent(session_id: str, user_query: str, images: List = []) -> None:
    """
    Execute the agent with memory support.

    Args:
        session_id (str): Session ID
        user_query (str): User query
        images (List, optional): List of filepaths. Defaults to [].
    """
    response = generate_answer(session_id, user_query, images)
    print("Agent:", response)
\`\`\`

### Testing Memory-Enabled Agent

\`\`\`python
# First query in a session
execute_agent(
    "session_1",
    "What is the Pass@1 accuracy of Deepseek R1 on the MATH500 benchmark?",
)

# Follow-up question to test memory
execute_agent(
    "session_1",
    "What did I just ask you?",
)
\`\`\`

## ü¶∏‚Äç‚ôÄÔ∏è Bonus: ReAct Agent Implementation

Implement a ReAct (Reasoning + Acting) agent that can reason about whether it has enough information and iteratively gather more data.

### ReAct Agent Implementation

\`\`\`python
def generate_answer(user_query: str, images: List = []) -> str:
    """
    Implement a ReAct agent

    Args:
        user_query (str): User's query string
        images (List): List of filepaths. Defaults to [].

    Returns:
        str: LLM-generated response
    """
    # Define reasoning prompt
    system_prompt = [
        (
            "You are an AI assistant. Based on the current information, decide if you have enough to answer the user query, or if you need more information."
            "If you have enough information, respond with 'ANSWER: <your answer>'."
            "If you need more information, respond with 'TOOL: <question for the tool>'. Keep the question concise."
            f"User query: {user_query}\n"
            "Current information:\n"
        )
    ]
    
    # Set max iterations
    max_iterations = 3
    current_iteration = 0
    # Initialize list to accumulate information
    current_information = []

    # If the user input has images, add them
    if len(images) != 0:
        current_information.extend([Image.open(image) for image in images])

    # Run the reasoning ‚Üí action loop
    while current_iteration < max_iterations:
        current_iteration += 1
        print(f"Iteration {current_iteration}:")
        
        # Generate action (answer or tool call)
        response = gemini_client.models.generate_content(
            model=LLM,
            contents=system_prompt + current_information,
            config=types.GenerateContentConfig(temperature=0.0),
        )
        answer = response.text
        print(f"Agent: {answer}")
        
        # If the agent has the final answer, return it
        if "ANSWER" in answer:
            return answer
        # If the agent decides to call a tool
        else:
            # determine which tool to call
            tool_call = select_tool([answer])
            if (
                tool_call is not None
                and tool_call.name == "get_information_for_question_answering"
            ):
                print(f"Agent: Calling tool: {tool_call.name}")
                # Call the tool with the arguments
                tool_images = get_information_for_question_answering(**tool_call.args)
                # Add images to current information
                current_information.extend([Image.open(image) for image in tool_images])
                continue
    
    return "I couldn't find a satisfactory answer within the iteration limit."

def execute_agent(user_query: str, images: List = []) -> None:
    """
    Execute the ReAct agent.

    Args:
        user_query (str): User query
        images (List, optional): List of filepaths. Defaults to [].
    """
    response = generate_answer(user_query, images)
    print("Agent:", response)
\`\`\`

### Testing ReAct Agent

\`\`\`python
# Test with a question requiring reasoning
execute_agent("What is the Pass@1 accuracy of Deepseek R1 on the MATH500 benchmark?")

# Test with image analysis
execute_agent("Explain the graph in this image:", ["data/test.png"])
\`\`\`

## ‚úÖ Success Criteria

By the end of this exercise, you should have:
- [ ] Memory storage set up with session indexing
- [ ] Chat messages being stored correctly
- [ ] Session history retrieval working
- [ ] Agent maintaining conversation context
- [ ] Follow-up questions answered using memory
- [ ] (Bonus) ReAct agent with iterative reasoning

## üéØ What You've Accomplished

In this exercise, you've:
1. Built a conversation memory system using MongoDB
2. Enabled multi-turn conversations with context retention
3. Implemented session-based chat history
4. (Bonus) Created a ReAct agent with sophisticated reasoning
5. Completed a production-ready multimodal AI system

## üí° Key Concepts

- **Conversation Memory**: Maintaining context across interactions
- **Session Management**: Isolating conversations by session ID
- **ReAct Pattern**: Reasoning about information sufficiency before acting
- **Iterative Refinement**: Gathering information until confident
- **Multimodal Context**: Storing both text and image references

## üéâ Workshop Complete!

Congratulations! You've successfully built a comprehensive multimodal AI agent system with:
- PDF processing and image extraction
- Vector search for retrieval
- Function calling with Gemini 2.0 Flash
- Conversation memory
- Advanced reasoning capabilities

## üöÄ Next Steps

Consider extending your agent with:
1. **Web Interface**: Build a chat UI with Streamlit or Gradio
2. **Multiple Tools**: Add web search, calculations, or other capabilities
3. **Fine-tuning**: Optimize prompts for your specific use case
4. **Production Deployment**: Deploy as an API service
5. **Analytics**: Track usage patterns and improve responses

## üìö Additional Resources

- [MongoDB Atlas Vector Search](https://www.mongodb.com/docs/atlas/atlas-vector-search/)
- [Google Gemini API Docs](https://ai.google.dev/gemini-api/docs)
- [ReAct Paper](https://arxiv.org/abs/2210.03629)
- [Function Calling Best Practices](https://ai.google.dev/gemini-api/docs/function-calling)

Thank you for completing the Multimodal Agents Workshop! üôè
```

# docs/voyage-ai-setup.mdx

```mdx
---
id: voyage-ai-setup
title: üöÄ Voyage AI API Key Setup
sidebar_label: üöÄ Voyage AI Setup
sidebar_position: 2
---

# üöÄ Voyage AI API Key Setup

## Why You Need a Voyage AI API Key

Voyage AI provides state-of-the-art embedding models that power the multimodal search capabilities in our workshop. Your API key authenticates your requests to Voyage AI's services, allowing you to:
- Generate high-quality multimodal embeddings for text and images
- Access production-ready embedding models optimized for retrieval
- Utilize the official Python client for seamless integration

---

## Step-by-Step API Key Creation

Follow these steps to create your Voyage AI API key:

### Step 1: Access the Voyage AI Dashboard

Navigate to [https://dashboard.voyageai.com](https://dashboard.voyageai.com) and sign in to your account. If you don't have an account yet, you'll need to create one first.

![Voyage AI Dashboard](/img/voyage-1.webp)

### Step 2: Navigate to API Keys Section

Once logged in, locate the left sidebar navigation. Click on **Organization**, then select **API keys** from the submenu.

![Navigate to API Keys](/img/voyage-2.png)

### Step 3: Create a New Secret Key

Click the **"Create new secret key"** button to initiate the API key creation process.

![Create New Key Button](/img/voyage-3.png)

### Step 4: Configure Your API Key

In the dialog box that appears:
1. **Name your key**: Choose a descriptive name (e.g., "workshop-multimodal-agent")
2. **Select a project**: Choose the appropriate project or use the default
3. Click **"Create secret key"** to generate your key

![Configure API Key](/img/voyage-4.png)

### Step 5: Copy and Save Your API Key

Your new API key will be displayed on the screen. This is crucial:

‚ö†Ô∏è **IMPORTANT**: This is the **only time** you'll be able to see the full API key. Make sure to:
- Click the copy button to copy the key to your clipboard
- Store it securely in your `.env` file
- Never commit API keys to version control

![Copy API Key](/img/voyage-6.png)

---

## API Key Permissions

Your Voyage AI key comes with the following permissions:
- ‚úÖ **Read API resources**: Access to retrieve embeddings and model information
- ‚úÖ **Write API resources**: Ability to generate new embeddings
- ‚úÖ **Full access to embedding models**: Including multimodal models

---

## Setting Up Your Environment

### Add to .env File

Create or update your `.env` file with your Voyage AI API key:

\`\`\`bash
# Voyage AI Configuration
VOYAGE_API_KEY="voy_your_api_key_here"
\`\`\`

### Verify Your Setup

Test your API key with this Python code:

\`\`\`python
import voyageai
import os

# Initialize the client with your API key
voyage_client = voyageai.Client(api_key=os.getenv("VOYAGE_API_KEY"))

# Test with a simple embedding
try:
    response = voyage_client.embed(
        texts=["Hello, Voyage AI!"],
        model="voyage-2",
        input_type="document"
    )
    print("‚úÖ API key verified! Ready to generate embeddings.")
    print(f"Embedding dimensions: {len(response.embeddings[0])}")
except Exception as e:
    print(f"‚ùå API key verification failed: {e}")
\`\`\`

---

## Best Practices for API Key Management

1. **Environment Variables**: Always store your API key in environment variables
2. **Never Share Your Key**: Treat your API key like a password
3. **Use .env Files**: For local development, add `.env` to your `.gitignore`
4. **Rotate Keys Regularly**: For production applications, rotate keys periodically
5. **Monitor Usage**: Check your dashboard regularly for usage and unusual activity

---

## Troubleshooting

### Common Issues

**Invalid API Key Error**
- Double-check that you've copied the entire key correctly
- Ensure there are no extra spaces or characters

**Rate Limiting**
- Free tier accounts may have rate limits
- Check your dashboard for usage limits and upgrade if needed

**Permission Denied**
- Verify your key has access to the models you're trying to use
- Check that the key hasn't been revoked or expired

### Getting Help

If you encounter issues:
- Check the [Voyage AI Documentation](https://docs.voyageai.com/)
- Review your dashboard for error messages
- Ensure you're using the correct model names

---

**[‚Üê Back to Prerequisites Overview](./prerequisites)** | **[Next: Gemini Setup ‚Üí](./gemini-setup)**
```

# docs/workshop-alignment-assessment.md

```md
# Workshop Alignment Assessment: Python Notebook vs n8n Implementation

## Executive Summary

This assessment compares the **Python multimodal agent notebook** with the **n8n workshop documentation** to evaluate alignment between the two approaches for building multimodal PDF agents. The analysis reveals **strong conceptual alignment** with **significant implementation differences** that offer complementary learning experiences.

**Key Finding**: Both approaches follow the same core workflow patterns and achieve identical functionality, but differ primarily in **implementation complexity**, **target audience**, and **tooling approach**.

---

## üìä Core Workflow Alignment Analysis

### Identical Conceptual Flow

Both implementations follow the exact same high-level workflow:

\`\`\`mermaid
graph LR
    A[PDF Input] --> B[Page Extraction]
    B --> C[Embedding Generation]
    C --> D[MongoDB Storage]
    D --> E[Vector Index Creation]
    E --> F[Agent Tools]
    F --> G[LLM Integration]
    G --> H[Memory Management]
\`\`\`

### Step-by-Step Comparison

| **Step** | **Python Notebook** | **n8n Workshop** | **Alignment Score** |
|----------|-------------------|------------------|-------------------|
| **1. Prerequisites** | ‚úÖ API keys, MongoDB URI | ‚úÖ Same APIs + n8n setup | üü¢ **95% Aligned** |
| **2. PDF Processing** | ‚úÖ PyMuPDF page extraction | ‚úÖ PDF toolkit + extraction | üü¢ **90% Aligned** |
| **3. Embedding Generation** | ‚úÖ Voyage AI multimodal-3 | ‚úÖ Same + intelligent model selection | üü¢ **98% Aligned** |
| **4. MongoDB Storage** | ‚úÖ Direct PyMongo insertion | ‚úÖ n8n MongoDB nodes | üü¢ **95% Aligned** |
| **5. Vector Index** | ‚úÖ Manual index creation | ‚úÖ Atlas UI + programmatic | üü¢ **100% Aligned** |
| **6. Tool Definition** | ‚úÖ Function declarations | ‚úÖ n8n function calling | üü¢ **85% Aligned** |
| **7. LLM Integration** | ‚úÖ Google Gemini 2.5 Flash | ‚úÖ Gemini 2.0 Flash | üü¢ **90% Aligned** |
| **8. Agent Execution** | ‚úÖ Direct function calls | ‚úÖ n8n workflow routing | üü¢ **80% Aligned** |
| **9. Memory Management** | ‚úÖ MongoDB conversation history | ‚úÖ Advanced memory patterns | üü° **70% Aligned** |

**Overall Alignment: 89% - Excellent Conceptual Match**

---

## üéØ Detailed Step Analysis

### Task 0-1: Setup & Prerequisites
**Python**: Simple pip install and API key setup
**n8n**: Docker environment + API key setup + n8n configuration

**Assessment**: ‚úÖ **Functionally identical**
- Both require the same external services (MongoDB Atlas, Voyage AI, Gemini)
- n8n adds visual workflow environment setup
- **Recommendation**: Workshop environment setup is more comprehensive

### Task 2-3: PDF Processing & Extraction
**Python**: 
\`\`\`python
# Direct approach
pdf = pymupdf.Document(stream=pdf_stream)
pix = pdf[n].get_pixmap(matrix=mat)
\`\`\`

**n8n**:
\`\`\`javascript
// Workflow-based approach
[PDF Download] ‚Üí [Read PDF Node] ‚Üí [Extract Pages] ‚Üí [Store Images]
\`\`\`

**Assessment**: ‚úÖ **Core functionality identical**
- Both extract PDF pages as images
- Both preserve visual elements for multimodal processing
- n8n approach adds error handling and workflow visualization
- **Python advantage**: Direct library control
- **n8n advantage**: Visual debugging and error handling

### Task 4: Embedding Generation
**Python**:
\`\`\`python
embedding = voyageai_client.multimodal_embed(
    inputs=[[img]], 
    model="voyage-multimodal-3", 
    input_type="document"
).embeddings[0]
\`\`\`

**n8n**:
\`\`\`javascript
// Intelligent model selection + API call
const model = selectEmbeddingModel(pageData);
const response = await $http.request({
    url: 'https://workshop-embedding-api.vercel.app/api/embed',
    body: { text: input, model: model, input_type: 'document' }
});
\`\`\`

**Assessment**: ‚úÖ **n8n implementation is enhanced**
- Python uses fixed `voyage-multimodal-3` model
- n8n adds intelligent model selection (`voyage-3`, `voyage-multimodal-3`, `voyage-context-3`)
- Both achieve the same core embedding generation
- **n8n advantage**: Adaptive model selection based on content analysis

### Task 5-6: MongoDB Storage & Vector Index
**Python**:
\`\`\`python
collection.insert_many(embedded_docs)
collection.create_search_index(model=model)
\`\`\`

**n8n**:
\`\`\`javascript
// MongoDB node configuration
{
  "operation": "Insert",
  "collection": "pdf_documents", 
  "documents": embedded_docs
}
\`\`\`

**Assessment**: ‚úÖ **Functionally identical**
- Same MongoDB operations and schema
- Same vector search index configuration
- n8n provides visual confirmation of data flow
- **Alignment**: Perfect functional match

### Task 8-9: Tool Definition & LLM Integration
**Python**:
\`\`\`python
def get_information_for_question_answering(user_query: str):
    # Vector search implementation
    
tools = types.Tool(function_declarations=[get_information_declaration])
response = gemini_client.models.generate_content(
    model=LLM, contents=contents, config=tools_config
)
\`\`\`

**n8n**:
\`\`\`javascript
// Function calling via HTTP requests
const tools = [{
  type: "function",
  function: {
    name: "search_documents",
    description: "Search through PDF documents",
    parameters: { /* schema */ }
  }
}];
\`\`\`

**Assessment**: üü° **Implementation differs, functionality identical**
- Both define identical tool schemas
- Both use Gemini function calling
- Python uses direct SDK integration
- n8n uses HTTP API with workflow routing
- **Result**: Same agent capabilities, different execution paths

### Task 13-14: Agent Execution & Memory
**Python**:
\`\`\`python
def execute_agent_with_memory(session_id, user_query, images=[]):
    # Simple session-based memory
    history = retrieve_session_history(session_id)
    response = generate_answer(session_id, user_query, images)
\`\`\`

**n8n**:
\`\`\`javascript
// Advanced memory patterns
{
  working_memory: "Session context with TTL",
  episodic_memory: "Complete conversation histories", 
  semantic_memory: "Learned patterns and knowledge",
  procedural_memory: "Workflow templates"
}
\`\`\`

**Assessment**: üü° **n8n implementation is significantly more advanced**
- Python implements basic session memory
- n8n provides comprehensive memory architecture
- **Gap identified**: Python notebook lacks advanced memory patterns
- **Recommendation**: Workshop memory implementation exceeds notebook scope

---

## üîç Key Differences & Gaps

### 1. **Implementation Complexity**
- **Python**: Direct, programmatic approach (beginner-friendly)
- **n8n**: Visual workflow design (no-code approach)
- **Impact**: Different learning curves, same outcomes

### 2. **Error Handling**
- **Python**: Basic try/catch patterns
- **n8n**: Comprehensive workflow error handling with visual debugging
- **Gap**: n8n provides superior error management

### 3. **Model Selection Intelligence**
- **Python**: Fixed model usage
- **n8n**: Dynamic model selection based on content analysis
- **Enhancement**: Workshop exceeds notebook capabilities

### 4. **Memory Architecture**
- **Python**: Simple session-based memory
- **n8n**: Multi-tiered memory system (working, episodic, semantic, procedural)
- **Significant Gap**: Workshop provides enterprise-grade memory patterns

### 5. **Production Readiness**
- **Python**: Development/learning focused
- **n8n**: Production deployment patterns included
- **Gap**: Workshop covers scaling, security, monitoring

---

## üéØ Strengths of Each Approach

### Python Notebook Strengths
‚úÖ **Direct library access** - Full control over AI libraries  
‚úÖ **Learning clarity** - Step-by-step code progression  
‚úÖ **Rapid prototyping** - Immediate code execution  
‚úÖ **Jupyter environment** - Interactive development  
‚úÖ **Minimal dependencies** - Straightforward setup  

### n8n Workshop Strengths  
‚úÖ **Visual workflows** - No-code agent development  
‚úÖ **Production patterns** - Scalable architecture  
‚úÖ **Advanced memory** - Enterprise-grade memory systems  
‚úÖ **Error handling** - Comprehensive error management  
‚úÖ **Model intelligence** - Adaptive model selection  
‚úÖ **Integration ready** - API endpoints and webhooks  

---

## üìã Specific Alignment Issues

### Minor Discrepancies
1. **Gemini Model Versions**: 
   - Python: `gemini-2.5-flash`
   - n8n: `gemini-2.0-flash-exp`
   - **Impact**: Minimal - both are Gemini 2.0+ models

2. **Embedding API Approach**:
   - Python: Direct Voyage AI SDK
   - n8n: Workshop proxy API
   - **Impact**: None - same embedding models used

3. **Memory Implementation Depth**:
   - Python: Basic session storage
   - n8n: Comprehensive memory architecture
   - **Impact**: Workshop provides more advanced patterns

### Missing Components in Python
1. **Advanced Error Handling** - n8n workflows include comprehensive error management
2. **Model Selection Logic** - Python uses fixed model, n8n adapts based on content
3. **Production Deployment** - Workshop includes scaling and monitoring patterns
4. **Web Interface Integration** - n8n provides ready-to-use APIs

---

## üîß Recommendations for Alignment

### 1. **Update Python Notebook** (Minor Changes)
\`\`\`python
# Add intelligent model selection
def select_embedding_model(content_analysis):
    if has_images(content_analysis):
        return "voyage-multimodal-3"
    elif is_complex_text(content_analysis):
        return "voyage-context-3"
    return "voyage-3"

# Enhance memory patterns  
def implement_memory_hierarchy():
    return {
        "working_memory": session_context,
        "episodic_memory": conversation_history,
        "semantic_memory": learned_patterns
    }
\`\`\`

### 2. **Workshop Enhancement Areas** (Already Superior)
- Memory architecture ‚úÖ Already implemented
- Error handling ‚úÖ Already comprehensive  
- Model selection ‚úÖ Already intelligent
- Production patterns ‚úÖ Already included

### 3. **Cross-Reference Integration**
\`\`\`markdown
## From Code to Visual Workflows
"You've just built this agent in Python. Now let's see how the same 
logic translates to visual n8n workflows..."

## From Workflows to Code  
"This n8n workflow implements the same pattern you'll see in our 
Python reference notebook..."
\`\`\`

---

## üéØ Final Assessment

### Overall Alignment: **89% Excellent Match** 

**‚úÖ Perfect Conceptual Alignment**
- Identical workflow patterns
- Same AI models and services
- Same MongoDB architecture
- Same vector search approach

**‚úÖ Complementary Implementation Approaches**
- Python: Code-first learning
- n8n: Visual, no-code development
- Both achieve identical functionality

**üîÑ Areas for Improvement**
1. **Python Notebook**: Add intelligent model selection and advanced memory patterns
2. **Workshop References**: Add more explicit connections to Python implementation
3. **Documentation**: Cross-reference between approaches

### **Conclusion: The workshop is excellently aligned with the Python notebook, with the n8n implementation actually exceeding the notebook's capabilities in several key areas (memory management, error handling, model selection intelligence). Both approaches teach the same core concepts but cater to different learning styles and deployment preferences.**

---

## üìö Implementation Priority Matrix

| **Feature** | **Python Priority** | **n8n Priority** | **Workshop Status** |
|-------------|-------------------|------------------|-------------------|
| Basic PDF Processing | üî¥ Critical | üî¥ Critical | ‚úÖ Implemented |
| Embedding Generation | üî¥ Critical | üî¥ Critical | ‚úÖ Enhanced |
| Vector Search | üî¥ Critical | üî¥ Critical | ‚úÖ Implemented |
| Function Calling | üî¥ Critical | üî¥ Critical | ‚úÖ Implemented |
| Basic Memory | üî¥ Critical | üî¥ Critical | ‚úÖ Implemented |
| Error Handling | üü° Nice-to-have | üî¥ Critical | ‚úÖ Comprehensive |
| Model Selection | üü° Nice-to-have | üî¥ Critical | ‚úÖ Intelligent |
| Advanced Memory | üü° Nice-to-have | üî¥ Critical | ‚úÖ Enterprise-grade |
| Production Deployment | üü° Nice-to-have | üî¥ Critical | ‚úÖ Full coverage |

**The n8n workshop successfully implements all critical features from the Python notebook plus additional enterprise-grade capabilities.**
```

# docs/workshop-lab-walkthrough.mdx

```mdx
---
id: workshop-lab-walkthrough
title: üß™ Workshop Lab Walkthrough
sidebar_label: üß™ Lab Walkthrough
description: Complete step-by-step walkthrough of the Multimodal Agents Workshop with explanations and solutions
---

# Workshop Lab Walkthrough: Building Multimodal AI Agents

This comprehensive guide walks you through each step of the workshop lab notebook, providing detailed explanations and complete solutions for building a multimodal AI agent with MongoDB Atlas and Google Gemini.

<div style={{textAlign: 'center', margin: '20px 0'}}>
  <a 
    href="https://codespaces.new/mongodb-developer/ai4-multimodal-agents-lab" 
    target="_blank" 
    rel="noopener noreferrer"
    style={{
      backgroundColor: '#589636',
      color: 'white',
      padding: '12px 24px',
      borderRadius: '6px',
      textDecoration: 'none',
      fontWeight: '900',
      display: 'inline-block',
      fontSize: '16px'
    }}
  >
    üöÄ Open in GitHub Codespaces
  </a>
</div>

## üìã Prerequisites

Before starting this workshop, ensure you have:
- Access to the workshop notebooks (`lab.ipynb` and `solutions.ipynb`)
- MongoDB Atlas connection string
- Access to the serverless embedding endpoint
- Basic Python knowledge

## üéØ Workshop Overview

By the end of this workshop, you will:
- Process PDFs and extract pages as images
- Create vector embeddings for multimodal search
- Build an AI agent with tool-calling capabilities
- Implement conversation memory
- Create a ReAct (Reasoning + Acting) agent

---

## Step 1: Setup Prerequisites

First, we need to import necessary libraries and establish our MongoDB connection.

### Explanation
This step sets up the foundational connections to MongoDB Atlas and defines key variables we'll use throughout the workshop.

### Lab Code
\`\`\`python
import os
from pymongo import MongoClient

# If you are using your own MongoDB Atlas cluster, use the connection string for your cluster here
MONGODB_URI = os.getenv("MONGODB_URI")
# Initialize a MongoDB Python client
mongodb_client = MongoClient(MONGODB_URI)
# Check the connection to the server
mongodb_client.admin.command("ping")

SERVERLESS_URL = os.getenv("SERVERLESS_URL")
LLM_PROVIDER = "google"
\`\`\`

### What's Happening
- We're loading environment variables for secure credential management
- Creating a MongoDB client connection
- Testing the connection with a ping command
- Setting up the serverless URL for embeddings and LLM provider

---

## Step 2: Read PDF from URL

Download and open a research paper (DeepSeek R1) from arXiv.

### Explanation
PyMuPDF allows us to work with PDFs directly from URLs without saving them to disk first. This is efficient for processing documents on-the-fly.

### Lab Code with Solution
\`\`\`python
import pymupdf
import requests

# Download the DeepSeek paper
response = requests.get("https://arxiv.org/pdf/2501.12948")
if response.status_code != 200:
    raise ValueError(f"Failed to download PDF. Status code: {response.status_code}")

# Get the content of the response
pdf_stream = response.content

# SOLUTION for CODE_BLOCK_1:
pdf = pymupdf.Document(stream=pdf_stream, filetype="pdf")
\`\`\`

### Key Concepts
- `pymupdf.Document()` can accept a byte stream with the `stream` parameter
- The `filetype` parameter tells PyMuPDF how to interpret the stream
- This approach avoids creating temporary files

---

## Step 3: Store PDF Images Locally and Extract Metadata

Convert PDF pages to high-resolution images and extract metadata.

### Explanation
We convert each PDF page to an image for multimodal processing. The zoom factor controls image resolution - higher values create clearer images but use more storage.

### Lab Code with Solution
\`\`\`python
from tqdm import tqdm

docs = []
zoom = 3.0
# Set image matrix dimensions
mat = pymupdf.Matrix(zoom, zoom)

# Iterate through the pages of the PDF
for n in tqdm(range(pdf.page_count)):
    temp = {}
    
    # SOLUTION for CODE_BLOCK_2:
    pix = pdf[n].get_pixmap(matrix=mat)
    
    # Store image locally
    key = f"data/images/{n+1}.png"
    pix.save(key)
    
    # Extract image metadata to be stored in MongoDB
    temp["key"] = key
    temp["width"] = pix.width
    temp["height"] = pix.height
    docs.append(temp)
\`\`\`

### Understanding the Code
- `pymupdf.Matrix(zoom, zoom)` creates a transformation matrix for scaling
- `get_pixmap()` renders the PDF page as a raster image
- We store metadata (dimensions, file path) for each page

---

## Step 4: Generate Image Embeddings (Optional)

This step shows how to generate embeddings using Voyage AI, but we'll use pre-generated embeddings for the workshop.

### Explanation
Embeddings are numerical representations of images that capture their semantic meaning, enabling similarity search. Voyage AI's multimodal embeddings can understand both text and images.

### Optional Code (if you have Voyage AI API key)
\`\`\`python
from voyageai import Client
from PIL import Image

# Set Voyage AI API Key
os.environ["VOYAGE_API_KEY"] = "your-api-key"
voyageai_client = Client()

def get_embedding(data, input_type):
    """Get Voyage AI embeddings for images and text."""
    embedding = voyageai_client.multimodal_embed(
        inputs=[[data]], 
        model="voyage-multimodal-3", 
        input_type=input_type
    ).embeddings[0]
    return embedding

# Generate embeddings for each page
embedded_docs = []
for doc in tqdm(docs):
    img = Image.open(f"{doc['key']}")
    doc["embedding"] = get_embedding(img, "document")
    embedded_docs.append(doc)
\`\`\`

---

## Step 5: Write Embeddings and Metadata to MongoDB

Ingest the document data with embeddings into MongoDB Atlas.

### Explanation
We'll load pre-generated embeddings and store them in MongoDB Atlas. This creates our searchable document collection.

### Lab Code with Solution
\`\`\`python
import json

# Database name
DB_NAME = "mongodb_aiewf"
# Name of the collection to insert documents into
COLLECTION_NAME = "multimodal_workshop"

# Connect to the collection
collection = mongodb_client[DB_NAME][COLLECTION_NAME]

# Read data from local file
with open("data/embeddings.json", "r") as data_file:
    json_data = data_file.read()
data = json.loads(json_data)

# Delete existing documents from the collection
collection.delete_many({})
print(f"Deleted existing documents from the {COLLECTION_NAME} collection.")

# SOLUTION for CODE_BLOCK_3:
collection.insert_many(data)

print(
    f"{collection.count_documents({})} documents ingested into the {COLLECTION_NAME} collection."
)
\`\`\`

### What's Happening
- We're clearing any existing data to ensure a clean start
- `insert_many()` efficiently inserts multiple documents in one operation
- Each document contains the image path, metadata, and embedding vector

---

## Step 6: Create a Vector Search Index

Set up MongoDB Atlas Vector Search to enable similarity searches on our embeddings.

### Explanation
Vector search indexes enable efficient similarity searches on high-dimensional embedding vectors. We define the index structure including the embedding field, dimensions, and similarity metric.

### Lab Code with Solution
\`\`\`python
VS_INDEX_NAME = "vector_index"

# Create vector index definition
model = {
    "name": VS_INDEX_NAME,
    "type": "vectorSearch",
    "definition": {
        "fields": [
            {
                "type": "vector",
                "path": "embedding",
                "numDimensions": 1024,
                "similarity": "cosine",
            }
        ]
    },
}

# SOLUTION for CODE_BLOCK_4:
collection.create_search_index(model=model)

# Verify that the index is in READY status before proceeding
list(collection.list_search_indexes())
\`\`\`

### Index Configuration Details
- **path**: Points to the embedding field in our documents
- **numDimensions**: 1024 for Voyage multimodal embeddings
- **similarity**: Cosine similarity works well for normalized embeddings

---

## Step 7: Create Agent Tools

Build the vector search function that our AI agent will use to retrieve relevant information.

### Explanation
This function is the core tool our agent uses to find relevant document pages based on user queries. It embeds the query and performs vector search.

### Lab Code with Solutions
\`\`\`python
from typing import List

def get_information_for_question_answering(user_query: str) -> List[str]:
    """
    Retrieve information using vector search to answer a user query.
    """
    # Embed the user query using our serverless endpoint
    response = requests.post(
        url=SERVERLESS_URL,
        json={
            "task": "get_embedding",
            "data": {"input": user_query, "input_type": "query"},
        },
    )
    # Extract the embedding from the response
    query_embedding = response.json()["embedding"]

    # SOLUTION for CODE_BLOCK_5:
    pipeline = [
        {
            "$vectorSearch": {
                "index": VS_INDEX_NAME,
                "path": "embedding",
                "queryVector": query_embedding,
                "numCandidates": 150,
                "limit": 2,
            }
        },
        {
            "$project": {
                "_id": 0,
                "key": 1,
                "width": 1,
                "height": 1,
                "score": {"$meta": "vectorSearchScore"},
            }
        },
    ]

    # SOLUTION for CODE_BLOCK_6:
    results = list(collection.aggregate(pipeline))
    
    # Get images from local storage
    keys = [result["key"] for result in results]
    print(f"Keys: {keys}")
    return keys
\`\`\`

### Function Declaration for Gemini
\`\`\`python
# SOLUTIONS for CODE_BLOCK_7, 8, 9:
get_information_for_question_answering_declaration = {
    "name": "get_information_for_question_answering",
    "description": "Retrieve information using vector search to answer a user query.",
    "parameters": {
        "type": "object",
        "properties": {
            "user_query": {
                "type": "string",
                "description": "Query string to use for vector search",
            }
        },
        "required": ["user_query"],
    },
}
\`\`\`

### Key Concepts
- **$vectorSearch**: MongoDB's vector search aggregation stage
- **numCandidates**: Number of candidates to consider (affects recall)
- **limit**: Final number of results to return
- Function declaration follows Gemini's schema for function calling

---

## Step 8: Instantiate the Gemini Client

Set up Google's Gemini 2.0 Flash model for our agent.

### Explanation
We'll use Gemini 2.0 Flash, which supports multimodal inputs (text + images) and function calling.

### Lab Code
\`\`\`python
from google import genai
from google.genai import types

LLM = "gemini-2.0-flash"

api_key = requests.post(
    url=SERVERLESS_URL, json={"task": "get_api_key", "data": LLM_PROVIDER}
).json()["api_key"]

gemini_client = genai.Client(api_key=api_key)
\`\`\`

---

## Step 9: Create Generation Config

Configure Gemini with our tool and generation parameters.

### Explanation
This configuration tells Gemini about available tools and sets generation parameters like temperature.

### Lab Code
\`\`\`python
# Create a generation config with function declaration
tools = types.Tool(
    function_declarations=[get_information_for_question_answering_declaration]
)
tools_config = types.GenerateContentConfig(tools=[tools], temperature=0.0)
\`\`\`

### Configuration Notes
- **temperature**: 0.0 for deterministic, fact-based responses
- **tools**: List of available functions the model can call

---

## Step 10: Define Tool Selection Function

Create a function that uses Gemini to decide when to call tools.

### Explanation
This function acts as the agent's decision-making component, determining whether to call the vector search tool based on the conversation context.

### Lab Code with Solution
\`\`\`python
from google.genai.types import FunctionCall

def select_tool(messages: List) -> FunctionCall | None:
    """Use an LLM to decide which tool to call"""
    system_prompt = [
        (
            "You're an AI assistant. Based on the given information, decide which tool to use."
            "If the user is asking to explain an image, don't call any tools unless that would help you better explain the image."
            "Here is the provided information:\n"
        )
    ]
    # Input to the LLM
    contents = system_prompt + messages
    
    # SOLUTION for CODE_BLOCK_10:
    response = gemini_client.models.generate_content(
        model=LLM, contents=contents, config=tools_config
    )
    
    # Extract and return the function call from the response
    return response.candidates[0].content.parts[0].function_call
\`\`\`

---

## Step 11: Define Functions to Execute Tools and Generate Responses

Create the main agent logic that orchestrates tool calls and generates responses.

### Explanation
This is the heart of our agent - it decides whether to use tools, executes them, and generates the final response using both retrieved context and the LLM.

### Lab Code with Solutions
\`\`\`python
from PIL import Image

def generate_answer(user_query: str, images: List = []) -> str:
    """Execute any tools and generate a response"""
    
    # SOLUTION for CODE_BLOCK_11:
    tool_call = select_tool([user_query])
    
    # If a tool call is found and the name is get_information_for_question_answering
    if (
        tool_call is not None
        and tool_call.name == "get_information_for_question_answering"
    ):
        print(f"Agent: Calling tool: {tool_call.name}")
        
        # SOLUTION for CODE_BLOCK_12:
        tool_images = get_information_for_question_answering(**tool_call.args)
        
        # Add images returned by the tool to the list of input images
        images.extend(tool_images)

    system_prompt = f"Answer the questions based on the provided context only. If the context is not sufficient, say I DON'T KNOW. DO NOT use any other information to answer the question."
    
    # Pass the system prompt, user query, and retrieved images to the LLM
    contents = [system_prompt] + [user_query] + [Image.open(image) for image in images]

    # Get the response from the LLM
    response = gemini_client.models.generate_content(
        model=LLM,
        contents=contents,
        config=types.GenerateContentConfig(temperature=0.0),
    )
    answer = response.text
    return answer

def execute_agent(user_query: str, images: List = []) -> None:
    """Execute the agent."""
    response = generate_answer(user_query, images)
    print("Agent:", response)
\`\`\`

### Agent Flow
1. Analyze the query to determine if tools are needed
2. Call vector search if relevant information is required
3. Combine retrieved images with the query
4. Generate a response based on the context

---

## Step 12: Add Memory to the Agent

Implement conversation memory to enable multi-turn interactions.

### Explanation
Memory allows our agent to maintain context across multiple interactions, enabling follow-up questions and maintaining conversation continuity.

### Setting Up Memory Storage
\`\`\`python
from datetime import datetime

# Instantiate the history collection
history_collection = mongodb_client[DB_NAME]["history"]

# SOLUTION for CODE_BLOCK_13:
history_collection.create_index("session_id")
\`\`\`

### Memory Functions with Solutions
\`\`\`python
def store_chat_message(session_id: str, role: str, type: str, content: str) -> None:
    """Create chat history document and store it in MongoDB"""
    message = {
        "session_id": session_id,
        "role": role,
        "type": type,
        "content": content,
        "timestamp": datetime.now(),
    }
    
    # SOLUTION for CODE_BLOCK_14:
    history_collection.insert_one(message)

def retrieve_session_history(session_id: str) -> List:
    """Retrieve chat history for a particular session."""
    
    # SOLUTION for CODE_BLOCK_15:
    cursor = history_collection.find({"session_id": session_id}).sort("timestamp", 1)
    
    messages = []
    if cursor:
        for msg in cursor:
            # If the message type is text, append the content as is
            if msg["type"] == "text":
                messages.append(msg["content"])
            # If message type is image, open the image
            elif msg["type"] == "image":
                messages.append(Image.open(msg["content"]))
    return messages
\`\`\`

### Enhanced Agent with Memory
\`\`\`python
def generate_answer(session_id: str, user_query: str, images: List = []) -> str:
    """Execute any tools and generate a response with memory"""
    
    # SOLUTION for CODE_BLOCK_16:
    history = retrieve_session_history(session_id)
    
    # Determine if any additional tools need to be called
    tool_call = select_tool(history + [user_query])
    
    if (
        tool_call is not None
        and tool_call.name == "get_information_for_question_answering"
    ):
        print(f"Agent: Calling tool: {tool_call.name}")
        tool_images = get_information_for_question_answering(**tool_call.args)
        images.extend(tool_images)

    # Generate response with history context
    system_prompt = f"Answer the questions based on the provided context only. If the context is not sufficient, say I DON'T KNOW. DO NOT use any other information to answer the question."
    contents = (
        [system_prompt]
        + history
        + [user_query]
        + [Image.open(image) for image in images]
    )
    
    response = gemini_client.models.generate_content(
        model=LLM,
        contents=contents,
        config=types.GenerateContentConfig(temperature=0.0),
    )
    answer = response.text
    
    # SOLUTION for CODE_BLOCK_17:
    store_chat_message(session_id, "user", "text", user_query)
    
    # SOLUTION for CODE_BLOCK_18:
    for image in images:
        store_chat_message(session_id, "user", "image", image)
    
    # SOLUTION for CODE_BLOCK_19:
    store_chat_message(session_id, "agent", "text", answer)
    
    return answer
\`\`\`

---

## ü¶∏‚Äç‚ôÄÔ∏è Bonus: ReAct Agent Implementation

The ReAct (Reasoning + Acting) pattern creates a more sophisticated agent that can reason about whether it has enough information and iteratively gather more data.

### Explanation
ReAct agents alternate between reasoning (thinking about what they need) and acting (using tools to gather information). This creates a more thoughtful and thorough agent.

### ReAct Implementation
\`\`\`python
def generate_answer(user_query: str, images: List = []) -> str:
    """Implement a ReAct agent"""
    # Define reasoning prompt
    system_prompt = [
        (
            "You are an AI assistant. Based on the current information, decide if you have enough to answer the user query, or if you need more information."
            "If you have enough information, respond with 'ANSWER: <your answer>'."
            "If you need more information, respond with 'TOOL: <question for the tool>'. Keep the question concise."
            f"User query: {user_query}\n"
            "Current information:\n"
        )
    ]
    
    # Set max iterations
    max_iterations = 3
    current_iteration = 0
    current_information = []

    # Add user-provided images if any
    if len(images) != 0:
        current_information.extend([Image.open(image) for image in images])

    # Run the reasoning ‚Üí action loop
    while current_iteration < max_iterations:
        current_iteration += 1
        print(f"Iteration {current_iteration}:")
        
        # Generate action
        response = gemini_client.models.generate_content(
            model=LLM,
            contents=system_prompt + current_information,
            config=types.GenerateContentConfig(temperature=0.0),
        )
        answer = response.text
        print(f"Agent: {answer}")
        
        # If the agent has the final answer, return it
        if "ANSWER" in answer:
            return answer
        # If the agent decides to call a tool
        else:
            # Determine which tool to call
            tool_call = select_tool([answer])
            if (
                tool_call is not None
                and tool_call.name == "get_information_for_question_answering"
            ):
                print(f"Agent: Calling tool: {tool_call.name}")
                tool_images = get_information_for_question_answering(**tool_call.args)
                current_information.extend([Image.open(image) for image in tool_images])
                continue
\`\`\`

### ReAct Benefits
- More transparent reasoning process
- Can handle complex queries requiring multiple searches
- Provides insight into the agent's thought process
- More robust error handling

---

## üéØ Testing Your Agent

### Basic Test Queries
\`\`\`python
# Test factual question requiring search
execute_agent("What is the Pass@1 accuracy of Deepseek R1 on the MATH500 benchmark?")

# Test image analysis
execute_agent("Explain the graph in this image:", ["data/test.png"])
\`\`\`

### Memory-Enabled Tests
\`\`\`python
# Start a conversation
execute_agent("1", "What is the Pass@1 accuracy of Deepseek R1 on the MATH500 benchmark?")

# Test memory with follow-up
execute_agent("1", "What did I just ask you?")
\`\`\`

---

## üöÄ Next Steps

Now that you've completed the workshop, consider:

1. **Experiment with Different Documents**: Try processing different types of PDFs and documents
2. **Enhance the Agent**: Add more sophisticated reasoning or additional tools
3. **Build a UI**: Create a web interface for your agent using Streamlit or Gradio
4. **Production Deployment**: Deploy your agent as an API service
5. **Explore Other Models**: Try different embedding models or LLMs

## üìö Additional Resources

- [MongoDB Atlas Vector Search Documentation](https://www.mongodb.com/docs/atlas/atlas-vector-search/)
- [Google Gemini API Documentation](https://ai.google.dev/gemini-api/docs)
- [PyMuPDF Documentation](https://pymupdf.readthedocs.io/)
- [Voyage AI Documentation](https://docs.voyageai.com/)

---

Congratulations on completing the Multimodal Agents Workshop! You've built a sophisticated AI system capable of understanding both text and images, with memory and reasoning capabilities. üéâ
```

# docs/workshop-overview.mdx

```mdx
---
sidebar_position: 0
title: Workshop Overview & Slides
description: Complete workshop overview with integrated presentation slides
---

import SlideViewer from '@site/src/components/SlideViewer';

# üöÄ Multimodal PDF Agents Workshop

**Building Intelligent Document Processing with AI**

Welcome to our comprehensive workshop on building multimodal PDF agents! This session will take you from concept to implementation using cutting-edge AI technologies.

---

## üìã Workshop Agenda & Slides

Use these integrated slides for your presentation without switching between applications:

### üéØ Opening & Introduction (10 minutes)

<SlideViewer 
  url="https://docs.google.com/presentation/d/1YZJRVyoYe1sAtQXCcTxdjpaIQ84-L57842vydaBjcZk/edit#slide=id.g35df0c0f3b1_0_12007"
  title="Workshop Introduction"
  caption="Welcome and workshop overview"
  height="600px"
/>

**Key Points to Cover:**
- Workshop objectives and outcomes
- Technology stack overview
- What attendees will build
- Python-based implementation with Jupyter notebooks

---

### ü§ñ AI Agents Fundamentals (15 minutes)

<SlideViewer 
  url="https://docs.google.com/presentation/d/1YZJRVyoYe1sAtQXCcTxdjpaIQ84-L57842vydaBjcZk/edit#slide=id.g35dddaa82ed_0_4823"
  title="AI Agents Deep Dive"
  caption="Understanding modern AI agent architecture"
  height="600px"
/>

**Key Points to Cover:**
- What are AI agents vs. simple chatbots
- Function calling and tool use
- ReAct pattern (Reason, Act, Observe)
- Real-world agent applications

---

### üé® Multimodality Concepts (15 minutes)

<SlideViewer 
  url="https://docs.google.com/presentation/d/1YZJRVyoYe1sAtQXCcTxdjpaIQ84-L57842vydaBjcZk/edit#slide=id.g35df0c0f3b1_0_4883"
  title="Multimodal AI Understanding"
  caption="Why text + images = better AI"
  height="600px"
/>

**Key Points to Cover:**
- Text-only vs multimodal processing
- Why PDFs need special handling
- Visual elements in documents (charts, diagrams, tables)
- Embedding models for multimodal content

---

### üèóÔ∏è Architecture Overview (10 minutes)

<SlideViewer 
  url="https://docs.google.com/presentation/d/1YZJRVyoYe1sAtQXCcTxdjpaIQ84-L57842vydaBjcZk/edit#slide=id.g35df0c0f3b1_0_5743"
  title="System Architecture"
  caption="Complete end-to-end architecture"
  height="600px"
/>

**Key Points to Cover:**
- Document processing pipeline
- Vector storage and search
- Agent decision-making flow
- Memory and context management

---

## üêç **Implementation Approach: Python & Jupyter**

**This workshop uses a comprehensive code-first approach:**

### Development Environment  
- üêç **Python & Jupyter Notebooks** - Hands-on programming
- üéØ **Target Audience** - Developers, data scientists, AI engineers
- ‚è±Ô∏è **Learning Focus** - AI libraries, vector search, and agent patterns
- üöÄ **Outcome** - Production-ready, customizable AI agent code

---

## üìä What You'll Build

By the end of this workshop, you'll have created:

### Core Functionality
‚úÖ **PDF Processing Pipeline** - Convert documents to searchable content  
‚úÖ **Multimodal Embeddings** - Extract meaning from text and images  
‚úÖ **Vector Search Engine** - Find relevant information quickly  
‚úÖ **Intelligent AI Agent** - Answer questions about your documents  
‚úÖ **Memory System** - Remember context across conversations  

### Technical Components
- **Document Storage** - MongoDB Atlas with vector search
- **AI Models** - Voyage AI embeddings + Google Gemini LLM
- **Processing Pipeline** - Automated document ingestion
- **Query Interface** - Natural language questioning
- **Context Management** - Conversation memory and learning

---

## üéØ Learning Objectives

**By the end of this workshop, you will:**

1. **Understand Multimodal AI**
   - How AI processes text and images together
   - When to use different embedding models
   - Benefits of multimodal document understanding

2. **Build Production Agents**
   - Design intelligent agent workflows
   - Implement function calling and tool use
   - Create memory systems for context retention

3. **Master Vector Search**
   - Store and index document embeddings
   - Perform semantic similarity search
   - Combine search with AI generation

4. **Deploy Real Applications**
   - Create webhook APIs for document processing
   - Build conversational interfaces
   - Implement error handling and monitoring

---

## üõ†Ô∏è Technology Stack

### Core Technologies
- **MongoDB Atlas** - Vector database and document storage
- **Voyage AI** - Advanced multimodal embedding models with Python client
- **Google Gemini 2.0 Flash** - Large language model with function calling
- **Vector Search** - Semantic similarity and retrieval

### Development Tools
- **Jupyter Notebooks** - Interactive development environment
- **Python Libraries** - pymongo, voyageai, google-genai, PIL
- **Docker** - Local MongoDB Atlas for development

---

## üö¶ Prerequisites Checklist

Before we begin implementation, ensure you have:

### Required Accounts
- [ ] **MongoDB Atlas** account (free tier sufficient)
- [ ] **Voyage AI** API key ([Get here](https://docs.voyageai.com/docs/api-key-and-installation))
- [ ] **Google AI Studio** API key ([Get here](https://makersuite.google.com/app/apikey))

### Technical Setup
- [ ] **GitHub Codespaces** access (recommended) OR
- [ ] **Local Docker** environment OR  
- [ ] **Python 3.8+** with Jupyter

### Optional but Helpful
- [ ] Basic understanding of APIs
- [ ] Familiarity with JSON data structures
- [ ] Basic Python programming experience

---

## üéØ Success Metrics

**You'll know you've succeeded when:**

‚úÖ Your agent can answer questions about uploaded PDFs  
‚úÖ The system handles both text and visual content  
‚úÖ Search results are contextually relevant  
‚úÖ The agent remembers conversation context  
‚úÖ You understand how to extend and customize the system  

---

## üìö Workshop Resources

### üîó Quick Links
- [GitHub Repository](https://github.com/mongodb-developer/multimodal-pdf-agent-n8n)
- [Workshop Slides](/slides) - Interactive slide playground
- [Python Notebook](/static/notebooks/multimodal_agents_lab_voyageai.ipynb) - Complete workshop notebook
- [Example PDFs](/static/pdf/) - Sample documents for testing

### üìñ Reference Materials
- [MongoDB Vector Search Documentation](https://www.mongodb.com/docs/atlas/atlas-vector-search/)
- [Voyage AI Models Guide](https://docs.voyageai.com/docs/embeddings)
- [Google Gemini API Reference](https://ai.google.dev/docs)
- [Python SDK Documentation](https://docs.voyageai.com/docs/python-sdk)

---

## üé™ Ready to Begin?

**Next Steps:**
1. **Complete Prerequisites** - Set up your accounts and API keys
2. **Open Jupyter Notebook** - Navigate to the workshop notebook  
3. **Start Building** - Follow your chosen path's guided tutorials
4. **Experiment & Extend** - Customize and enhance your agent

**Let's build something amazing together!** üöÄ

[**‚Üí Start Python Workshop**](./python-exercise-1)
```

# docusaurus.config.js

```js
// @ts-check
// Note: type annotations allow type checking and IDEs autocompletion

// Change here to customise config

// Name of the Github Repo, it's also teh baseUrl
const workshopName = 'multimodal-pdf-agent-workshop';
// Change this if hosting outside mongodb-developer
const organizationName = "mongodb-developer";

// Main page config
const title = "Workshop";
const tagLine = "Build multimodal AI agents with MongoDB Vector Search, Voyage AI, and Python";
const startButtonTitle = "Start Building";
const favicon = "img/favicon.svg"

// Main Page Features
const featureList = [
  {
    title: 'Python & Jupyter Development',
    illustration: 'img/index-1.png',
    description: `
        Build sophisticated AI agents with Python, Jupyter notebooks, and production-ready patterns.
    `,
  },
  {
    title: 'Multimodal Processing',
    illustration: 'img/index-2.png',
    description: `
        Process both text and images from PDFs using Voyage AI's multimodal embeddings.
    `,
  },
  {
    title: 'Production-Ready Code',
    illustration: 'img/index-3.png',
    description: `
        Deploy scalable vector search with MongoDB Atlas and ReAct agent architecture.
    `,
  },
];

// UTM stuff

const utmAdvocateName = `michael.lynn`;
const utmWorkshopName = 'multimodal_pdf_agent_workshop'

const utmParams = `utm_campaign=devrel&utm_source=workshop&utm_medium=cta&utm_content=${utmWorkshopName}&utm_term=${utmAdvocateName}`;

// Footer links (probably no need to change them)

const footerLinks = [
  {
    label: "Try MongoDB Atlas",
    href: `https://www.mongodb.com/try?${utmParams}`,
  },
  {
    label: "Forums",
    href: `https://www.mongodb.com/community/forums?${utmParams}`,
  },
  {
    label: "Developer Center",
    href: `https://www.mongodb.com/developer?${utmParams}`,
  },
  {
    label: "MongoDB University",
    href: `https://learn.mongodb.com?${utmParams}`,
  },
  {
    href: `https://github.com/${organizationName}/${workshopName}`,
    label: "Workshop GitHub (Deployment)",
  },
];

///////////////////////////////////////////////////////////////////////////////
// DON'T CHANGE ANYTHING BELOW UNLESS YOU KNOW WHAT YOU'RE DOING             //
///////////////////////////////////////////////////////////////////////////////

const { themes } = require("prism-react-renderer");
const lightCodeTheme = themes.github;
const darkCodeTheme = themes.dracula;

/** @type {import('@docusaurus/types').Config} */
const config = {
  title: `${title}`,
  tagline: `${tagLine}`,
  url: process.env.CODESPACES ? `https://${process.env.CODESPACE_NAME}-3000.${process.env.GITHUB_CODESPACES_PORT_FORWARDING_DOMAIN}` : process.env.VERCEL_URL ? `https://${process.env.VERCEL_URL}` : `https://${workshopName}.github.io`,
  baseUrl: process.env.CODESPACES || process.env.VERCEL_URL || process.env.NODE_ENV === 'development' ? `/` : `/${workshopName}/`,
  projectName: `${organizationName}.github.io`,
  organizationName: `${organizationName}`,
  trailingSlash: false,
  onBrokenLinks: "ignore", // Changed from "warn" to allow build with missing Spanish translations
  onBrokenMarkdownLinks: "warn",
  favicon: `${favicon}`,
  deploymentBranch: "gh-pages",
  staticDirectories: ["static"],
  i18n: {
    defaultLocale: "en",
    locales: ["en", "es"],
  },
  customFields: {
    startButtonTitle: `${startButtonTitle}`,
    featureList: featureList,
    utmParams,
  },
  presets: [
    [
      "classic",
      /** @type {import('@docusaurus/preset-classic').Options} */
      ({
        docs: {
          sidebarPath: require.resolve("./sidebars.js"),
          editUrl: `https://github.com/${organizationName}/${workshopName}/blob/main`,
        },
        theme: {
          customCss: require.resolve("./src/css/custom.css"),
        },
        gtag: {
          trackingID: "G-ZJ28V71VTQ",
          anonymizeIP: true,
        },
      }),
    ],
  ],
  plugins: [
    [
      require.resolve("docusaurus-lunr-search"),
      {
        languages: ["en"], // language codes
      },
    ],
  ],
  themeConfig:
    /** @type {import('@docusaurus/preset-classic').ThemeConfig} */
    ({
      docs: {
        sidebar: {
          autoCollapseCategories: true,
          hideable: true,
        },
      },
      announcementBar: {
        id: "feedback_form",
        content:
          'Don\'t forget to provide feedback for the workshop: <a target="_blank" rel="noopener noreferrer" href="https://forms.gle/RBGw1zY9FxL8N5fP7">Click here for Survey</a>',
        backgroundColor: "#fafbfc",
        textColor: "#091E42",
        isCloseable: true,
      },
      navbar: {
        title: `${title}`,
        logo: {
          alt: "MongoDB Logo",
          src: "img/logo.svg",
          srcDark: "img/logo-dark.svg",
          className: "navbar-logo",
          width: "135px",
          height: "100%",
        },
        items: [
          {
            to: "/slides",
            label: "Slides",
            position: "left",
          },
          {
            to: "https://voyage-multimodal-demo.vercel.app",
            label: "Agent Demo",
            position: "left",
          },
          // {
          //   to: "/assistant",
          //   label: "Lab Assistant",
          //   position: "left",
          // },
          {
            type: "localeDropdown",
            position: "right",
          },
        ],
      },
      footer: {
        style: "dark",
        links: footerLinks,
        copyright: `¬© ${new Date().getFullYear()} MongoDB, Inc.`
      },
      prism: {
        theme: lightCodeTheme,
        darkTheme: darkCodeTheme,
        additionalLanguages: ["powershell", "swift", "kotlin"],
      },
      mermaid: {
        theme: { light: "neutral", dark: "forest" },
      },
    }),
  future: {
    v4: {
      removeLegacyPostBuildHeadAttribute: true,
      useCssCascadeLayers: true,
    },
    // Enable faster build options for Vercel deployment
    experimental_faster: {
      swcJsLoader: true,
      swcJsMinimizer: true,
      swcHtmlMinimizer: true,
      lightningCssMinimizer: true,
    },
    experimental_storage: {
      type: "localStorage",
      namespace: true,
    },
  },
  markdown: {
    mermaid: true,
  },
  themes: ["@docusaurus/theme-mermaid"],
};

module.exports = config;

```

# i18n/es/docusaurus-plugin-content-docs/current/01-path-selection.mdx

```mdx
---
sidebar_position: 1
title: Elige Tu Ruta de Aprendizaje
description: Selecciona entre flujos de trabajo visuales sin c√≥digo o desarrollo con c√≥digo
---

import SlideViewer from '@site/src/components/SlideViewer';

# üõ§Ô∏è Elige Tu Ruta de Aprendizaje

**Dos caminos divergieron en un taller, y debes elegir cu√°l tomar...**

Ambas rutas conducen al mismo destino: **un agente PDF multimodal completamente funcional**. La diferencia est√° en c√≥mo llegas all√≠ y qu√© habilidades desarrollas en el camino.

---

## üéØ Comparaci√≥n General de Rutas

<div style={{display: 'grid', gridTemplateColumns: '1fr 1fr', gap: '2rem', marginBottom: '2rem'}}>

<div style={{
  padding: '2rem', 
  border: '3px solid #00684A', 
  borderRadius: '12px', 
  background: 'linear-gradient(135deg, #f0f9ff 0%, #e0f2fe 100%)'
}}>

### üé® **Ruta A: Visual Sin C√≥digo**
**Construye con Flujos de Trabajo n8n**

**üéØ Perfecto para:**
- Analistas de negocios y desarrolladores ciudadanos
- Aprendices visuales que prefieren arrastrar y soltar
- Equipos que buscan implementaci√≥n r√°pida
- Aquellos nuevos en el desarrollo de IA

</div>

<div style={{
  padding: '2rem', 
  border: '3px solid #7C3AED', 
  borderRadius: '12px', 
  background: 'linear-gradient(135deg, #fdf4ff 0%, #fae8ff 100%)'
}}>

### üêç **Ruta B: C√≥digo Primero**
**Construye con Python y Jupyter**

**üéØ Perfecto para:**
- Desarrolladores y cient√≠ficos de datos
- Aprendices que prefieren c√≥digo
- Aquellos que buscan personalizaci√≥n profunda
- Entusiastas del ecosistema Python

</div>

</div>

---

## üöÄ ¬øListo para Comenzar?

<div style={{display: 'grid', gridTemplateColumns: '1fr 1fr', gap: '2rem', marginTop: '3rem'}}>

<div style={{textAlign: 'center', padding: '2rem', background: '#f0f9ff', borderRadius: '12px'}}>

### üé® **Elijo Visual Sin C√≥digo**

**Construye con flujos de trabajo n8n, despliega con confianza**

<div style={{marginTop: '1.5rem'}}>
  <a 
    href="/docs/path-a-n8n-overview" 
    style={{
      display: 'inline-block',
      padding: '1rem 2rem',
      background: '#00684A',
      color: 'white',
      textDecoration: 'none',
      borderRadius: '8px',
      fontWeight: 'bold',
      fontSize: '1.1rem'
    }}
  >
    Comenzar Ruta n8n ‚Üí
  </a>
</div>

*Tiempo estimado: 2-3 horas*

</div>

<div style={{textAlign: 'center', padding: '2rem', background: '#fdf4ff', borderRadius: '12px'}}>

### üêç **Elijo C√≥digo Primero**

**Construye con Python, personaliza todo**

<div style={{marginTop: '1.5rem'}}>
  <a 
    href="/docs/path-b-python-overview" 
    style={{
      display: 'inline-block',
      padding: '1rem 2rem',
      background: '#7C3AED',
      color: 'white',
      textDecoration: 'none',
      borderRadius: '8px',
      fontWeight: 'bold',
      fontSize: '1.1rem'
    }}
  >
    Comenzar Ruta Python ‚Üí
  </a>
</div>

*Tiempo estimado: 3-4 horas*

</div>

</div>
```

# i18n/es/docusaurus-plugin-content-docs/current/path-a-n8n-overview.mdx

```mdx
---
sidebar_position: 2
title: "Ruta A: Flujos de Trabajo Visuales n8n"
description: Construye agentes PDF multimodales con flujos de trabajo visuales sin c√≥digo
---

# üé® Ruta A: Desarrollo Visual Sin C√≥digo

**Construye agentes PDF multimodales usando la poderosa plataforma de flujos de trabajo visuales n8n**

¬°Bienvenido a la ruta sin c√≥digo! Est√°s a punto de aprender c√≥mo construir agentes de IA sofisticados sin escribir una sola l√≠nea de c√≥digo tradicional. En su lugar, crear√°s hermosos flujos de trabajo visuales que son f√°ciles de entender, modificar e implementar.

---

## üéØ Lo Que Lograr√°s

Al final de esta ruta, habr√°s construido:

### ü§ñ **Agente de IA Listo para Producci√≥n**
- Procesa PDFs con contenido textual y visual
- Responde preguntas en lenguaje natural de manera inteligente
- Recuerda el contexto de la conversaci√≥n y aprende
- Desplegado con APIs webhook para integraci√≥n

---

## üó∫Ô∏è Tu Viaje de Aprendizaje

### **Fase 1: Configuraci√≥n de Base** *(30 minutos)*
- [Configuraci√≥n del Entorno](/docs/15-github-codespaces) - Inicio r√°pido con GitHub Codespaces
- [Primera Ejecuci√≥n de n8n](/docs/25-n8n-first-run) - Tu primer flujo de trabajo
- [Prerrequisitos](/docs/20-prerequisites) - Claves API y cuentas
- [Configuraci√≥n de MongoDB Atlas](/docs/30-mongodb-atlas-setup) - Configuraci√≥n de base de datos

### **Fase 2: Desarrollo Principal** *(90 minutos)*
- [Flujo de Procesamiento de PDF](/docs/40-pdf-processing-workflow) - Pipeline de ingesta de documentos
- [Flujo de B√∫squeda Vectorial](/docs/50-vector-search-workflow) - Motor de b√∫squeda sem√°ntica
- [Flujo de Agente IA](/docs/60-ai-agent-workflow) - Razonamiento inteligente y respuestas

### **Fase 3: Caracter√≠sticas Avanzadas** *(60 minutos)*
- [Patrones de Agente](/docs/65-agent-patterns) - Patrones avanzados de flujo de trabajo
- [Memoria y Contexto](/docs/67-memory-context-patterns) - Sistemas de memoria de conversaci√≥n
- [Consultas Multimodales](/docs/69-multimodal-image-queries) - Capacidades de comprensi√≥n de im√°genes

### **Fase 4: Producci√≥n y M√°s All√°** *(30 minutos)*
- [Integraci√≥n Completa](/docs/70-complete-multimodal-agent) - Ensamblaje del sistema completo
- [Seguridad en Producci√≥n](/docs/82-production-security) - Mejores pr√°cticas de seguridad
- [Monitoreo y Optimizaci√≥n](/docs/83-monitoring-observability) - Ajuste de rendimiento

---

## üöÄ Lista de Verificaci√≥n de Inicio R√°pido

¬øListo para comenzar? Aqu√≠ est√° tu secuencia de lanzamiento:

### ‚úÖ **Verificaci√≥n Previa**
- [ ] Cuenta de GitHub con acceso a Codespaces
- [ ] Cuenta de MongoDB Atlas (nivel gratuito)
- [ ] Clave API de Voyage AI
- [ ] Clave API de Google AI Studio
- [ ] 2-3 horas de tiempo enfocado

---

## üé™ ¬øListo para Comenzar a Construir?

**¬°Tu aventura de IA comienza ahora!**

### **üöÄ Siguiente Paso: Configuraci√≥n del Entorno**

Haz clic a continuaci√≥n para lanzar tu entorno de desarrollo y comenzar a construir tu primer agente de IA multimodal:

<div style={{textAlign: 'center', margin: '2rem 0'}}>
  <a 
    href="/docs/15-github-codespaces"
    style={{
      display: 'inline-block',
      padding: '1rem 2rem',
      background: 'linear-gradient(135deg, #00684A 0%, #26a69a 100%)',
      color: 'white',
      textDecoration: 'none',
      borderRadius: '8px',
      fontWeight: 'bold',
      fontSize: '1.2rem',
      boxShadow: '0 4px 8px rgba(0, 0, 0, 0.2)'
    }}
  >
    üöÄ Comenzar a Construir con n8n ‚Üí
  </a>
</div>

**Tiempo estimado de finalizaci√≥n**: 2-3 horas  
**Nivel de dificultad**: Principiante a Intermedio  
**Prerrequisitos**: Comprensi√≥n b√°sica de API  

---

**¬°Construyamos algo incre√≠ble juntos!** üé®‚ú®
```

# i18n/es/docusaurus-plugin-content-docs/current/path-b-python-overview.mdx

```mdx
---
sidebar_position: 3
title: "Ruta B: Desarrollo con Python y Jupyter"
description: Construye agentes PDF multimodales con c√≥digo Python y notebooks Jupyter
---

# üêç Ruta B: Desarrollo con C√≥digo

**Construye agentes PDF multimodales usando Python, notebooks Jupyter y bibliotecas de IA de vanguardia**

¬°Bienvenido a la ruta con c√≥digo! Est√°s a punto de sumergirte profundamente en la implementaci√≥n t√©cnica de agentes de IA multimodales. Trabajar√°s directamente con bibliotecas de IA, comprender√°s los algoritmos y tendr√°s control completo sobre cada aspecto de tu sistema.

---

## üéØ Lo Que Lograr√°s

Al final de esta ruta, habr√°s construido:

### ü§ñ **Agente de IA Personalizable**
- Integraci√≥n directa con bibliotecas y SDKs de IA
- Control total sobre la selecci√≥n de modelos y par√°metros
- Pipelines personalizados de preprocesamiento y posprocesamiento
- Entorno experimental listo para investigaci√≥n

---

## üó∫Ô∏è Tu Viaje de Aprendizaje

### **Fase 1: Fundamentos y Configuraci√≥n** *(30 minutos)*
- Configuraci√≥n del Entorno - Configuraci√≥n de Python y Jupyter (ver notebook)
- Instalaci√≥n de Bibliotecas - Bibliotecas de IA y dependencias (ver notebook)
- [Prerrequisitos](/docs/20-prerequisites) - Claves API y configuraci√≥n de base de datos
- Conexi√≥n MongoDB - Integraci√≥n directa de base de datos (ver notebook)

### **Fase 2: Implementaci√≥n Principal** *(90 minutos)*
- Procesamiento de PDF - An√°lisis de documentos con PyMuPDF (ver notebook Tarea 2-3)
- Generaci√≥n de Embeddings - Integraci√≥n con Voyage AI (ver notebook Tarea 4)
- Almacenamiento Vectorial - Operaciones vectoriales en MongoDB (ver notebook Tarea 5)
- Implementaci√≥n de B√∫squeda - Recuperaci√≥n sem√°ntica (ver notebook Tarea 6-7)

### **Fase 3: Desarrollo del Agente IA** *(90 minutos)*
- Llamada de Funciones - Definici√≥n y selecci√≥n de herramientas (ver notebook Tarea 8)
- Integraci√≥n LLM - SDK de Google Gemini (ver notebook Tarea 9-12)
- Arquitectura del Agente - Implementaci√≥n del patr√≥n ReAct (ver notebook Tarea 10-12)
- Sistemas de Memoria - Contexto de conversaci√≥n (ver notebook Tarea 13-14)

### **Fase 4: Caracter√≠sticas Avanzadas** *(60 minutos)*
- Herramientas Personalizadas - Extender capacidades del agente (cubierto en el notebook)
- Optimizaci√≥n de Rendimiento - Velocidad y eficiencia (cubierto en el notebook)
- Extensiones de Investigaci√≥n - Caracter√≠sticas experimentales (extender el notebook)

---

## üöÄ Lista de Verificaci√≥n de Inicio R√°pido

¬øListo para programar? Aqu√≠ est√° tu secuencia de lanzamiento:

### ‚úÖ **Verificaci√≥n Previa**
- [ ] Python 3.8+ instalado
- [ ] Entorno de notebook Jupyter
- [ ] Cuenta de MongoDB Atlas (nivel gratuito)
- [ ] Clave API de Voyage AI
- [ ] Clave API de Google AI Studio
- [ ] 3-4 horas de tiempo de programaci√≥n enfocado

---

## üé™ ¬øListo para Comenzar a Programar?

**¬°Tu viaje de desarrollo comienza ahora!**

### **üöÄ Siguiente Paso: Acceso al Notebook**

Accede al notebook de implementaci√≥n completo y comienza a construir tu agente de IA multimodal:

<div style={{textAlign: 'center', margin: '2rem 0'}}>
  <a 
    href="/static/notebooks/notebook.ipynb"
    download
    style={{
      display: 'inline-block',
      padding: '1rem 2rem',
      background: 'linear-gradient(135deg, #7C3AED 0%, #A855F7 100%)',
      color: 'white',
      textDecoration: 'none',
      borderRadius: '8px',
      fontWeight: 'bold',
      fontSize: '1.2rem',
      boxShadow: '0 4px 8px rgba(0, 0, 0, 0.2)',
      marginRight: '1rem'
    }}
  >
    üìì Descargar Notebook Jupyter
  </a>
  
  <a 
    href="https://colab.research.google.com/github/mongodb-developer/multimodal-pdf-agent-n8n/blob/main/notebooks/notebook.ipynb"
    target="_blank"
    style={{
      display: 'inline-block',
      padding: '1rem 2rem',
      background: 'linear-gradient(135deg, #F59E0B 0%, #F97316 100%)',
      color: 'white',
      textDecoration: 'none',
      borderRadius: '8px',
      fontWeight: 'bold',
      fontSize: '1.2rem',
      boxShadow: '0 4px 8px rgba(0, 0, 0, 0.2)'
    }}
  >
    üöÄ Abrir en Google Colab
  </a>
</div>

**Tiempo estimado de finalizaci√≥n**: 3-4 horas  
**Nivel de dificultad**: Intermedio a Avanzado  
**Prerrequisitos**: Experiencia en programaci√≥n Python  

---

**¬°Programemos algo extraordinario juntos!** üêç‚ú®
```

# i18n/es/docusaurus-plugin-content-docs/current/workshop-overview.mdx

```mdx
---
sidebar_position: 0
title: Resumen del Taller y Diapositivas
description: Resumen completo del taller con diapositivas de presentaci√≥n integradas
---

import SlideViewer from '@site/src/components/SlideViewer';

# üöÄ Taller de Agentes PDF Multimodales

**Construyendo Procesamiento Inteligente de Documentos con IA**

¬°Bienvenido a nuestro taller integral sobre la construcci√≥n de agentes PDF multimodales! Esta sesi√≥n te llevar√° desde el concepto hasta la implementaci√≥n utilizando tecnolog√≠as de IA de vanguardia.

---

## üìã Agenda del Taller y Diapositivas

Usa estas diapositivas integradas para tu presentaci√≥n sin cambiar entre aplicaciones:

### üéØ Apertura e Introducci√≥n (10 minutos)

<SlideViewer 
  url="https://docs.google.com/presentation/d/1YZJRVyoYe1sAtQXCcTxdjpaIQ84-L57842vydaBjcZk/edit#slide=id.g35df0c0f3b1_0_12007"
  title="Introducci√≥n al Taller"
  caption="Bienvenida y resumen del taller"
  height="600px"
/>

---

[**‚Üí Elige Tu Ruta de Aprendizaje**](/docs/01-path-selection)
```

# INSTRUCTOR-GUIDE.md

```md
# üéì Instructor Guide: Slides + Docusaurus Workshop Delivery

This guide helps you deliver a seamless workshop experience using Google Slides for introduction and Docusaurus for hands-on content.

## üéØ Workshop Flow Overview

### Phase 1: Introduction (Google Slides) - 15-20 minutes
- Welcome and introductions
- Workshop overview and objectives
- Technology stack introduction (n8n, MongoDB Atlas, Voyage AI)
- Architecture diagrams and concepts
- Logistics (timing, breaks, Q&A)

### Phase 2: Hands-On Learning (Docusaurus) - 90-100 minutes
- Step-by-step technical implementation
- Interactive exercises and validation
- Real-time API testing
- Progress tracking and completion

## üìä Google Slides Optimization

### Essential Slides to Include

1. **Welcome & Workshop URL Slide**
   \`\`\`
   üéì Multimodal PDF Agent Workshop
   
   üìñ Hands-On Materials:
   [YOUR-DOCUSAURUS-URL]
   
   [QR CODE]
   
   üëÜ Bookmark this page now!
   \`\`\`

2. **Transition Slide**
   \`\`\`
   üöÄ Let's Build Together!
   
   Time to switch from concepts to code
   
   ‚û°Ô∏è Open: [YOUR-DOCUSAURUS-URL]
   ‚û°Ô∏è Navigate to: Getting Started
   
   (Keep this tab open - we'll reference both)
   \`\`\`

3. **Architecture Summary Slide**
   \`\`\`
   üèóÔ∏è What You'll Build Today
   
   PDF ‚Üí n8n Workflow ‚Üí Voyage AI ‚Üí MongoDB Atlas ‚Üí AI Agent
   
   üìã This matches the step-by-step guide in your docs
   \`\`\`

### Best Practices

- **Add QR Codes**: Use [qr-code-generator.com](https://www.qr-code-generator.com/) 
- **Keep URLs Visible**: Add documentation URL to footer of every slide
- **Use Consistent Branding**: Match colors/fonts with Docusaurus theme
- **Include Bookmarking Reminders**: Multiple slides encouraging attendees to bookmark

## üîÑ Smooth Transition Techniques

### 1. The Bridge Statement
*"Great! Now that we understand the concepts, let's build this system together. Please open your bookmarked documentation page..."*

### 2. Screen Sharing Strategy
- **Dual monitors**: Slides on one, Docusaurus on the other
- **Single screen**: Use browser tabs, switch frequently
- **Virtual workshops**: Share documentation screen after slides

### 3. Interactive Check-In
*"Before we dive in, can everyone confirm they can see the workshop documentation? The page should show a progress tracker and welcome message..."*

## üì± Attendee Access Options

### Option 1: Desktop/Laptop
- Send documentation URL in chat
- Encourage bookmarking
- Show how to navigate sidebar

### Option 2: Mobile + Desktop
- QR code for mobile access to docs
- Desktop for actual development work
- Mobile as reference during coding

### Option 3: Codespaces Users
- Emphasize opening docs in separate tab
- Port forwarding URLs are different
- Documentation stays consistent

## ‚è∞ Timing Recommendations

### Introduction Phase (Google Slides)
- **Welcome** (3 min): Introductions, logistics
- **Overview** (5 min): Workshop goals, what they'll build
- **Architecture** (5 min): Technical concepts, stack overview
- **Transition** (2 min): Move to hands-on, URL sharing

### Hands-On Phase (Docusaurus)
- **Environment Setup** (15 min): Docker/Codespaces verification
- **MongoDB Atlas** (15 min): Account setup, connection
- **PDF Processing** (25 min): First workflow creation
- **Vector Search** (20 min): Atlas Vector Search setup
- **AI Agent** (30 min): Complete agent with tool calling

## üõ†Ô∏è Technical Setup Tips

### Before Workshop
- [ ] Test all documentation links
- [ ] Verify embedding API is responding
- [ ] Have backup n8n instance ready
- [ ] Prepare sample PDFs for testing
- [ ] Check MongoDB Atlas free tier limits

### During Workshop
- [ ] Share documentation URL early and often
- [ ] Monitor chat for setup issues
- [ ] Use instructor notes in Docusaurus (click üë®‚Äçüè´ buttons)
- [ ] Encourage peer-to-peer help
- [ ] Keep backup slides for common troubleshooting

## üé® Visual Consistency

### Google Slides Theme
Use colors that complement Docusaurus:
- **Primary**: #667eea (purple-blue gradient)
- **Secondary**: #10b981 (green for success states)
- **Background**: White or light gray
- **Text**: Dark gray (#374151)

### Font Recommendations
- **Headers**: Inter, Segoe UI, or system default
- **Body**: Same as headers for consistency
- **Code**: JetBrains Mono, Fira Code, or monospace

## üìû Troubleshooting During Workshop

### Common Issues & Quick Fixes

1. **"Can't access documentation"**
   - Share URL in chat again
   - Check for typos in URL
   - Try incognito/private browsing

2. **"n8n not loading"**
   - Check Docker status
   - Verify port 5678 isn't blocked
   - Try different browser

3. **"MongoDB Atlas signup failing"**
   - Use different email address
   - Check spam folder for verification
   - Try incognito mode

4. **"Embedding API not working"**
   - Use built-in tester in docs
   - Check network connectivity
   - Fallback to mock data option

## üöÄ Advanced Tips

### For Virtual Workshops
- Use breakout rooms for troubleshooting
- Screen share documentation frequently
- Record session for later reference
- Use polls to check progress

### For In-Person Workshops
- Print QR codes on handouts
- Use projector for slides + laptop for docs
- Walk around to help with individual issues
- Consider printed backup of key concepts

### For Mixed Audiences
- Acknowledge different skill levels early
- Pair experienced with beginners
- Provide "extra credit" challenges
- Use instructor notes for differentiation

---

## üìã Pre-Workshop Checklist

**24 Hours Before:**
- [ ] Update documentation with current workshop date/instructor
- [ ] Test all interactive components
- [ ] Verify embedding API availability
- [ ] Prepare Google Slides with correct URLs

**1 Hour Before:**
- [ ] Load both slides and documentation
- [ ] Test screen sharing setup
- [ ] Join workshop platform early
- [ ] Have backup plans ready

**During Workshop:**
- [ ] Share URLs immediately
- [ ] Monitor chat for questions
- [ ] Use timing guides in instructor notes
- [ ] Keep energy high during transitions

This setup gives you the best of both worlds: powerful presentation tools for concepts and interactive documentation for hands-on learning! üéâ
```

# package.json

```json
{
  "name": "docusaurus-template-lab",
  "version": "2.3.0",
  "private": true,
  "scripts": {
    "docusaurus": "docusaurus",
    "start": "docusaurus start --host 0.0.0.0",
    "build": "docusaurus build",
    "swizzle": "docusaurus swizzle",
    "deploy": "docusaurus deploy",
    "clear": "docusaurus clear",
    "serve": "docusaurus serve --host 0.0.0.0",
    "write-translations": "docusaurus write-translations",
    "write-heading-ids": "docusaurus write-heading-ids",
    "workshop:setup": "bash .devcontainer/setup.sh",
    "workshop:start": "docker-compose up -d && npm start",
    "workshop:stop": "docker-compose down",
    "workshop:restart": "docker-compose restart",
    "workshop:logs": "docker-compose logs -f",
    "workshop:reset": "docker-compose down -v",
    "dev": "concurrently \"npm start\" \"docker-compose up -d\"",
    "test:services": "bash scripts/test-services.sh"
  },
  "dependencies": {
    "@docusaurus/core": "3.8.1",
    "@docusaurus/faster": "3.8.1",
    "@docusaurus/module-type-aliases": "3.8.1",
    "@docusaurus/plugin-google-analytics": "3.8.1",
    "@docusaurus/plugin-google-gtag": "3.8.1",
    "@docusaurus/preset-classic": "3.8.1",
    "@docusaurus/theme-mermaid": "3.8.1",
    "@mdx-js/react": "^3.0.1",
    "clsx": "^1.2.1",
    "docusaurus-lunr-search": "3.6.1",
    "prism-react-renderer": "^2.1.0",
    "react": "19.0.0",
    "react-dom": "19.0.0"
  },
  "browserslist": {
    "production": [
      ">0.5%",
      "not dead",
      "not op_mini all"
    ],
    "development": [
      "last 1 chrome version",
      "last 1 firefox version",
      "last 1 safari version"
    ]
  },
  "engines": {
    "node": ">=20.0"
  },
  "devDependencies": {
    "husky": "^9.1.7"
  }
}

```

# README.md

```md
# ü§ñ Build a Multimodal PDF Agent Workshop

> **The ultimate hands-on workshop for AI4 Conference**: Learn to build production-ready AI agents that process documents using cutting-edge multimodal AI, vector search, and automation.

## üéØ Workshop Overview

This comprehensive workshop teaches developers how to build intelligent document processing systems that can understand both text and visual content from PDFs. Participants will create complete AI agents using modern tools and deploy them to production.

### What You'll Build

By the end of this workshop, you'll have created:
- **Intelligent PDF Processing Pipeline** - Extracts and analyzes both text and images
- **Multimodal AI Agent** - Understands and responds to questions about document content
- **Production-Ready System** - Scalable, monitored, and secure
- **Interactive Web Interface** - Upload and query documents in real-time

### Technologies Covered

| Technology | Purpose | Level |
|------------|---------|-------|
| **üöÄ n8n** | Visual workflow automation | Beginner ‚Üí Advanced |
| **üóÑÔ∏è MongoDB Atlas** | Vector database and search | Intermediate |
| **üß† Voyage AI** | Multimodal embeddings (text + images) | Intermediate |
| **üêç Python/Jupyter** | Alternative implementation path | Advanced |
| **‚òÅÔ∏è Production Deployment** | Scaling and monitoring | Advanced |

## üèÜ Perfect for AI4 Conference Attendees

### Who Should Attend
- **Backend Developers** building AI-powered applications
- **Data Engineers** working with document processing
- **ML Engineers** exploring multimodal AI applications
- **Solution Architects** designing intelligent document systems
- **Product Managers** understanding AI implementation possibilities

### Prerequisites
- Basic programming experience (JavaScript or Python)
- Familiarity with APIs and databases
- Docker basics (helpful but not required)
- Curiosity about AI and automation!

## üöÄ Quick Start Options

### Option 1: GitHub Codespaces (Recommended)
Perfect for the conference - no local setup required!

1. Click: [![Open in GitHub Codespaces](https://github.com/codespaces/badge.svg)](https://codespaces.new/mongodb-developer/multimodal-pdf-agent-n8n)
2. Wait for environment setup (2-3 minutes)
3. Follow the workshop documentation
4. Start building immediately!

### Option 2: Local Development
\`\`\`bash
# Clone the workshop
git clone https://github.com/mrlynn/ai4-multimodal-agents-n8n.git
cd multimodal-pdf-agent-n8n

# Start all services
npm run dev

# Open documentation
open http://localhost:3000
\`\`\`

## üìö Workshop Structure & Timing

### Part 1: Foundation (45 minutes)
- **Environment Setup** (10 min) - Codespaces, MongoDB Atlas, Voyage AI
- **PDF Processing Pipeline** (20 min) - Extract text and images from documents
- **Vector Search Implementation** (15 min) - Store and search document embeddings

### Part 2: AI Agent Development (60 minutes)
- **Basic AI Agent** (25 min) - Question answering over documents
- **Multimodal Enhancement** (20 min) - Processing images and visual content
- **Advanced Features** (15 min) - Memory, context, and tool calling

### Part 3: Production & Advanced Topics (45 minutes)
- **Scaling & Performance** (15 min) - Handle large document volumes
- **Security & Monitoring** (15 min) - Production-ready deployment
- **Enterprise Integration** (15 min) - APIs, webhooks, and workflows

### Part 4: Open Lab & Q&A (30 minutes)
- **Custom Implementation** - Apply learnings to your use case
- **Troubleshooting** - Get help with specific challenges
- **Advanced Patterns** - Multi-agent systems, hybrid approaches

*Total: 3 hours | Difficulty: Beginner ‚Üí Advanced*

## üéØ Learning Outcomes

By completing this workshop, participants will be able to:

### Technical Skills
- ‚úÖ Build visual workflows with n8n for document processing
- ‚úÖ Implement vector search with MongoDB Atlas
- ‚úÖ Use multimodal AI models for text and image understanding
- ‚úÖ Create conversational AI agents with memory and context
- ‚úÖ Deploy and monitor production AI systems

### Strategic Understanding
- ‚úÖ Choose appropriate AI models for different content types
- ‚úÖ Design scalable document processing architectures
- ‚úÖ Implement cost-effective AI solutions
- ‚úÖ Navigate security and compliance considerations
- ‚úÖ Plan enterprise AI integration strategies

## üõ†Ô∏è Development Environment

### Included Services
- **n8n Workflow Automation** - Visual pipeline builder
- **MongoDB Atlas** - Vector database with search
- **Workshop API Gateway** - Simplified AI model access
- **File Upload Interface** - Test document processing
- **Real-time Monitoring** - Track system performance

### Pre-configured Examples
- ‚úÖ Sample PDF documents (legal, technical, visual)
- ‚úÖ Pre-built workflow templates
- ‚úÖ Test queries and expected responses
- ‚úÖ Performance benchmarks and metrics
- ‚úÖ Common troubleshooting scenarios

## üåü What Makes This Workshop Special

### 1. **Multimodal Focus**
Most workshops focus on text-only AI. We cover the full spectrum:
- Text understanding with context-aware models
- Image processing and visual document analysis
- Hybrid approaches combining multiple AI models

### 2. **Production-Ready**
Beyond proof-of-concepts - learn patterns used in real enterprise systems:
- Scalable architecture design
- Cost optimization strategies
- Security and compliance considerations
- Monitoring and observability

### 3. **Multiple Learning Paths**
- **Visual/No-Code**: n8n workflows for rapid prototyping
- **Programmatic**: Python/Jupyter for maximum control
- **Hybrid**: Combine both approaches strategically

### 4. **Real-World Applications**
- **Legal**: Contract analysis and compliance checking
- **Technical**: API documentation and user manuals
- **Financial**: Report analysis and data extraction
- **Academic**: Research paper processing and synthesis

## üìä Success Metrics & Validation

### Built-in Assessment Tools
- **Interactive Quizzes** - Test understanding of key concepts
- **Live System Monitoring** - Verify your implementations work
- **Performance Benchmarks** - Compare against optimal solutions
- **Security Scans** - Ensure production-ready security

### Take-Home Value
- **Complete Working System** - Deployed and accessible after the workshop
- **Source Code Repository** - All examples and implementations
- **Production Deployment Guide** - Scale beyond the workshop
- **Community Access** - Ongoing support and advanced patterns

## üèóÔ∏è Architecture Overview

\`\`\`mermaid
graph TB
    A[PDF Upload] --> B[Document Processing]
    B --> C[Multimodal Analysis]
    C --> D[Vector Storage]
    D --> E[AI Agent]
    E --> F[User Interface]
    
    subgraph "Processing Layer"
        B --> B1[Text Extraction]
        B --> B2[Image Processing]
        B --> B3[Layout Analysis]
    end
    
    subgraph "AI Layer"
        C --> C1[voyage-context-3]
        C --> C2[voyage-multimodal-3]
        C --> C3[Model Selection Logic]
    end
    
    subgraph "Search Layer"
        D --> D1[MongoDB Vector Search]
        D --> D2[Hybrid Retrieval]
        D --> D3[Relevance Ranking]
    end
\`\`\`

## üöÄ Deploy Workshop Documentation

### Quick Deploy to Vercel
[![Deploy with Vercel](https://vercel.com/button)](https://vercel.com/new/clone?repository-url=https%3A%2F%2Fgithub.com%2Fmongodb-developer%2Fmultimodal-pdf-agent-n8n-docs)

### Local Development
\`\`\`bash
# Install dependencies
npm install

# Start development server
npm start

# Build for production
npm run build
npm run serve
\`\`\`

## üìÅ Repository Structure

\`\`\`
workshop-docs/
‚îú‚îÄ‚îÄ docs/                    # Workshop content and guides
‚îÇ   ‚îú‚îÄ‚îÄ 10-intro.mdx        # Workshop introduction
‚îÇ   ‚îú‚îÄ‚îÄ 15-github-codespaces.mdx
‚îÇ   ‚îú‚îÄ‚îÄ 20-prerequisites.mdx
‚îÇ   ‚îú‚îÄ‚îÄ 40-pdf-processing-workflow.mdx
‚îÇ   ‚îú‚îÄ‚îÄ 70-complete-multimodal-agent.mdx
‚îÇ   ‚îî‚îÄ‚îÄ ...                 # Additional guides
‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îú‚îÄ‚îÄ components/         # Interactive React components
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ LiveStatusBadge/    # Real-time system monitoring
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ EmbeddingTester/    # Test AI models
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Quiz/               # Knowledge validation
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ ...
‚îÇ   ‚îî‚îÄ‚îÄ pages/              # Custom pages
‚îú‚îÄ‚îÄ static/
‚îÇ   ‚îú‚îÄ‚îÄ workflows/          # Pre-built n8n workflows
‚îÇ   ‚îú‚îÄ‚îÄ img/               # Documentation assets
‚îÇ   ‚îî‚îÄ‚îÄ upload-interface.html  # File upload tool
‚îî‚îÄ‚îÄ docusaurus.config.js   # Site configuration
\`\`\`

## ü§ù Contributing

This workshop is continuously improved based on participant feedback and emerging AI capabilities.

### Current Focus Areas
- **Enhanced multimodal processing** with latest Voyage AI models
- **Production monitoring** and observability patterns
- **Enterprise integration** examples and case studies
- **Performance optimization** for large-scale deployments

## üìû Support & Community

- **Workshop Issues**: [GitHub Issues](https://github.com/mrlynn/ai4-multimodal-agents-n8n/issues)
- **MongoDB Community**: [Developer Forums](https://www.mongodb.com/community/forums)
- **n8n Community**: [Community Forum](https://community.n8n.io/)
- **Voyage AI Documentation**: [API Reference](https://docs.voyageai.com/)

## üìÑ License

This workshop content is licensed under [MIT License](LICENSE). Feel free to use, modify, and share!

---

**Ready to build the future of document intelligence?** 
üöÄ [Start the Workshop](https://your-workshop-docs.vercel.app) | üíª [Open in Codespaces](https://codespaces.new/mongodb-developer/multimodal-pdf-agent-n8n)
```

# sidebars.js

```js
/**
 * Creating a sidebar enables you to:
 - create an ordered group of docs
 - render a sidebar for each doc of that group
 - provide next/previous navigation

 The sidebars can be generated from the filesystem, or explicitly defined here.

 Create as many sidebars as you want.
 */

// @ts-check

/** @type {import('@docusaurus/plugin-content-docs').SidebarsConfig} */
const sidebars = {
  // Workshop sidebar with clean structure
  tutorialSidebar: [
    {
      type: 'doc',
      id: 'index',
      label: 'üéì Workshop Home'
    },
    {
      type: 'doc',
      id: 'workshop-overview',
      label: 'üìã Complete Overview & Slides'
    },
    {
      type: 'doc',
      id: 'objectives-overview',
      label: 'üéØ Workshop Objectives'
    },
    {
      type: 'category',
      label: 'üìã Prerequisites & Setup',
      collapsible: true,
      collapsed: false,
      items: [
        {
          type: 'doc',
          id: 'prerequisites',
          label: 'üõ†Ô∏è Setup Wizard'
        },
        {
          type: 'doc',
          id: 'voyage-ai-setup',
          label: 'üöÄ Voyage AI Setup'
        },
        {
          type: 'doc',
          id: 'gemini-setup',
          label: 'ü§ñ Gemini Setup'
        },
        {
          type: 'doc',
          id: 'atlas-setup',
          label: 'üçÉ Atlas Setup'
        },
        {
          type: 'doc',
          id: 'codespaces-setup',
          label: 'üçÉ Codespaces Setup'
        }
      ]
    },
    {
      type: 'category',
      label: 'üêç Python & Jupyter Exercises',
      collapsible: true,
      collapsed: false,
      className: 'sidebar-path-python',
      description: 'Build multimodal AI agents with Python',
      items: [
        {
          type: 'doc',
          id: 'python-exercise-1',
          label: 'üìä Exercise 1 - Setup & Data'
        },
        {
          type: 'doc',
          id: 'python-exercise-2',
          label: 'üîç Exercise 2 - Vector Search'
        },
        {
          type: 'doc',
          id: 'python-exercise-3',
          label: 'ü§ñ Exercise 3 - ReAct Agent'
        },
        {
          type: 'doc',
          id: 'python-exercise-4',
          label: 'üß™ Exercise 4 - Testing'
        },
        {
          type: 'doc',
          id: 'complete-notebook',
          label: 'üìì Complete Notebook'
        },
        {
          type: 'doc',
          id: 'workshop-lab-walkthrough',
          label: 'üêç Python Lab Walkthrough'
        }
      ]
    }
  ],
};

module.exports = sidebars;
```

# src/components/BrowserWindow/index.js

```js
import "./main.css";
import React from "react";

export default function BrowserWindow(props) {
  // Straight out of w3schools: https://www.w3schools.com/howto/howto_css_browser_window.asp

  const url = props.url || "http://localhost:3000";

  return (
    <div className="browser container">
      <div className="row">
        <div className="column left">
        <span className="dot" style={{background: "#ED594A"}}></span>
        <span className="dot" style={{background: "#FDD800"}}></span>
        <span className="dot" style={{background: "#5AC05A"}}></span>
        </div>
        <div className="column middle">
          <input type="text" value={url} />
        </div>
        <div className="column right">
          <div style={{float: "right"}}>
            <span className="bar"></span>
            <span className="bar"></span>
            <span className="bar"></span>
          </div>
        </div>
      </div>

      <div className="content">
        {props.children}
      </div>
    </div>
  )
}
```

# src/components/BrowserWindow/main.css

```css
* {
  box-sizing: border-box;
}

/* The browser window */
.browser.container {
  border: 3px solid #f1f1f1;
  border-top-left-radius: 4px;
  border-top-right-radius: 4px;
  margin-bottom: 10px;
  cursor: not-allowed;
}

/* Container for columns and the top "toolbar" */
.browser .row {
  padding: 10px;
  background: #f1f1f1;
  border-top-left-radius: 4px;
  border-top-right-radius: 4px;
}

/* Create three unequal columns that floats next to each other */
.browser .column {
  float: left;
}

.browser .left {
  width: 15%;
}

.browser .right {
  width: 10%;
}

.browser .middle {
  width: 75%;
}

/* Clear floats after the columns */
.browser .row:after {
  content: "";
  display: table;
  clear: both;
}

/* Three dots */
.browser .dot {
  margin-top: 4px;
  height: 12px;
  width: 12px;
  background-color: #bbb;
  border-radius: 50%;
  display: inline-block;
}

/* Style the input field */
.browser input[type=text] {
  width: 100%;
  border-radius: 3px;
  border: none;
  background-color: white;
  margin-top: -8px;
  height: 25px;
  color: #666;
  padding: 5px;
}

/* Three bars (hamburger menu) */
.browser .bar {
  width: 17px;
  height: 3px;
  background-color: #aaa;
  margin: 3px 0;
  display: block;
}

/* Page content */
.browser .content {
  padding: 10px;
  text-align: center;
}
```

# src/components/ClickableImage/index.js

```js
import React, { useState } from 'react';
import useBaseUrl from '@docusaurus/useBaseUrl';
import styles from './styles.module.css';

export default function ClickableImage({ src, alt, caption, maxWidth = '100%', ...props }) {
  const [isModalOpen, setIsModalOpen] = useState(false);
  const imageUrl = useBaseUrl(src);

  const openModal = () => setIsModalOpen(true);
  const closeModal = () => setIsModalOpen(false);

  const handleBackdropClick = (e) => {
    if (e.target === e.currentTarget) {
      closeModal();
    }
  };

  const handleKeyDown = (e) => {
    if (e.key === 'Escape') {
      closeModal();
    }
  };

  // Add event listener for escape key when modal is open
  React.useEffect(() => {
    if (isModalOpen) {
      document.addEventListener('keydown', handleKeyDown);
      document.body.style.overflow = 'hidden'; // Prevent background scrolling
      return () => {
        document.removeEventListener('keydown', handleKeyDown);
        document.body.style.overflow = 'unset';
      };
    }
  }, [isModalOpen]);

  return (
    <>
      {/* Clickable Image */}
      <div className={styles.imageContainer} style={{ maxWidth }}>
        <img
          src={imageUrl}
          alt={alt}
          className={styles.clickableImage}
          onClick={openModal}
          loading="lazy"
          {...props}
        />
        {caption && <div className={styles.caption}>{caption}</div>}
        <div className={styles.clickHint}>
          <svg 
            className={styles.expandIcon} 
            viewBox="0 0 24 24" 
            fill="none" 
            stroke="currentColor"
          >
            <path d="M8 3H5a2 2 0 0 0-2 2v3m18 0V5a2 2 0 0 0-2-2h-3m0 18h3a2 2 0 0 0 2-2v-3M3 16v3a2 2 0 0 0 2 2h3"/>
          </svg>
          Click to enlarge
        </div>
      </div>

      {/* Modal */}
      {isModalOpen && (
        <div 
          className={styles.modal} 
          onClick={handleBackdropClick}
          role="dialog"
          aria-modal="true"
          aria-label="Enlarged image view"
        >
          <div className={styles.modalContent}>
            <button 
              className={styles.closeButton}
              onClick={closeModal}
              aria-label="Close modal"
            >
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor">
                <line x1="18" y1="6" x2="6" y2="18"></line>
                <line x1="6" y1="6" x2="18" y2="18"></line>
              </svg>
            </button>
            <img
              src={imageUrl}
              alt={alt}
              className={styles.modalImage}
            />
            {caption && <div className={styles.modalCaption}>{caption}</div>}
          </div>
        </div>
      )}
    </>
  );
}
```

# src/components/ClickableImage/styles.module.css

```css
.imageContainer {
  position: relative;
  display: inline-block;
  margin: 1rem auto;
  border-radius: 12px;
  overflow: hidden;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
  transition: all 0.3s ease;
  cursor: pointer;
  background: var(--ifm-color-emphasis-0);
  border: 1px solid var(--ifm-color-emphasis-200);
}

.imageContainer:hover {
  transform: translateY(-2px);
  box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15);
}

.clickableImage {
  width: 100%;
  height: auto;
  display: block;
  border-radius: 12px;
  transition: opacity 0.3s ease;
}

.imageContainer:hover .clickableImage {
  opacity: 0.95;
}

.caption {
  position: absolute;
  bottom: 0;
  left: 0;
  right: 0;
  background: linear-gradient(transparent, rgba(0, 0, 0, 0.7));
  color: white;
  padding: 2rem 1rem 1rem;
  font-size: 0.9rem;
  font-weight: 500;
}

.clickHint {
  position: absolute;
  top: 12px;
  right: 12px;
  background: rgba(0, 0, 0, 0.7);
  color: white;
  padding: 0.5rem 0.75rem;
  border-radius: 20px;
  font-size: 0.8rem;
  display: flex;
  align-items: center;
  gap: 0.5rem;
  opacity: 0;
  transition: opacity 0.3s ease;
  pointer-events: none;
}

.imageContainer:hover .clickHint {
  opacity: 1;
}

.expandIcon {
  width: 14px;
  height: 14px;
  stroke-width: 2;
}

/* Modal Styles */
.modal {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: rgba(0, 0, 0, 0.9);
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 1000;
  padding: 2rem;
  backdrop-filter: blur(4px);
}

.modalContent {
  position: relative;
  max-width: 95vw;
  max-height: 95vh;
  display: flex;
  flex-direction: column;
  align-items: center;
}

.modalImage {
  max-width: 100%;
  max-height: 85vh;
  object-fit: contain;
  border-radius: 8px;
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
}

.closeButton {
  position: absolute;
  top: -50px;
  right: 0;
  background: rgba(255, 255, 255, 0.1);
  border: 2px solid rgba(255, 255, 255, 0.2);
  color: white;
  width: 40px;
  height: 40px;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  transition: all 0.2s ease;
  backdrop-filter: blur(10px);
}

.closeButton:hover {
  background: rgba(255, 255, 255, 0.2);
  border-color: rgba(255, 255, 255, 0.4);
  transform: scale(1.1);
}

.closeButton svg {
  width: 20px;
  height: 20px;
  stroke-width: 2;
}

.modalCaption {
  margin-top: 1rem;
  color: white;
  text-align: center;
  font-size: 1rem;
  font-weight: 500;
  padding: 0.75rem 1rem;
  background: rgba(0, 0, 0, 0.5);
  border-radius: 8px;
  backdrop-filter: blur(10px);
}

/* Responsive Design */
@media (max-width: 768px) {
  .imageContainer {
    margin: 1rem 0;
  }
  
  .modal {
    padding: 1rem;
  }
  
  .modalImage {
    max-height: 80vh;
  }
  
  .closeButton {
    top: -45px;
    width: 36px;
    height: 36px;
  }
  
  .closeButton svg {
    width: 18px;
    height: 18px;
  }
  
  .clickHint {
    font-size: 0.75rem;
    padding: 0.4rem 0.6rem;
  }
  
  .expandIcon {
    width: 12px;
    height: 12px;
  }
}

/* Dark mode support */
[data-theme='dark'] .imageContainer {
  background: var(--ifm-background-color);
  border-color: var(--ifm-color-emphasis-300);
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
}

[data-theme='dark'] .imageContainer:hover {
  box-shadow: 0 8px 25px rgba(0, 0, 0, 0.4);
}

/* Accessibility */
@media (prefers-reduced-motion: reduce) {
  .imageContainer,
  .clickableImage,
  .clickHint,
  .closeButton {
    transition: none;
  }
  
  .imageContainer:hover {
    transform: none;
  }
}

/* Focus styles for keyboard navigation */
.imageContainer:focus-within {
  outline: 2px solid var(--ifm-color-primary);
  outline-offset: 2px;
}

.closeButton:focus {
  outline: 2px solid white;
  outline-offset: 2px;
}

/* Print styles */
@media print {
  .modal {
    display: none;
  }
  
  .clickHint {
    display: none;
  }
  
  .imageContainer {
    box-shadow: none;
    border: 1px solid #ccc;
  }
}
```

# src/components/CodeBlock/index.js

```js
import React, { useState } from 'react';
import styles from './styles.module.css';

export default function CodeBlock({ 
  language = 'bash',
  children,
  title,
  showCopy = true,
  filename,
  highlight = []
}) {
  const [copied, setCopied] = useState(false);

  const handleCopy = async () => {
    try {
      await navigator.clipboard.writeText(children.trim());
      setCopied(true);
      setTimeout(() => setCopied(false), 2000);
    } catch (err) {
      // Fallback for older browsers
      const textArea = document.createElement('textarea');
      textArea.value = children.trim();
      document.body.appendChild(textArea);
      textArea.select();
      document.execCommand('copy');
      document.body.removeChild(textArea);
      setCopied(true);
      setTimeout(() => setCopied(false), 2000);
    }
  };

  return (
    <div className={styles.codeBlockContainer}>
      {(title || filename) && (
        <div className={styles.header}>
          <span className={styles.title}>
            {filename && <span className={styles.filename}>üìÑ {filename}</span>}
            {title && <span className={styles.codeTitle}>{title}</span>}
          </span>
          {showCopy && (
            <button 
              className={styles.copyButton}
              onClick={handleCopy}
              disabled={copied}
            >
              {copied ? '‚úÖ Copied!' : 'üìã Copy'}
            </button>
          )}
        </div>
      )}
      <div className={styles.codeBlock}>
        <pre className={`${styles.code} language-${language}`}>
          <code>{children.trim()}</code>
        </pre>
        {!title && !filename && showCopy && (
          <button 
            className={styles.floatingCopyButton}
            onClick={handleCopy}
            disabled={copied}
          >
            {copied ? '‚úÖ' : 'üìã'}
          </button>
        )}
      </div>
    </div>
  );
}

export function TerminalCommand({ command, output, prompt = '$' }) {
  const [showOutput, setShowOutput] = useState(false);

  return (
    <div className={styles.terminal}>
      <div className={styles.terminalHeader}>
        <div className={styles.terminalButtons}>
          <div className={styles.terminalButton} style={{backgroundColor: '#ff5f57'}}></div>
          <div className={styles.terminalButton} style={{backgroundColor: '#ffbd2e'}}></div>
          <div className={styles.terminalButton} style={{backgroundColor: '#28ca42'}}></div>
        </div>
        <div className={styles.terminalTitle}>Terminal</div>
      </div>
      <div className={styles.terminalContent}>
        <div className={styles.commandLine}>
          <span className={styles.prompt}>{prompt}</span>
          <span className={styles.command}>{command}</span>
        </div>
        {output && (
          <>
            {!showOutput && (
              <button 
                className={styles.showOutputButton}
                onClick={() => setShowOutput(true)}
              >
                Show expected output ‚ñº
              </button>
            )}
            {showOutput && (
              <div className={styles.output}>
                <pre>{output}</pre>
              </div>
            )}
          </>
        )}
      </div>
    </div>
  );
}
```

# src/components/CodeBlock/styles.module.css

```css
.codeBlockContainer {
  margin: 1.5rem 0;
  border-radius: 8px;
  background: #1e1e1e;
  overflow: hidden;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
}

.header {
  background: #2d2d30;
  padding: 0.75rem 1rem;
  display: flex;
  justify-content: space-between;
  align-items: center;
  border-bottom: 1px solid #404040;
}

.title {
  display: flex;
  align-items: center;
  gap: 0.5rem;
}

.filename {
  color: #ffd700;
  font-weight: 600;
  font-size: 0.9rem;
}

.codeTitle {
  color: #c9d1d9;
  font-weight: 500;
}

.copyButton {
  background: #238636;
  color: white;
  border: none;
  padding: 0.4rem 0.8rem;
  border-radius: 6px;
  cursor: pointer;
  font-size: 0.8rem;
  transition: all 0.2s ease;
}

.copyButton:hover:not(:disabled) {
  background: #2ea043;
  transform: translateY(-1px);
}

.copyButton:disabled {
  background: #28a745;
  cursor: not-allowed;
}

.codeBlock {
  position: relative;
  background: #1e1e1e;
}

.code {
  margin: 0;
  padding: 1.5rem;
  background: transparent;
  color: #c9d1d9;
  font-family: 'SFMono-Regular', Consolas, 'Liberation Mono', Menlo, monospace;
  font-size: 0.9rem;
  line-height: 1.6;
  overflow-x: auto;
}

.floatingCopyButton {
  position: absolute;
  top: 1rem;
  right: 1rem;
  background: rgba(45, 45, 48, 0.8);
  color: #c9d1d9;
  border: 1px solid #404040;
  padding: 0.5rem;
  border-radius: 6px;
  cursor: pointer;
  font-size: 0.8rem;
  backdrop-filter: blur(4px);
  transition: all 0.2s ease;
}

.floatingCopyButton:hover:not(:disabled) {
  background: rgba(35, 134, 54, 0.8);
  border-color: #238636;
}

.floatingCopyButton:disabled {
  background: rgba(40, 167, 69, 0.8);
  cursor: not-allowed;
}

/* Terminal Component */
.terminal {
  margin: 1.5rem 0;
  border-radius: 8px;
  background: #000;
  overflow: hidden;
  box-shadow: 0 4px 16px rgba(0, 0, 0, 0.3);
  font-family: 'SFMono-Regular', Consolas, 'Liberation Mono', Menlo, monospace;
}

.terminalHeader {
  background: #2c2c2c;
  padding: 0.75rem;
  display: flex;
  align-items: center;
  justify-content: center;
  position: relative;
}

.terminalButtons {
  position: absolute;
  left: 1rem;
  display: flex;
  gap: 0.5rem;
}

.terminalButton {
  width: 12px;
  height: 12px;
  border-radius: 50%;
}

.terminalTitle {
  color: #c9d1d9;
  font-weight: 500;
  font-size: 0.9rem;
}

.terminalContent {
  padding: 1rem;
  background: #000;
  color: #00ff00;
}

.commandLine {
  display: flex;
  align-items: center;
  margin-bottom: 0.5rem;
}

.prompt {
  color: #00ff00;
  margin-right: 0.5rem;
  font-weight: bold;
}

.command {
  color: #ffffff;
}

.showOutputButton {
  background: transparent;
  color: #6c757d;
  border: 1px solid #404040;
  padding: 0.5rem 1rem;
  border-radius: 4px;
  cursor: pointer;
  font-size: 0.9rem;
  margin-top: 0.5rem;
  transition: all 0.2s ease;
}

.showOutputButton:hover {
  color: #c9d1d9;
  border-color: #6c757d;
}

.output {
  margin-top: 0.5rem;
  color: #c9d1d9;
  font-size: 0.9rem;
}

.output pre {
  margin: 0;
  white-space: pre-wrap;
  word-wrap: break-word;
}
```

# src/components/DownloadAllWorkflows.js

```js
import React from 'react';
import useDocusaurusContext from '@docusaurus/useDocusaurusContext';

export default function DownloadAllWorkflows() {
  const {siteConfig} = useDocusaurusContext();
  
  const workflows = [
    '01-getting-started.json',
    '02-pdf-processor.json',
    '03-multimodal-agent.json',
    '04-complete-agent-mock.json',
    '05-real-multimodal-agent.json',
    '06-real-voyage-multimodal.json',
    '07-form-based-agent.json',
    '08-voyage-context-3-embeddings.json',
    '09-hybrid-multimodal-context-agent.json'
  ];

  const downloadAll = async () => {
    for (const workflow of workflows) {
      const response = await fetch(`/workflows/${workflow}`);
      const blob = await response.blob();
      const url = window.URL.createObjectURL(blob);
      const a = document.createElement('a');
      a.href = url;
      a.download = workflow;
      document.body.appendChild(a);
      a.click();
      window.URL.revokeObjectURL(url);
      document.body.removeChild(a);
      // Small delay between downloads
      await new Promise(resolve => setTimeout(resolve, 100));
    }
  };

  return (
    <div style={{
      padding: '1rem',
      background: 'var(--ifm-color-emphasis-100)',
      borderRadius: '8px',
      textAlign: 'center',
      margin: '2rem 0'
    }}>
      <h4>Download All Workshop Workflows</h4>
      <p>Get all 9 workflows in one click!</p>
      <button 
        className="button button--primary button--lg"
        onClick={downloadAll}
      >
        üì¶ Download All Workflows (ZIP coming soon)
      </button>
      <p style={{ fontSize: '0.875rem', marginTop: '1rem', color: 'var(--ifm-color-emphasis-600)' }}>
        Files will be downloaded individually to your Downloads folder
      </p>
    </div>
  );
}
```

# src/components/EmbeddingTester/index.js

```js
import React, { useState } from 'react';
import styles from './styles.module.css';

export default function EmbeddingTester({ 
  apiUrl = "https://workshop-embedding-api.vercel.app/api/embed",
  defaultModel = "voyage-3"
}) {
  const [text, setText] = useState('');
  const [model, setModel] = useState(defaultModel);
  const [loading, setLoading] = useState(false);
  const [result, setResult] = useState(null);
  const [error, setError] = useState(null);
  const [showRawEmbedding, setShowRawEmbedding] = useState(false);
  const [copiedConfig, setCopiedConfig] = useState(false);

  const handleSubmit = async (e) => {
    e.preventDefault();
    
    if (!text.trim()) {
      setError('Please enter some text to embed');
      return;
    }

    setLoading(true);
    setError(null);
    setResult(null);

    try {
      const response = await fetch(apiUrl, {
        method: 'POST',
        headers: {
          'Content-Type': 'application/json',
        },
        body: JSON.stringify({
          text: text.trim(),
          model: model
        }),
      });

      const data = await response.json();

      if (!response.ok) {
        throw new Error(data.error || `HTTP ${response.status}: ${response.statusText}`);
      }

      setResult(data);
    } catch (err) {
      setError(err.message || 'Failed to generate embedding');
    } finally {
      setLoading(false);
    }
  };

  const generateN8nConfig = () => {
    return {
      method: 'POST',
      url: apiUrl,
      authentication: 'none',
      sendHeaders: true,
      headerParameters: {
        parameters: [
          {
            name: 'Content-Type',
            value: 'application/json'
          }
        ]
      },
      sendBody: true,
      bodyContentType: 'json',
      specifyBody: 'json',
      jsonBody: JSON.stringify({
        text: "{{ $json.textContent }}",
        model: model
      }, null, 2)
    };
  };

  const copyN8nConfig = async () => {
    const config = generateN8nConfig();
    const configText = `n8n HTTP Request Node Configuration:

Method: ${config.method}
URL: ${config.url}
Authentication: None

Headers:
- Content-Type: application/json

Body (JSON):
${config.jsonBody}`;

    try {
      await navigator.clipboard.writeText(configText);
      setCopiedConfig(true);
      setTimeout(() => setCopiedConfig(false), 2000);
    } catch (err) {
      // Fallback
      const textarea = document.createElement('textarea');
      textarea.value = configText;
      document.body.appendChild(textarea);
      textarea.select();
      document.execCommand('copy');
      document.body.removeChild(textarea);
      setCopiedConfig(true);
      setTimeout(() => setCopiedConfig(false), 2000);
    }
  };

  const exampleTexts = [
    "This document explains how vector embeddings work in machine learning applications.",
    "MongoDB Atlas provides powerful vector search capabilities for AI applications.",
    "n8n is a visual workflow automation tool that makes building AI agents intuitive.",
    "Multimodal embeddings can process both text and images in a unified vector space."
  ];

  const fillExample = (exampleText) => {
    setText(exampleText);
  };

  return (
    <div className={styles.tester}>
      <div className={styles.header}>
        <h3>üß™ Workshop Embedding API Tester</h3>
        <p>Test the embedding API before using it in your n8n workflows</p>
      </div>

      <form onSubmit={handleSubmit} className={styles.form}>
        <div className={styles.formGroup}>
          <label htmlFor="text">Text to Embed:</label>
          <textarea
            id="text"
            value={text}
            onChange={(e) => setText(e.target.value)}
            placeholder="Enter any text you want to convert to embeddings..."
            rows={4}
            className={styles.textarea}
          />
          
          <div className={styles.examples}>
            <span className={styles.exampleLabel}>Try an example:</span>
            {exampleTexts.map((example, index) => (
              <button
                key={index}
                type="button"
                className={styles.exampleButton}
                onClick={() => fillExample(example)}
              >
                Example {index + 1}
              </button>
            ))}
          </div>
        </div>

        <div className={styles.formGroup}>
          <label htmlFor="model">Model:</label>
          <select
            id="model"
            value={model}
            onChange={(e) => setModel(e.target.value)}
            className={styles.select}
          >
            <option value="voyage-3">voyage-3 (Latest)</option>
            <option value="voyage-multimodal-3">voyage-multimodal-3 (Multimodal)</option>
            <option value="voyage-code-3">voyage-code-3 (Code)</option>
          </select>
        </div>

        <div className={styles.actions}>
          <button
            type="submit"
            disabled={loading || !text.trim()}
            className={styles.submitButton}
          >
            {loading ? '‚è≥ Generating Embedding...' : 'üöÄ Generate Embedding'}
          </button>

          <button
            type="button"
            onClick={copyN8nConfig}
            className={styles.copyButton}
            disabled={copiedConfig}
          >
            {copiedConfig ? '‚úÖ Copied!' : 'üìã Copy n8n Config'}
          </button>
        </div>
      </form>

      {error && (
        <div className={styles.error}>
          <strong>‚ùå Error:</strong> {error}
        </div>
      )}

      {result && (
        <div className={styles.result}>
          <h4>‚úÖ Success! Embedding Generated</h4>
          
          <div className={styles.resultSection}>
            <h5>Response Details:</h5>
            <div className={styles.details}>
              <div className={styles.detail}>
                <span className={styles.detailLabel}>Model:</span>
                <span className={styles.detailValue}>{result.model}</span>
              </div>
              <div className={styles.detail}>
                <span className={styles.detailLabel}>Dimensions:</span>
                <span className={styles.detailValue}>{result.embeddings[0].length}</span>
              </div>
              <div className={styles.detail}>
                <span className={styles.detailLabel}>Tokens Used:</span>
                <span className={styles.detailValue}>{result.usage?.total_tokens || 'N/A'}</span>
              </div>
            </div>
          </div>

          <div className={styles.resultSection}>
            <h5>Embedding Preview (first 10 values):</h5>
            <code className={styles.embeddingPreview}>
              [{result.embeddings[0].slice(0, 10).map(v => v.toFixed(4)).join(', ')}...]
            </code>
          </div>

          <button
            type="button"
            onClick={() => setShowRawEmbedding(!showRawEmbedding)}
            className={styles.toggleButton}
          >
            {showRawEmbedding ? 'Hide' : 'Show'} Full Embedding ({result.embeddings[0].length} values)
          </button>

          {showRawEmbedding && (
            <div className={styles.rawEmbedding}>
              <pre>{JSON.stringify(result.embeddings[0], null, 2)}</pre>
            </div>
          )}

          <div className={styles.usage}>
            <h5>üìù n8n Usage Example:</h5>
            <p>This response format is exactly what you'll receive in n8n. Access the embedding array with:</p>
            <code className={styles.accessCode}>
              {'{{ $json.embeddings[0] }}'}
            </code>
          </div>
        </div>
      )}

      <div className={styles.info}>
        <h4>‚ÑπÔ∏è About This API</h4>
        <ul>
          <li>No authentication required - designed for workshop use</li>
          <li>Rate limited to prevent abuse</li>
          <li>Supports text embeddings with Voyage AI models</li>
          <li>Returns 1024-dimensional vectors for semantic search</li>
        </ul>
      </div>
    </div>
  );
}

export function EmbeddingVisualizer({ embedding, maxDisplay = 50 }) {
  if (!embedding || !Array.isArray(embedding)) {
    return null;
  }

  const values = embedding.slice(0, maxDisplay);
  const min = Math.min(...values);
  const max = Math.max(...values);
  const range = max - min;

  const normalize = (value) => {
    return ((value - min) / range) * 100;
  };

  return (
    <div className={styles.visualizer}>
      <h4>Embedding Visualization (first {maxDisplay} dimensions)</h4>
      <div className={styles.chart}>
        {values.map((value, index) => (
          <div
            key={index}
            className={styles.bar}
            style={{
              height: `${normalize(value)}%`,
              backgroundColor: value >= 0 ? '#10b981' : '#ef4444'
            }}
            title={`Dimension ${index}: ${value.toFixed(4)}`}
          />
        ))}
      </div>
      <div className={styles.chartLabels}>
        <span>Negative ‚Üê</span>
        <span>‚Üí Positive</span>
      </div>
    </div>
  );
}
```

# src/components/EmbeddingTester/styles.module.css

```css
.tester {
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  border-radius: 12px;
  padding: 2rem;
  margin: 2rem 0;
  color: white;
  box-shadow: 0 8px 24px rgba(102, 126, 234, 0.3);
}

.header {
  text-align: center;
  margin-bottom: 2rem;
}

.header h3 {
  margin: 0 0 0.5rem 0;
  font-size: 1.6rem;
}

.header p {
  margin: 0;
  opacity: 0.9;
}

.form {
  background: rgba(255, 255, 255, 0.1);
  border-radius: 8px;
  padding: 1.5rem;
  backdrop-filter: blur(10px);
}

.formGroup {
  margin-bottom: 1.5rem;
}

.formGroup label {
  display: block;
  margin-bottom: 0.5rem;
  font-weight: 600;
  font-size: 1rem;
}

.textarea {
  width: 100%;
  padding: 0.75rem;
  border: 2px solid rgba(255, 255, 255, 0.3);
  border-radius: 6px;
  background: rgba(255, 255, 255, 0.9);
  color: #374151;
  font-size: 1rem;
  resize: vertical;
  transition: border-color 0.2s ease;
}

.textarea:focus {
  outline: none;
  border-color: #fff;
  box-shadow: 0 0 0 3px rgba(255, 255, 255, 0.3);
}

.examples {
  display: flex;
  gap: 0.5rem;
  align-items: center;
  margin-top: 0.5rem;
  flex-wrap: wrap;
}

.exampleLabel {
  font-size: 0.9rem;
  opacity: 0.9;
}

.exampleButton {
  background: rgba(255, 255, 255, 0.2);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
  padding: 0.4rem 0.8rem;
  border-radius: 4px;
  cursor: pointer;
  font-size: 0.85rem;
  transition: all 0.2s ease;
}

.exampleButton:hover {
  background: rgba(255, 255, 255, 0.3);
  transform: translateY(-1px);
}

.select {
  width: 100%;
  padding: 0.75rem;
  border: 2px solid rgba(255, 255, 255, 0.3);
  border-radius: 6px;
  background: rgba(255, 255, 255, 0.9);
  color: #374151;
  font-size: 1rem;
  cursor: pointer;
}

.select:focus {
  outline: none;
  border-color: #fff;
  box-shadow: 0 0 0 3px rgba(255, 255, 255, 0.3);
}

.actions {
  display: flex;
  gap: 1rem;
  justify-content: center;
}

.submitButton {
  background: linear-gradient(135deg, #10b981, #34d399);
  color: white;
  border: none;
  padding: 0.75rem 1.5rem;
  border-radius: 6px;
  font-weight: 600;
  cursor: pointer;
  font-size: 1rem;
  transition: all 0.2s ease;
}

.submitButton:hover:not(:disabled) {
  transform: translateY(-2px);
  box-shadow: 0 4px 12px rgba(16, 185, 129, 0.4);
}

.submitButton:disabled {
  opacity: 0.6;
  cursor: not-allowed;
  transform: none;
}

.copyButton {
  background: rgba(255, 255, 255, 0.2);
  color: white;
  border: 2px solid rgba(255, 255, 255, 0.3);
  padding: 0.75rem 1.5rem;
  border-radius: 6px;
  font-weight: 600;
  cursor: pointer;
  font-size: 1rem;
  transition: all 0.2s ease;
}

.copyButton:hover:not(:disabled) {
  background: rgba(255, 255, 255, 0.3);
  transform: translateY(-1px);
}

.copyButton:disabled {
  background: rgba(40, 167, 69, 0.8);
  border-color: #28a745;
}

.error {
  background: rgba(239, 68, 68, 0.2);
  border: 2px solid #ef4444;
  border-radius: 8px;
  padding: 1rem;
  margin-top: 1rem;
  color: #fee2e2;
}

.result {
  background: rgba(255, 255, 255, 0.1);
  border-radius: 8px;
  padding: 1.5rem;
  margin-top: 1.5rem;
  backdrop-filter: blur(10px);
}

.result h4 {
  margin: 0 0 1rem 0;
  color: #10b981;
  font-size: 1.2rem;
}

.resultSection {
  margin-bottom: 1.5rem;
}

.resultSection h5 {
  margin: 0 0 0.5rem 0;
  opacity: 0.9;
}

.details {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
  gap: 1rem;
}

.detail {
  background: rgba(255, 255, 255, 0.1);
  padding: 0.75rem;
  border-radius: 6px;
  display: flex;
  justify-content: space-between;
  align-items: center;
}

.detailLabel {
  font-weight: 600;
  opacity: 0.9;
}

.detailValue {
  font-family: monospace;
  background: rgba(255, 255, 255, 0.2);
  padding: 0.25rem 0.5rem;
  border-radius: 4px;
}

.embeddingPreview {
  display: block;
  background: rgba(0, 0, 0, 0.3);
  color: #10b981;
  padding: 1rem;
  border-radius: 6px;
  font-family: monospace;
  font-size: 0.9rem;
  overflow-x: auto;
}

.toggleButton {
  background: rgba(255, 255, 255, 0.2);
  color: white;
  border: 1px solid rgba(255, 255, 255, 0.3);
  padding: 0.5rem 1rem;
  border-radius: 6px;
  cursor: pointer;
  font-size: 0.9rem;
  transition: all 0.2s ease;
}

.toggleButton:hover {
  background: rgba(255, 255, 255, 0.3);
}

.rawEmbedding {
  margin-top: 1rem;
  max-height: 300px;
  overflow-y: auto;
}

.rawEmbedding pre {
  background: rgba(0, 0, 0, 0.3);
  color: #e5e7eb;
  padding: 1rem;
  border-radius: 6px;
  font-size: 0.8rem;
  margin: 0;
}

.usage {
  background: rgba(59, 130, 246, 0.2);
  border: 2px solid #3b82f6;
  border-radius: 8px;
  padding: 1rem;
  margin-top: 1.5rem;
}

.usage h5 {
  margin: 0 0 0.5rem 0;
  color: #93c5fd;
}

.usage p {
  margin: 0 0 0.5rem 0;
  opacity: 0.9;
}

.accessCode {
  display: inline-block;
  background: rgba(0, 0, 0, 0.3);
  color: #fbbf24;
  padding: 0.5rem 1rem;
  border-radius: 4px;
  font-family: monospace;
}

.info {
  background: rgba(255, 255, 255, 0.1);
  border-radius: 8px;
  padding: 1.5rem;
  margin-top: 1.5rem;
}

.info h4 {
  margin: 0 0 1rem 0;
  opacity: 0.9;
}

.info ul {
  margin: 0;
  padding-left: 1.5rem;
}

.info li {
  margin-bottom: 0.5rem;
  opacity: 0.9;
}

/* Visualizer Styles */
.visualizer {
  background: rgba(255, 255, 255, 0.1);
  border-radius: 8px;
  padding: 1rem;
  margin-top: 1rem;
}

.visualizer h4 {
  margin: 0 0 1rem 0;
  font-size: 1rem;
  opacity: 0.9;
}

.chart {
  display: flex;
  align-items: flex-end;
  height: 100px;
  gap: 2px;
  padding: 0.5rem;
  background: rgba(0, 0, 0, 0.2);
  border-radius: 4px;
}

.bar {
  flex: 1;
  min-height: 2px;
  transition: height 0.3s ease;
  border-radius: 2px 2px 0 0;
  cursor: pointer;
}

.bar:hover {
  opacity: 0.8;
}

.chartLabels {
  display: flex;
  justify-content: space-between;
  margin-top: 0.5rem;
  font-size: 0.8rem;
  opacity: 0.7;
}

/* Dark mode adjustments */
[data-theme='dark'] .textarea,
[data-theme='dark'] .select {
  background: rgba(31, 41, 55, 0.9);
  color: #e5e7eb;
}

[data-theme='dark'] .error {
  color: #fecaca;
}

/* Responsive design */
@media (max-width: 768px) {
  .tester {
    padding: 1.5rem;
  }

  .actions {
    flex-direction: column;
  }

  .submitButton,
  .copyButton {
    width: 100%;
  }

  .examples {
    justify-content: center;
  }
}
```

# src/components/ExplainableCodeBlock.js

```js
import React, { useState } from 'react';
import CodeBlock from '@theme/CodeBlock';
import { ChevronDownIcon, ChevronRightIcon, InfoIcon } from '@site/src/components/Icons';
import styles from './ExplainableCodeBlock.module.css';

export default function ExplainableCodeBlock({ 
  children, 
  language = 'python',
  title,
  explanation,
  concepts = [],
  hints = [],
  showLineNumbers = true,
  ...props 
}) {
  const [isExpanded, setIsExpanded] = useState(false);

  return (
    <div className={styles.container}>
      {/* Code Block Header */}
      {title && (
        <div className={styles.header}>
          <span className={styles.title}>{title}</span>
        </div>
      )}
      
      {/* Original Code Block */}
      <CodeBlock
        language={language}
        showLineNumbers={showLineNumbers}
        {...props}
      >
        {children}
      </CodeBlock>

      {/* Explanation Toggle */}
      {explanation && (
        <div className={styles.explanationContainer}>
          <button
            className={styles.toggleButton}
            onClick={() => setIsExpanded(!isExpanded)}
            aria-expanded={isExpanded}
            aria-label={isExpanded ? 'Hide explanation' : 'Show explanation'}
          >
            <span className={styles.toggleIcon}>
              {isExpanded ? <ChevronDownIcon /> : <ChevronRightIcon />}
            </span>
            <InfoIcon className={styles.infoIcon} />
            <span className={styles.toggleText}>
              {isExpanded ? 'Hide' : 'Show'} Explanation
            </span>
          </button>

          {/* Expandable Explanation Content */}
          <div 
            className={`${styles.explanationContent} ${isExpanded ? styles.expanded : ''}`}
            aria-hidden={!isExpanded}
          >
            <div className={styles.explanationInner}>
              {/* Main Explanation */}
              <div className={styles.explanationText}>
                {explanation}
              </div>

              {/* Key Concepts */}
              {concepts.length > 0 && (
                <div className={styles.conceptsSection}>
                  <h4 className={styles.sectionTitle}>Key Concepts:</h4>
                  <ul className={styles.conceptsList}>
                    {concepts.map((concept, index) => (
                      <li key={index} className={styles.conceptItem}>
                        <strong>{concept.term}:</strong> {concept.definition}
                      </li>
                    ))}
                  </ul>
                </div>
              )}

              {/* Hints */}
              {hints.length > 0 && (
                <div className={styles.hintsSection}>
                  <h4 className={styles.sectionTitle}>üí° Hints:</h4>
                  <ul className={styles.hintsList}>
                    {hints.map((hint, index) => (
                      <li key={index} className={styles.hintItem}>
                        {hint}
                      </li>
                    ))}
                  </ul>
                </div>
              )}
            </div>
          </div>
        </div>
      )}
    </div>
  );
}

// Re-export with common presets for workshop use
export function WorkshopCodeBlock({ children, ...props }) {
  return (
    <ExplainableCodeBlock
      language="python"
      showLineNumbers={true}
      {...props}
    >
      {children}
    </ExplainableCodeBlock>
  );
}
```

# src/components/ExplainableCodeBlock.module.css

```css
.container {
  margin: 1.5rem 0;
  border-radius: var(--ifm-code-border-radius);
  overflow: hidden;
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
}

.header {
  background: var(--ifm-color-emphasis-200);
  padding: 0.75rem 1rem;
  border-bottom: 1px solid var(--ifm-color-emphasis-300);
  font-weight: 600;
  font-size: 0.875rem;
  color: var(--ifm-color-emphasis-800);
}

.title {
  display: flex;
  align-items: center;
  gap: 0.5rem;
}

.explanationContainer {
  background: var(--ifm-background-surface-color);
  border: 1px solid var(--ifm-color-emphasis-200);
  border-top: none;
  border-radius: 0 0 var(--ifm-code-border-radius) var(--ifm-code-border-radius);
}

.toggleButton {
  width: 100%;
  padding: 0.75rem 1rem;
  background: none;
  border: none;
  cursor: pointer;
  display: flex;
  align-items: center;
  gap: 0.5rem;
  font-size: 0.875rem;
  color: var(--ifm-color-primary);
  transition: all 0.2s ease;
  text-align: left;
}

.toggleButton:hover {
  background: var(--ifm-color-emphasis-100);
}

.toggleButton:focus {
  outline: 2px solid var(--ifm-color-primary);
  outline-offset: -2px;
}

.toggleIcon {
  display: flex;
  align-items: center;
  justify-content: center;
  width: 1rem;
  height: 1rem;
  transition: transform 0.2s ease;
}

.toggleIcon svg {
  width: 1rem;
  height: 1rem;
}

.infoIcon {
  width: 1rem;
  height: 1rem;
  opacity: 0.7;
}

.toggleText {
  font-weight: 500;
}

.explanationContent {
  max-height: 0;
  overflow: hidden;
  transition: max-height 0.3s ease-out;
}

.explanationContent.expanded {
  max-height: 1000px;
  transition: max-height 0.5s ease-in;
}

.explanationInner {
  padding: 1rem;
  border-top: 1px solid var(--ifm-color-emphasis-200);
}

.explanationText {
  color: var(--ifm-color-emphasis-700);
  line-height: 1.6;
  margin-bottom: 1rem;
}

.sectionTitle {
  font-size: 0.875rem;
  font-weight: 600;
  color: var(--ifm-color-emphasis-800);
  margin-bottom: 0.5rem;
  margin-top: 1rem;
}

.conceptsList,
.hintsList {
  list-style: none;
  padding: 0;
  margin: 0;
}

.conceptItem,
.hintItem {
  padding: 0.5rem 0;
  padding-left: 1.5rem;
  position: relative;
  font-size: 0.875rem;
  line-height: 1.5;
}

.conceptItem::before {
  content: "‚ñ∏";
  position: absolute;
  left: 0.5rem;
  color: var(--ifm-color-primary);
}

.hintItem::before {
  content: "‚Ä¢";
  position: absolute;
  left: 0.5rem;
  color: var(--ifm-color-warning);
}

.conceptItem strong {
  color: var(--ifm-color-primary-darker);
  font-weight: 600;
}

/* Dark mode adjustments */
[data-theme='dark'] .container {
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.3);
}

[data-theme='dark'] .header {
  background: var(--ifm-color-emphasis-200);
  border-bottom-color: var(--ifm-color-emphasis-300);
}

[data-theme='dark'] .explanationContainer {
  background: var(--ifm-background-color);
  border-color: var(--ifm-color-emphasis-300);
}

[data-theme='dark'] .toggleButton:hover {
  background: var(--ifm-color-emphasis-200);
}

[data-theme='dark'] .explanationText {
  color: var(--ifm-color-emphasis-600);
}

[data-theme='dark'] .conceptItem strong {
  color: var(--ifm-color-primary-light);
}

/* Responsive adjustments */
@media (max-width: 768px) {
  .explanationInner {
    padding: 0.75rem;
  }
  
  .conceptItem,
  .hintItem {
    padding-left: 1.25rem;
  }
}
```

# src/components/HomepageFeatures/index.js

```js
import React from 'react';
import clsx from 'clsx';
import styles from './styles.module.css';
import useDocusaurusContext from '@docusaurus/useDocusaurusContext';

function Feature({ illustration, title, description, fetchPriority }) {
  return (
    <div className={clsx('col col--4')}>
      <div className="text--center">
        <img
          src={illustration}
          className={styles.featureImg}
          width="450px"
          height="100%"
          role="img"
          alt=""
          fetchpriority={fetchPriority}
        />
      </div>
      <div className="text--center padding-horiz--md">
        <h2>{title}</h2>
        <p>{description}</p>
      </div>
    </div>
  );
}

export default function HomepageFeatures() {
  const { siteConfig } = useDocusaurusContext();

  return (
    <section className={styles.features}>
      <div className={`container ${styles.featuresContainer}`}>
        <div className="row">
          {siteConfig.customFields.featureList.map((props, idx) => (
            <Feature key={idx} fetchPriority={idx ? 'low' : 'high'} {...props} />
          ))}
        </div>
      </div>
    </section>
  );
}

```

# src/components/HomepageFeatures/styles.module.css

```css
.features {
  display: flex;
  align-items: center;
  padding: 5rem 0;
  width: 100%;
}

.featureImg {
  margin-bottom: 2.5rem;
  height: 100%;
}

@media screen and (max-width: 480px) {
  .featureImg {
    width: 350px;
  }
}


@media screen and (max-width: 997px) {
  .featureImg {
    width: 500px;
  }
}

@media screen and (min-width: 1280px) {
  .features {
    padding: 1rem 0;

  }

  .featuresContainer {
    max-width: 100%;
  }

  .featureImg {
    width: 450px;
  }
}

@media screen and (min-width: 1550px) {
  .featuresContainer {
    max-width: 90%;
  }

  .featureImg {
    width: 600px;
  }
}


@media screen and (min-width: 1980px) {
  .featuresContainer {
    max-width: 85%;
  }
}


```

# src/components/Icons.js

```js
import React from 'react';

export function ChevronDownIcon({ className, ...props }) {
  return (
    <svg
      className={className}
      viewBox="0 0 24 24"
      fill="none"
      stroke="currentColor"
      strokeWidth="2"
      strokeLinecap="round"
      strokeLinejoin="round"
      {...props}
    >
      <polyline points="6 9 12 15 18 9"></polyline>
    </svg>
  );
}

export function ChevronRightIcon({ className, ...props }) {
  return (
    <svg
      className={className}
      viewBox="0 0 24 24"
      fill="none"
      stroke="currentColor"
      strokeWidth="2"
      strokeLinecap="round"
      strokeLinejoin="round"
      {...props}
    >
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  );
}

export function InfoIcon({ className, ...props }) {
  return (
    <svg
      className={className}
      viewBox="0 0 24 24"
      fill="none"
      stroke="currentColor"
      strokeWidth="2"
      strokeLinecap="round"
      strokeLinejoin="round"
      {...props}
    >
      <circle cx="12" cy="12" r="10"></circle>
      <line x1="12" y1="16" x2="12" y2="12"></line>
      <line x1="12" y1="8" x2="12.01" y2="8"></line>
    </svg>
  );
}
```

# src/components/index.jsx

```jsx
export { default as BrowserWindow } from './BrowserWindow';
export { default as Screenshot } from './Screenshot';
export { default as Link } from './Link';
export { default as SlideViewer } from './SlideViewer';
export { default as SlideViewerWithCheck } from './SlideViewer/SlideViewerWithCheck';
export { default as SlideViewerFromConfig, MultiSlideViewer } from './SlideViewer/SlideViewerFromConfig';
```

# src/components/InteractiveDemo/index.js

```js
import React, { useState } from 'react';
import styles from './styles.module.css';

export default function InteractiveDemo({ 
  title, 
  description, 
  steps = [], 
  initialData = {},
  onComplete 
}) {
  const [currentStep, setCurrentStep] = useState(0);
  const [data, setData] = useState(initialData);
  const [isCompleted, setIsCompleted] = useState(false);

  const handleNext = () => {
    if (currentStep < steps.length - 1) {
      setCurrentStep(currentStep + 1);
    } else {
      setIsCompleted(true);
      if (onComplete) onComplete(data);
    }
  };

  const handlePrevious = () => {
    if (currentStep > 0) {
      setCurrentStep(currentStep - 1);
    }
  };

  const updateData = (key, value) => {
    setData(prev => ({ ...prev, [key]: value }));
  };

  const currentStepData = steps[currentStep] || {};

  return (
    <div className={styles.demoContainer}>
      <div className={styles.header}>
        <h3>{title}</h3>
        <p>{description}</p>
      </div>

      <div className={styles.progressIndicator}>
        {steps.map((_, index) => (
          <div 
            key={index}
            className={`${styles.progressDot} ${
              index <= currentStep ? styles.active : ''
            } ${
              index < currentStep ? styles.completed : ''
            }`}
            onClick={() => setCurrentStep(index)}
          />
        ))}
      </div>

      {!isCompleted ? (
        <div className={styles.stepContent}>
          <div className={styles.stepHeader}>
            <h4>Step {currentStep + 1}: {currentStepData.title}</h4>
            {currentStepData.timeEstimate && (
              <span className={styles.timeEstimate}>‚è±Ô∏è {currentStepData.timeEstimate}</span>
            )}
          </div>

          <div className={styles.stepBody}>
            {currentStepData.content}
            
            {currentStepData.interactive && (
              <div className={styles.interactive}>
                {currentStepData.interactive({ data, updateData })}
              </div>
            )}
          </div>

          <div className={styles.navigation}>
            <button 
              className={styles.navButton}
              onClick={handlePrevious}
              disabled={currentStep === 0}
            >
              ‚Üê Previous
            </button>
            
            <span className={styles.stepCounter}>
              {currentStep + 1} of {steps.length}
            </span>
            
            <button 
              className={styles.navButton}
              onClick={handleNext}
            >
              {currentStep === steps.length - 1 ? 'Complete' : 'Next ‚Üí'}
            </button>
          </div>
        </div>
      ) : (
        <div className={styles.completion}>
          <div className={styles.completionIcon}>üéâ</div>
          <h4>Demo Completed!</h4>
          <p>Great job! You've successfully completed the interactive demo.</p>
          <div className={styles.completionData}>
            <h5>Your Configuration:</h5>
            <pre>{JSON.stringify(data, null, 2)}</pre>
          </div>
          <button 
            className={styles.resetButton}
            onClick={() => {
              setCurrentStep(0);
              setData(initialData);
              setIsCompleted(false);
            }}
          >
            Try Again
          </button>
        </div>
      )}
    </div>
  );
}

export function ConfigBuilder({ title, config = {}, onChange }) {
  const [values, setValues] = useState(config);

  const handleChange = (key, value) => {
    const newValues = { ...values, [key]: value };
    setValues(newValues);
    if (onChange) onChange(newValues);
  };

  return (
    <div className={styles.configBuilder}>
      <h4>{title}</h4>
      <div className={styles.configForm}>
        {Object.entries(config).map(([key, defaultValue]) => (
          <div key={key} className={styles.configField}>
            <label className={styles.configLabel}>
              {key.replace(/([A-Z])/g, ' $1').replace(/^./, str => str.toUpperCase())}:
            </label>
            <input
              type="text"
              value={values[key] || defaultValue}
              onChange={(e) => handleChange(key, e.target.value)}
              className={styles.configInput}
              placeholder={String(defaultValue)}
            />
          </div>
        ))}
      </div>
    </div>
  );
}

export function ServiceTester({ serviceName, testUrl, testData }) {
  const [isLoading, setIsLoading] = useState(false);
  const [result, setResult] = useState(null);
  const [error, setError] = useState(null);

  const runTest = async () => {
    setIsLoading(true);
    setError(null);
    setResult(null);

    try {
      const response = await fetch(testUrl, {
        method: 'POST',
        headers: {
          'Content-Type': 'application/json',
        },
        body: JSON.stringify(testData),
      });

      if (!response.ok) {
        throw new Error(`HTTP ${response.status}: ${response.statusText}`);
      }

      const data = await response.json();
      setResult(data);
    } catch (err) {
      setError(err.message);
    } finally {
      setIsLoading(false);
    }
  };

  return (
    <div className={styles.serviceTester}>
      <div className={styles.testerHeader}>
        <h4>üîß Test {serviceName}</h4>
        <button 
          className={styles.testButton}
          onClick={runTest}
          disabled={isLoading}
        >
          {isLoading ? '‚è≥ Testing...' : 'üöÄ Run Test'}
        </button>
      </div>

      {error && (
        <div className={styles.error}>
          <strong>‚ùå Error:</strong> {error}
        </div>
      )}

      {result && (
        <div className={styles.success}>
          <strong>‚úÖ Success!</strong>
          <pre className={styles.resultData}>{JSON.stringify(result, null, 2)}</pre>
        </div>
      )}

      <details className={styles.testDetails}>
        <summary>Test Configuration</summary>
        <div className={styles.testConfig}>
          <p><strong>URL:</strong> {testUrl}</p>
          <p><strong>Method:</strong> POST</p>
          <p><strong>Data:</strong></p>
          <pre>{JSON.stringify(testData, null, 2)}</pre>
        </div>
      </details>
    </div>
  );
}
```

# src/components/InteractiveDemo/styles.module.css

```css
.demoContainer {
  border: 2px solid #e1e8ed;
  border-radius: 12px;
  background: #ffffff;
  margin: 2rem 0;
  overflow: hidden;
  box-shadow: 0 4px 16px rgba(0, 0, 0, 0.1);
}

.header {
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  color: white;
  padding: 1.5rem;
  text-align: center;
}

.header h3 {
  margin: 0 0 0.5rem 0;
  font-size: 1.4rem;
}

.header p {
  margin: 0;
  opacity: 0.9;
}

.progressIndicator {
  display: flex;
  justify-content: center;
  gap: 0.5rem;
  padding: 1rem;
  background: #f8f9fa;
  border-bottom: 1px solid #e1e8ed;
}

.progressDot {
  width: 1rem;
  height: 1rem;
  border-radius: 50%;
  background: #dee2e6;
  cursor: pointer;
  transition: all 0.3s ease;
}

.progressDot.active {
  background: #007bff;
  transform: scale(1.2);
}

.progressDot.completed {
  background: #28a745;
}

.stepContent {
  padding: 2rem;
}

.stepHeader {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 1.5rem;
  padding-bottom: 1rem;
  border-bottom: 1px solid #e1e8ed;
}

.stepHeader h4 {
  margin: 0;
  color: #495057;
}

.timeEstimate {
  color: #6c757d;
  font-size: 0.9rem;
}

.stepBody {
  margin-bottom: 2rem;
  line-height: 1.6;
}

.interactive {
  background: #f8f9fa;
  border: 1px solid #e1e8ed;
  border-radius: 8px;
  padding: 1.5rem;
  margin: 1rem 0;
}

.navigation {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding-top: 1rem;
  border-top: 1px solid #e1e8ed;
}

.navButton {
  background: #007bff;
  color: white;
  border: none;
  padding: 0.75rem 1.5rem;
  border-radius: 6px;
  cursor: pointer;
  font-weight: 500;
  transition: all 0.2s ease;
}

.navButton:hover:not(:disabled) {
  background: #0056b3;
  transform: translateY(-2px);
}

.navButton:disabled {
  background: #6c757d;
  cursor: not-allowed;
  transform: none;
}

.stepCounter {
  color: #6c757d;
  font-weight: 500;
}

.completion {
  padding: 3rem 2rem;
  text-align: center;
}

.completionIcon {
  font-size: 4rem;
  margin-bottom: 1rem;
}

.completion h4 {
  color: #28a745;
  margin-bottom: 1rem;
}

.completionData {
  background: #f8f9fa;
  border: 1px solid #e1e8ed;
  border-radius: 8px;
  padding: 1rem;
  margin: 1.5rem 0;
  text-align: left;
}

.completionData h5 {
  margin: 0 0 0.5rem 0;
  color: #495057;
}

.completionData pre {
  background: #343a40;
  color: #ffffff;
  padding: 1rem;
  border-radius: 4px;
  overflow-x: auto;
  font-size: 0.9rem;
}

.resetButton {
  background: #6c757d;
  color: white;
  border: none;
  padding: 0.75rem 1.5rem;
  border-radius: 6px;
  cursor: pointer;
  transition: background-color 0.2s ease;
}

.resetButton:hover {
  background: #5a6268;
}

/* Config Builder */
.configBuilder {
  background: #ffffff;
  border: 1px solid #e1e8ed;
  border-radius: 8px;
  padding: 1.5rem;
  margin: 1rem 0;
}

.configBuilder h4 {
  margin: 0 0 1rem 0;
  color: #495057;
}

.configForm {
  display: flex;
  flex-direction: column;
  gap: 1rem;
}

.configField {
  display: flex;
  flex-direction: column;
  gap: 0.5rem;
}

.configLabel {
  font-weight: 500;
  color: #495057;
}

.configInput {
  padding: 0.75rem;
  border: 1px solid #ced4da;
  border-radius: 4px;
  font-size: 1rem;
  transition: border-color 0.2s ease;
}

.configInput:focus {
  outline: none;
  border-color: #007bff;
  box-shadow: 0 0 0 2px rgba(0, 123, 255, 0.25);
}

/* Service Tester */
.serviceTester {
  background: #ffffff;
  border: 1px solid #e1e8ed;
  border-radius: 8px;
  margin: 1rem 0;
  overflow: hidden;
}

.testerHeader {
  background: #f8f9fa;
  padding: 1rem 1.5rem;
  display: flex;
  justify-content: space-between;
  align-items: center;
  border-bottom: 1px solid #e1e8ed;
}

.testerHeader h4 {
  margin: 0;
  color: #495057;
}

.testButton {
  background: #28a745;
  color: white;
  border: none;
  padding: 0.5rem 1rem;
  border-radius: 6px;
  cursor: pointer;
  font-weight: 500;
  transition: all 0.2s ease;
}

.testButton:hover:not(:disabled) {
  background: #218838;
  transform: translateY(-1px);
}

.testButton:disabled {
  background: #6c757d;
  cursor: not-allowed;
  transform: none;
}

.error {
  background: #f8d7da;
  color: #721c24;
  padding: 1rem 1.5rem;
  border-bottom: 1px solid #f5c6cb;
}

.success {
  background: #d4edda;
  color: #155724;
  padding: 1rem 1.5rem;
  border-bottom: 1px solid #c3e6cb;
}

.resultData {
  background: #343a40;
  color: #ffffff;
  padding: 1rem;
  border-radius: 4px;
  margin-top: 0.5rem;
  overflow-x: auto;
  font-size: 0.9rem;
}

.testDetails {
  padding: 1rem 1.5rem;
}

.testDetails summary {
  cursor: pointer;
  font-weight: 500;
  color: #495057;
  margin-bottom: 0.5rem;
}

.testConfig {
  background: #f8f9fa;
  padding: 1rem;
  border-radius: 4px;
  margin-top: 0.5rem;
}

.testConfig p {
  margin: 0.5rem 0;
}

.testConfig pre {
  background: #343a40;
  color: #ffffff;
  padding: 1rem;
  border-radius: 4px;
  overflow-x: auto;
  font-size: 0.9rem;
}
```

# src/components/Link.js

```js
import React from "react";
import Link from '@docusaurus/Link';
import useDocusaurusContext from '@docusaurus/useDocusaurusContext';

export default function UTMLink(props) {
  const context = useDocusaurusContext();
  const utmParams = context?.siteConfig?.customFields?.utmParams || '';
  const to = `${props.to}?${utmParams}`;
  return <Link {...props} to={to} />;
}

```

# src/components/LiveStatusBadge/CodespaceStatusBadge.js

```js
import React from 'react';
import LiveStatusBadge from './index.js';

/**
 * Specialized status badge for initial Codespace setup validation
 * Used right after attendees launch their Codespace environment
 */
export default function CodespaceStatusBadge({ 
  showDetails = true,
  refreshInterval = 15000 // More frequent checks during setup
}) {
  const codespaceSpecificSystems = [
    {
      name: "GitHub Codespace Environment",
      endpoint: null, // Will be detected automatically
      description: "Development container and VS Code",
      test: () => {
        // Check if we're running in a Codespace
        if (typeof window !== 'undefined') {
          const hostname = window.location.hostname;
          return hostname.includes('app.github.dev') || hostname.includes('preview.app.github.dev');
        }
        return false;
      },
      localTest: true
    },
    {
      name: "Docker Environment",
      endpoint: "http://localhost:2375/version", // Docker daemon endpoint
      description: "Container runtime for workshop services",
      local: true,
      fallbackTest: async () => {
        // Fallback: Check if we can reach typical Docker services
        try {
          const response = await fetch('http://localhost:5678', { method: 'HEAD', mode: 'no-cors' });
          return true; // If n8n is accessible, Docker is likely running
        } catch {
          return false;
        }
      }
    },
    {
      name: "Port Forwarding",
      endpoint: null,
      description: "Codespace port accessibility",
      test: async () => {
        // Test if we can access forwarded ports
        if (typeof window === 'undefined') return false;
        
        const hostname = window.location.hostname;
        if (!hostname.includes('app.github.dev')) return false;
        
        // Extract codespace ID and test a known port
        const parts = hostname.split('-');
        if (parts.length >= 2) {
          const codespaceId = parts[0];
          try {
            // Test if port 3000 (docs) is accessible - it should be since we're viewing it
            const testUrl = `https://${codespaceId}-3000.app.github.dev`;
            const response = await fetch(testUrl, { method: 'HEAD', mode: 'no-cors' });
            return true;
          } catch {
            return false;
          }
        }
        return false;
      },
      localTest: true
    }
  ];

  return (
    <div>
      <LiveStatusBadge 
        systems={codespaceSpecificSystems}
        showDetails={showDetails}
        refreshInterval={refreshInterval}
      />
      
      <div style={{ 
        marginTop: '1rem', 
        padding: '1rem', 
        background: 'var(--ifm-color-info-contrast-background)',
        borderRadius: '4px',
        border: '1px solid var(--ifm-color-info-contrast-border)'
      }}>
        <h4 style={{ margin: '0 0 0.5rem 0', color: 'var(--ifm-color-info)' }}>
          üöÄ Codespace Setup Checklist
        </h4>
        <ul style={{ margin: '0', paddingLeft: '1.5rem' }}>
          <li><strong>Environment Active</strong> - Your Codespace container is running</li>
          <li><strong>Docker Available</strong> - Container runtime ready for workshop services</li>
          <li><strong>Port Forwarding</strong> - Services will be accessible through secure URLs</li>
        </ul>
        <p style={{ margin: '0.5rem 0 0 0', fontSize: '0.9rem', color: 'var(--ifm-color-content-secondary)' }}>
          üí° <strong>Next Step:</strong> Once all systems show green, you're ready to start the Docker services!
        </p>
      </div>
    </div>
  );
}
```

# src/components/LiveStatusBadge/DockerServicesStatusBadge.js

```js
import React from 'react';
import LiveStatusBadge from './index.js';

/**
 * Specialized status badge for Docker services validation
 * Used after attendees run `npm run dev` or `docker-compose up`
 */
export default function DockerServicesStatusBadge({ 
  showDetails = true,
  refreshInterval = 10000 // Frequent checks during service startup
}) {
  // Auto-detect Codespace environment for service URLs
  const getCodespaceUrl = (port) => {
    if (typeof window !== 'undefined') {
      const hostname = window.location.hostname;
      if (hostname.includes('app.github.dev') || hostname.includes('preview.app.github.dev')) {
        const parts = hostname.split('-');
        if (parts.length >= 2) {
          const codespaceId = parts[0];
          return `https://${codespaceId}-${port}.app.github.dev`;
        }
      }
    }
    return `http://localhost:${port}`;
  };

  const dockerServiceSystems = [
    {
      name: "n8n Workflow Engine",
      endpoint: `${getCodespaceUrl(5678)}/healthz`,
      description: "Visual workflow automation platform",
      local: true,
      expectedResponse: { status: 'ok' },
      troubleshooting: [
        "Check if Docker containers are running: `docker ps`",
        "Restart n8n service: `docker-compose restart n8n`",
        "Check n8n logs: `docker-compose logs n8n`"
      ]
    },
    {
      name: "Documentation Site",
      endpoint: `${getCodespaceUrl(3000)}`,
      description: "This workshop documentation (should be running)",
      local: true,
      expectedResponse: null, // HTML response
      isCurrentSite: true
    }
  ];

  return (
    <div>
      <LiveStatusBadge 
        systems={dockerServiceSystems}
        showDetails={showDetails}
        refreshInterval={refreshInterval}
      />
      
      <div style={{ 
        marginTop: '1rem', 
        padding: '1rem', 
        background: 'var(--ifm-color-success-contrast-background)',
        borderRadius: '4px',
        border: '1px solid var(--ifm-color-success-contrast-border)'
      }}>
        <h4 style={{ margin: '0 0 0.5rem 0', color: 'var(--ifm-color-success)' }}>
          üê≥ Docker Services Status
        </h4>
        <div style={{ display: 'grid', gridTemplateColumns: 'repeat(auto-fit, minmax(250px, 1fr))', gap: '1rem', margin: '1rem 0' }}>
          <div>
            <strong>n8n Workflow Engine</strong>
            <br />
            <small>Visual workflow builder - your main tool</small>
          </div>
          <div>
            <strong>Documentation Site</strong>
            <br />
            <small>Workshop guidance (this site)</small>
          </div>
        </div>
        
        <details style={{ marginTop: '1rem' }}>
          <summary style={{ cursor: 'pointer', fontWeight: '600' }}>
            üîß Troubleshooting Commands
          </summary>
          <div style={{ marginTop: '0.5rem', fontFamily: 'var(--ifm-font-family-monospace)', fontSize: '0.85rem' }}>
            <div><strong>Check all services:</strong> <code>docker ps</code></div>
            <div><strong>View service logs:</strong> <code>docker-compose logs [service-name]</code></div>
            <div><strong>Restart services:</strong> <code>docker-compose restart</code></div>
            <div><strong>Stop and restart all:</strong> <code>docker-compose down && docker-compose up -d</code></div>
          </div>
        </details>
        
        <p style={{ margin: '1rem 0 0 0', fontSize: '0.9rem', color: 'var(--ifm-color-content-secondary)' }}>
          üí° <strong>Success Criteria:</strong> All services showing "Online" means you're ready to build workflows!
        </p>
      </div>
    </div>
  );
}
```

# src/components/LiveStatusBadge/index.js

```js
import React, { useState, useEffect } from 'react';
import styles from './styles.module.css';

// Auto-detect Codespace environment and build n8n URL
const detectCodespaceN8nUrl = () => {
  if (typeof window !== 'undefined') {
    const hostname = window.location.hostname;
    // Check if we're in a Codespace environment
    if (hostname.includes('app.github.dev') || hostname.includes('preview.app.github.dev')) {
      // Extract the Codespace identifier and build n8n URL
      const parts = hostname.split('-');
      if (parts.length >= 2) {
        const codespaceId = parts[0];
        return `https://${codespaceId}-5678.app.github.dev/healthz`;
      }
    }
  }
  return null;
};

// Get saved configuration from localStorage
const getSavedConfig = () => {
  if (typeof window !== 'undefined') {
    try {
      const saved = localStorage.getItem('workshop-status-config');
      return saved ? JSON.parse(saved) : {};
    } catch (error) {
      console.warn('Could not load saved configuration:', error);
      return {};
    }
  }
  return {};
};

// Save configuration to localStorage
const saveConfig = (config) => {
  if (typeof window !== 'undefined') {
    try {
      localStorage.setItem('workshop-status-config', JSON.stringify(config));
    } catch (error) {
      console.warn('Could not save configuration:', error);
    }
  }
};

export default function LiveStatusBadge({ 
  systems = null, // Will be built dynamically based on config
  refreshInterval = 30000, // 30 seconds
  showDetails = false
}) {
  const [systemStatus, setSystemStatus] = useState({});
  const [lastUpdate, setLastUpdate] = useState(null);
  const [isExpanded, setIsExpanded] = useState(showDetails);
  const [showConfig, setShowConfig] = useState(false);
  const [config, setConfig] = useState({});
  const [configForm, setConfigForm] = useState({
    n8nUrl: '',
    mongoConnectionString: '',
    codespaceId: ''
  });

  // Initialize configuration on mount
  useEffect(() => {
    const savedConfig = getSavedConfig();
    const detectedN8nUrl = detectCodespaceN8nUrl();
    
    const initialConfig = {
      n8nUrl: savedConfig.n8nUrl || detectedN8nUrl || '',
      mongoConnectionString: savedConfig.mongoConnectionString || '',
      codespaceId: savedConfig.codespaceId || ''
    };
    
    setConfig(initialConfig);
    setConfigForm(initialConfig);
    
    // If no configuration exists, show config panel
    if (!savedConfig.n8nUrl && !detectedN8nUrl) {
      setShowConfig(true);
    }
  }, []);

  // Build systems array dynamically based on configuration
  const buildSystems = () => {
    const systemsArray = [
      {
        name: "Workshop API Gateway",
        endpoint: "https://workshop-embedding-api.vercel.app/api/health",
        description: "Embedding and proxy services",
        configurable: false,
        showDetails: true,
        critical: true
      }
    ];

    // Add n8n system if configured
    if (config.n8nUrl) {
      systemsArray.push({
        name: "n8n Workflow Engine",
        endpoint: config.n8nUrl,
        description: "Visual workflow automation",
        local: true,
        configurable: true
      });
    }

    // Add MongoDB Atlas system
    systemsArray.push({
      name: "MongoDB Atlas",
      endpoint: "https://workshop-embedding-api.vercel.app/api/check-db",
      description: config.mongoConnectionString ? 
        "Vector database (your Atlas instance)" : 
        "Vector database (generic check)",
      configurable: true,
      connectionConfigured: !!config.mongoConnectionString
    });

    return systemsArray;
  };

  const currentSystems = systems || buildSystems();

  // Check system health
  const checkSystemHealth = async (system) => {
    try {
      const controller = new AbortController();
      const timeoutId = setTimeout(() => controller.abort(), 5000); // 5 second timeout
      
      // For MongoDB Atlas, if we have a connection string, test it via the workshop API
      if (system.name === 'MongoDB Atlas' && config.mongoConnectionString) {
        const response = await fetch('https://workshop-embedding-api.vercel.app/api/check-db', {
          method: 'POST',
          headers: { 'Content-Type': 'application/json' },
          body: JSON.stringify({ connectionString: config.mongoConnectionString }),
          signal: controller.signal
        });
        
        clearTimeout(timeoutId);
        
        if (response.ok) {
          const data = await response.json();
          return { 
            status: 'ok', 
            responseTime: Date.now(),
            data: data,
            message: 'Your Atlas connection is working!'
          };
        } else {
          const errorData = await response.json().catch(() => ({}));
          return { 
            status: 'error', 
            responseTime: Date.now(),
            error: errorData.error || `HTTP ${response.status}`
          };
        }
      }
      
      // Standard health check for other systems
      const response = await fetch(system.endpoint, {
        method: 'GET',
        signal: controller.signal,
        mode: system.local ? 'no-cors' : 'cors'
      });
      
      clearTimeout(timeoutId);
      
      if (system.local && response.type === 'opaque') {
        // For local services, opaque response means it's reachable
        return { status: 'ok', responseTime: Date.now() };
      }
      
      if (response.ok) {
        const data = await response.json().catch(() => ({}));
        
        // For API Gateway, interpret the status field
        let interpretedStatus = 'ok';
        let message = '';
        
        if (data.status === 'partial') {
          // Some services are down but core functionality works
          interpretedStatus = 'warning';
          message = data.message || 'Some services unavailable';
        } else if (data.status === 'error' || data.status === 'degraded') {
          interpretedStatus = 'error';
          message = data.message || 'Service degraded';
        } else if (data.status === 'ok' || data.status === 'healthy') {
          interpretedStatus = 'ok';
          message = 'All services operational';
        }
        
        return { 
          status: interpretedStatus, 
          responseTime: Date.now(),
          data: data,
          message: message
        };
      } else {
        return { 
          status: 'error', 
          responseTime: Date.now(),
          error: `HTTP ${response.status}`
        };
      }
    } catch (error) {
      if (error.name === 'AbortError') {
        return { status: 'timeout', error: 'Request timeout' };
      }
      return { 
        status: 'error', 
        error: system.local ? 'Service not running locally' : error.message 
      };
    }
  };

  // Check all systems
  const checkAllSystems = async () => {
    const results = {};
    
    for (const system of currentSystems) {
      results[system.name] = await checkSystemHealth(system);
    }
    
    setSystemStatus(results);
    setLastUpdate(new Date());
  };

  // Configuration form handlers
  const handleConfigSubmit = (e) => {
    e.preventDefault();
    const newConfig = { ...configForm };
    setConfig(newConfig);
    saveConfig(newConfig);
    setShowConfig(false);
    // Re-check systems with new config
    setTimeout(checkAllSystems, 100);
  };

  const handleConfigReset = () => {
    const detectedN8nUrl = detectCodespaceN8nUrl();
    const resetConfig = {
      n8nUrl: detectedN8nUrl || '',
      mongoConnectionString: '',
      codespaceId: ''
    };
    setConfigForm(resetConfig);
  };

  // Initial check and setup interval
  useEffect(() => {
    if (currentSystems.length > 0) {
      checkAllSystems();
    }
    
    const interval = setInterval(() => {
      if (currentSystems.length > 0) {
        checkAllSystems();
      }
    }, refreshInterval);
    return () => clearInterval(interval);
  }, [refreshInterval, config]); // Re-run when config changes

  // Get overall system status
  const getOverallStatus = () => {
    const statuses = Object.values(systemStatus);
    if (statuses.length === 0) return 'loading';
    if (statuses.every(s => s.status === 'ok')) return 'healthy';
    if (statuses.some(s => s.status === 'error' || s.status === 'timeout')) return 'degraded';
    if (statuses.some(s => s.status === 'warning')) return 'partial';
    return 'checking';
  };

  const overallStatus = getOverallStatus();

  return (
    <div className={styles.statusContainer}>
      <div 
        className={styles.statusHeader}
        onClick={() => setIsExpanded(!isExpanded)}
      >
        <div className={styles.statusIndicator}>
          <div className={`${styles.statusDot} ${styles[overallStatus]}`}></div>
          <span className={styles.statusText}>
            Workshop Systems: {overallStatus === 'healthy' ? 'All Online' : 
                              overallStatus === 'degraded' ? 'Issues Detected' : 
                              overallStatus === 'partial' ? 'Partially Available' :
                              overallStatus === 'loading' ? 'Checking...' : 'Unknown'}
          </span>
        </div>
        
        <div className={styles.controls}>
          {lastUpdate && (
            <span className={styles.lastUpdate}>
              Last check: {lastUpdate.toLocaleTimeString()}
            </span>
          )}
          <button 
            onClick={(e) => {
              e.stopPropagation();
              setShowConfig(!showConfig);
            }}
            className={styles.refreshButton}
            title="Configure endpoints"
          >
            ‚öôÔ∏è
          </button>
          <button 
            onClick={(e) => {
              e.stopPropagation();
              checkAllSystems();
            }}
            className={styles.refreshButton}
            title="Refresh status"
          >
            üîÑ
          </button>
          <span className={styles.expandIcon}>
            {isExpanded ? '‚ñº' : '‚ñ∂'}
          </span>
        </div>
      </div>

      {showConfig && (
        <div className={styles.configPanel}>
          <form onSubmit={handleConfigSubmit} className={styles.configForm}>
            <h4>üîß Configure Your Workshop Environment</h4>
            <p className={styles.configHelp}>
              Personalize the status checks for your specific Codespace and MongoDB Atlas instance.
            </p>
            
            <div className={styles.configField}>
              <label htmlFor="n8nUrl">n8n Workflow Engine URL:</label>
              <input
                type="text"
                id="n8nUrl"
                value={configForm.n8nUrl}
                onChange={(e) => setConfigForm({...configForm, n8nUrl: e.target.value})}
                placeholder="https://your-codespace-5678.app.github.dev/healthz"
                className={styles.configInput}
              />
              <small className={styles.configHint}>
                üí° Find this in your Codespace: Go to the PORTS tab and look for port 5678, then add '/healthz' to the URL
              </small>
            </div>

            <div className={styles.configField}>
              <label htmlFor="mongoConnectionString">MongoDB Atlas Connection String (optional):</label>
              <input
                type="password"
                id="mongoConnectionString"
                value={configForm.mongoConnectionString}
                onChange={(e) => setConfigForm({...configForm, mongoConnectionString: e.target.value})}
                placeholder="mongodb+srv://username:password@cluster.mongodb.net/database"
                className={styles.configInput}
              />
              <small className={styles.configHint}>
                üí° Add your Atlas connection string to verify your specific database connection. Leave empty for generic checks.
              </small>
            </div>

            <div className={styles.configActions}>
              <button type="submit" className={styles.configSave}>
                Save Configuration
              </button>
              <button type="button" onClick={handleConfigReset} className={styles.configReset}>
                Auto-Detect
              </button>
              <button type="button" onClick={() => setShowConfig(false)} className={styles.configCancel}>
                Cancel
              </button>
            </div>
          </form>
        </div>
      )}

      {isExpanded && (
        <div className={styles.systemDetails}>
          {currentSystems.map((system) => {
            const status = systemStatus[system.name] || { status: 'loading' };
            
            return (
              <div key={system.name} className={styles.systemRow}>
                <div className={styles.systemInfo}>
                  <div className={`${styles.systemDot} ${styles[status.status]}`}></div>
                  <div>
                    <div className={styles.systemName}>{system.name}</div>
                    <div className={styles.systemDescription}>{system.description}</div>
                  </div>
                </div>
                
                <div className={styles.systemStatus}>
                  <span className={`${styles.statusLabel} ${styles[status.status]}`}>
                    {status.status === 'ok' ? 'Online' :
                     status.status === 'error' ? 'Error' :
                     status.status === 'warning' ? 'Partial' :
                     status.status === 'timeout' ? 'Timeout' : 'Checking...'}
                  </span>
                  
                  {status.error && (
                    <div className={styles.errorMessage}>{status.error}</div>
                  )}
                  
                  {status.message && status.status === 'ok' && (
                    <div className={styles.successMessage}>{status.message}</div>
                  )}
                  
                  {/* Enhanced details for API Gateway */}
                  {system.showDetails && status.data && status.status === 'ok' && (
                    <div className={styles.apiDetails}>
                      {status.data.services && (
                        <div className={styles.servicesStatus}>
                          <small><strong>Services:</strong></small>
                          {Object.entries(status.data.services).map(([service, info]) => (
                            <div key={service} className={styles.serviceItem}>
                              <span className={`${styles.serviceDot} ${info.available ? styles.ok : styles.error}`}></span>
                              <span className={styles.serviceName}>
                                {service.replace('_', ' ')}: {info.available ? 'Available' : 'Unavailable'}
                              </span>
                              {info.provider && <span className={styles.serviceProvider}>({info.provider})</span>}
                            </div>
                          ))}
                        </div>
                      )}
                      {status.data.uptime && (
                        <div className={styles.uptimeInfo}>
                          <small>Uptime: {Math.floor(status.data.uptime / 60)} minutes</small>
                        </div>
                      )}
                      {status.data.version && (
                        <div className={styles.versionInfo}>
                          <small>Version: {status.data.version}</small>
                        </div>
                      )}
                    </div>
                  )}
                  
                  {system.local && status.status !== 'ok' && (
                    <div className={styles.localHelp}>
                      üí° Make sure your Codespace is running and n8n is started
                    </div>
                  )}
                </div>
              </div>
            );
          })}
          
          <div className={styles.statusFooter}>
            <div className={styles.helpText}>
              {overallStatus === 'healthy' ? 
                '‚úÖ All systems operational - ready for workshop exercises!' :
                overallStatus === 'partial' ?
                'üü° Some services partially available - core features should work' :
                '‚ö†Ô∏è Some systems need attention - check the details above'}
            </div>
            
            <div className={styles.troubleshootLinks}>
              <a href="/docs/docker-troubleshooting" className={styles.helpLink}>
                üîß Troubleshooting Guide
              </a>
              <a href="/docs/github-codespaces" className={styles.helpLink}>
                ‚òÅÔ∏è Codespace Setup
              </a>
            </div>
          </div>
        </div>
      )}
    </div>
  );
}

// Compact version for inline use
export function StatusDot({ 
  system, 
  endpoint, 
  size = 'small',
  showLabel = true 
}) {
  const [status, setStatus] = useState('loading');
  
  useEffect(() => {
    const checkStatus = async () => {
      try {
        const response = await fetch(endpoint, { 
          method: 'GET',
          signal: AbortSignal.timeout(3000)
        });
        setStatus(response.ok ? 'ok' : 'error');
      } catch (error) {
        setStatus('error');
      }
    };
    
    checkStatus();
    const interval = setInterval(checkStatus, 60000); // Check every minute
    return () => clearInterval(interval);
  }, [endpoint]);

  return (
    <span className={`${styles.inlineStatus} ${styles[size]}`}>
      <div className={`${styles.statusDot} ${styles[status]}`}></div>
      {showLabel && <span>{system}: {status === 'ok' ? 'Online' : 'Offline'}</span>}
    </span>
  );
}

// System health dashboard for instructor view
export function SystemHealthDashboard() {
  return (
    <div className={styles.dashboard}>
      <h3>üñ•Ô∏è Workshop System Health</h3>
      <LiveStatusBadge showDetails={true} refreshInterval={15000} />
      
      <div className={styles.dashboardHelp}>
        <h4>For Instructors:</h4>
        <ul>
          <li>Green: System is responsive and healthy</li>
          <li>Yellow: System responding but may be slow</li>
          <li>Red: System unreachable or error detected</li>
        </ul>
        
        <p>
          <strong>Before starting exercises:</strong> Verify all systems show green.
          If any are red, use the troubleshooting links or have attendees switch to working systems.
        </p>
      </div>
    </div>
  );
}

// Import and re-export specialized status badge components
export { default as CodespaceStatusBadge } from './CodespaceStatusBadge.js';
export { default as DockerServicesStatusBadge } from './DockerServicesStatusBadge.js';
export { default as MongoDBAtlasStatusBadge } from './MongoDBAtlasStatusBadge.js';
export { default as VoyageAIStatusBadge } from './VoyageAIStatusBadge.js';
export { default as WorkflowTestBadge } from './WorkflowTestBadge.js';
```

# src/components/LiveStatusBadge/MongoDBAtlasStatusBadge.js

```js
import React, { useState, useEffect } from 'react';
import LiveStatusBadge from './index.js';

/**
 * Specialized status badge for MongoDB Atlas setup validation
 * Used when attendees configure their MongoDB Atlas connection
 */
export default function MongoDBAtlasStatusBadge({ 
  showDetails = true,
  refreshInterval = 20000, // Less frequent for external service
  connectionString = null // Allow passing connection string for testing
}) {
  const [atlasConfig, setAtlasConfig] = useState({
    connectionString: connectionString || '',
    clusterName: '',
    database: 'workshop'
  });
  const [showConnectionForm, setShowConnectionForm] = useState(false);

  // Load saved Atlas configuration
  useEffect(() => {
    const savedConfig = localStorage.getItem('workshop-atlas-config');
    if (savedConfig) {
      try {
        const config = JSON.parse(savedConfig);
        setAtlasConfig(config);
      } catch (error) {
        console.warn('Could not load Atlas configuration:', error);
      }
    } else if (!connectionString) {
      setShowConnectionForm(true); // Show config form if no saved config
    }
  }, [connectionString]);

  const saveAtlasConfig = (config) => {
    try {
      localStorage.setItem('workshop-atlas-config', JSON.stringify(config));
    } catch (error) {
      console.warn('Could not save Atlas configuration:', error);
    }
  };

  const atlasSpecificSystems = [
    {
      name: "MongoDB Atlas Cluster",
      endpoint: "https://workshop-embedding-api.vercel.app/api/atlas-test",
      description: "Cloud MongoDB cluster connectivity",
      method: "POST",
      body: {
        connectionString: atlasConfig.connectionString,
        database: atlasConfig.database
      },
      expectedResponse: { status: 'connected' },
      configurable: true
    },
    {
      name: "Vector Search Index",
      endpoint: "https://workshop-embedding-api.vercel.app/api/vector-index-test", 
      description: "AI-powered search capabilities",
      method: "POST",
      body: {
        connectionString: atlasConfig.connectionString,
        database: atlasConfig.database,
        collection: 'embeddings'
      },
      dependsOn: "MongoDB Atlas Cluster",
      configurable: true
    },
    {
      name: "Database Permissions",
      endpoint: "https://workshop-embedding-api.vercel.app/api/permissions-test",
      description: "Read/write access verification", 
      method: "POST",
      body: {
        connectionString: atlasConfig.connectionString,
        database: atlasConfig.database
      },
      dependsOn: "MongoDB Atlas Cluster",
      configurable: true
    }
  ];

  const handleConfigSubmit = (e) => {
    e.preventDefault();
    const formData = new FormData(e.target);
    const newConfig = {
      connectionString: formData.get('connectionString'),
      clusterName: formData.get('clusterName') || 'workshop-cluster',
      database: formData.get('database') || 'workshop'
    };
    
    setAtlasConfig(newConfig);
    saveAtlasConfig(newConfig);
    setShowConnectionForm(false);
  };

  return (
    <div>
      <LiveStatusBadge 
        systems={atlasSpecificSystems}
        showDetails={showDetails}
        refreshInterval={refreshInterval}
      />
      
      {showConnectionForm && (
        <div style={{ 
          marginTop: '1rem', 
          padding: '1.5rem', 
          background: 'var(--ifm-color-warning-contrast-background)',
          borderRadius: '4px',
          border: '1px solid var(--ifm-color-warning-contrast-border)'
        }}>
          <h4 style={{ margin: '0 0 1rem 0', color: 'var(--ifm-color-warning)' }}>
            üîß Configure MongoDB Atlas Connection
          </h4>
          
          <form onSubmit={handleConfigSubmit}>
            <div style={{ marginBottom: '1rem' }}>
              <label htmlFor="connectionString" style={{ display: 'block', marginBottom: '0.5rem', fontWeight: '600' }}>
                MongoDB Atlas Connection String:
              </label>
              <input
                type="text"
                id="connectionString"
                name="connectionString"
                placeholder="mongodb+srv://username:password@cluster.mongodb.net/"
                style={{
                  width: '100%',
                  padding: '0.75rem',
                  border: '1px solid var(--ifm-color-emphasis-300)',
                  borderRadius: '4px',
                  fontFamily: 'var(--ifm-font-family-monospace)',
                  fontSize: '0.85rem'
                }}
                required
                defaultValue={atlasConfig.connectionString}
              />
              <small style={{ color: 'var(--ifm-color-content-secondary)', fontSize: '0.8rem' }}>
                üí° Find this in your MongoDB Atlas dashboard under "Connect" ‚Üí "Connect your application"
              </small>
            </div>

            <div style={{ display: 'grid', gridTemplateColumns: '1fr 1fr', gap: '1rem', marginBottom: '1rem' }}>
              <div>
                <label htmlFor="clusterName" style={{ display: 'block', marginBottom: '0.5rem', fontWeight: '600' }}>
                  Cluster Name (optional):
                </label>
                <input
                  type="text"
                  id="clusterName"
                  name="clusterName"
                  placeholder="workshop-cluster"
                  style={{
                    width: '100%',
                    padding: '0.75rem',
                    border: '1px solid var(--ifm-color-emphasis-300)',
                    borderRadius: '4px'
                  }}
                  defaultValue={atlasConfig.clusterName}
                />
              </div>
              
              <div>
                <label htmlFor="database" style={{ display: 'block', marginBottom: '0.5rem', fontWeight: '600' }}>
                  Database Name:
                </label>
                <input
                  type="text"
                  id="database"
                  name="database"
                  placeholder="workshop"
                  style={{
                    width: '100%',
                    padding: '0.75rem',
                    border: '1px solid var(--ifm-color-emphasis-300)',
                    borderRadius: '4px'
                  }}
                  defaultValue={atlasConfig.database}
                />
              </div>
            </div>

            <div style={{ display: 'flex', gap: '0.75rem', justifyContent: 'flex-end' }}>
              <button
                type="button"
                onClick={() => setShowConnectionForm(false)}
                style={{
                  padding: '0.5rem 1rem',
                  border: '1px solid var(--ifm-color-emphasis-300)',
                  borderRadius: '4px',
                  background: 'var(--ifm-background-color)',
                  cursor: 'pointer'
                }}
              >
                Cancel
              </button>
              <button
                type="submit"
                style={{
                  padding: '0.5rem 1rem',
                  border: 'none',
                  borderRadius: '4px',
                  background: 'var(--ifm-color-primary)',
                  color: 'white',
                  cursor: 'pointer'
                }}
              >
                Test Connection
              </button>
            </div>
          </form>
        </div>
      )}
      
      <div style={{ 
        marginTop: '1rem', 
        padding: '1rem', 
        background: 'var(--ifm-color-info-contrast-background)',
        borderRadius: '4px',
        border: '1px solid var(--ifm-color-info-contrast-border)'
      }}>
        <h4 style={{ margin: '0 0 0.5rem 0', color: 'var(--ifm-color-info)' }}>
          ‚òÅÔ∏è MongoDB Atlas Setup Validation
        </h4>
        <div style={{ display: 'grid', gridTemplateColumns: 'repeat(auto-fit, minmax(200px, 1fr))', gap: '1rem', margin: '1rem 0' }}>
          <div>
            <strong>‚úÖ Cluster Connectivity</strong>
            <br />
            <small>Basic connection to your Atlas cluster</small>
          </div>
          <div>
            <strong>üîç Vector Search Ready</strong>
            <br />
            <small>AI-powered search index available</small>
          </div>
          <div>
            <strong>üîê Permissions Verified</strong>
            <br />
            <small>Read/write access confirmed</small>
          </div>
        </div>
        
        <details style={{ marginTop: '1rem' }}>
          <summary style={{ cursor: 'pointer', fontWeight: '600' }}>
            üõ†Ô∏è Atlas Setup Checklist
          </summary>
          <ul style={{ marginTop: '0.5rem', paddingLeft: '1.5rem' }}>
            <li>Create MongoDB Atlas account (free tier)</li>
            <li>Create a new cluster (M0 Sandbox is sufficient)</li>
            <li>Add your IP address to Network Access</li>
            <li>Create database user with read/write permissions</li>
            <li>Get connection string from "Connect" button</li>
            <li>Replace &lt;password&gt; with your actual password</li>
          </ul>
        </details>

        <div style={{ display: 'flex', alignItems: 'center', gap: '0.5rem', marginTop: '1rem' }}>
          <button
            onClick={() => setShowConnectionForm(true)}
            style={{
              padding: '0.5rem 1rem',
              border: '1px solid var(--ifm-color-primary)',
              borderRadius: '4px',
              background: 'var(--ifm-background-color)',
              color: 'var(--ifm-color-primary)',
              cursor: 'pointer',
              fontSize: '0.9rem'
            }}
          >
            ‚öôÔ∏è Configure Connection
          </button>
          <span style={{ fontSize: '0.9rem', color: 'var(--ifm-color-content-secondary)' }}>
            Update your MongoDB Atlas connection details
          </span>
        </div>
      </div>
    </div>
  );
}
```

# src/components/LiveStatusBadge/styles.module.css

```css
.statusContainer {
  margin: 1rem 0;
  background: var(--ifm-background-surface-color);
  border: 2px solid var(--ifm-color-emphasis-200);
  border-radius: 8px;
  overflow: hidden;
  font-family: var(--ifm-font-family-base);
}

.statusHeader {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 0.75rem 1rem;
  background: var(--ifm-color-emphasis-100);
  cursor: pointer;
  transition: background-color 0.2s ease;
}

.statusHeader:hover {
  background: var(--ifm-color-emphasis-200);
}

.statusIndicator {
  display: flex;
  align-items: center;
  gap: 0.5rem;
}

.statusDot {
  width: 12px;
  height: 12px;
  border-radius: 50%;
  flex-shrink: 0;
  position: relative;
}

.statusDot.loading {
  background: #9ca3af;
  animation: pulse 2s infinite;
}

.statusDot.healthy {
  background: #10b981;
  box-shadow: 0 0 0 0 rgba(16, 185, 129, 0.7);
  animation: pulse-green 2s infinite;
}

.statusDot.ok {
  background: #10b981;
}

.statusDot.degraded {
  background: #f59e0b;
  animation: pulse-yellow 2s infinite;
}

.statusDot.error {
  background: #ef4444;
}

.statusDot.timeout {
  background: #f59e0b;
}

.statusDot.warning {
  background: #f59e0b;
  animation: pulse-yellow 2s infinite;
}

.systemDot.warning {
  background: #f59e0b;
}

@keyframes pulse {
  0% {
    transform: scale(0.95);
    opacity: 1;
  }
  70% {
    transform: scale(1);
    opacity: 0.7;
  }
  100% {
    transform: scale(0.95);
    opacity: 1;
  }
}

@keyframes pulse-green {
  0% {
    box-shadow: 0 0 0 0 rgba(16, 185, 129, 0.7);
  }
  70% {
    box-shadow: 0 0 0 4px rgba(16, 185, 129, 0);
  }
  100% {
    box-shadow: 0 0 0 0 rgba(16, 185, 129, 0);
  }
}

@keyframes pulse-yellow {
  0% {
    box-shadow: 0 0 0 0 rgba(245, 158, 11, 0.7);
  }
  70% {
    box-shadow: 0 0 0 4px rgba(245, 158, 11, 0);
  }
  100% {
    box-shadow: 0 0 0 0 rgba(245, 158, 11, 0);
  }
}

.statusText {
  font-weight: 600;
  color: var(--ifm-color-content);
  font-size: 0.9rem;
}

.controls {
  display: flex;
  align-items: center;
  gap: 0.75rem;
  font-size: 0.8rem;
}

.lastUpdate {
  color: var(--ifm-color-content-secondary);
  font-family: var(--ifm-font-family-monospace);
}

.refreshButton {
  background: none;
  border: none;
  cursor: pointer;
  font-size: 1rem;
  padding: 0.25rem;
  border-radius: 4px;
  transition: background-color 0.2s ease;
}

.refreshButton:hover {
  background: var(--ifm-color-emphasis-200);
}

.expandIcon {
  color: var(--ifm-color-content-secondary);
  font-size: 0.8rem;
  transition: transform 0.2s ease;
}

.systemDetails {
  border-top: 1px solid var(--ifm-color-emphasis-200);
  background: var(--ifm-background-color);
}

.systemRow {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 1rem;
  border-bottom: 1px solid var(--ifm-color-emphasis-100);
}

.systemRow:last-child {
  border-bottom: none;
}

.systemInfo {
  display: flex;
  align-items: center;
  gap: 0.75rem;
  flex: 1;
}

.systemDot {
  width: 10px;
  height: 10px;
  border-radius: 50%;
  flex-shrink: 0;
}

.systemName {
  font-weight: 600;
  color: var(--ifm-color-content);
  font-size: 0.9rem;
}

.systemDescription {
  color: var(--ifm-color-content-secondary);
  font-size: 0.8rem;
  margin-top: 0.25rem;
}

.systemStatus {
  text-align: right;
}

.statusLabel {
  font-weight: 600;
  font-size: 0.8rem;
  padding: 0.25rem 0.5rem;
  border-radius: 4px;
  text-transform: uppercase;
  letter-spacing: 0.5px;
}

.statusLabel.ok {
  background: rgba(16, 185, 129, 0.1);
  color: #059669;
}

.statusLabel.error {
  background: rgba(239, 68, 68, 0.1);
  color: #dc2626;
}

.statusLabel.timeout {
  background: rgba(245, 158, 11, 0.1);
  color: #d97706;
}

.statusLabel.loading {
  background: rgba(156, 163, 175, 0.1);
  color: #6b7280;
}

.statusLabel.warning {
  background: rgba(245, 158, 11, 0.1);
  color: #d97706;
}

.errorMessage {
  color: var(--ifm-color-danger);
  font-size: 0.75rem;
  margin-top: 0.25rem;
  font-family: var(--ifm-font-family-monospace);
}

.successMessage {
  color: var(--ifm-color-success);
  font-size: 0.75rem;
  margin-top: 0.25rem;
  font-weight: 500;
}

.apiDetails {
  background: var(--ifm-color-emphasis-50);
  border: 1px solid var(--ifm-color-emphasis-200);
  border-radius: 4px;
  padding: 0.75rem;
  margin-top: 0.5rem;
  font-size: 0.8rem;
}

.servicesStatus {
  margin-bottom: 0.5rem;
}

.serviceItem {
  display: flex;
  align-items: center;
  gap: 0.5rem;
  margin: 0.25rem 0;
  padding: 0.25rem 0;
}

.serviceDot {
  width: 8px;
  height: 8px;
  border-radius: 50%;
  flex-shrink: 0;
}

.serviceName {
  font-weight: 500;
  text-transform: capitalize;
}

.serviceProvider {
  color: var(--ifm-color-emphasis-600);
  font-size: 0.75rem;
  font-style: italic;
}

.uptimeInfo, .versionInfo {
  color: var(--ifm-color-emphasis-700);
  margin-top: 0.25rem;
}

.localHelp {
  color: var(--ifm-color-info);
  font-size: 0.75rem;
  margin-top: 0.25rem;
  font-style: italic;
}

.statusFooter {
  padding: 1rem;
  background: var(--ifm-color-emphasis-50);
  border-top: 1px solid var(--ifm-color-emphasis-200);
}

.helpText {
  margin-bottom: 0.75rem;
  font-size: 0.9rem;
  color: var(--ifm-color-content);
}

.troubleshootLinks {
  display: flex;
  gap: 1rem;
  flex-wrap: wrap;
}

.helpLink {
  color: var(--ifm-color-primary);
  text-decoration: none;
  font-size: 0.8rem;
  font-weight: 500;
}

.helpLink:hover {
  text-decoration: underline;
}

/* Inline status dot */
.inlineStatus {
  display: inline-flex;
  align-items: center;
  gap: 0.25rem;
  margin: 0 0.25rem;
}

.inlineStatus.small .statusDot {
  width: 8px;
  height: 8px;
}

.inlineStatus span {
  font-size: 0.8rem;
  color: var(--ifm-color-content-secondary);
}

/* Dashboard styles */
.dashboard {
  margin: 2rem 0;
  padding: 1.5rem;
  background: var(--ifm-color-emphasis-50);
  border-radius: 8px;
  border: 1px solid var(--ifm-color-emphasis-200);
}

.dashboard h3 {
  margin: 0 0 1rem 0;
  color: var(--ifm-color-content);
}

.dashboardHelp {
  margin-top: 1.5rem;
  padding-top: 1rem;
  border-top: 1px solid var(--ifm-color-emphasis-200);
}

.dashboardHelp h4 {
  margin: 0 0 0.5rem 0;
  color: var(--ifm-color-content);
  font-size: 1rem;
}

.dashboardHelp ul {
  margin: 0.5rem 0;
  padding-left: 1.5rem;
}

.dashboardHelp li {
  margin-bottom: 0.25rem;
  font-size: 0.9rem;
  color: var(--ifm-color-content-secondary);
}

.dashboardHelp p {
  margin: 1rem 0 0 0;
  font-size: 0.9rem;
  color: var(--ifm-color-content);
}

/* Dark theme adjustments */
[data-theme='dark'] .statusContainer {
  border-color: var(--ifm-color-emphasis-300);
}

[data-theme='dark'] .statusHeader {
  background: var(--ifm-color-emphasis-200);
}

[data-theme='dark'] .statusHeader:hover {
  background: var(--ifm-color-emphasis-300);
}

[data-theme='dark'] .systemDetails {
  background: var(--ifm-color-emphasis-100);
}

[data-theme='dark'] .statusFooter {
  background: var(--ifm-color-emphasis-200);
}

/* Mobile responsiveness */
@media (max-width: 768px) {
  .statusHeader {
    padding: 0.5rem;
  }
  
  .controls {
    gap: 0.5rem;
  }
  
  .lastUpdate {
    display: none;
  }
  
  .systemRow {
    padding: 0.75rem 0.5rem;
    flex-direction: column;
    align-items: flex-start;
    gap: 0.5rem;
  }
  
  .systemStatus {
    text-align: left;
    width: 100%;
  }
  
  .troubleshootLinks {
    flex-direction: column;
    gap: 0.5rem;
  }
}

/* Configuration panel styles */
.configPanel {
  border-top: 1px solid var(--ifm-color-emphasis-200);
  background: var(--ifm-color-emphasis-50);
  padding: 1.5rem;
}

.configForm h4 {
  margin: 0 0 0.5rem 0;
  color: var(--ifm-color-content);
  font-size: 1rem;
}

.configHelp {
  margin: 0 0 1.5rem 0;
  color: var(--ifm-color-content-secondary);
  font-size: 0.9rem;
  line-height: 1.4;
}

.configField {
  margin-bottom: 1.5rem;
}

.configField label {
  display: block;
  margin-bottom: 0.5rem;
  font-weight: 600;
  color: var(--ifm-color-content);
  font-size: 0.9rem;
}

.configInput {
  width: 100%;
  padding: 0.75rem;
  border: 1px solid var(--ifm-color-emphasis-300);
  border-radius: 4px;
  font-size: 0.9rem;
  font-family: var(--ifm-font-family-monospace);
  background: var(--ifm-background-color);
  color: var(--ifm-color-content);
  transition: border-color 0.2s ease;
}

.configInput:focus {
  outline: none;
  border-color: var(--ifm-color-primary);
  box-shadow: 0 0 0 2px rgba(var(--ifm-color-primary-rgb), 0.1);
}

.configHint {
  display: block;
  margin-top: 0.5rem;
  color: var(--ifm-color-content-secondary);
  font-size: 0.8rem;
  line-height: 1.3;
}

.configActions {
  display: flex;
  gap: 0.75rem;
  justify-content: flex-end;
  margin-top: 1.5rem;
}

.configSave,
.configReset,
.configCancel {
  padding: 0.5rem 1rem;
  border: none;
  border-radius: 4px;
  font-size: 0.9rem;
  font-weight: 500;
  cursor: pointer;
  transition: all 0.2s ease;
}

.configSave {
  background: var(--ifm-color-primary);
  color: white;
}

.configSave:hover {
  background: var(--ifm-color-primary-dark);
}

.configReset {
  background: var(--ifm-color-info);
  color: white;
}

.configReset:hover {
  background: var(--ifm-color-info-dark);
}

.configCancel {
  background: var(--ifm-color-emphasis-200);
  color: var(--ifm-color-content);
}

.configCancel:hover {
  background: var(--ifm-color-emphasis-300);
}

/* Dark theme adjustments for config panel */
[data-theme='dark'] .configPanel {
  background: var(--ifm-color-emphasis-200);
}

[data-theme='dark'] .configInput {
  background: var(--ifm-color-emphasis-100);
  border-color: var(--ifm-color-emphasis-400);
}

/* Mobile responsiveness for config panel */
@media (max-width: 768px) {
  .configPanel {
    padding: 1rem;
  }
  
  .configActions {
    flex-direction: column;
    gap: 0.5rem;
  }
  
  .configSave,
  .configReset,
  .configCancel {
    width: 100%;
  }
}
```

# src/components/LiveStatusBadge/VoyageAIStatusBadge.js

```js
import React, { useState, useEffect } from 'react';
import LiveStatusBadge from './index.js';

/**
 * Specialized status badge for Voyage AI integration testing
 * Used when attendees test their embedding generation capabilities
 */
export default function VoyageAIStatusBadge({ 
  showDetails = true,
  refreshInterval = 30000, // Less frequent for external API
  testMode = 'workshop' // 'workshop' uses proxy, 'direct' uses user's API key
}) {
  const [testResults, setTestResults] = useState({});
  const [isRunningTest, setIsRunningTest] = useState(false);

  const voyageAITestSystems = [
    {
      name: "Workshop API Gateway",
      endpoint: "https://workshop-embedding-api.vercel.app/api/health",
      description: "Proxy service for Voyage AI access",
      expectedResponse: { status: 'ok' }
    },
    {
      name: "Voyage AI Text Embeddings",
      endpoint: "https://workshop-embedding-api.vercel.app/api/embed",
      description: "Text-to-vector conversion",
      method: "POST",
      body: {
        input: { text: "This is a test embedding for the workshop" },
        model: "voyage-3",
        input_type: "document"
      },
      expectedResponse: { embeddings: [] },
      testResultKey: 'textEmbed'
    },
    {
      name: "Voyage AI Multimodal Embeddings", 
      endpoint: "https://workshop-embedding-api.vercel.app/api/embed",
      description: "Combined text + image embeddings",
      method: "POST",
      body: {
        input: { 
          text: "Sample document text",
          image: "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVR42mP8/5+hHgAHggJ/PchI7wAAAABJRU5ErkJggg==" // 1x1 pixel PNG
        },
        model: "voyage-multimodal-3"
      },
      expectedResponse: { embeddings: [] },
      testResultKey: 'multimodalEmbed'
    },
    {
      name: "Embedding Dimensions",
      endpoint: null, // Custom test based on previous results
      description: "Verify 1024-dimensional vectors",
      customTest: async () => {
        const textResult = testResults.textEmbed;
        if (textResult && textResult.embeddings && textResult.embeddings.length > 0) {
          const dimensions = textResult.embeddings[0].length;
          return {
            status: dimensions === 1024 ? 'ok' : 'error',
            message: `Vector dimensions: ${dimensions} (expected: 1024)`,
            dimensions
          };
        }
        return { status: 'pending', message: 'Waiting for embedding test results' };
      },
      dependsOn: ["Voyage AI Text Embeddings"]
    }
  ];

  // Run comprehensive embedding test
  const runEmbeddingTest = async () => {
    setIsRunningTest(true);
    const results = {};
    
    try {
      // Test text embeddings
      const textResponse = await fetch('https://workshop-embedding-api.vercel.app/api/embed', {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify({
          input: { text: "Workshop embedding test - text only" },
          model: "voyage-3",
          input_type: "document"
        })
      });
      
      if (textResponse.ok) {
        results.textEmbed = await textResponse.json();
      }

      // Test multimodal embeddings
      const multimodalResponse = await fetch('https://workshop-embedding-api.vercel.app/api/embed', {
        method: 'POST', 
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify({
          input: { 
            text: "Workshop test - multimodal",
            image: "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVR42mP8/5+hHgAHggJ/PchI7wAAAABJRU5ErkJggg=="
          },
          model: "voyage-multimodal-3"
        })
      });
      
      if (multimodalResponse.ok) {
        results.multimodalEmbed = await multimodalResponse.json();
      }

      setTestResults(results);
    } catch (error) {
      console.error('Embedding test failed:', error);
    } finally {
      setIsRunningTest(false);
    }
  };

  return (
    <div>
      <LiveStatusBadge 
        systems={voyageAITestSystems}
        showDetails={showDetails}
        refreshInterval={refreshInterval}
      />
      
      <div style={{ 
        marginTop: '1rem', 
        padding: '1rem', 
        background: 'var(--ifm-color-secondary-contrast-background)',
        borderRadius: '4px',
        border: '1px solid var(--ifm-color-secondary-contrast-border)'
      }}>
        <h4 style={{ margin: '0 0 0.5rem 0', color: 'var(--ifm-color-secondary)' }}>
          üöÄ Voyage AI Integration Testing
        </h4>
        
        <div style={{ display: 'grid', gridTemplateColumns: 'repeat(auto-fit, minmax(250px, 1fr))', gap: '1rem', margin: '1rem 0' }}>
          <div>
            <strong>üìù Text Embeddings</strong>
            <br />
            <small>Convert text to 1024-dimensional vectors</small>
            {testResults.textEmbed && (
              <div style={{ marginTop: '0.5rem', fontSize: '0.8rem', color: 'var(--ifm-color-success)' }}>
                ‚úÖ {testResults.textEmbed.embeddings?.[0]?.length || 0} dimensions
              </div>
            )}
          </div>
          
          <div>
            <strong>üñºÔ∏è Multimodal Embeddings</strong>
            <br />
            <small>Unified text + image vector space</small>
            {testResults.multimodalEmbed && (
              <div style={{ marginTop: '0.5rem', fontSize: '0.8rem', color: 'var(--ifm-color-success)' }}>
                ‚úÖ {testResults.multimodalEmbed.embeddings?.[0]?.length || 0} dimensions
              </div>
            )}
          </div>
          
          <div>
            <strong>‚ö° API Performance</strong>
            <br />
            <small>Response time and throughput</small>
            {testResults.textEmbed && (
              <div style={{ marginTop: '0.5rem', fontSize: '0.8rem', color: 'var(--ifm-color-info)' }}>
                üìä Usage: {testResults.textEmbed.usage?.total_tokens || 0} tokens
              </div>
            )}
          </div>
        </div>

        <div style={{ 
          display: 'flex', 
          alignItems: 'center', 
          gap: '1rem', 
          marginTop: '1rem',
          padding: '1rem',
          background: 'var(--ifm-color-emphasis-100)',
          borderRadius: '4px'
        }}>
          <button
            onClick={runEmbeddingTest}
            disabled={isRunningTest}
            style={{
              padding: '0.75rem 1.5rem',
              border: 'none',
              borderRadius: '4px',
              background: isRunningTest ? 'var(--ifm-color-emphasis-300)' : 'var(--ifm-color-primary)',
              color: 'white',
              cursor: isRunningTest ? 'not-allowed' : 'pointer',
              fontSize: '0.9rem',
              fontWeight: '600'
            }}
          >
            {isRunningTest ? 'üîÑ Testing...' : 'üß™ Run Embedding Test'}
          </button>
          
          <div style={{ flex: 1 }}>
            <strong>Comprehensive Test</strong>
            <br />
            <small style={{ color: 'var(--ifm-color-content-secondary)' }}>
              Tests both text and multimodal embedding generation with real API calls
            </small>
          </div>
        </div>

        <details style={{ marginTop: '1rem' }}>
          <summary style={{ cursor: 'pointer', fontWeight: '600' }}>
            üìã What This Test Validates
          </summary>
          <ul style={{ marginTop: '0.5rem', paddingLeft: '1.5rem', fontSize: '0.9rem' }}>
            <li><strong>API Connectivity:</strong> Workshop gateway can reach Voyage AI services</li>
            <li><strong>Text Processing:</strong> Plain text converts to 1024-dimensional vectors</li>
            <li><strong>Multimodal Processing:</strong> Combined text+image creates unified embeddings</li>
            <li><strong>Vector Dimensions:</strong> Confirms standard 1024-dimensional output</li>
            <li><strong>Response Format:</strong> Validates expected JSON structure and fields</li>
          </ul>
        </details>

        {testResults.textEmbed && (
          <details style={{ marginTop: '1rem' }}>
            <summary style={{ cursor: 'pointer', fontWeight: '600' }}>
              üìä Latest Test Results
            </summary>
            <div style={{ 
              marginTop: '0.5rem', 
              padding: '0.75rem',
              background: 'var(--ifm-background-color)',
              borderRadius: '4px',
              fontFamily: 'var(--ifm-font-family-monospace)',
              fontSize: '0.8rem',
              maxHeight: '200px',
              overflow: 'auto'
            }}>
              <div><strong>Text Embedding Sample:</strong></div>
              <div>Dimensions: {testResults.textEmbed.embeddings?.[0]?.length}</div>
              <div>First 5 values: [{testResults.textEmbed.embeddings?.[0]?.slice(0, 5).map(v => v.toFixed(4)).join(', ')}...]</div>
              <div>Usage: {JSON.stringify(testResults.textEmbed.usage)}</div>
              
              {testResults.multimodalEmbed && (
                <>
                  <div style={{ marginTop: '0.5rem' }}><strong>Multimodal Embedding Sample:</strong></div>
                  <div>Dimensions: {testResults.multimodalEmbed.embeddings?.[0]?.length}</div>
                  <div>First 5 values: [{testResults.multimodalEmbed.embeddings?.[0]?.slice(0, 5).map(v => v.toFixed(4)).join(', ')}...]</div>
                </>
              )}
            </div>
          </details>
        )}

        <p style={{ margin: '1rem 0 0 0', fontSize: '0.9rem', color: 'var(--ifm-color-content-secondary)' }}>
          üí° <strong>Next Step:</strong> Once embeddings work, you're ready to store them in MongoDB Atlas!
        </p>
      </div>
    </div>
  );
}
```

# src/components/LiveStatusBadge/WorkflowTestBadge.js

```js
import React, { useState, useEffect } from 'react';
import LiveStatusBadge from './index.js';

/**
 * Specialized status badge for testing complete n8n workflows
 * Used when attendees build and test their PDF processing workflows
 */
export default function WorkflowTestBadge({ 
  showDetails = true,
  refreshInterval = 45000, // Less frequent for complex workflow tests
  workflowEndpoint = null, // Allow custom workflow webhook URL
  testDocument = null // Allow custom test document
}) {
  const [workflowConfig, setWorkflowConfig] = useState({
    webhookUrl: workflowEndpoint || '',
    testDocumentUrl: testDocument || 'https://workshop-files.s3.amazonaws.com/sample-report.pdf'
  });
  const [testResults, setTestResults] = useState({});
  const [isRunningWorkflowTest, setIsRunningWorkflowTest] = useState(false);
  const [showWorkflowConfig, setShowWorkflowConfig] = useState(false);

  // Auto-detect n8n webhook URL if possible
  useEffect(() => {
    if (!workflowEndpoint && typeof window !== 'undefined') {
      const hostname = window.location.hostname;
      if (hostname.includes('app.github.dev')) {
        const parts = hostname.split('-');
        if (parts.length >= 2) {
          const codespaceId = parts[0];
          const detectedUrl = `https://${codespaceId}-5678.app.github.dev/webhook/pdf-upload`;
          setWorkflowConfig(prev => ({
            ...prev,
            webhookUrl: prev.webhookUrl || detectedUrl
          }));
        }
      }
    }
  }, [workflowEndpoint]);

  const workflowTestSystems = [
    {
      name: "n8n Webhook Endpoint",
      endpoint: workflowConfig.webhookUrl || null,
      description: "PDF upload webhook receiver",
      method: "POST",
      body: { test: true },
      local: true,
      configurable: true
    },
    {
      name: "PDF Processing Pipeline",
      endpoint: null, // Custom test
      description: "Complete PDF-to-embeddings workflow",
      customTest: async () => {
        if (!workflowConfig.webhookUrl) {
          return { status: 'error', message: 'Webhook URL not configured' };
        }
        
        try {
          const response = await fetch(workflowConfig.webhookUrl, {
            method: 'POST',
            headers: { 'Content-Type': 'application/json' },
            body: JSON.stringify({
              documentUrl: workflowConfig.testDocumentUrl,
              test: true
            })
          });
          
          if (response.ok) {
            const result = await response.json();
            return {
              status: 'ok',
              message: `Processed successfully: ${result.pages || 0} pages`,
              result
            };
          } else {
            return {
              status: 'error', 
              message: `HTTP ${response.status}: ${response.statusText}`
            };
          }
        } catch (error) {
          return {
            status: 'error',
            message: error.message
          };
        }
      },
      dependsOn: ["n8n Webhook Endpoint"]
    },
    {
      name: "MongoDB Storage",
      endpoint: null,
      description: "Embeddings stored in database",
      customTest: async () => {
        // This would check if the workflow actually stored data in MongoDB
        // For now, we'll simulate based on the PDF processing result
        const pdfResult = testResults.pdfProcessing;
        if (pdfResult && pdfResult.result && pdfResult.result.embeddings) {
          return {
            status: 'ok',
            message: `${pdfResult.result.embeddings.length} embeddings stored`
          };
        }
        return { status: 'pending', message: 'Waiting for PDF processing results' };
      },
      dependsOn: ["PDF Processing Pipeline"]
    }
  ];

  // Run comprehensive workflow test
  const runWorkflowTest = async () => {
    setIsRunningWorkflowTest(true);
    const results = {};
    
    try {
      // Test the complete workflow with a real document
      const response = await fetch(workflowConfig.webhookUrl, {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify({
          documentUrl: workflowConfig.testDocumentUrl,
          options: {
            maxPages: 3, // Limit for testing
            generateEmbeddings: true,
            storeInMongoDB: true
          }
        })
      });
      
      if (response.ok) {
        results.workflowTest = await response.json();
        results.success = true;
      } else {
        results.error = `HTTP ${response.status}: ${response.statusText}`;
        results.success = false;
      }
      
      setTestResults(results);
    } catch (error) {
      console.error('Workflow test failed:', error);
      setTestResults({ error: error.message, success: false });
    } finally {
      setIsRunningWorkflowTest(false);
    }
  };

  const handleConfigSubmit = (e) => {
    e.preventDefault();
    const formData = new FormData(e.target);
    setWorkflowConfig({
      webhookUrl: formData.get('webhookUrl'),
      testDocumentUrl: formData.get('testDocumentUrl')
    });
    setShowWorkflowConfig(false);
  };

  return (
    <div>
      <LiveStatusBadge 
        systems={workflowTestSystems}
        showDetails={showDetails}
        refreshInterval={refreshInterval}
      />
      
      {showWorkflowConfig && (
        <div style={{ 
          marginTop: '1rem', 
          padding: '1.5rem', 
          background: 'var(--ifm-color-warning-contrast-background)',
          borderRadius: '4px',
          border: '1px solid var(--ifm-color-warning-contrast-border)'
        }}>
          <h4 style={{ margin: '0 0 1rem 0', color: 'var(--ifm-color-warning)' }}>
            üîß Configure Workflow Testing
          </h4>
          
          <form onSubmit={handleConfigSubmit}>
            <div style={{ marginBottom: '1rem' }}>
              <label htmlFor="webhookUrl" style={{ display: 'block', marginBottom: '0.5rem', fontWeight: '600' }}>
                n8n Webhook URL:
              </label>
              <input
                type="text"
                id="webhookUrl"
                name="webhookUrl"
                placeholder="https://your-codespace-5678.app.github.dev/webhook/pdf-upload"
                style={{
                  width: '100%',
                  padding: '0.75rem',
                  border: '1px solid var(--ifm-color-emphasis-300)',
                  borderRadius: '4px',
                  fontFamily: 'var(--ifm-font-family-monospace)',
                  fontSize: '0.85rem'
                }}
                required
                defaultValue={workflowConfig.webhookUrl}
              />
              <small style={{ color: 'var(--ifm-color-content-secondary)', fontSize: '0.8rem' }}>
                üí° This should be your n8n webhook trigger URL for the PDF processing workflow
              </small>
            </div>

            <div style={{ marginBottom: '1rem' }}>
              <label htmlFor="testDocumentUrl" style={{ display: 'block', marginBottom: '0.5rem', fontWeight: '600' }}>
                Test Document URL:
              </label>
              <input
                type="url"
                id="testDocumentUrl"
                name="testDocumentUrl"
                placeholder="https://example.com/sample-document.pdf"
                style={{
                  width: '100%',
                  padding: '0.75rem',
                  border: '1px solid var(--ifm-color-emphasis-300)',
                  borderRadius: '4px'
                }}
                defaultValue={workflowConfig.testDocumentUrl}
              />
              <small style={{ color: 'var(--ifm-color-content-secondary)', fontSize: '0.8rem' }}>
                üí° A publicly accessible PDF URL for testing your workflow
              </small>
            </div>

            <div style={{ display: 'flex', gap: '0.75rem', justifyContent: 'flex-end' }}>
              <button
                type="button"
                onClick={() => setShowWorkflowConfig(false)}
                style={{
                  padding: '0.5rem 1rem',
                  border: '1px solid var(--ifm-color-emphasis-300)',
                  borderRadius: '4px',
                  background: 'var(--ifm-background-color)',
                  cursor: 'pointer'
                }}
              >
                Cancel
              </button>
              <button
                type="submit"
                style={{
                  padding: '0.5rem 1rem',
                  border: 'none',
                  borderRadius: '4px',
                  background: 'var(--ifm-color-primary)',
                  color: 'white',
                  cursor: 'pointer'
                }}
              >
                Save Configuration
              </button>
            </div>
          </form>
        </div>
      )}
      
      <div style={{ 
        marginTop: '1rem', 
        padding: '1rem', 
        background: 'var(--ifm-color-success-contrast-background)',
        borderRadius: '4px',
        border: '1px solid var(--ifm-color-success-contrast-border)'
      }}>
        <h4 style={{ margin: '0 0 0.5rem 0', color: 'var(--ifm-color-success)' }}>
          üîÑ End-to-End Workflow Testing
        </h4>
        
        <div style={{ display: 'grid', gridTemplateColumns: 'repeat(auto-fit, minmax(200px, 1fr))', gap: '1rem', margin: '1rem 0' }}>
          <div>
            <strong>üìã PDF Processing</strong>
            <br />
            <small>Text extraction and page analysis</small>
            {testResults.workflowTest?.pages && (
              <div style={{ marginTop: '0.5rem', fontSize: '0.8rem', color: 'var(--ifm-color-success)' }}>
                ‚úÖ {testResults.workflowTest.pages} pages processed
              </div>
            )}
          </div>
          
          <div>
            <strong>üß† Embedding Generation</strong>
            <br />
            <small>Text-to-vector conversion</small>
            {testResults.workflowTest?.embeddings && (
              <div style={{ marginTop: '0.5rem', fontSize: '0.8rem', color: 'var(--ifm-color-success)' }}>
                ‚úÖ {testResults.workflowTest.embeddings.length} embeddings
              </div>
            )}
          </div>
          
          <div>
            <strong>üíæ Database Storage</strong>
            <br />
            <small>MongoDB Atlas persistence</small>
            {testResults.workflowTest?.stored && (
              <div style={{ marginTop: '0.5rem', fontSize: '0.8rem', color: 'var(--ifm-color-success)' }}>
                ‚úÖ Data stored successfully
              </div>
            )}
          </div>
        </div>

        <div style={{ 
          display: 'flex', 
          alignItems: 'center', 
          gap: '1rem', 
          marginTop: '1rem',
          padding: '1rem',
          background: 'var(--ifm-color-emphasis-100)',
          borderRadius: '4px'
        }}>
          <button
            onClick={runWorkflowTest}
            disabled={isRunningWorkflowTest || !workflowConfig.webhookUrl}
            style={{
              padding: '0.75rem 1.5rem',
              border: 'none',
              borderRadius: '4px',
              background: isRunningWorkflowTest || !workflowConfig.webhookUrl ? 
                'var(--ifm-color-emphasis-300)' : 'var(--ifm-color-success)',
              color: 'white',
              cursor: isRunningWorkflowTest || !workflowConfig.webhookUrl ? 'not-allowed' : 'pointer',
              fontSize: '0.9rem',
              fontWeight: '600'
            }}
          >
            {isRunningWorkflowTest ? 'üîÑ Testing Workflow...' : 'üöÄ Test Complete Workflow'}
          </button>
          
          <div style={{ flex: 1 }}>
            <strong>Full Pipeline Test</strong>
            <br />
            <small style={{ color: 'var(--ifm-color-content-secondary)' }}>
              Tests PDF upload ‚Üí processing ‚Üí embedding ‚Üí storage pipeline
            </small>
          </div>
        </div>

        <div style={{ display: 'flex', alignItems: 'center', gap: '0.5rem', marginTop: '1rem' }}>
          <button
            onClick={() => setShowWorkflowConfig(true)}
            style={{
              padding: '0.5rem 1rem',
              border: '1px solid var(--ifm-color-primary)',
              borderRadius: '4px',
              background: 'var(--ifm-background-color)',
              color: 'var(--ifm-color-primary)',
              cursor: 'pointer',
              fontSize: '0.9rem'
            }}
          >
            ‚öôÔ∏è Configure Endpoints
          </button>
          <span style={{ fontSize: '0.9rem', color: 'var(--ifm-color-content-secondary)' }}>
            Set your n8n webhook URL and test document
          </span>
        </div>

        {testResults.success === false && (
          <div style={{
            marginTop: '1rem',
            padding: '0.75rem',
            background: 'var(--ifm-color-danger-contrast-background)',
            border: '1px solid var(--ifm-color-danger-contrast-border)',
            borderRadius: '4px',
            color: 'var(--ifm-color-danger)'
          }}>
            <strong>‚ùå Test Failed:</strong> {testResults.error}
          </div>
        )}

        {testResults.workflowTest && (
          <details style={{ marginTop: '1rem' }}>
            <summary style={{ cursor: 'pointer', fontWeight: '600' }}>
              üìä Latest Workflow Results
            </summary>
            <div style={{ 
              marginTop: '0.5rem', 
              padding: '0.75rem',
              background: 'var(--ifm-background-color)',
              borderRadius: '4px',
              fontFamily: 'var(--ifm-font-family-monospace)',
              fontSize: '0.8rem',
              maxHeight: '300px',
              overflow: 'auto'
            }}>
              <pre>{JSON.stringify(testResults.workflowTest, null, 2)}</pre>
            </div>
          </details>
        )}

        <p style={{ margin: '1rem 0 0 0', fontSize: '0.9rem', color: 'var(--ifm-color-content-secondary)' }}>
          üí° <strong>Success means:</strong> Your complete PDF agent pipeline is working end-to-end!
        </p>
      </div>
    </div>
  );
}
```

# src/components/PrerequisitesWizard/index.js

```js
import React, { useState, useEffect } from 'react';
import styles from './styles.module.css';

const PrerequisitesWizard = () => {
  const [currentStep, setCurrentStep] = useState(0);
  const [completedSteps, setCompletedSteps] = useState(new Set());
  const [verificationResults, setVerificationResults] = useState({});

  const steps = [
    {
      id: 'voyage',
      title: 'Voyage AI API Key',
      description: 'Set up your multimodal embedding service',
      icon: 'üöÄ',
      color: '#6366f1',
      completed: false
    },
    {
      id: 'gemini',
      title: 'Google Gemini API Key',
      description: 'Configure your LLM with function calling',
      icon: 'ü§ñ',
      color: '#10b981',
      completed: false
    },
    {
      id: 'atlas',
      title: 'MongoDB Atlas Cluster',
      description: 'Deploy your vector database',
      icon: 'üçÉ',
      color: '#059669',
      completed: false
    }
  ];

  const markStepComplete = (stepIndex) => {
    const newCompleted = new Set(completedSteps);
    newCompleted.add(stepIndex);
    setCompletedSteps(newCompleted);
  };

  const markStepIncomplete = (stepIndex) => {
    const newCompleted = new Set(completedSteps);
    newCompleted.delete(stepIndex);
    setCompletedSteps(newCompleted);
  };

  const allStepsComplete = completedSteps.size === steps.length;
  const progress = (completedSteps.size / steps.length) * 100;

  return (
    <div className={styles.wizardContainer}>
      {/* Progress Header */}
      <div className={styles.progressHeader}>
        <h2>üõ†Ô∏è Workshop Prerequisites Setup</h2>
        <p>Set up the three essential services needed for building your multimodal AI agent</p>
        
        {/* Progress Bar */}
        <div className={styles.progressBarContainer}>
          <div className={styles.progressBarTrack}>
            <div 
              className={styles.progressBarFill}
              style={{ width: `${progress}%` }}
            />
          </div>
          <span className={styles.progressText}>
            {completedSteps.size} of {steps.length} complete ({Math.round(progress)}%)
          </span>
        </div>
      </div>

      {/* Step Navigation */}
      <div className={styles.stepNavigation}>
        {steps.map((step, index) => (
          <button
            key={step.id}
            className={`${styles.stepButton} ${
              currentStep === index ? styles.active : ''
            } ${
              completedSteps.has(index) ? styles.completed : ''
            }`}
            onClick={() => setCurrentStep(index)}
            style={{ '--step-color': step.color }}
          >
            <div className={styles.stepIcon}>
              {completedSteps.has(index) ? '‚úÖ' : step.icon}
            </div>
            <div className={styles.stepContent}>
              <div className={styles.stepTitle}>{step.title}</div>
              <div className={styles.stepDescription}>{step.description}</div>
            </div>
            {index < steps.length - 1 && (
              <div className={`${styles.stepConnector} ${
                completedSteps.has(index) ? styles.connectorComplete : ''
              }`} />
            )}
          </button>
        ))}
      </div>

      {/* Step Content */}
      <div className={styles.stepContent}>
        {currentStep === 0 && (
          <VoyageAIStep 
            onComplete={() => markStepComplete(0)}
            onIncomplete={() => markStepIncomplete(0)}
            isCompleted={completedSteps.has(0)}
          />
        )}
        {currentStep === 1 && (
          <GeminiStep 
            onComplete={() => markStepComplete(1)}
            onIncomplete={() => markStepIncomplete(1)}
            isCompleted={completedSteps.has(1)}
          />
        )}
        {currentStep === 2 && (
          <AtlasStep 
            onComplete={() => markStepComplete(2)}
            onIncomplete={() => markStepIncomplete(2)}
            isCompleted={completedSteps.has(2)}
          />
        )}
      </div>

      {/* Navigation Buttons */}
      <div className={styles.navigationButtons}>
        <button
          className={styles.navButton}
          onClick={() => setCurrentStep(Math.max(0, currentStep - 1))}
          disabled={currentStep === 0}
        >
          ‚Üê Previous
        </button>
        
        <button
          className={styles.navButton}
          onClick={() => setCurrentStep(Math.min(steps.length - 1, currentStep + 1))}
          disabled={currentStep === steps.length - 1}
        >
          Next ‚Üí
        </button>
      </div>

      {/* Completion Status */}
      {allStepsComplete && (
        <div className={styles.completionBanner}>
          <h3>üéâ All Prerequisites Complete!</h3>
          <p>You're ready to start building your multimodal AI agent!</p>
          <a href="/docs/python-exercise-1" className={styles.startButton}>
            Start Workshop ‚Üí
          </a>
        </div>
      )}
    </div>
  );
};

// Individual Step Components
const VoyageAIStep = ({ onComplete, onIncomplete, isCompleted }) => {
  const [hasApiKey, setHasApiKey] = useState(false);

  return (
    <div className={styles.stepPanel}>
      <div className={styles.stepHeader}>
        <h3>üöÄ Voyage AI API Key Setup</h3>
        <p>Get your API key for state-of-the-art multimodal embeddings</p>
      </div>

      <div className={styles.stepInstructions}>
        <div className={styles.instructionGroup}>
          <h4>Why you need this:</h4>
          <ul>
            <li>Generate high-quality multimodal embeddings for text and images</li>
            <li>Access production-ready embedding models</li>
            <li>Use the official Python client for seamless integration</li>
          </ul>
        </div>

        <div className={styles.instructionGroup}>
          <h4>Quick setup:</h4>
          <ol>
            <li>Visit <a href="https://dashboard.voyageai.com" target="_blank" rel="noopener noreferrer">Voyage AI Dashboard</a></li>
            <li>Sign up or sign in to your account</li>
            <li>Navigate to <strong>Organization ‚Üí API keys</strong></li>
            <li>Click <strong>"Create new secret key"</strong></li>
            <li>Name it "workshop-multimodal-agent"</li>
            <li>Copy your API key and save it securely</li>
          </ol>
        </div>

        <div className={styles.warningBox}>
          ‚ö†Ô∏è <strong>Important:</strong> You can only view your API key once after creation. Make sure to save it immediately!
        </div>

        <div className={styles.verificationSection}>
          <h4>Verification:</h4>
          <p>Add your API key to your <code>.env</code> file:</p>
          <pre className={styles.codeBlock}>
            VOYAGE_API_KEY="voy_your_api_key_here"
          </pre>
        </div>
      </div>

      <div className={styles.stepActions}>
        <label className={styles.checkbox}>
          <input
            type="checkbox"
            checked={hasApiKey}
            onChange={(e) => {
              setHasApiKey(e.target.checked);
              if (e.target.checked) {
                onComplete();
              } else {
                onIncomplete();
              }
            }}
          />
          I have my Voyage AI API key and added it to my .env file
        </label>
        
        <a 
          href="/docs/voyage-ai-setup" 
          className={styles.detailsLink}
          target="_blank"
        >
          View detailed instructions ‚Üí
        </a>
      </div>
    </div>
  );
};

const GeminiStep = ({ onComplete, onIncomplete, isCompleted }) => {
  const [hasApiKey, setHasApiKey] = useState(false);

  return (
    <div className={styles.stepPanel}>
      <div className={styles.stepHeader}>
        <h3>ü§ñ Google Gemini API Key Setup</h3>
        <p>Configure your LLM with advanced function calling capabilities</p>
      </div>

      <div className={styles.stepInstructions}>
        <div className={styles.instructionGroup}>
          <h4>Why you need this:</h4>
          <ul>
            <li>Advanced function calling for tool use</li>
            <li>Multimodal understanding (text and images)</li>
            <li>Fast response times for interactive agents</li>
            <li>Generous free tier for development</li>
          </ul>
        </div>

        <div className={styles.instructionGroup}>
          <h4>Quick setup:</h4>
          <ol>
            <li>Visit <a href="https://makersuite.google.com/app/apikey" target="_blank" rel="noopener noreferrer">Google AI Studio</a></li>
            <li>Sign in with your Google account</li>
            <li>Click <strong>"Create API Key"</strong></li>
            <li>Select your Google Cloud project (or create new)</li>
            <li>Copy your API key immediately</li>
          </ol>
        </div>

        <div className={styles.verificationSection}>
          <h4>Verification:</h4>
          <p>Add your API key to your <code>.env</code> file:</p>
          <pre className={styles.codeBlock}>
            GOOGLE_API_KEY="your_gemini_api_key_here"
          </pre>
        </div>
      </div>

      <div className={styles.stepActions}>
        <label className={styles.checkbox}>
          <input
            type="checkbox"
            checked={hasApiKey}
            onChange={(e) => {
              setHasApiKey(e.target.checked);
              if (e.target.checked) {
                onComplete();
              } else {
                onIncomplete();
              }
            }}
          />
          I have my Google Gemini API key and added it to my .env file
        </label>
        
        <a 
          href="/docs/gemini-setup" 
          className={styles.detailsLink}
          target="_blank"
        >
          View detailed instructions ‚Üí
        </a>
      </div>
    </div>
  );
};

const AtlasStep = ({ onComplete, onIncomplete, isCompleted }) => {
  const [hasCluster, setHasCluster] = useState(false);

  return (
    <div className={styles.stepPanel}>
      <div className={styles.stepHeader}>
        <h3>üçÉ MongoDB Atlas Cluster Setup</h3>
        <p>Deploy your vector database for storing and searching embeddings</p>
      </div>

      <div className={styles.stepInstructions}>
        <div className={styles.instructionGroup}>
          <h4>Why you need this:</h4>
          <ul>
            <li>Native vector search with HNSW algorithms</li>
            <li>Flexible document storage for mixed data types</li>
            <li>Free tier perfect for development</li>
            <li>Built-in vector indexing capabilities</li>
          </ul>
        </div>

        <div className={styles.instructionGroup}>
          <h4>Quick setup:</h4>
          <ol>
            <li>Visit <a href="https://www.mongodb.com/cloud/atlas/register" target="_blank" rel="noopener noreferrer">MongoDB Atlas</a></li>
            <li>Create free account and verify email</li>
            <li>Deploy <strong>M0 Free tier</strong> cluster</li>
            <li>Create database user (username: <code>workshop</code>)</li>
            <li>Configure network access (allow anywhere for workshop)</li>
            <li>Copy your connection string</li>
          </ol>
        </div>

        <div className={styles.verificationSection}>
          <h4>Verification:</h4>
          <p>Add your connection string to your <code>.env</code> file:</p>
          <pre className={styles.codeBlock}>
            MONGODB_URI="mongodb+srv://workshop:password@cluster0.xxxxx.mongodb.net/"
          </pre>
        </div>
      </div>

      <div className={styles.stepActions}>
        <label className={styles.checkbox}>
          <input
            type="checkbox"
            checked={hasCluster}
            onChange={(e) => {
              setHasCluster(e.target.checked);
              if (e.target.checked) {
                onComplete();
              } else {
                onIncomplete();
              }
            }}
          />
          I have my MongoDB Atlas cluster deployed and connection string saved
        </label>
        
        <a 
          href="/docs/atlas-setup" 
          className={styles.detailsLink}
          target="_blank"
        >
          View detailed instructions ‚Üí
        </a>
      </div>
    </div>
  );
};

export default PrerequisitesWizard;
```

# src/components/PrerequisitesWizard/styles.module.css

```css
.wizardContainer {
  max-width: 900px;
  margin: 0 auto;
  padding: 2rem;
}

.progressHeader {
  text-align: center;
  margin-bottom: 3rem;
}

.progressHeader h2 {
  color: var(--ifm-color-primary);
  margin-bottom: 0.5rem;
}

.progressHeader p {
  color: var(--ifm-color-emphasis-700);
  font-size: 1.1rem;
  margin-bottom: 2rem;
}

.progressBarContainer {
  margin: 2rem auto;
  max-width: 400px;
}

.progressBarTrack {
  width: 100%;
  height: 8px;
  background-color: var(--ifm-color-emphasis-200);
  border-radius: 4px;
  overflow: hidden;
  margin-bottom: 0.5rem;
}

.progressBarFill {
  height: 100%;
  background: linear-gradient(90deg, #10b981, #6366f1);
  border-radius: 4px;
  transition: width 0.3s ease;
}

.progressText {
  font-size: 0.9rem;
  color: var(--ifm-color-emphasis-600);
  font-weight: 500;
}

.stepNavigation {
  display: flex;
  flex-direction: column;
  gap: 1rem;
  margin-bottom: 2rem;
  position: relative;
}

.stepButton {
  display: flex;
  align-items: center;
  padding: 1.5rem;
  border: 2px solid var(--ifm-color-emphasis-200);
  border-radius: 12px;
  background: var(--ifm-color-emphasis-0);
  cursor: pointer;
  transition: all 0.2s ease;
  text-align: left;
  position: relative;
}

.stepButton:hover {
  border-color: var(--step-color, var(--ifm-color-primary));
  transform: translateY(-2px);
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
}

.stepButton.active {
  border-color: var(--step-color, var(--ifm-color-primary));
  background: var(--ifm-color-primary-lightest);
  box-shadow: 0 0 0 3px rgba(99, 102, 241, 0.1);
}

.stepButton.completed {
  border-color: #10b981;
  background: #ecfdf5;
}

.stepIcon {
  font-size: 2rem;
  margin-right: 1rem;
  min-width: 60px;
  text-align: center;
}

.stepContent {
  flex: 1;
}

.stepTitle {
  font-size: 1.2rem;
  font-weight: 600;
  color: var(--ifm-color-emphasis-900);
  margin-bottom: 0.25rem;
}

.stepDescription {
  color: var(--ifm-color-emphasis-600);
  font-size: 0.95rem;
}

.stepConnector {
  position: absolute;
  right: -1rem;
  top: 50%;
  transform: translateY(-50%);
  width: 2rem;
  height: 2px;
  background: var(--ifm-color-emphasis-200);
  z-index: 1;
}

.stepConnector.connectorComplete {
  background: #10b981;
}

.stepPanel {
  background: var(--ifm-color-emphasis-0);
  border: 1px solid var(--ifm-color-emphasis-200);
  border-radius: 12px;
  padding: 2rem;
  margin-bottom: 2rem;
}

.stepHeader {
  text-align: center;
  margin-bottom: 2rem;
  padding-bottom: 1rem;
  border-bottom: 1px solid var(--ifm-color-emphasis-200);
}

.stepHeader h3 {
  color: var(--ifm-color-primary);
  margin-bottom: 0.5rem;
}

.stepHeader p {
  color: var(--ifm-color-emphasis-600);
  font-size: 1.1rem;
}

.stepInstructions {
  margin-bottom: 2rem;
}

.instructionGroup {
  margin-bottom: 1.5rem;
}

.instructionGroup h4 {
  color: var(--ifm-color-emphasis-800);
  margin-bottom: 0.75rem;
  font-size: 1.1rem;
}

.instructionGroup ul,
.instructionGroup ol {
  margin-left: 1.5rem;
}

.instructionGroup li {
  margin-bottom: 0.5rem;
  color: var(--ifm-color-emphasis-700);
}

.instructionGroup a {
  color: var(--ifm-color-primary);
  text-decoration: none;
  font-weight: 500;
}

.instructionGroup a:hover {
  text-decoration: underline;
}

.warningBox {
  background: #fef3cd;
  border: 1px solid #f6e05e;
  border-radius: 8px;
  padding: 1rem;
  margin: 1rem 0;
  color: #744210;
}

.verificationSection {
  background: var(--ifm-color-secondary-lightest);
  border-radius: 8px;
  padding: 1.5rem;
  margin: 1rem 0;
}

.verificationSection h4 {
  margin-top: 0;
  color: var(--ifm-color-emphasis-800);
}

.codeBlock {
  background: var(--ifm-color-emphasis-100);
  border: 1px solid var(--ifm-color-emphasis-200);
  border-radius: 6px;
  padding: 0.75rem;
  font-family: var(--ifm-font-family-monospace);
  font-size: 0.9rem;
  overflow-x: auto;
  margin: 0.5rem 0;
}

.stepActions {
  display: flex;
  flex-direction: column;
  gap: 1rem;
  align-items: flex-start;
}

.checkbox {
  display: flex;
  align-items: center;
  gap: 0.75rem;
  cursor: pointer;
  font-weight: 500;
  color: var(--ifm-color-emphasis-800);
}

.checkbox input[type="checkbox"] {
  width: 18px;
  height: 18px;
  accent-color: var(--ifm-color-primary);
}

.detailsLink {
  color: var(--ifm-color-primary);
  text-decoration: none;
  font-weight: 500;
  padding: 0.5rem 1rem;
  border: 1px solid var(--ifm-color-primary);
  border-radius: 6px;
  transition: all 0.2s ease;
}

.detailsLink:hover {
  background: var(--ifm-color-primary);
  color: white;
  text-decoration: none;
}

.navigationButtons {
  display: flex;
  justify-content: space-between;
  margin: 2rem 0;
}

.navButton {
  padding: 0.75rem 1.5rem;
  border: 1px solid var(--ifm-color-primary);
  background: transparent;
  color: var(--ifm-color-primary);
  border-radius: 6px;
  cursor: pointer;
  font-weight: 500;
  transition: all 0.2s ease;
}

.navButton:hover:not(:disabled) {
  background: var(--ifm-color-primary);
  color: white;
}

.navButton:disabled {
  opacity: 0.5;
  cursor: not-allowed;
}

.completionBanner {
  background: linear-gradient(135deg, #10b981, #059669);
  color: white;
  text-align: center;
  padding: 2rem;
  border-radius: 12px;
  margin-top: 2rem;
}

.completionBanner h3 {
  color: white;
  margin-bottom: 0.5rem;
}

.completionBanner p {
  margin-bottom: 1.5rem;
  opacity: 0.9;
}

.startButton {
  display: inline-block;
  background: white;
  color: #059669;
  padding: 0.75rem 2rem;
  border-radius: 8px;
  text-decoration: none;
  font-weight: 600;
  font-size: 1.1rem;
  transition: transform 0.2s ease;
}

.startButton:hover {
  transform: translateY(-2px);
  color: #059669;
  text-decoration: none;
}

/* Responsive Design */
@media (max-width: 768px) {
  .wizardContainer {
    padding: 1rem;
  }
  
  .stepButton {
    padding: 1rem;
  }
  
  .stepIcon {
    font-size: 1.5rem;
    min-width: 50px;
  }
  
  .stepTitle {
    font-size: 1.1rem;
  }
  
  .stepPanel {
    padding: 1.5rem;
  }
  
  .navigationButtons {
    flex-direction: column;
    gap: 1rem;
  }
}

/* Dark mode support */
[data-theme='dark'] .stepButton {
  background: var(--ifm-background-color);
  border-color: var(--ifm-color-emphasis-300);
}

[data-theme='dark'] .stepButton.completed {
  background: rgba(16, 185, 129, 0.1);
  border-color: #10b981;
}

[data-theme='dark'] .stepPanel {
  background: var(--ifm-background-color);
  border-color: var(--ifm-color-emphasis-300);
}

[data-theme='dark'] .warningBox {
  background: rgba(245, 158, 11, 0.1);
  border-color: rgba(245, 158, 11, 0.3);
  color: var(--ifm-color-warning);
}

[data-theme='dark'] .codeBlock {
  background: var(--ifm-color-emphasis-200);
  border-color: var(--ifm-color-emphasis-300);
}
```

# src/components/ProgressTracker/index.js

```js
import React, { useState, useEffect } from 'react';
import styles from './styles.module.css';

export default function ProgressTracker({ steps = [], currentStep = 0 }) {
  const [completedSteps, setCompletedSteps] = useState(new Set());

  useEffect(() => {
    // Load completed steps from localStorage
    const saved = localStorage.getItem('workshop-progress');
    if (saved) {
      try {
        const parsed = JSON.parse(saved);
        setCompletedSteps(new Set(parsed));
      } catch (e) {
        console.warn('Could not parse saved progress');
      }
    }
  }, []);

  useEffect(() => {
    // Save progress to localStorage
    localStorage.setItem('workshop-progress', JSON.stringify([...completedSteps]));
  }, [completedSteps]);

  const toggleStep = (stepIndex) => {
    const newCompleted = new Set(completedSteps);
    if (newCompleted.has(stepIndex)) {
      newCompleted.delete(stepIndex);
    } else {
      newCompleted.add(stepIndex);
    }
    setCompletedSteps(newCompleted);
  };

  const completionPercentage = (completedSteps.size / steps.length) * 100;

  return (
    <div className={styles.progressContainer}>
      <div className={styles.header}>
        <h3>üéì Workshop Progress</h3>
        <div className={styles.stats}>
          <span className={styles.percentage}>{Math.round(completionPercentage)}% Complete</span>
          <span className={styles.count}>{completedSteps.size} / {steps.length}</span>
        </div>
      </div>
      
      <div className={styles.progressBar}>
        <div 
          className={styles.progressFill}
          style={{ width: `${completionPercentage}%` }}
        />
      </div>

      <div className={styles.stepsList}>
        {steps.map((step, index) => (
          <div 
            key={index}
            className={`${styles.step} ${
              completedSteps.has(index) ? styles.completed : ''
            } ${
              index === currentStep ? styles.current : ''
            }`}
          >
            <div className={styles.stepIndicator}>
              <div className={styles.stepNumber}>
                {completedSteps.has(index) ? '‚úÖ' : index + 1}
              </div>
              {index < steps.length - 1 && (
                <div className={`${styles.connector} ${
                  completedSteps.has(index) ? styles.connectorCompleted : ''
                }`} />
              )}
            </div>
            
            <div className={styles.stepContent}>
              <h4 className={styles.stepTitle}>{step.title}</h4>
              <p className={styles.stepDescription}>{step.description}</p>
              <div className={styles.stepMeta}>
                {step.timeEstimate && (
                  <span className={styles.timeEstimate}>‚è±Ô∏è {step.timeEstimate}</span>
                )}
                {step.difficulty && (
                  <span className={`${styles.difficulty} ${styles[step.difficulty]}`}>
                    {step.difficulty}
                  </span>
                )}
              </div>
              
              <button
                className={styles.toggleButton}
                onClick={() => toggleStep(index)}
              >
                {completedSteps.has(index) ? 'Mark Incomplete' : 'Mark Complete'}
              </button>
            </div>
          </div>
        ))}
      </div>

      {completionPercentage === 100 && (
        <div className={styles.celebration}>
          üéâ Congratulations! You've completed the entire workshop! üéâ
        </div>
      )}
    </div>
  );
}

export function StepIndicator({ current, total, titles = [], compact = false }) {
  return (
    <div className={styles.stepIndicator}>
      <div className={`${styles.breadcrumb} ${compact ? styles.compact : ''}`}>
        {Array.from({ length: total }, (_, i) => (
          <React.Fragment key={i}>
            <div className={`${styles.breadcrumbStep} ${
              i < current ? styles.completed : ''
            } ${
              i === current ? styles.active : ''
            } ${compact ? styles.compactStep : ''}`}>
              <span className={styles.breadcrumbNumber}>
                {i < current ? '‚úì' : i + 1}
              </span>
              {titles[i] && !compact && (
                <span className={styles.breadcrumbTitle}>{titles[i]}</span>
              )}
            </div>
            {i < total - 1 && (
              <div className={`${styles.breadcrumbConnector} ${
                i < current ? styles.connectorCompleted : ''
              } ${compact ? styles.compactConnector : ''}`} />
            )}
          </React.Fragment>
        ))}
      </div>
      {compact && titles.length > 0 && (
        <div className={styles.compactTitle}>
          Step {current + 1}: {titles[current]}
        </div>
      )}
    </div>
  );
}
```

# src/components/ProgressTracker/styles.module.css

```css
.progressContainer {
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  color: white;
  border-radius: 12px;
  padding: 1.5rem;
  margin: 2rem 0;
  box-shadow: 0 8px 24px rgba(102, 126, 234, 0.3);
}

.header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 1rem;
}

.header h3 {
  margin: 0;
  font-size: 1.4rem;
}

.stats {
  display: flex;
  gap: 1rem;
  align-items: center;
}

.percentage {
  font-size: 1.2rem;
  font-weight: bold;
}

.count {
  background: rgba(255, 255, 255, 0.2);
  padding: 0.25rem 0.75rem;
  border-radius: 20px;
  font-size: 0.9rem;
}

.progressBar {
  background: rgba(255, 255, 255, 0.2);
  height: 8px;
  border-radius: 4px;
  overflow: hidden;
  margin-bottom: 1.5rem;
}

.progressFill {
  background: linear-gradient(90deg, #28a745, #20c997);
  height: 100%;
  border-radius: 4px;
  transition: width 0.5s ease;
}

.stepsList {
  display: flex;
  flex-direction: column;
  gap: 1rem;
}

.step {
  display: flex;
  background: rgba(255, 255, 255, 0.1);
  border-radius: 8px;
  padding: 1rem;
  transition: all 0.3s ease;
}

.step:hover {
  background: rgba(255, 255, 255, 0.15);
  transform: translateX(4px);
}

.step.completed {
  background: rgba(40, 167, 69, 0.2);
  border: 1px solid rgba(40, 167, 69, 0.4);
}

.step.current {
  background: rgba(255, 193, 7, 0.2);
  border: 2px solid #ffc107;
}

.stepIndicator {
  display: flex;
  flex-direction: column;
  align-items: center;
  margin-right: 1rem;
  position: relative;
}

.stepNumber {
  width: 2.5rem;
  height: 2.5rem;
  border-radius: 50%;
  background: rgba(255, 255, 255, 0.2);
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: bold;
  font-size: 1rem;
  position: relative;
  z-index: 1;
}

.step.completed .stepNumber {
  background: #28a745;
}

.step.current .stepNumber {
  background: #ffc107;
  color: #000;
}

.connector {
  width: 2px;
  height: 2rem;
  background: rgba(255, 255, 255, 0.3);
  margin-top: 0.5rem;
}

.connectorCompleted {
  background: #28a745;
}

.stepContent {
  flex: 1;
}

.stepTitle {
  margin: 0 0 0.5rem 0;
  font-size: 1.1rem;
}

.stepDescription {
  margin: 0 0 0.75rem 0;
  opacity: 0.9;
  line-height: 1.5;
}

.stepMeta {
  display: flex;
  gap: 1rem;
  margin-bottom: 0.75rem;
}

.timeEstimate {
  font-size: 0.9rem;
  opacity: 0.8;
}

.difficulty {
  padding: 0.2rem 0.6rem;
  border-radius: 12px;
  font-size: 0.8rem;
  font-weight: 600;
  text-transform: uppercase;
}

.difficulty.beginner {
  background: #28a745;
}

.difficulty.intermediate {
  background: #ffc107;
  color: #000;
}

.difficulty.advanced {
  background: #dc3545;
}

.toggleButton {
  background: rgba(255, 255, 255, 0.2);
  color: white;
  border: 1px solid rgba(255, 255, 255, 0.3);
  padding: 0.5rem 1rem;
  border-radius: 6px;
  cursor: pointer;
  font-size: 0.9rem;
  transition: all 0.2s ease;
}

.toggleButton:hover {
  background: rgba(255, 255, 255, 0.3);
  border-color: rgba(255, 255, 255, 0.5);
}

.celebration {
  text-align: center;
  background: linear-gradient(135deg, #28a745, #20c997);
  padding: 1.5rem;
  border-radius: 8px;
  margin-top: 1.5rem;
  font-size: 1.2rem;
  font-weight: bold;
  animation: bounce 2s infinite;
}

@keyframes bounce {
  0%, 20%, 50%, 80%, 100% {
    transform: translateY(0);
  }
  40% {
    transform: translateY(-10px);
  }
  60% {
    transform: translateY(-5px);
  }
}

/* Step Indicator Component */
.breadcrumb {
  display: flex;
  align-items: center;
  gap: 0.5rem;
  padding: 1rem;
  background: #f8f9fa;
  border-radius: 8px;
  margin: 1rem 0;
  overflow-x: auto;
}

.breadcrumbStep {
  display: flex;
  align-items: center;
  gap: 0.5rem;
  padding: 0.5rem 1rem;
  border-radius: 20px;
  background: #e9ecef;
  color: #6c757d;
  transition: all 0.3s ease;
  white-space: nowrap;
}

.breadcrumbStep.completed {
  background: #28a745;
  color: white;
}

.breadcrumbStep.active {
  background: #007bff;
  color: white;
  transform: scale(1.05);
}

.breadcrumbNumber {
  width: 1.5rem;
  height: 1.5rem;
  border-radius: 50%;
  background: rgba(255, 255, 255, 0.2);
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 0.8rem;
  font-weight: bold;
}

.breadcrumbTitle {
  font-size: 0.9rem;
  font-weight: 500;
}

.breadcrumbConnector {
  width: 2rem;
  height: 2px;
  background: #dee2e6;
  transition: background-color 0.3s ease;
}

.breadcrumbConnector.connectorCompleted {
  background: #28a745;
}

/* Compact variants */
.breadcrumb.compact {
  padding: 0.5rem 1rem;
  margin: 0.5rem 0;
  justify-content: center;
}

.breadcrumbStep.compactStep {
  padding: 0.3rem 0.6rem;
  min-width: auto;
}

.breadcrumbConnector.compactConnector {
  width: 1rem;
}

.compactTitle {
  text-align: center;
  font-size: 0.9rem;
  color: #495057;
  margin-top: 0.5rem;
  font-weight: 500;
}
```

# src/components/QuickEmbeddingTest/index.js

```js
import React, { useState } from 'react';
import styles from './styles.module.css';

export default function QuickEmbeddingTest({ 
  text = "Test the workshop embedding API with this sample text",
  label = "Quick API Test"
}) {
  const [loading, setLoading] = useState(false);
  const [result, setResult] = useState(null);
  const [error, setError] = useState(null);

  const testAPI = async () => {
    setLoading(true);
    setError(null);
    setResult(null);

    try {
      const response = await fetch('https://workshop-embedding-api.vercel.app/api/embed', {
        method: 'POST',
        headers: {
          'Content-Type': 'application/json',
        },
        body: JSON.stringify({
          text: text,
          model: 'voyage-3'
        }),
      });

      const data = await response.json();

      if (!response.ok) {
        throw new Error(data.error || `HTTP ${response.status}`);
      }

      setResult(data);
    } catch (err) {
      setError(err.message);
    } finally {
      setLoading(false);
    }
  };

  return (
    <div className={styles.quickTest}>
      <div className={styles.header}>
        <span className={styles.label}>{label}</span>
        <button 
          onClick={testAPI}
          disabled={loading}
          className={styles.testButton}
        >
          {loading ? '‚è≥ Testing...' : 'üöÄ Test API'}
        </button>
      </div>

      {error && (
        <div className={styles.error}>
          ‚ùå {error}
        </div>
      )}

      {result && (
        <div className={styles.success}>
          ‚úÖ API Working! Generated {result.embeddings[0].length}D embedding
          <div className={styles.details}>
            Model: {result.model} | Tokens: {result.usage?.total_tokens || 'N/A'}
          </div>
        </div>
      )}

      <div className={styles.testText}>
        <strong>Test text:</strong> "{text.substring(0, 100)}{text.length > 100 ? '...' : ''}"
      </div>
    </div>
  );
}
```

# src/components/QuickEmbeddingTest/styles.module.css

```css
.quickTest {
  background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
  border-radius: 8px;
  padding: 1rem;
  margin: 1rem 0;
  color: white;
  font-size: 0.9rem;
}

.header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 0.75rem;
}

.label {
  font-weight: 600;
  font-size: 1rem;
}

.testButton {
  background: rgba(255, 255, 255, 0.2);
  color: white;
  border: 2px solid rgba(255, 255, 255, 0.3);
  padding: 0.5rem 1rem;
  border-radius: 6px;
  cursor: pointer;
  font-weight: 600;
  font-size: 0.9rem;
  transition: all 0.2s ease;
}

.testButton:hover:not(:disabled) {
  background: rgba(255, 255, 255, 0.3);
  transform: translateY(-1px);
}

.testButton:disabled {
  opacity: 0.7;
  cursor: not-allowed;
  transform: none;
}

.error {
  background: rgba(239, 68, 68, 0.3);
  border: 1px solid #ef4444;
  border-radius: 4px;
  padding: 0.75rem;
  margin: 0.5rem 0;
  font-weight: 500;
}

.success {
  background: rgba(16, 185, 129, 0.3);
  border: 1px solid #10b981;
  border-radius: 4px;
  padding: 0.75rem;
  margin: 0.5rem 0;
  font-weight: 500;
}

.details {
  font-size: 0.8rem;
  opacity: 0.9;
  margin-top: 0.25rem;
  font-family: monospace;
}

.testText {
  background: rgba(0, 0, 0, 0.2);
  border-radius: 4px;
  padding: 0.5rem;
  font-size: 0.85rem;
  margin-top: 0.5rem;
  font-style: italic;
}

/* Dark mode adjustments */
[data-theme='dark'] .error {
  background: rgba(239, 68, 68, 0.2);
  border-color: #dc2626;
}

[data-theme='dark'] .success {
  background: rgba(16, 185, 129, 0.2);
  border-color: #059669;
}

/* Mobile responsive */
@media (max-width: 480px) {
  .header {
    flex-direction: column;
    gap: 0.5rem;
    text-align: center;
  }
  
  .testButton {
    width: 100%;
  }
}
```

# src/components/Quiz/index.js

```js
import React, { useState } from 'react';
import styles from './styles.module.css';

export default function Quiz({ 
  title, 
  questions = [], 
  onComplete,
  passingScore = 70 
}) {
  const [currentQuestion, setCurrentQuestion] = useState(0);
  const [answers, setAnswers] = useState({});
  const [showResults, setShowResults] = useState(false);
  const [score, setScore] = useState(0);

  const handleAnswer = (questionIndex, answerIndex) => {
    setAnswers(prev => ({
      ...prev,
      [questionIndex]: answerIndex
    }));
  };

  const calculateScore = () => {
    let correct = 0;
    questions.forEach((question, index) => {
      if (answers[index] === question.correctAnswer) {
        correct++;
      }
    });
    return Math.round((correct / questions.length) * 100);
  };

  const handleSubmit = () => {
    const finalScore = calculateScore();
    setScore(finalScore);
    setShowResults(true);
    
    // Save to localStorage
    localStorage.setItem(`quiz-${title}`, JSON.stringify({
      score: finalScore,
      passed: finalScore >= passingScore,
      answers,
      completedAt: new Date().toISOString()
    }));

    if (onComplete) {
      onComplete({ score: finalScore, passed: finalScore >= passingScore });
    }
  };

  const resetQuiz = () => {
    setCurrentQuestion(0);
    setAnswers({});
    setShowResults(false);
    setScore(0);
  };

  if (showResults) {
    const passed = score >= passingScore;
    return (
      <div className={styles.quiz}>
        <div className={styles.results}>
          <div className={`${styles.scoreCard} ${passed ? styles.passed : styles.failed}`}>
            <div className={styles.scoreIcon}>
              {passed ? 'üéâ' : 'üìö'}
            </div>
            <h3>Quiz Results</h3>
            <div className={styles.scoreDisplay}>
              <span className={styles.scoreNumber}>{score}%</span>
              <span className={styles.scoreLabel}>
                {passed ? 'Passed!' : 'Needs Review'}
              </span>
            </div>
            
            {passed ? (
              <p>Excellent work! You've mastered this topic.</p>
            ) : (
              <p>Review the material and try again. You need {passingScore}% to pass.</p>
            )}
          </div>

          <div className={styles.answerReview}>
            <h4>Review Your Answers:</h4>
            {questions.map((question, qIndex) => (
              <div key={qIndex} className={styles.reviewQuestion}>
                <h5>Q{qIndex + 1}: {question.question}</h5>
                <div className={styles.reviewAnswers}>
                  {question.options.map((option, aIndex) => {
                    const isSelected = answers[qIndex] === aIndex;
                    const isCorrect = aIndex === question.correctAnswer;
                    
                    return (
                      <div 
                        key={aIndex}
                        className={`${styles.reviewAnswer} ${
                          isSelected ? styles.selected : ''
                        } ${
                          isCorrect ? styles.correct : ''
                        } ${
                          isSelected && !isCorrect ? styles.incorrect : ''
                        }`}
                      >
                        {option}
                        {isCorrect && <span className={styles.correctIcon}>‚úì</span>}
                        {isSelected && !isCorrect && <span className={styles.incorrectIcon}>‚úó</span>}
                      </div>
                    );
                  })}
                </div>
                {question.explanation && (
                  <div className={styles.explanation}>
                    <strong>Explanation:</strong> {question.explanation}
                  </div>
                )}
              </div>
            ))}
          </div>

          <div className={styles.resultActions}>
            <button className={styles.retryButton} onClick={resetQuiz}>
              Try Again
            </button>
            {passed && (
              <button className={styles.continueButton}>
                Continue to Next Section ‚Üí
              </button>
            )}
          </div>
        </div>
      </div>
    );
  }

  const currentQ = questions[currentQuestion];
  const progress = ((currentQuestion + 1) / questions.length) * 100;

  return (
    <div className={styles.quiz}>
      <div className={styles.header}>
        <h3>{title}</h3>
        <div className={styles.progress}>
          <div className={styles.progressBar}>
            <div 
              className={styles.progressFill}
              style={{ width: `${progress}%` }}
            />
          </div>
          <span className={styles.progressText}>
            {currentQuestion + 1} of {questions.length}
          </span>
        </div>
      </div>

      <div className={styles.questionCard}>
        <h4 className={styles.questionText}>
          {currentQ?.question}
        </h4>

        <div className={styles.options}>
          {currentQ?.options.map((option, index) => (
            <button
              key={index}
              className={`${styles.option} ${
                answers[currentQuestion] === index ? styles.selected : ''
              }`}
              onClick={() => handleAnswer(currentQuestion, index)}
            >
              <span className={styles.optionLetter}>
                {String.fromCharCode(65 + index)}
              </span>
              {option}
            </button>
          ))}
        </div>
      </div>

      <div className={styles.navigation}>
        <button
          className={styles.navButton}
          onClick={() => setCurrentQuestion(Math.max(0, currentQuestion - 1))}
          disabled={currentQuestion === 0}
        >
          ‚Üê Previous
        </button>

        <div className={styles.questionDots}>
          {questions.map((_, index) => (
            <button
              key={index}
              className={`${styles.dot} ${
                index === currentQuestion ? styles.active : ''
              } ${
                answers[index] !== undefined ? styles.answered : ''
              }`}
              onClick={() => setCurrentQuestion(index)}
            >
              {index + 1}
            </button>
          ))}
        </div>

        {currentQuestion < questions.length - 1 ? (
          <button
            className={styles.navButton}
            onClick={() => setCurrentQuestion(currentQuestion + 1)}
          >
            Next ‚Üí
          </button>
        ) : (
          <button
            className={styles.submitButton}
            onClick={handleSubmit}
            disabled={Object.keys(answers).length < questions.length}
          >
            Submit Quiz
          </button>
        )}
      </div>
    </div>
  );
}

export function QuickCheck({ question, options, correctAnswer, explanation }) {
  const [selected, setSelected] = useState(null);
  const [showResult, setShowResult] = useState(false);

  const handleAnswer = (index) => {
    setSelected(index);
    setShowResult(true);
  };

  const isCorrect = selected === correctAnswer;

  return (
    <div className={styles.quickCheck}>
      <h4>ü§î Quick Check</h4>
      <p className={styles.quickQuestion}>{question}</p>
      
      <div className={styles.quickOptions}>
        {options.map((option, index) => (
          <button
            key={index}
            className={`${styles.quickOption} ${
              selected === index ? styles.selected : ''
            } ${
              showResult && index === correctAnswer ? styles.correct : ''
            } ${
              showResult && selected === index && index !== correctAnswer ? styles.incorrect : ''
            }`}
            onClick={() => handleAnswer(index)}
            disabled={showResult}
          >
            {option}
          </button>
        ))}
      </div>

      {showResult && (
        <div className={`${styles.quickResult} ${isCorrect ? styles.correct : styles.incorrect}`}>
          <div className={styles.resultIcon}>
            {isCorrect ? '‚úÖ' : '‚ùå'}
          </div>
          <div className={styles.resultText}>
            {isCorrect ? 'Correct!' : 'Not quite right.'}
            {explanation && (
              <p className={styles.quickExplanation}>{explanation}</p>
            )}
          </div>
        </div>
      )}
    </div>
  );
}
```

# src/components/Quiz/styles.module.css

```css
.quiz {
  background: #ffffff;
  border: 2px solid #e1e8ed;
  border-radius: 12px;
  margin: 2rem 0;
  overflow: hidden;
  box-shadow: 0 4px 16px rgba(0, 0, 0, 0.1);
}

.header {
  background: linear-gradient(135deg, #6366f1 0%, #8b5cf6 100%);
  color: white;
  padding: 1.5rem;
}

.header h3 {
  margin: 0 0 1rem 0;
  font-size: 1.4rem;
}

.progress {
  display: flex;
  align-items: center;
  gap: 1rem;
}

.progressBar {
  flex: 1;
  height: 8px;
  background: rgba(255, 255, 255, 0.3);
  border-radius: 4px;
  overflow: hidden;
}

.progressFill {
  height: 100%;
  background: linear-gradient(90deg, #10b981, #34d399);
  border-radius: 4px;
  transition: width 0.3s ease;
}

.progressText {
  font-size: 0.9rem;
  opacity: 0.9;
}

.questionCard {
  padding: 2rem;
}

.questionText {
  margin: 0 0 1.5rem 0;
  font-size: 1.2rem;
  color: #374151;
  line-height: 1.6;
}

.options {
  display: flex;
  flex-direction: column;
  gap: 1rem;
}

.option {
  display: flex;
  align-items: center;
  gap: 1rem;
  padding: 1rem 1.5rem;
  background: #f9fafb;
  border: 2px solid #e5e7eb;
  border-radius: 8px;
  cursor: pointer;
  transition: all 0.2s ease;
  text-align: left;
  font-size: 1rem;
}

.option:hover {
  background: #f3f4f6;
  border-color: #d1d5db;
}

.option.selected {
  background: #dbeafe;
  border-color: #3b82f6;
}

.optionLetter {
  width: 2rem;
  height: 2rem;
  background: #6b7280;
  color: white;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: bold;
  font-size: 0.9rem;
  flex-shrink: 0;
}

.option.selected .optionLetter {
  background: #3b82f6;
}

.navigation {
  padding: 1.5rem;
  border-top: 1px solid #e5e7eb;
  display: flex;
  justify-content: space-between;
  align-items: center;
}

.navButton {
  background: #6b7280;
  color: white;
  border: none;
  padding: 0.75rem 1.5rem;
  border-radius: 6px;
  cursor: pointer;
  font-weight: 500;
  transition: background-color 0.2s ease;
}

.navButton:hover:not(:disabled) {
  background: #4b5563;
}

.navButton:disabled {
  background: #d1d5db;
  cursor: not-allowed;
}

.submitButton {
  background: linear-gradient(135deg, #10b981, #34d399);
  color: white;
  border: none;
  padding: 0.75rem 1.5rem;
  border-radius: 6px;
  cursor: pointer;
  font-weight: 600;
  transition: all 0.2s ease;
}

.submitButton:hover:not(:disabled) {
  transform: translateY(-2px);
  box-shadow: 0 4px 12px rgba(16, 185, 129, 0.3);
}

.submitButton:disabled {
  background: #d1d5db;
  cursor: not-allowed;
  transform: none;
}

.questionDots {
  display: flex;
  gap: 0.5rem;
}

.dot {
  width: 2rem;
  height: 2rem;
  border-radius: 50%;
  background: #e5e7eb;
  color: #6b7280;
  border: none;
  cursor: pointer;
  font-size: 0.8rem;
  font-weight: bold;
  transition: all 0.2s ease;
}

.dot.active {
  background: #3b82f6;
  color: white;
}

.dot.answered {
  background: #10b981;
  color: white;
}

/* Results Styles */
.results {
  padding: 2rem;
}

.scoreCard {
  text-align: center;
  padding: 2rem;
  border-radius: 12px;
  margin-bottom: 2rem;
}

.scoreCard.passed {
  background: linear-gradient(135deg, #d1fae5, #a7f3d0);
  border: 2px solid #10b981;
}

.scoreCard.failed {
  background: linear-gradient(135deg, #fee2e2, #fecaca);
  border: 2px solid #ef4444;
}

.scoreIcon {
  font-size: 4rem;
  margin-bottom: 1rem;
}

.scoreCard h3 {
  margin: 0 0 1rem 0;
  color: #374151;
}

.scoreDisplay {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 0.5rem;
  margin-bottom: 1rem;
}

.scoreNumber {
  font-size: 3rem;
  font-weight: bold;
  color: #059669;
}

.scoreCard.failed .scoreNumber {
  color: #dc2626;
}

.scoreLabel {
  font-size: 1.2rem;
  font-weight: 600;
  color: #374151;
}

.answerReview {
  margin-bottom: 2rem;
}

.answerReview h4 {
  margin: 0 0 1.5rem 0;
  color: #374151;
}

.reviewQuestion {
  margin-bottom: 2rem;
  padding: 1.5rem;
  background: #f9fafb;
  border-radius: 8px;
}

.reviewQuestion h5 {
  margin: 0 0 1rem 0;
  color: #374151;
}

.reviewAnswers {
  display: flex;
  flex-direction: column;
  gap: 0.5rem;
  margin-bottom: 1rem;
}

.reviewAnswer {
  padding: 0.75rem 1rem;
  border-radius: 6px;
  display: flex;
  align-items: center;
  justify-content: space-between;
  background: white;
  border: 1px solid #e5e7eb;
}

.reviewAnswer.correct {
  background: #dcfce7;
  border-color: #16a34a;
  color: #15803d;
}

.reviewAnswer.incorrect {
  background: #fee2e2;
  border-color: #dc2626;
  color: #dc2626;
}

.reviewAnswer.selected.correct {
  background: #bbf7d0;
}

.correctIcon, .incorrectIcon {
  font-weight: bold;
  font-size: 1.2rem;
}

.explanation {
  background: #eff6ff;
  padding: 1rem;
  border-radius: 6px;
  border-left: 4px solid #3b82f6;
  color: #1e40af;
}

.resultActions {
  display: flex;
  gap: 1rem;
  justify-content: center;
}

.retryButton {
  background: #6b7280;
  color: white;
  border: none;
  padding: 0.75rem 1.5rem;
  border-radius: 6px;
  cursor: pointer;
  font-weight: 500;
  transition: background-color 0.2s ease;
}

.retryButton:hover {
  background: #4b5563;
}

.continueButton {
  background: linear-gradient(135deg, #3b82f6, #1d4ed8);
  color: white;
  border: none;
  padding: 0.75rem 1.5rem;
  border-radius: 6px;
  cursor: pointer;
  font-weight: 600;
  transition: all 0.2s ease;
}

.continueButton:hover {
  transform: translateY(-2px);
  box-shadow: 0 4px 12px rgba(59, 130, 246, 0.3);
}

/* Quick Check Styles */
.quickCheck {
  background: #fef3c7;
  border: 2px solid #f59e0b;
  border-radius: 8px;
  padding: 1.5rem;
  margin: 1.5rem 0;
}

.quickCheck h4 {
  margin: 0 0 1rem 0;
  color: #92400e;
}

.quickQuestion {
  margin: 0 0 1rem 0;
  font-weight: 500;
  color: #78350f;
}

.quickOptions {
  display: flex;
  flex-direction: column;
  gap: 0.5rem;
  margin-bottom: 1rem;
}

.quickOption {
  padding: 0.75rem 1rem;
  background: white;
  border: 2px solid #fbbf24;
  border-radius: 6px;
  cursor: pointer;
  transition: all 0.2s ease;
  text-align: left;
}

.quickOption:hover:not(:disabled) {
  background: #fef3c7;
}

.quickOption.selected {
  background: #fed7aa;
  border-color: #f97316;
}

.quickOption.correct {
  background: #dcfce7;
  border-color: #16a34a;
  color: #15803d;
}

.quickOption.incorrect {
  background: #fee2e2;
  border-color: #dc2626;
  color: #dc2626;
}

.quickResult {
  display: flex;
  align-items: flex-start;
  gap: 1rem;
  padding: 1rem;
  border-radius: 6px;
}

.quickResult.correct {
  background: #dcfce7;
  border: 1px solid #16a34a;
}

.quickResult.incorrect {
  background: #fee2e2;
  border: 1px solid #dc2626;
}

.resultIcon {
  font-size: 1.5rem;
  flex-shrink: 0;
}

.resultText {
  flex: 1;
}

.quickExplanation {
  margin: 0.5rem 0 0 0;
  font-size: 0.9rem;
  opacity: 0.9;
}
```

# src/components/Screenshot.js

```js
import React from "react";
import BrowserWindow from "@site/src/components/BrowserWindow";
import useBaseUrl from '@docusaurus/useBaseUrl';

export default function Screenshot(props) {
  return (
    <BrowserWindow {...props}>
      <img src={useBaseUrl(props.src)} alt={props.alt} />
    </BrowserWindow>
  )
};
```

# src/components/SlideViewer/index.jsx

```jsx
import React, { useState, useEffect, useRef } from 'react';
import BrowserOnly from '@docusaurus/BrowserOnly';
import styles from './styles.module.css';
import { convertToEmbedUrl, isValidGoogleSlidesUrl } from './utils';

export default function SlideViewer({
  url,
  title,
  width = '100%',
  height = '600px',
  caption,
  autoplay = false,
  loop = false,
  delayMs = 5000,
  slideId,
  slideNumber,
  notesLink,
  fallbackContent,
  loadTimeout = 10000, // 10 seconds default timeout
}) {
  const [isLoading, setIsLoading] = useState(true);
  const [hasError, setHasError] = useState(false);
  const [errorType, setErrorType] = useState(null);
  const iframeRef = useRef(null);
  const timeoutRef = useRef(null);
  const checkIntervalRef = useRef(null);

  const embedUrl = convertToEmbedUrl(url, { autoplay, loop, delayMs, slideId, slideNumber });

  // Validate URL format
  useEffect(() => {
    if (!isValidGoogleSlidesUrl(url)) {
      setHasError(true);
      setErrorType('invalid-url');
      setIsLoading(false);
    }
  }, [url]);

  // Set up load timeout
  useEffect(() => {
    if (!hasError) {
      timeoutRef.current = setTimeout(() => {
        if (isLoading) {
          setIsLoading(false);
          setHasError(true);
          setErrorType('timeout');
        }
      }, loadTimeout);
    }

    return () => {
      if (timeoutRef.current) {
        clearTimeout(timeoutRef.current);
      }
      if (checkIntervalRef.current) {
        clearInterval(checkIntervalRef.current);
      }
    };
  }, [hasError, isLoading, loadTimeout]);

  const handleLoad = () => {
    // Clear the timeout since load succeeded
    if (timeoutRef.current) {
      clearTimeout(timeoutRef.current);
    }
    
    // Check if the iframe loaded but is empty (indicates permission issue)
    try {
      const iframe = iframeRef.current;
      if (iframe && iframe.contentWindow) {
        // Try to check if we can access the content
        checkIntervalRef.current = setTimeout(() => {
          try {
            // If iframe is blank or has minimal content, likely a permission issue
            const iframeDoc = iframe.contentDocument || iframe.contentWindow.document;
            if (iframeDoc && iframeDoc.body && iframeDoc.body.innerHTML.length < 100) {
              setHasError(true);
              setErrorType('permissions');
            }
          } catch (e) {
            // Cross-origin error is expected for Google Slides, this is OK
            setIsLoading(false);
          }
        }, 1000);
      }
    } catch (e) {
      // Expected cross-origin error
    }
    
    setIsLoading(false);
  };

  const handleError = () => {
    if (timeoutRef.current) {
      clearTimeout(timeoutRef.current);
    }
    setIsLoading(false);
    setHasError(true);
    setErrorType('load-error');
  };

  return (
    <BrowserOnly fallback={<div>Loading...</div>}>
      {() => (
        <div className={styles.slideViewerContainer}>
          {title && <h3 className={styles.slideTitle}>{title}</h3>}
          
          <div className={styles.slideWrapper} style={{ width, height }}>
            {isLoading && !hasError && (
              <div className={styles.loadingOverlay}>
                <div className={styles.spinner} />
                <p>Loading presentation...</p>
              </div>
            )}
            
            {hasError ? (
              <div className={styles.errorContainer}>
                <div className={styles.errorIcon}>
                  {errorType === 'permissions' ? 'üîí' : '‚ö†Ô∏è'}
                </div>
                <p className={styles.errorMessage}>
                  {errorType === 'invalid-url' && 'Invalid Google Slides URL format.'}
                  {errorType === 'permissions' && 'This presentation requires permission to view.'}
                  {errorType === 'timeout' && 'The presentation took too long to load.'}
                  {errorType === 'load-error' && 'Unable to load the presentation.'}
                  {!errorType && 'An error occurred loading the presentation.'}
                </p>
                {errorType === 'permissions' && (
                  <div className={styles.errorDetails}>
                    <p>This could be because:</p>
                    <ul>
                      <li>The presentation is not publicly shared</li>
                      <li>You need to be signed in to Google</li>
                      <li>The presentation has been deleted or moved</li>
                    </ul>
                  </div>
                )}
                {fallbackContent || (
                  <div className={styles.errorActions}>
                    <a href={url} target="_blank" rel="noopener noreferrer" className={styles.fallbackLink}>
                      Open presentation in Google Slides
                    </a>
                    {errorType === 'timeout' && (
                      <button onClick={() => window.location.reload()} className={styles.retryButton}>
                        Retry
                      </button>
                    )}
                  </div>
                )}
              </div>
            ) : (
              <iframe
                ref={iframeRef}
                src={embedUrl}
                className={styles.slideFrame}
                title={title || 'Presentation'}
                onLoad={handleLoad}
                onError={handleError}
                allow="autoplay"
                allowFullScreen
                sandbox="allow-same-origin allow-scripts allow-popups allow-forms"
              />
            )}
          </div>
          
          {(caption || notesLink) && (
            <div className={styles.slideFooter}>
              {caption && <p className={styles.caption}>{caption}</p>}
              {notesLink && (
                <a href={notesLink} className={styles.notesLink}>
                  View speaker notes
                </a>
              )}
            </div>
          )}
        </div>
      )}
    </BrowserOnly>
  );
}
```

# src/components/SlideViewer/SlideViewerFromConfig.jsx

```jsx
import React from 'react';
import SlideViewer from './index';

/**
 * Wrapper component that reads slide configuration from frontmatter
 * @param {Object} props - Component props
 * @param {Object} props.slideConfig - Slide configuration from frontmatter
 */
export default function SlideViewerFromConfig({ slideConfig }) {
  if (!slideConfig || !slideConfig.url) {
    return (
      <div style={{ 
        padding: '2rem', 
        background: 'var(--ifm-color-emphasis-100)', 
        borderRadius: '8px',
        textAlign: 'center'
      }}>
        <p>No slide configuration found. Add slides to your frontmatter:</p>
        <pre style={{ textAlign: 'left', marginTop: '1rem' }}>
          <code>{`---
slides:
  url: "https://docs.google.com/presentation/d/YOUR_ID"
  title: "Your Presentation Title"
  autoplay: true
---`}</code>
        </pre>
      </div>
    );
  }

  return <SlideViewer {...slideConfig} />;
}

/**
 * Component for rendering multiple slides from frontmatter array
 * @param {Object} props - Component props
 * @param {Array} props.slides - Array of slide configurations
 */
export function MultiSlideViewer({ slides }) {
  if (!slides || !Array.isArray(slides) || slides.length === 0) {
    return null;
  }

  return (
    <div style={{ marginTop: '2rem' }}>
      {slides.map((slide, index) => (
        <div key={index} style={{ marginBottom: '3rem' }}>
          <SlideViewer {...slide} />
        </div>
      ))}
    </div>
  );
}
```

# src/components/SlideViewer/SlideViewerWithCheck.jsx

```jsx
import React, { useState, useEffect } from 'react';
import SlideViewer from './index';

/**
 * Enhanced SlideViewer that pre-checks presentation availability
 * This component attempts to validate the presentation before rendering
 */
export default function SlideViewerWithCheck(props) {
  const [checkStatus, setCheckStatus] = useState('checking');
  const [checkError, setCheckError] = useState(null);

  useEffect(() => {
    const checkPresentation = async () => {
      try {
        // Extract presentation ID from URL
        const match = props.url.match(/\/presentation\/d\/([a-zA-Z0-9-_]+)/);
        if (!match) {
          setCheckError('invalid-url');
          setCheckStatus('error');
          return;
        }

        const presentationId = match[1];
        
        // Try to fetch the presentation metadata (this will fail for private presentations)
        // Note: This is a heuristic check - Google doesn't provide a direct API for this
        const checkUrl = `https://docs.google.com/presentation/d/${presentationId}/edit`;
        
        // Use a simple image request to check if the presentation exists
        // Google Slides generates preview images for public presentations
        const img = new Image();
        img.onload = () => {
          setCheckStatus('success');
        };
        img.onerror = () => {
          // This could be a permission issue or the presentation doesn't exist
          setCheckError('access-denied');
          setCheckStatus('error');
        };
        
        // Try to load a thumbnail of the first slide
        img.src = `https://docs.google.com/presentation/d/${presentationId}/export/png?id=${presentationId}&pageid=p`;
        
        // Set a timeout for the check
        setTimeout(() => {
          if (checkStatus === 'checking') {
            setCheckStatus('success'); // Assume success if no explicit error
          }
        }, 3000);
      } catch (error) {
        setCheckError('unknown');
        setCheckStatus('error');
      }
    };

    checkPresentation();
  }, [props.url, checkStatus]);

  if (checkStatus === 'checking') {
    return (
      <div style={{ 
        padding: '2rem', 
        textAlign: 'center',
        background: 'var(--ifm-background-surface-color)',
        borderRadius: '8px',
        border: '1px solid var(--ifm-color-emphasis-200)'
      }}>
        <div style={{ fontSize: '1.5rem', marginBottom: '0.5rem' }}>üîç</div>
        <p>Checking presentation availability...</p>
      </div>
    );
  }

  if (checkStatus === 'error' && checkError === 'access-denied') {
    return (
      <SlideViewer 
        {...props}
        fallbackContent={
          <div>
            <p style={{ marginBottom: '1rem', fontSize: '0.95rem' }}>
              To view this presentation, you may need to:
            </p>
            <ol style={{ textAlign: 'left', maxWidth: '400px', margin: '0 auto 1.5rem' }}>
              <li>Request access from the presentation owner</li>
              <li>Sign in to your Google account</li>
              <li>Ensure the presentation is shared publicly</li>
            </ol>
            <a 
              href={props.url} 
              target="_blank" 
              rel="noopener noreferrer" 
              style={{
                display: 'inline-flex',
                alignItems: 'center',
                padding: '0.75rem 1.5rem',
                backgroundColor: 'var(--ifm-color-primary)',
                color: 'white',
                textDecoration: 'none',
                borderRadius: '4px',
                fontWeight: '500'
              }}
            >
              Request Access in Google Slides
            </a>
          </div>
        }
      />
    );
  }

  // Render normal SlideViewer for all other cases
  return <SlideViewer {...props} />;
}
```

# src/components/SlideViewer/styles.module.css

```css
.slideViewerContainer {
  margin: 2rem 0;
  width: 100%;
}

.slideTitle {
  margin-bottom: 1rem;
  font-size: 1.5rem;
  font-weight: 600;
  color: var(--ifm-heading-color);
}

.slideWrapper {
  position: relative;
  border-radius: 8px;
  overflow: hidden;
  box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
  background-color: var(--ifm-background-surface-color);
  border: 1px solid var(--ifm-color-emphasis-200);
}

.slideFrame {
  width: 100%;
  height: 100%;
  border: none;
  display: block;
}

.loadingOverlay {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  background-color: var(--ifm-background-surface-color);
  z-index: 1;
}

.spinner {
  width: 40px;
  height: 40px;
  border: 3px solid var(--ifm-color-emphasis-200);
  border-top-color: var(--ifm-color-primary);
  border-radius: 50%;
  animation: spin 1s linear infinite;
  margin-bottom: 1rem;
}

@keyframes spin {
  to {
    transform: rotate(360deg);
  }
}

.errorContainer {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  height: 100%;
  padding: 2rem;
  text-align: center;
  background-color: var(--ifm-background-surface-color);
}

.errorIcon {
  font-size: 3rem;
  margin-bottom: 1rem;
}

.errorMessage {
  color: var(--ifm-color-danger);
  font-size: 1.1rem;
  margin-bottom: 1rem;
  font-weight: 600;
}

.errorDetails {
  margin: 1rem 0;
  padding: 1rem;
  background-color: var(--ifm-color-emphasis-100);
  border-radius: 4px;
  text-align: left;
  max-width: 400px;
}

.errorDetails p {
  margin: 0 0 0.5rem 0;
  font-weight: 500;
}

.errorDetails ul {
  margin: 0;
  padding-left: 1.5rem;
}

.errorDetails li {
  margin: 0.25rem 0;
  font-size: 0.9rem;
}

.errorActions {
  display: flex;
  gap: 1rem;
  align-items: center;
  flex-wrap: wrap;
  justify-content: center;
}

.fallbackLink {
  display: inline-flex;
  align-items: center;
  padding: 0.75rem 1.5rem;
  background-color: var(--ifm-color-primary);
  color: white;
  text-decoration: none;
  border-radius: 4px;
  font-weight: 500;
  transition: background-color 0.2s;
}

.fallbackLink:hover {
  background-color: var(--ifm-color-primary-dark);
  color: white;
  text-decoration: none;
}

.retryButton {
  display: inline-flex;
  align-items: center;
  padding: 0.75rem 1.5rem;
  background-color: var(--ifm-color-emphasis-300);
  color: var(--ifm-font-color-base);
  border: none;
  border-radius: 4px;
  font-weight: 500;
  cursor: pointer;
  transition: background-color 0.2s;
}

.retryButton:hover {
  background-color: var(--ifm-color-emphasis-400);
}

.slideFooter {
  margin-top: 1rem;
  display: flex;
  justify-content: space-between;
  align-items: center;
  flex-wrap: wrap;
  gap: 1rem;
}

.caption {
  margin: 0;
  color: var(--ifm-color-emphasis-700);
  font-size: 0.95rem;
  flex: 1;
}

.notesLink {
  display: inline-flex;
  align-items: center;
  color: var(--ifm-color-primary);
  text-decoration: none;
  font-size: 0.9rem;
  font-weight: 500;
}

.notesLink:hover {
  text-decoration: underline;
}

/* Dark mode support */
html[data-theme='dark'] .slideWrapper {
  box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.3), 0 2px 4px -1px rgba(0, 0, 0, 0.2);
  border-color: var(--ifm-color-emphasis-300);
}

html[data-theme='dark'] .fallbackLink {
  background-color: var(--ifm-color-primary-darker);
}

html[data-theme='dark'] .fallbackLink:hover {
  background-color: var(--ifm-color-primary);
}

/* Responsive design */
@media (max-width: 768px) {
  .slideViewerContainer {
    margin: 1rem 0;
  }
  
  .slideTitle {
    font-size: 1.25rem;
  }
  
  .slideWrapper {
    min-height: 400px;
  }
  
  .slideFooter {
    flex-direction: column;
    align-items: flex-start;
  }
}
```

# src/components/SlideViewer/utils.js

```js
/**
 * Convert various Google Slides URL formats to embeddable iframe URL
 * @param {string} url - The Google Slides URL
 * @param {Object} options - Embed options
 * @param {boolean} options.autoplay - Start presentation automatically
 * @param {boolean} options.loop - Loop the presentation
 * @param {number} options.delayMs - Delay between slides in milliseconds
 * @param {string} options.slideId - Specific slide ID to start on
 * @param {number} options.slideNumber - Specific slide number to start on (1-based)
 * @returns {string} - Embeddable URL
 */
export function convertToEmbedUrl(url, options = {}) {
  const { autoplay = false, loop = false, delayMs = 5000, slideId, slideNumber } = options;

  // Handle already embedded URLs
  if (url.includes('/embed')) {
    return url;
  }

  // Extract presentation ID and slide ID from various Google Slides URL formats
  let presentationId;
  let extractedSlideId;
  
  // Format: https://docs.google.com/presentation/d/{id}/edit
  const editMatch = url.match(/\/presentation\/d\/([a-zA-Z0-9-_]+)/);
  if (editMatch) {
    presentationId = editMatch[1];
  }
  
  // Format: https://docs.google.com/presentation/d/{id}/view
  const viewMatch = url.match(/\/d\/([a-zA-Z0-9-_]+)\/view/);
  if (viewMatch) {
    presentationId = viewMatch[1];
  }
  
  // Format: https://drive.google.com/file/d/{id}/view
  const driveMatch = url.match(/\/file\/d\/([a-zA-Z0-9-_]+)/);
  if (driveMatch) {
    presentationId = driveMatch[1];
  }
  
  // Extract slide ID from URL if present
  // Format: #slide=id.g35df0c0f3b1_0_12007
  const slideMatch = url.match(/#slide=id\.([a-zA-Z0-9_]+)/);
  if (slideMatch) {
    extractedSlideId = slideMatch[1];
  }

  if (!presentationId) {
    // If we can't extract an ID, return the original URL
    return url;
  }

  // Build embed URL with parameters
  let embedUrl = `https://docs.google.com/presentation/d/${presentationId}/embed`;
  const params = [];

  // Handle slide specification
  const finalSlideId = slideId || extractedSlideId;
  if (finalSlideId) {
    params.push(`slide=id.${finalSlideId}`);
  } else if (slideNumber && slideNumber > 1) {
    // Google Slides uses 0-based indexing for slide numbers in embed URLs
    params.push(`slide=${slideNumber - 1}`);
  }

  if (autoplay) {
    params.push('start=true');
  }
  if (loop) {
    params.push('loop=true');
  }
  if (delayMs !== 5000) {
    params.push(`delayms=${delayMs}`);
  }

  if (params.length > 0) {
    embedUrl += '?' + params.join('&');
  }

  return embedUrl;
}

/**
 * Validate if a URL is a valid Google Slides URL
 * @param {string} url - URL to validate
 * @returns {boolean} - Whether the URL is valid
 */
export function isValidGoogleSlidesUrl(url) {
  const patterns = [
    /^https:\/\/docs\.google\.com\/presentation\/d\/[a-zA-Z0-9-_]+/,
    /^https:\/\/drive\.google\.com\/file\/d\/[a-zA-Z0-9-_]+/,
  ];
  
  return patterns.some(pattern => pattern.test(url));
}

/**
 * Extract presentation metadata from URL if available
 * @param {string} url - Google Slides URL
 * @returns {Object} - Metadata object
 */
export function extractPresentationMetadata(url) {
  const metadata = {
    id: null,
    type: 'google-slides',
    isPublic: true,
  };

  const idMatch = url.match(/\/(?:presentation|file)\/d\/([a-zA-Z0-9-_]+)/);
  if (idMatch) {
    metadata.id = idMatch[1];
  }

  return metadata;
}
```

# src/components/WorkflowCard.js

```js
import React from 'react';
import Link from '@docusaurus/Link';
import styles from './WorkflowCard.module.css';

export default function WorkflowCard({
  number,
  title,
  description,
  concepts = [],
  difficulty = 'intermediate',
  downloadUrl,
  children
}) {
  const difficultyColors = {
    beginner: '#4CAF50',
    intermediate: '#FF9800',
    advanced: '#F44336',
    expert: '#9C27B0'
  };

  const difficultyEmojis = {
    beginner: 'üå±',
    intermediate: 'üåø',
    advanced: 'üå≥',
    expert: 'üöÄ'
  };

  return (
    <div className={styles.workflowCard}>
      <div className={styles.header}>
        <div className={styles.numberBadge}>{number}</div>
        <div className={styles.titleSection}>
          <h3>{title}</h3>
          <span 
            className={styles.difficultyBadge}
            style={{ backgroundColor: difficultyColors[difficulty] }}
          >
            {difficultyEmojis[difficulty]} {difficulty}
          </span>
        </div>
      </div>
      
      <p className={styles.description}>{description}</p>
      
      {concepts.length > 0 && (
        <div className={styles.concepts}>
          <strong>Concepts covered:</strong>
          <div className={styles.conceptTags}>
            {concepts.map((concept, index) => (
              <span key={index} className={styles.conceptTag}>
                {concept}
              </span>
            ))}
          </div>
        </div>
      )}
      
      {children && (
        <div className={styles.details}>
          {children}
        </div>
      )}
      
      <div className={styles.actions}>
        <Link
          className="button button--primary"
          to={downloadUrl}
          download
        >
          üì• Download Workflow
        </Link>
        <Link
          className="button button--secondary"
          to={`/docs/workflow-guides/${number}`}
        >
          üìñ View Guide
        </Link>
      </div>
    </div>
  );
}
```

# src/components/WorkflowCard.module.css

```css
.workflowCard {
  border: 1px solid var(--ifm-color-emphasis-300);
  border-radius: 8px;
  padding: 1.5rem;
  margin-bottom: 2rem;
  background: var(--ifm-card-background-color);
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
  transition: box-shadow 0.3s ease;
}

.workflowCard:hover {
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
}

.header {
  display: flex;
  align-items: flex-start;
  margin-bottom: 1rem;
  gap: 1rem;
}

.numberBadge {
  background: var(--ifm-color-primary);
  color: white;
  width: 40px;
  height: 40px;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: bold;
  font-size: 1.2rem;
  flex-shrink: 0;
}

.titleSection {
  flex: 1;
  display: flex;
  align-items: center;
  gap: 1rem;
  flex-wrap: wrap;
}

.titleSection h3 {
  margin: 0;
  flex: 1;
}

.difficultyBadge {
  padding: 0.25rem 0.75rem;
  border-radius: 16px;
  color: white;
  font-size: 0.875rem;
  font-weight: 600;
  text-transform: capitalize;
}

.description {
  margin-bottom: 1rem;
  color: var(--ifm-color-emphasis-700);
}

.concepts {
  margin-bottom: 1rem;
}

.conceptTags {
  display: flex;
  flex-wrap: wrap;
  gap: 0.5rem;
  margin-top: 0.5rem;
}

.conceptTag {
  background: var(--ifm-color-emphasis-200);
  padding: 0.25rem 0.75rem;
  border-radius: 4px;
  font-size: 0.875rem;
  color: var(--ifm-color-emphasis-800);
}

.details {
  margin: 1rem 0;
  padding: 1rem;
  background: var(--ifm-color-emphasis-100);
  border-radius: 4px;
}

.details ul {
  margin: 0.5rem 0;
  padding-left: 1.5rem;
}

.details strong {
  display: block;
  margin-bottom: 0.5rem;
  color: var(--ifm-color-emphasis-900);
}

.actions {
  display: flex;
  gap: 1rem;
  margin-top: 1.5rem;
  flex-wrap: wrap;
}

.actions .button {
  margin: 0;
}

@media (max-width: 768px) {
  .header {
    flex-direction: column;
  }
  
  .titleSection {
    width: 100%;
  }
  
  .actions {
    flex-direction: column;
  }
  
  .actions .button {
    width: 100%;
    text-align: center;
  }
}
```

# src/components/WorkshopExercise/index.js

```js
import React, { useState } from 'react';
import styles from './styles.module.css';

export default function WorkshopExercise({ 
  title, 
  difficulty = "beginner", 
  timeEstimate, 
  children, 
  objectives = [],
  onComplete 
}) {
  const [isCompleted, setIsCompleted] = useState(false);
  const [isExpanded, setIsExpanded] = useState(true);

  const handleComplete = () => {
    setIsCompleted(true);
    if (onComplete) {
      onComplete();
    }
    // Store completion in localStorage
    localStorage.setItem(`workshop-exercise-${title}`, 'completed');
  };

  // Check if previously completed
  React.useEffect(() => {
    const wasCompleted = localStorage.getItem(`workshop-exercise-${title}`);
    if (wasCompleted === 'completed') {
      setIsCompleted(true);
    }
  }, [title]);

  const difficultyColors = {
    beginner: '#28a745',
    intermediate: '#ffc107', 
    advanced: '#dc3545'
  };

  return (
    <div className={`${styles.exercise} ${isCompleted ? styles.completed : ''}`}>
      <div className={styles.header} onClick={() => setIsExpanded(!isExpanded)}>
        <div className={styles.titleSection}>
          <h3 className={styles.title}>
            {isCompleted && <span className={styles.checkmark}>‚úÖ</span>}
            {title}
          </h3>
          <div className={styles.metadata}>
            <span 
              className={styles.difficulty}
              style={{ backgroundColor: difficultyColors[difficulty] }}
            >
              {difficulty}
            </span>
            {timeEstimate && (
              <span className={styles.time}>‚è±Ô∏è {timeEstimate}</span>
            )}
          </div>
        </div>
        <button className={styles.expandButton}>
          {isExpanded ? '‚ñº' : '‚ñ∂'}
        </button>
      </div>
      
      {isExpanded && (
        <div className={styles.content}>
          {objectives.length > 0 && (
            <div className={styles.objectives}>
              <h4>üìã Learning Objectives:</h4>
              <ul>
                {objectives.map((objective, index) => (
                  <li key={index}>{objective}</li>
                ))}
              </ul>
            </div>
          )}
          
          <div className={styles.instructions}>
            {children}
          </div>
          
          {!isCompleted && (
            <button 
              className={styles.completeButton}
              onClick={handleComplete}
            >
              Mark as Complete ‚úÖ
            </button>
          )}
          
          {isCompleted && (
            <div className={styles.completedMessage}>
              üéâ Exercise completed! Great work!
            </div>
          )}
        </div>
      )}
    </div>
  );
}

// Sub-components for structured exercises
export function ExerciseStep({ stepNumber, title, children }) {
  const [isCompleted, setIsCompleted] = useState(false);

  return (
    <div className={styles.step}>
      <div className={styles.stepHeader}>
        <span className={`${styles.stepNumber} ${isCompleted ? styles.stepCompleted : ''}`}>
          {isCompleted ? '‚úÖ' : stepNumber}
        </span>
        <h4 className={styles.stepTitle}>{title}</h4>
      </div>
      <div className={styles.stepContent}>
        {children}
      </div>
      <button 
        className={styles.stepCompleteButton}
        onClick={() => setIsCompleted(!isCompleted)}
      >
        {isCompleted ? 'Unmark' : 'Complete Step'}
      </button>
    </div>
  );
}

export function ExerciseValidation({ title, checks = [], onValidate }) {
  const [validationResults, setValidationResults] = useState({});
  
  const handleCheck = (checkId, passed) => {
    setValidationResults(prev => ({
      ...prev,
      [checkId]: passed
    }));
  };

  const allPassed = checks.every(check => validationResults[check.id] === true);

  return (
    <div className={styles.validation}>
      <h4>üîç {title}</h4>
      <div className={styles.checks}>
        {checks.map((check) => (
          <div key={check.id} className={styles.check}>
            <label className={styles.checkLabel}>
              <input
                type="checkbox"
                checked={validationResults[check.id] || false}
                onChange={(e) => handleCheck(check.id, e.target.checked)}
              />
              {check.description}
            </label>
            {check.hint && !validationResults[check.id] && (
              <div className={styles.hint}>üí° {check.hint}</div>
            )}
          </div>
        ))}
      </div>
      
      {allPassed && (
        <div className={styles.validationSuccess}>
          ‚úÖ All validations passed! You're ready to continue.
        </div>
      )}
    </div>
  );
}
```

# src/components/WorkshopExercise/styles.module.css

```css
.exercise {
  border: 2px solid #e1e8ed;
  border-radius: 12px;
  margin: 1.5rem 0;
  background: linear-gradient(145deg, #ffffff, #f8f9fa);
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);
  transition: all 0.3s ease;
}

.exercise:hover {
  box-shadow: 0 6px 20px rgba(0, 0, 0, 0.1);
  transform: translateY(-2px);
}

.exercise.completed {
  border-color: #28a745;
  background: linear-gradient(145deg, #f8fff9, #e8f5e8);
}

.header {
  padding: 1.5rem;
  cursor: pointer;
  display: flex;
  justify-content: space-between;
  align-items: center;
  border-bottom: 1px solid #e1e8ed;
}

.titleSection {
  flex: 1;
}

.title {
  margin: 0 0 0.5rem 0;
  font-size: 1.3rem;
  color: #1c1e21;
  display: flex;
  align-items: center;
  gap: 0.5rem;
}

.checkmark {
  font-size: 1rem;
}

.metadata {
  display: flex;
  gap: 1rem;
  align-items: center;
}

.difficulty {
  padding: 0.25rem 0.75rem;
  border-radius: 20px;
  color: white;
  font-size: 0.8rem;
  font-weight: 600;
  text-transform: uppercase;
}

.time {
  color: #6c757d;
  font-size: 0.9rem;
}

.expandButton {
  background: none;
  border: none;
  font-size: 1.2rem;
  cursor: pointer;
  padding: 0.5rem;
  border-radius: 4px;
  transition: background-color 0.2s;
}

.expandButton:hover {
  background-color: #f1f3f4;
}

.content {
  padding: 1.5rem;
}

.objectives {
  background-color: #e3f2fd;
  padding: 1rem;
  border-radius: 8px;
  margin-bottom: 1.5rem;
  border-left: 4px solid #2196f3;
}

.objectives h4 {
  margin: 0 0 0.5rem 0;
  color: #1565c0;
}

.objectives ul {
  margin: 0;
  padding-left: 1.2rem;
}

.objectives li {
  margin-bottom: 0.25rem;
  color: #1976d2;
}

.instructions {
  margin-bottom: 1.5rem;
}

.completeButton {
  background: linear-gradient(135deg, #28a745, #20c997);
  color: white;
  border: none;
  padding: 0.75rem 1.5rem;
  border-radius: 8px;
  font-weight: 600;
  cursor: pointer;
  transition: all 0.3s ease;
  font-size: 1rem;
}

.completeButton:hover {
  transform: translateY(-2px);
  box-shadow: 0 4px 12px rgba(40, 167, 69, 0.3);
}

.completedMessage {
  background: linear-gradient(135deg, #d4edda, #c3e6cb);
  color: #155724;
  padding: 1rem;
  border-radius: 8px;
  text-align: center;
  font-weight: 600;
  border: 2px solid #28a745;
}

/* Step Components */
.step {
  border: 1px solid #dee2e6;
  border-radius: 8px;
  margin: 1rem 0;
  background: white;
}

.stepHeader {
  display: flex;
  align-items: center;
  padding: 1rem;
  background: #f8f9fa;
  border-bottom: 1px solid #dee2e6;
}

.stepNumber {
  width: 2rem;
  height: 2rem;
  border-radius: 50%;
  background: #6c757d;
  color: white;
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: bold;
  margin-right: 1rem;
  font-size: 0.9rem;
}

.stepNumber.stepCompleted {
  background: #28a745;
}

.stepTitle {
  margin: 0;
  color: #495057;
}

.stepContent {
  padding: 1rem;
}

.stepCompleteButton {
  margin: 0 1rem 1rem 1rem;
  background: #007bff;
  color: white;
  border: none;
  padding: 0.5rem 1rem;
  border-radius: 6px;
  cursor: pointer;
  font-size: 0.9rem;
  transition: background-color 0.2s;
}

.stepCompleteButton:hover {
  background: #0056b3;
}

/* Validation Components */
.validation {
  background: #fff3cd;
  border: 1px solid #ffeaa7;
  border-radius: 8px;
  padding: 1rem;
  margin: 1rem 0;
}

.validation h4 {
  margin: 0 0 1rem 0;
  color: #856404;
}

.checks {
  margin-bottom: 1rem;
}

.check {
  margin-bottom: 0.75rem;
}

.checkLabel {
  display: flex;
  align-items: flex-start;
  gap: 0.5rem;
  cursor: pointer;
  font-weight: 500;
}

.checkLabel input[type="checkbox"] {
  margin: 0;
  transform: scale(1.2);
}

.hint {
  margin-top: 0.5rem;
  padding: 0.5rem;
  background: #e3f2fd;
  border-radius: 4px;
  font-size: 0.9rem;
  color: #1565c0;
  margin-left: 1.7rem;
}

.validationSuccess {
  background: #d4edda;
  color: #155724;
  padding: 0.75rem;
  border-radius: 6px;
  text-align: center;
  font-weight: 600;
  border: 1px solid #c3e6cb;
}
```

# src/components/WorkshopFeedback/index.js

```js
import React, { useState } from 'react';
import styles from './styles.module.css';

export default function WorkshopFeedback({ 
  workshopTitle = "Multimodal PDF Agent Workshop",
  instructorEmail = "instructor@example.com",
  githubRepo = "mongodb-developer/multimodal-pdf-agent-n8n"
}) {
  const [isExpanded, setIsExpanded] = useState(false);
  const [feedback, setFeedback] = useState({
    rating: 0,
    difficulty: '',
    mostValuable: '',
    improvements: '',
    recommend: '',
    additionalComments: ''
  });

  const handleSubmit = (e) => {
    e.preventDefault();
    
    // Create email subject and body
    const subject = encodeURIComponent(`Workshop Feedback: ${workshopTitle}`);
    const body = encodeURIComponent(`
Workshop Feedback

Overall Rating: ${feedback.rating}/5 stars
Difficulty Level: ${feedback.difficulty}

Most Valuable Part:
${feedback.mostValuable}

Suggested Improvements:
${feedback.improvements}

Would Recommend: ${feedback.recommend}

Additional Comments:
${feedback.additionalComments}

---
Submitted: ${new Date().toISOString()}
    `.trim());

    // Open email client
    window.open(`mailto:${instructorEmail}?subject=${subject}&body=${body}`);
  };

  const handleGitHubIssue = () => {
    const title = encodeURIComponent(`Workshop Feedback: ${new Date().toLocaleDateString()}`);
    const body = encodeURIComponent(`
## Workshop Feedback

**Overall Rating:** ${feedback.rating}/5 ‚≠ê

**Difficulty Level:** ${feedback.difficulty}

**Most Valuable Part:**
${feedback.mostValuable}

**Suggested Improvements:**
${feedback.improvements}

**Would Recommend:** ${feedback.recommend}

**Additional Comments:**
${feedback.additionalComments}

---
*Submitted via workshop documentation feedback form*
    `.trim());

    window.open(`https://github.com/${githubRepo}/issues/new?title=${title}&body=${body}&labels=feedback`);
  };

  return (
    <div className={styles.feedbackContainer}>
      <div className={styles.feedbackHeader} onClick={() => setIsExpanded(!isExpanded)}>
        <h3>üìù Workshop Feedback</h3>
        <span className={styles.expandIcon}>{isExpanded ? '‚àí' : '+'}</span>
      </div>
      
      {isExpanded && (
        <div className={styles.feedbackForm}>
          <p>Help us improve this workshop! Your feedback is valuable for future attendees.</p>
          
          <form onSubmit={handleSubmit}>
            <div className={styles.formGroup}>
              <label>Overall Rating</label>
              <div className={styles.starRating}>
                {[1, 2, 3, 4, 5].map(star => (
                  <button
                    key={star} 
                    type="button"
                    className={`${styles.star} ${feedback.rating >= star ? styles.starFilled : ''}`}
                    onClick={() => setFeedback({...feedback, rating: star})}
                  >
                    ‚≠ê
                  </button>
                ))}
              </div>
            </div>

            <div className={styles.formGroup}>
              <label>Difficulty Level</label>
              <select 
                value={feedback.difficulty} 
                onChange={(e) => setFeedback({...feedback, difficulty: e.target.value})}
              >
                <option value="">Select difficulty</option>
                <option value="Too Easy">Too Easy</option>
                <option value="Just Right">Just Right</option>
                <option value="Too Hard">Too Hard</option>
                <option value="Mixed Levels">Mixed Levels</option>
              </select>
            </div>

            <div className={styles.formGroup}>
              <label>Most Valuable Part</label>
              <textarea
                value={feedback.mostValuable}
                onChange={(e) => setFeedback({...feedback, mostValuable: e.target.value})}
                placeholder="What did you find most useful or interesting?"
                rows={3}
              />
            </div>

            <div className={styles.formGroup}>
              <label>Suggested Improvements</label>
              <textarea
                value={feedback.improvements}
                onChange={(e) => setFeedback({...feedback, improvements: e.target.value})}
                placeholder="What could we improve or add?"
                rows={3}
              />
            </div>

            <div className={styles.formGroup}>
              <label>Would you recommend this workshop?</label>
              <div className={styles.radioGroup}>
                {['Definitely', 'Probably', 'Not Sure', 'Probably Not', 'Definitely Not'].map(option => (
                  <label key={option} className={styles.radioLabel}>
                    <input
                      type="radio"
                      name="recommend"
                      value={option}
                      checked={feedback.recommend === option}
                      onChange={(e) => setFeedback({...feedback, recommend: e.target.value})}
                    />
                    {option}
                  </label>
                ))}
              </div>
            </div>

            <div className={styles.formGroup}>
              <label>Additional Comments</label>
              <textarea
                value={feedback.additionalComments}
                onChange={(e) => setFeedback({...feedback, additionalComments: e.target.value})}
                placeholder="Anything else you'd like to share?"
                rows={4}
              />
            </div>

            <div className={styles.submitButtons}>
              <button type="submit" className={styles.emailButton}>
                üìß Send via Email
              </button>
              <button type="button" onClick={handleGitHubIssue} className={styles.githubButton}>
                üêô Submit as GitHub Issue
              </button>
            </div>
          </form>

          <div className={styles.feedbackNote}>
            <p><strong>Privacy Note:</strong> This form doesn't store data. It opens your email client or GitHub to submit feedback.</p>
          </div>
        </div>
      )}
    </div>
  );
}
```

# src/components/WorkshopFeedback/styles.module.css

```css
.feedbackContainer {
  margin: 2rem 0;
  border: 2px solid var(--ifm-color-primary-light);
  border-radius: 12px;
  overflow: hidden;
  background: var(--ifm-color-emphasis-100);
}

.feedbackHeader {
  padding: 1rem 1.5rem;
  background: var(--ifm-color-primary-lightest);
  border-bottom: 1px solid var(--ifm-color-primary-light);
  cursor: pointer;
  display: flex;
  justify-content: space-between;
  align-items: center;
  user-select: none;
  transition: background-color 0.2s;
}

.feedbackHeader:hover {
  background: var(--ifm-color-primary-lighter);
}

.feedbackHeader h3 {
  margin: 0;
  color: var(--ifm-color-primary-darkest);
  font-size: 1.1rem;
}

.expandIcon {
  font-size: 1.5rem;
  font-weight: bold;
  color: var(--ifm-color-primary);
  transition: transform 0.2s;
}

.feedbackForm {
  padding: 1.5rem;
}

.formGroup {
  margin-bottom: 1.5rem;
}

.formGroup label {
  display: block;
  font-weight: 600;
  margin-bottom: 0.5rem;
  color: var(--ifm-color-content);
}

.starRating {
  display: flex;
  gap: 0.25rem;
}

.star {
  background: none;
  border: none;
  font-size: 1.5rem;
  cursor: pointer;
  padding: 0.25rem;
  border-radius: 4px;
  transition: transform 0.1s;
  filter: grayscale(100%);
}

.star:hover {
  transform: scale(1.1);
}

.starFilled {
  filter: none;
}

.formGroup select {
  width: 100%;
  padding: 0.75rem;
  border: 1px solid var(--ifm-color-emphasis-300);
  border-radius: 6px;
  font-size: 1rem;
  background: var(--ifm-background-color);
  color: var(--ifm-color-content);
}

.formGroup textarea {
  width: 100%;
  padding: 0.75rem;
  border: 1px solid var(--ifm-color-emphasis-300);
  border-radius: 6px;
  font-size: 1rem;
  font-family: inherit;
  resize: vertical;
  background: var(--ifm-background-color);
  color: var(--ifm-color-content);
}

.radioGroup {
  display: flex;
  flex-direction: column;
  gap: 0.5rem;
}

.radioLabel {
  display: flex;
  align-items: center;
  gap: 0.5rem;
  font-weight: normal;
  margin-bottom: 0 !important;
  cursor: pointer;
  padding: 0.5rem;
  border-radius: 4px;
  transition: background-color 0.2s;
}

.radioLabel:hover {
  background: var(--ifm-color-emphasis-100);
}

.radioLabel input[type="radio"] {
  margin: 0;
}

.submitButtons {
  display: flex;
  gap: 1rem;
  flex-wrap: wrap;
  margin-top: 2rem;
}

.emailButton,
.githubButton {
  padding: 0.75rem 1.5rem;
  border: none;
  border-radius: 6px;
  font-size: 1rem;
  font-weight: 600;
  cursor: pointer;
  transition: all 0.2s;
  display: flex;
  align-items: center;
  gap: 0.5rem;
}

.emailButton {
  background: var(--ifm-color-primary);
  color: white;
}

.emailButton:hover {
  background: var(--ifm-color-primary-dark);
  transform: translateY(-1px);
}

.githubButton {
  background: #24292e;
  color: white;
}

.githubButton:hover {
  background: #1b1f23;
  transform: translateY(-1px);
}

.feedbackNote {
  margin-top: 1.5rem;
  padding: 1rem;
  background: var(--ifm-color-warning-lightest);
  border-left: 4px solid var(--ifm-color-warning);
  border-radius: 4px;
}

.feedbackNote p {
  margin: 0;
  font-size: 0.9rem;
  color: var(--ifm-color-warning-darkest);
}

/* Dark theme adjustments */
[data-theme='dark'] .feedbackContainer {
  border-color: var(--ifm-color-primary-darker);
}

[data-theme='dark'] .feedbackHeader {
  background: var(--ifm-color-primary-darker);
}

[data-theme='dark'] .feedbackHeader:hover {
  background: var(--ifm-color-primary-dark);
}

[data-theme='dark'] .feedbackNote {
  background: rgba(255, 165, 0, 0.1);
}

/* Mobile responsiveness */
@media (max-width: 768px) {
  .submitButtons {
    flex-direction: column;
  }
  
  .emailButton,
  .githubButton {
    width: 100%;
    justify-content: center;
  }
  
  .radioGroup {
    gap: 0.75rem;
  }
  
  .feedbackForm {
    padding: 1rem;
  }
}
```

# src/components/WorkshopResources/index.js

```js
import React, { useState } from 'react';
import styles from './styles.module.css';

export default function WorkshopResources({ 
  title = "Additional Resources",
  categories = {
    "Documentation": [
      {
        title: "n8n Documentation",
        url: "https://docs.n8n.io/",
        description: "Complete n8n reference and tutorials",
        icon: "üìö"
      },
      {
        title: "MongoDB Atlas Vector Search",
        url: "https://www.mongodb.com/docs/atlas/atlas-vector-search/",
        description: "Official vector search documentation",
        icon: "üîç"
      },
      {
        title: "Voyage AI API Reference",
        url: "https://docs.voyageai.com/",
        description: "Multimodal embedding API documentation",
        icon: "üö¢"
      }
    ],
    "Community & Support": [
      {
        title: "n8n Community Forum",
        url: "https://community.n8n.io/",
        description: "Get help and share workflows",
        icon: "üí¨"
      },
      {
        title: "MongoDB Developer Community",
        url: "https://www.mongodb.com/community/forums/",
        description: "Connect with MongoDB developers",
        icon: "üåê"
      },
      {
        title: "Workshop GitHub Issues",
        url: "https://github.com/mrlynn/ai4-multimodal-agents-n8n/issues",
        description: "Report issues or ask questions",
        icon: "üêõ"
      }
    ],
    "Sample Data & Templates": [
      {
        title: "Sample PDF Collection",
        url: "/static/sample-pdfs/",
        description: "Test PDFs for workshop exercises",
        icon: "üìÑ"
      },
      {
        title: "n8n Workflow Templates",
        url: "https://n8n.io/workflows/",
        description: "Ready-made workflow templates",
        icon: "‚ö°"
      },
      {
        title: "Vector Search Examples",
        url: "https://github.com/mrlynn/vector-search-examples",
        description: "Example implementations and patterns",
        icon: "üí°"
      }
    ],
    "Tools & Extensions": [
      {
        title: "MongoDB Compass",
        url: "https://www.mongodb.com/products/compass",
        description: "Visual MongoDB database browser",
        icon: "üß≠"
      },
      {
        title: "n8n Desktop App",
        url: "https://n8n.io/download/",
        description: "Desktop version of n8n",
        icon: "üíª"
      },
      {
        title: "Vector Database Benchmarks",
        url: "https://github.com/erikbern/ann-benchmarks",
        description: "Performance comparisons and metrics",
        icon: "üìä"
      }
    ]
  }
}) {
  const [activeCategory, setActiveCategory] = useState(Object.keys(categories)[0]);

  const openLink = (url) => {
    window.open(url, '_blank', 'noopener,noreferrer');
  };

  return (
    <div className={styles.resourcesContainer}>
      <h3 className={styles.resourcesTitle}>{title}</h3>
      
      <div className={styles.resourcesContent}>
        <div className={styles.categoryTabs}>
          {Object.keys(categories).map(category => (
            <button
              key={category}
              className={`${styles.categoryTab} ${activeCategory === category ? styles.activeTab : ''}`}
              onClick={() => setActiveCategory(category)}
            >
              {category}
            </button>
          ))}
        </div>

        <div className={styles.resourcesList}>
          {categories[activeCategory]?.map((resource, index) => (
            <div key={index} className={styles.resourceCard} onClick={() => openLink(resource.url)}>
              <div className={styles.resourceHeader}>
                <span className={styles.resourceIcon}>{resource.icon}</span>
                <h4 className={styles.resourceTitle}>{resource.title}</h4>
                <span className={styles.externalIcon}>‚Üó</span>
              </div>
              <p className={styles.resourceDescription}>{resource.description}</p>
            </div>
          ))}
        </div>
      </div>

      <div className={styles.resourcesFooter}>
        <div className={styles.quickAccess}>
          <h4>üîó Quick Access</h4>
          <div className={styles.quickLinks}>
            <button onClick={() => openLink('https://github.com/mrlynn/ai4-multimodal-agents-n8n')} className={styles.quickLink}>
              üìÅ Workshop Repo
            </button>
            <button onClick={() => openLink('https://www.mongodb.com/try')} className={styles.quickLink}>
              ‚òÅÔ∏è MongoDB Atlas
            </button>
            <button onClick={() => openLink('https://docs.n8n.io/')} className={styles.quickLink}>
              üìñ n8n Docs
            </button>
          </div>
        </div>

        <div className={styles.downloadSection}>
          <h4>üì• Workshop Materials</h4>
          <p>Access additional workshop resources:</p>
          <div className={styles.downloadLinks}>
            <a href="/static/workshop-slides.pdf" download className={styles.downloadLink}>
              üñºÔ∏è Workshop Slides (PDF)
            </a>
            <a href="/static/sample-workflows.json" download className={styles.downloadLink}>
              ‚ö° Sample n8n Workflows
            </a>
            <a href="/static/cheat-sheet.pdf" download className={styles.downloadLink}>
              üìã Quick Reference Guide
            </a>
          </div>
        </div>
      </div>
    </div>
  );
}
```

# src/components/WorkshopResources/styles.module.css

```css
.resourcesContainer {
  margin: 2rem 0;
  padding: 0;
  border: 2px solid var(--ifm-color-primary-light);
  border-radius: 12px;
  background: var(--ifm-background-surface-color);
  overflow: hidden;
}

.resourcesTitle {
  margin: 0;
  padding: 1.5rem;
  background: linear-gradient(135deg, var(--ifm-color-primary-lightest), var(--ifm-color-primary-lighter));
  color: var(--ifm-color-primary-darkest);
  font-size: 1.3rem;
  font-weight: 700;
  text-align: center;
  border-bottom: 1px solid var(--ifm-color-primary-light);
}

.resourcesContent {
  padding: 0;
}

.categoryTabs {
  display: flex;
  background: var(--ifm-color-emphasis-100);
  border-bottom: 1px solid var(--ifm-color-emphasis-200);
  overflow-x: auto;
}

.categoryTab {
  padding: 1rem 1.5rem;
  border: none;
  background: transparent;
  color: var(--ifm-color-content-secondary);
  font-weight: 500;
  cursor: pointer;
  transition: all 0.2s;
  white-space: nowrap;
  border-bottom: 3px solid transparent;
}

.categoryTab:hover {
  background: var(--ifm-color-emphasis-200);
  color: var(--ifm-color-content);
}

.activeTab {
  background: var(--ifm-background-surface-color) !important;
  color: var(--ifm-color-primary) !important;
  border-bottom-color: var(--ifm-color-primary) !important;
  font-weight: 600;
}

.resourcesList {
  padding: 1.5rem;
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
  gap: 1rem;
}

.resourceCard {
  padding: 1.25rem;
  border: 1px solid var(--ifm-color-emphasis-200);
  border-radius: 8px;
  background: var(--ifm-background-color);
  cursor: pointer;
  transition: all 0.2s;
  position: relative;
}

.resourceCard:hover {
  border-color: var(--ifm-color-primary);
  transform: translateY(-2px);
  box-shadow: 0 4px 12px rgba(var(--ifm-color-primary-rgb), 0.15);
}

.resourceHeader {
  display: flex;
  align-items: center;
  gap: 0.75rem;
  margin-bottom: 0.75rem;
}

.resourceIcon {
  font-size: 1.5rem;
  flex-shrink: 0;
}

.resourceTitle {
  margin: 0;
  font-size: 1.1rem;
  font-weight: 600;
  color: var(--ifm-color-content);
  flex-grow: 1;
}

.externalIcon {
  color: var(--ifm-color-content-secondary);
  font-size: 1rem;
  opacity: 0.6;
  transition: opacity 0.2s;
}

.resourceCard:hover .externalIcon {
  opacity: 1;
  color: var(--ifm-color-primary);
}

.resourceDescription {
  margin: 0;
  color: var(--ifm-color-content-secondary);
  font-size: 0.95rem;
  line-height: 1.4;
}

.resourcesFooter {
  border-top: 1px solid var(--ifm-color-emphasis-200);
  padding: 1.5rem;
  background: var(--ifm-color-emphasis-50);
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
  gap: 2rem;
}

.quickAccess h4,
.downloadSection h4 {
  margin: 0 0 1rem 0;
  color: var(--ifm-color-content);
  font-size: 1rem;
  font-weight: 600;
}

.quickLinks {
  display: flex;
  gap: 0.5rem;
  flex-wrap: wrap;
}

.quickLink {
  padding: 0.5rem 1rem;
  border: 1px solid var(--ifm-color-primary);
  background: transparent;
  color: var(--ifm-color-primary);
  border-radius: 20px;
  font-size: 0.9rem;
  cursor: pointer;
  transition: all 0.2s;
  white-space: nowrap;
}

.quickLink:hover {
  background: var(--ifm-color-primary);
  color: white;
  transform: translateY(-1px);
}

.downloadSection p {
  margin: 0 0 1rem 0;
  color: var(--ifm-color-content-secondary);
  font-size: 0.9rem;
}

.downloadLinks {
  display: flex;
  flex-direction: column;
  gap: 0.5rem;
}

.downloadLink {
  display: inline-flex;
  align-items: center;
  gap: 0.5rem;
  padding: 0.75rem 1rem;
  background: var(--ifm-color-success-lightest);
  color: var(--ifm-color-success-darkest);
  text-decoration: none;
  border-radius: 6px;
  font-size: 0.9rem;
  font-weight: 500;
  transition: all 0.2s;
  border: 1px solid var(--ifm-color-success-light);
}

.downloadLink:hover {
  background: var(--ifm-color-success-lighter);
  transform: translateY(-1px);
  text-decoration: none;
  color: var(--ifm-color-success-darkest);
}

/* Dark theme adjustments */
[data-theme='dark'] .resourcesContainer {
  border-color: var(--ifm-color-primary-darker);
}

[data-theme='dark'] .resourcesTitle {
  background: linear-gradient(135deg, var(--ifm-color-primary-darker), var(--ifm-color-primary-dark));
  color: var(--ifm-color-primary-lightest);
}

[data-theme='dark'] .resourceCard:hover {
  box-shadow: 0 4px 12px rgba(var(--ifm-color-primary-rgb), 0.25);
}

[data-theme='dark'] .downloadLink {
  background: rgba(var(--ifm-color-success-rgb), 0.1);
  color: var(--ifm-color-success-light);
  border-color: rgba(var(--ifm-color-success-rgb), 0.3);
}

[data-theme='dark'] .downloadLink:hover {
  background: rgba(var(--ifm-color-success-rgb), 0.2);
  color: var(--ifm-color-success-light);
}

/* Mobile responsiveness */
@media (max-width: 768px) {
  .resourcesList {
    grid-template-columns: 1fr;
    padding: 1rem;
  }
  
  .resourcesFooter {
    grid-template-columns: 1fr;
    gap: 1.5rem;
    padding: 1rem;
  }
  
  .categoryTabs {
    flex-wrap: nowrap;
    overflow-x: auto;
    -webkit-overflow-scrolling: touch;
  }
  
  .categoryTab {
    padding: 0.75rem 1rem;
    font-size: 0.9rem;
  }
  
  .quickLinks {
    justify-content: flex-start;
  }
  
  .quickLink {
    font-size: 0.8rem;
    padding: 0.4rem 0.8rem;
  }
}
```

# src/components/WorkshopTransition/index.js

```js
import React, { useState, useEffect } from 'react';
import styles from './styles.module.css';

export default function WorkshopTransition({ 
  slideTopics = [],
  handsOnUrl,
  welcomeMessage = "Welcome to the Hands-On Workshop!",
  instructor = "Instructor"
}) {
  const [currentTime, setCurrentTime] = useState(new Date());

  useEffect(() => {
    const timer = setInterval(() => {
      setCurrentTime(new Date());
    }, 1000);

    return () => clearInterval(timer);
  }, []);

  return (
    <div className={styles.transition}>
      <div className={styles.header}>
        <div className={styles.welcome}>
          <h2>{welcomeMessage}</h2>
          <div className={styles.instructor}>with {instructor}</div>
          <div className={styles.time}>
            {currentTime.toLocaleTimeString()} | Let's Build Together! üöÄ
          </div>
        </div>
      </div>

      <div className={styles.content}>
        <div className={styles.section}>
          <h3>üìã What We Covered in Slides</h3>
          <div className={styles.slideRecap}>
            {slideTopics.map((topic, index) => (
              <div key={index} className={styles.recapItem}>
                <span className={styles.checkmark}>‚úÖ</span>
                <span>{topic}</span>
              </div>
            ))}
          </div>
        </div>

        <div className={styles.section}>
          <h3>üéØ Now: Hands-On Building</h3>
          <div className={styles.handsOnInfo}>
            <div className={styles.infoCard}>
              <div className={styles.cardIcon}>üíª</div>
              <div className={styles.cardContent}>
                <h4>Interactive Learning</h4>
                <p>Follow along with step-by-step exercises, interactive components, and real-time testing.</p>
              </div>
            </div>
            
            <div className={styles.infoCard}>
              <div className={styles.cardIcon}>üîß</div>
              <div className={styles.cardContent}>
                <h4>Build As You Learn</h4>
                <p>Create your multimodal PDF agent with guided validation at each step.</p>
              </div>
            </div>
            
            <div className={styles.infoCard}>
              <div className={styles.cardIcon}>üì±</div>
              <div className={styles.cardContent}>
                <h4>Always Available</h4>
                <p>Bookmark this page - return anytime for reference and continued learning.</p>
              </div>
            </div>
          </div>
        </div>

        <div className={styles.actionSection}>
          <div className={styles.actionCard}>
            <div className={styles.actionHeader}>
              <h3>üöÄ Ready to Start Building?</h3>
              <p>Let's transform those concepts into working code!</p>
            </div>
            
            <div className={styles.actionButtons}>
              <button 
                className={styles.primaryButton}
                onClick={() => window.location.href = '/multimodal-pdf-agent-n8n/docs/intro'}
              >
                Start Workshop ‚Üí
              </button>
              
              <button 
                className={styles.secondaryButton}
                onClick={() => window.open('/multimodal-pdf-agent-n8n/docs/', '_blank')}
              >
                Open in New Tab
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>
  );
}

export function SlideRecap({ title, items = [], nextSection }) {
  return (
    <div className={styles.slideRecap}>
      <div className={styles.recapHeader}>
        <h4>üìñ {title}</h4>
        <div className={styles.recapSubtitle}>Key points from our presentation</div>
      </div>
      
      <div className={styles.recapItems}>
        {items.map((item, index) => (
          <div key={index} className={styles.recapItem}>
            <div className={styles.recapIcon}>
              {item.icon || '‚Ä¢'}
            </div>
            <div className={styles.recapContent}>
              <strong>{item.title}</strong>
              {item.description && <p>{item.description}</p>}
            </div>
          </div>
        ))}
      </div>

      {nextSection && (
        <div className={styles.recapNext}>
          <strong>Next:</strong> {nextSection}
        </div>
      )}
    </div>
  );
}

export function InstructorNotes({ notes = [], timing, tips = [] }) {
  const [showNotes, setShowNotes] = useState(false);

  return (
    <div className={styles.instructorNotes}>
      <button 
        className={styles.notesToggle}
        onClick={() => setShowNotes(!showNotes)}
        title="Toggle instructor notes (visible to instructors only)"
      >
        üë®‚Äçüè´ Instructor Notes {showNotes ? '‚ñº' : '‚ñ∂'}
      </button>
      
      {showNotes && (
        <div className={styles.notesContent}>
          {timing && (
            <div className={styles.timing}>
              <strong>‚è±Ô∏è Timing:</strong> {timing}
            </div>
          )}
          
          {notes.length > 0 && (
            <div className={styles.notesList}>
              <strong>üìù Notes:</strong>
              <ul>
                {notes.map((note, index) => (
                  <li key={index}>{note}</li>
                ))}
              </ul>
            </div>
          )}
          
          {tips.length > 0 && (
            <div className={styles.tipsList}>
              <strong>üí° Tips:</strong>
              <ul>
                {tips.map((tip, index) => (
                  <li key={index}>{tip}</li>
                ))}
              </ul>
            </div>
          )}
        </div>
      )}
    </div>
  );
}

export function QRCodeAccess({ url, title = "Access Workshop Materials" }) {
  const qrCodeUrl = `https://api.qrserver.com/v1/create-qr-code/?size=200x200&data=${encodeURIComponent(url)}`;
  
  return (
    <div className={styles.qrAccess}>
      <div className={styles.qrHeader}>
        {/* <h4>üì± {title}</h4> */}
        
      </div>
      
      <div className={styles.qrContent}>
        <img 
          src={qrCodeUrl} 
          alt="QR Code for workshop access"
          className={styles.qrCode}
        />
        {/* <div className={styles.qrUrl}>
          <strong>URL:</strong> <code>{url}</code>
        </div> */}
      </div>
    </div>
  );
}
```

# src/components/WorkshopTransition/styles.module.css

```css
.transition {
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  color: white;
  padding: 0;
  margin: 2rem 0;
  border-radius: 12px;
  overflow: hidden;
  box-shadow: 0 8px 24px rgba(102, 126, 234, 0.3);
}

.header {
  padding: 2rem;
  text-align: center;
  background: rgba(255, 255, 255, 0.1);
  backdrop-filter: blur(10px);
}

.welcome h2 {
  margin: 0 0 0.5rem 0;
  font-size: 2.2rem;
  font-weight: 700;
}

.instructor {
  font-size: 1.2rem;
  opacity: 0.9;
  margin-bottom: 0.5rem;
}

.time {
  font-size: 1rem;
  opacity: 0.8;
  font-family: monospace;
  background: rgba(255, 255, 255, 0.2);
  padding: 0.5rem 1rem;
  border-radius: 20px;
  display: inline-block;
}

.content {
  padding: 2rem;
}

.section {
  margin-bottom: 2rem;
}

.section h3 {
  margin: 0 0 1.5rem 0;
  font-size: 1.4rem;
  color: #ffffff;
}

.slideRecap {
  background: rgba(255, 255, 255, 0.1);
  border-radius: 8px;
  padding: 1.5rem;
  backdrop-filter: blur(10px);
}

.recapHeader {
  margin-bottom: 1rem;
}

.recapHeader h4 {
  margin: 0 0 0.25rem 0;
  font-size: 1.1rem;
}

.recapSubtitle {
  font-size: 0.9rem;
  opacity: 0.8;
}

.recapItems {
  display: flex;
  flex-direction: column;
  gap: 1rem;
}

.recapItem {
  display: flex;
  align-items: flex-start;
  gap: 1rem;
  padding: 0.75rem;
  background: rgba(255, 255, 255, 0.1);
  border-radius: 6px;
}

.checkmark {
  font-size: 1rem;
  flex-shrink: 0;
}

.recapIcon {
  width: 2rem;
  height: 2rem;
  background: rgba(255, 255, 255, 0.2);
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  flex-shrink: 0;
  font-weight: bold;
}

.recapContent strong {
  display: block;
  margin-bottom: 0.25rem;
}

.recapContent p {
  margin: 0;
  font-size: 0.9rem;
  opacity: 0.9;
}

.recapNext {
  margin-top: 1rem;
  padding: 0.75rem;
  background: rgba(59, 130, 246, 0.3);
  border: 1px solid rgba(59, 130, 246, 0.5);
  border-radius: 6px;
  font-size: 0.9rem;
}

.handsOnInfo {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
  gap: 1.5rem;
}

.infoCard {
  display: flex;
  align-items: flex-start;
  gap: 1rem;
  padding: 1.5rem;
  background: rgba(255, 255, 255, 0.1);
  border-radius: 8px;
  backdrop-filter: blur(10px);
  transition: transform 0.2s ease;
}

.infoCard:hover {
  transform: translateY(-2px);
}

.cardIcon {
  font-size: 2rem;
  flex-shrink: 0;
}

.cardContent h4 {
  margin: 0 0 0.5rem 0;
  font-size: 1.1rem;
}

.cardContent p {
  margin: 0;
  font-size: 0.9rem;
  line-height: 1.5;
  opacity: 0.9;
}

.actionSection {
  text-align: center;
  margin-top: 2rem;
}

.actionCard {
  background: rgba(255, 255, 255, 0.15);
  border-radius: 12px;
  padding: 2rem;
  backdrop-filter: blur(15px);
  border: 1px solid rgba(255, 255, 255, 0.2);
}

.actionHeader h3 {
  margin: 0 0 0.5rem 0;
  font-size: 1.5rem;
}

.actionHeader p {
  margin: 0 0 2rem 0;
  font-size: 1.1rem;
  opacity: 0.9;
}

.actionButtons {
  display: flex;
  gap: 1rem;
  justify-content: center;
  flex-wrap: wrap;
}

.primaryButton {
  background: linear-gradient(135deg, #10b981, #34d399);
  color: white;
  border: none;
  padding: 1rem 2rem;
  border-radius: 8px;
  font-weight: 600;
  font-size: 1.1rem;
  cursor: pointer;
  transition: all 0.3s ease;
  box-shadow: 0 4px 12px rgba(16, 185, 129, 0.3);
}

.primaryButton:hover {
  transform: translateY(-3px);
  box-shadow: 0 6px 20px rgba(16, 185, 129, 0.4);
}

.secondaryButton {
  background: rgba(255, 255, 255, 0.2);
  color: white;
  border: 2px solid rgba(255, 255, 255, 0.3);
  padding: 1rem 2rem;
  border-radius: 8px;
  font-weight: 600;
  font-size: 1.1rem;
  cursor: pointer;
  transition: all 0.3s ease;
}

.secondaryButton:hover {
  background: rgba(255, 255, 255, 0.3);
  transform: translateY(-2px);
}

/* Instructor Notes */
.instructorNotes {
  background: #fffbeb;
  border: 2px solid #fbbf24;
  border-radius: 8px;
  margin: 1.5rem 0;
  overflow: hidden;
}

.notesToggle {
  width: 100%;
  background: #fef3c7;
  color: #92400e;
  border: none;
  padding: 0.75rem 1rem;
  cursor: pointer;
  font-weight: 600;
  text-align: left;
  transition: background-color 0.2s ease;
  display: flex;
  justify-content: space-between;
  align-items: center;
}

.notesToggle:hover {
  background: #fde68a;
}

.notesContent {
  padding: 1rem;
  background: #fffbeb;
  color: #451a03;
}

.timing {
  margin-bottom: 1rem;
  padding: 0.5rem;
  background: rgba(255, 255, 255, 0.1);
  border-radius: 4px;
  font-family: monospace;
}

.notesList,
.tipsList {
  margin-bottom: 1rem;
}

.notesList ul,
.tipsList ul {
  margin: 0.5rem 0 0 0;
  padding-left: 1.5rem;
}

.notesList li,
.tipsList li {
  margin-bottom: 0.5rem;
  line-height: 1.4;
}

/* QR Code */
.qrAccess {
  background: rgba(255, 255, 255, 0.1);
  border-radius: 8px;
  padding: 1.5rem;
  text-align: center;
  backdrop-filter: blur(10px);
}

.qrHeader h4 {
  margin: 0 0 0.5rem 0;
  color: #fff;
}

.qrHeader p {
  margin: 0 0 1rem 0;
  opacity: 0.8;
  font-size: 0.9rem;
}

.qrContent {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 1rem;
}

.qrCode {
  background: white;
  padding: 1rem;
  border-radius: 8px;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
}

.qrUrl {
  font-size: 0.8rem;
  opacity: 0.8;
  word-break: break-all;
}

.qrUrl code {
  background: rgba(0, 0, 0, 0.3);
  padding: 0.25rem 0.5rem;
  border-radius: 4px;
  font-family: monospace;
}

/* Responsive Design */
@media (max-width: 768px) {
  .transition {
    margin: 1rem 0;
  }

  .header {
    padding: 1.5rem;
  }

  .welcome h2 {
    font-size: 1.8rem;
  }

  .content {
    padding: 1.5rem;
  }

  .handsOnInfo {
    grid-template-columns: 1fr;
  }

  .infoCard {
    padding: 1rem;
  }

  .actionButtons {
    flex-direction: column;
  }

  .primaryButton,
  .secondaryButton {
    width: 100%;
  }
}

/* Dark mode adjustments */
[data-theme='dark'] .transition {
  background: linear-gradient(135deg, #4c51bf 0%, #553c9a 100%);
}

[data-theme='dark'] .instructorNotes {
  background: rgba(251, 191, 36, 0.15);
  border-color: #f59e0b;
}

[data-theme='dark'] .notesToggle {
  background: rgba(251, 191, 36, 0.2);
  color: #fbbf24;
}

[data-theme='dark'] .notesToggle:hover {
  background: rgba(251, 191, 36, 0.3);
}

[data-theme='dark'] .notesContent {
  background: rgba(251, 191, 36, 0.1);
  color: #fde68a;
}
```

# src/css/custom.css

```css
/**
 * Any CSS included here will be global. The classic template
 * bundles Infima by default. Infima is a CSS framework designed to
 * work well for content-centric websites.
 */

/* You can override the default Infima variables here. */
:root {
  --ifm-color-primary: #2e8555;
  --ifm-color-primary-dark: #29784c;
  --ifm-color-primary-darker: #277148;
  --ifm-color-primary-darkest: #205d3b;
  --ifm-color-primary-light: #33925d;
  --ifm-color-primary-lighter: #359962;
  --ifm-color-primary-lightest: #3cad6e;
  --ifm-code-font-size: 95%;
  --ifm-link-color: #016BF8;
  --ifm-menu-color-background-active: rgb(227, 252, 247);
  --ifm-breadcrumb-item-background-active: rgb(227, 252, 247);
  --ifm-menu-color-active: rgb(0, 30, 43);
  --ifm-breadcrumb-color-active: rgb(0, 30, 43);
  --ifm-table-stripe-background: rgb(249, 251, 250);
  --docusaurus-highlighted-code-line-bg: rgba(0, 0, 0, 0.1);
}

/* For readability concerns, you should choose a lighter palette in dark mode. */
[data-theme='dark'] {
  --ifm-color-primary: #25c2a0;
  --ifm-color-primary-dark: #21af90;
  --ifm-color-primary-darker: #1fa588;
  --ifm-color-primary-darkest: #1a8870;
  --ifm-color-primary-light: #29d5b0;
  --ifm-color-primary-lighter: #32d8b4;
  --ifm-color-primary-lightest: #4fddbf;
  --ifm-link-color: #0099FF;
  --docusaurus-highlighted-code-line-bg: rgba(0, 0, 0, 0.3);
}

.navbar-logo {
  margin-left: 15px;
}

.footer__title {
  font-size: 25px;
}

a.footer__link-item {
  font-size: 20px;
}

/* Sidebar Category Styling */
.sidebar-getting-started > .menu__link {
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  color: white !important;
  font-weight: 600;
  margin-bottom: 0.5rem;
}

.sidebar-getting-started > .menu__link:hover {
  opacity: 0.9;
}

.sidebar-setup > .menu__link {
  background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
  color: white !important;
  font-weight: 600;
  margin-bottom: 0.5rem;
}

.sidebar-workflows > .menu__link {
  background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
  color: white !important;
  font-weight: 600;
  margin-bottom: 0.5rem;
}

.sidebar-exercises > .menu__link {
  background: linear-gradient(135deg, #ff9a56 0%, #ff6b9d 100%);
  color: white !important;
  font-weight: 600;
  margin-bottom: 0.5rem;
}

.sidebar-advanced > .menu__link {
  background: linear-gradient(135deg, #fa709a 0%, #fee140 100%);
  color: white !important;
  font-weight: 600;
  margin-bottom: 0.5rem;
}

.sidebar-resources > .menu__link {
  background: linear-gradient(135deg, #30cfd0 0%, #330867 100%);
  color: white !important;
  font-weight: 600;
  margin-bottom: 0.5rem;
}

/* Enhanced sidebar spacing */
.theme-doc-sidebar-container nav {
  padding: 1rem;
}

.menu__list-item:not(:first-child) {
  margin-top: 0.75rem;
}

/* Sidebar category icons and spacing */
.menu__link--sublist-caret:after {
  background-size: 1.5rem 1.5rem;
  margin-left: auto;
}

/* Ensure category headers have proper spacing for accordion arrow */
.menu__link--sublist {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding-right: 2.5rem; /* Make room for accordion arrow */
}

/* Active category highlighting */
.menu__list-item--active > .menu__link--sublist {
  font-weight: 700;
}

/* Hide checkmark on category headers entirely */
.menu__link--sublist::before {
  display: none !important;
}

/* Better sidebar item styling */
.menu__link {
  border-radius: 0.5rem;
  transition: all 0.2s ease;
  padding: 0.75rem 1rem;
}

.menu__link:hover {
  background-color: var(--ifm-menu-color-background-hover);
  transform: translateX(4px);
}

/* Nested item indentation */
.menu__list .menu__list {
  margin-left: 0;
  padding-left: 0.5rem;
  border-left: 2px solid var(--ifm-color-emphasis-300);
}

/* Progress indicator for completed sections - only for document links, not categories */
.menu__link--active:not(.menu__link--sublist) {
  position: relative;
}

.menu__link--active:not(.menu__link--sublist)::before {
  content: '‚úì';
  position: absolute;
  right: 1rem;
  color: var(--ifm-color-success);
  font-weight: bold;
  font-size: 0.9rem;
}

/* Workshop progress bar at top of sidebar */
.theme-doc-sidebar-container::before {
  content: '';
  display: block;
  height: 4px;
  background: linear-gradient(90deg, #10b981 0%, #10b981 var(--workshop-progress, 0%), #e5e7eb var(--workshop-progress, 0%), #e5e7eb 100%);
  margin-bottom: 1rem;
  border-radius: 2px;
}

/* Dark mode adjustments */
[data-theme='dark'] .menu__link {
  color: var(--ifm-menu-color);
}

[data-theme='dark'] .sidebar-getting-started > .menu__link,
[data-theme='dark'] .sidebar-setup > .menu__link,
[data-theme='dark'] .sidebar-workflows > .menu__link,
[data-theme='dark'] .sidebar-exercises > .menu__link,
[data-theme='dark'] .sidebar-advanced > .menu__link,
[data-theme='dark'] .sidebar-resources > .menu__link {
  color: white !important;
  opacity: 0.95;
}

/* Smooth transitions */
.menu__list-item {
  transition: all 0.3s ease;
}

/* Mobile responsive sidebar */
@media (max-width: 996px) {
  .menu__link {
    padding: 1rem 1.25rem;
  }
}

/* Path selection styling */
.sidebar-path-selection > a {
  font-weight: 600;
  background-color: var(--ifm-color-emphasis-100);
  border-radius: 4px;
  margin: 0.5rem 0;
  border: 2px solid var(--ifm-color-emphasis-300);
}

/* n8n Path styling */
.sidebar-path-n8n > .menu__link {
  background: linear-gradient(135deg, #00684A 0%, #26a69a 100%);
  color: white !important;
  font-weight: 600;
  margin-bottom: 0.5rem;
  border-left: 4px solid #00684A;
}

.sidebar-path-n8n .menu__list-item {
  border-left: 2px solid rgba(0, 104, 74, 0.2);
  margin-left: 0.5rem;
}

/* Python Path styling */
.sidebar-path-python > .menu__link {
  background: linear-gradient(135deg, #7C3AED 0%, #A855F7 100%);
  color: white !important;
  font-weight: 600;
  margin-bottom: 0.5rem;
  border-left: 4px solid #7C3AED;
}

.sidebar-path-python .menu__list-item {
  border-left: 2px solid rgba(124, 58, 237, 0.2);
  margin-left: 0.5rem;
}

/* Common shared sections styling */
.sidebar-foundation > .menu__link {
  background: linear-gradient(135deg, #ffd700 0%, #ffa500 100%);
  color: #333 !important;
  font-weight: 600;
  margin-bottom: 0.5rem;
}

.sidebar-exercises > .menu__link,
.sidebar-production > .menu__link,
.sidebar-support > .menu__link {
  border-left: 4px solid var(--ifm-color-primary);
}

```

# src/pages/assistant.js

```js
import React, { useState, useEffect, useRef } from 'react';
import Layout from '@theme/Layout';
import styles from './assistant.module.css';

const SUGGESTED_QUESTIONS = [
  'How do I process PDFs in n8n?',
  'What is MongoDB Atlas used for in this workshop?',
  'How do vector embeddings work?',
  'What exercises are included in the workshop?',
  'How do I set up Voyage AI?',
  'What is a multimodal agent?',
];

export default function LabAssistant() {
  const [messages, setMessages] = useState([
    {
      role: 'assistant',
      content: 'üëã Hello! I\'m your workshop lab assistant. I can help you with questions about building multimodal PDF agents using n8n, MongoDB Atlas, and Voyage AI. What would you like to know?'
    }
  ]);
  const [inputValue, setInputValue] = useState('');
  const [isLoading, setIsLoading] = useState(false);
  const [webhookUrl, setWebhookUrl] = useState('http://localhost:5678/webhook/lab-assistant');
  const [connectionStatus, setConnectionStatus] = useState('ready');
  const messagesEndRef = useRef(null);

  const scrollToBottom = () => {
    messagesEndRef.current?.scrollIntoView({ behavior: 'smooth' });
  };

  useEffect(() => {
    scrollToBottom();
  }, [messages]);

  const sendMessage = async (question) => {
    if (!question.trim() || isLoading) return;

    const userMessage = { role: 'user', content: question };
    setMessages(prev => [...prev, userMessage]);
    setInputValue('');
    setIsLoading(true);
    setConnectionStatus('sending');

    try {
      const response = await fetch(webhookUrl, {
        method: 'POST',
        headers: {
          'Content-Type': 'application/json',
        },
        body: JSON.stringify({
          question: question,
          history: messages.slice(-10) // Send last 10 messages for context
        })
      });

      if (!response.ok) {
        throw new Error(`HTTP error! status: ${response.status}`);
      }

      const data = await response.json();
      const assistantMessage = {
        role: 'assistant',
        content: data.answer || 'I apologize, but I encountered an error processing your question.',
        metadata: {
          model: data.model,
          sources: data.sources,
          contextDocs: data.context_docs_used
        }
      };

      setMessages(prev => [...prev, assistantMessage]);
      setConnectionStatus('ready');
    } catch (error) {
      console.error('Error:', error);
      setMessages(prev => [...prev, {
        role: 'error',
        content: `Error: ${error.message}. Make sure the n8n workflow is running and the webhook is active at ${webhookUrl}`
      }]);
      setConnectionStatus('error');
    } finally {
      setIsLoading(false);
    }
  };

  const handleKeyPress = (e) => {
    if (e.key === 'Enter' && !e.shiftKey) {
      e.preventDefault();
      sendMessage(inputValue);
    }
  };

  return (
    <Layout
      title="Lab Assistant"
      description="AI-powered workshop assistant using RAG">
      <div className={styles.container}>
        <div className={styles.chatContainer}>
          <div className={styles.header}>
            <h1>ü§ñ Workshop Lab Assistant</h1>
            <p>Ask questions about the multimodal PDF agent workshop</p>
          </div>

          <div className={styles.suggestionsBar}>
            <h3>Try asking:</h3>
            <div className={styles.suggestions}>
              {SUGGESTED_QUESTIONS.map((question, index) => (
                <button
                  key={index}
                  className={styles.suggestionChip}
                  onClick={() => sendMessage(question)}
                  disabled={isLoading}>
                  {question}
                </button>
              ))}
            </div>
          </div>

          <div className={styles.messagesContainer}>
            {messages.map((message, index) => (
              <div key={index} className={`${styles.message} ${styles[message.role]}`}>
                <div className={styles.messageContent}>
                  {message.content}
                  {message.metadata && (
                    <div className={styles.messageMetadata}>
                      <span>Model: {message.metadata.model}</span>
                      {message.metadata.contextDocs && (
                        <span> ‚Ä¢ Docs used: {message.metadata.contextDocs}</span>
                      )}
                    </div>
                  )}
                </div>
              </div>
            ))}
            {isLoading && (
              <div className={`${styles.message} ${styles.assistant}`}>
                <div className={styles.typingIndicator}>
                  <span></span>
                  <span></span>
                  <span></span>
                </div>
              </div>
            )}
            <div ref={messagesEndRef} />
          </div>

          <div className={styles.inputContainer}>
            <input
              type="text"
              value={inputValue}
              onChange={(e) => setInputValue(e.target.value)}
              onKeyPress={handleKeyPress}
              placeholder="Ask a question about the workshop..."
              disabled={isLoading}
              className={styles.input}
            />
            <button
              onClick={() => sendMessage(inputValue)}
              disabled={isLoading || !inputValue.trim()}
              className={styles.sendButton}>
              {isLoading ? 'Sending...' : 'Send'}
            </button>
          </div>

          <div className={styles.statusBar}>
            <div className={styles.statusInfo}>
              <span className={`${styles.statusIndicator} ${styles[connectionStatus]}`}></span>
              <span>Status: {connectionStatus === 'ready' ? 'Connected' : connectionStatus}</span>
            </div>
            <div className={styles.webhookInfo}>
              <input
                type="text"
                value={webhookUrl}
                onChange={(e) => setWebhookUrl(e.target.value)}
                className={styles.webhookInput}
                placeholder="Webhook URL"
              />
            </div>
          </div>
        </div>

        <div className={styles.infoPanel}>
          <h2>How it works</h2>
          <p>This lab assistant uses a RAG (Retrieval-Augmented Generation) system built with n8n workflows:</p>
          <ol>
            <li><strong>Document Indexing:</strong> The indexer workflow reads workshop documentation, chunks it, generates embeddings, and stores them in MongoDB Atlas.</li>
            <li><strong>Question Processing:</strong> When you ask a question, it's converted to an embedding using Voyage AI.</li>
            <li><strong>Vector Search:</strong> MongoDB Atlas Vector Search finds the most relevant documentation chunks.</li>
            <li><strong>Response Generation:</strong> An LLM uses the retrieved context to generate accurate, workshop-specific answers.</li>
          </ol>
          
          <h3>Setup Instructions</h3>
          <ol>
            <li>Import and run the indexer workflow: <code>/static/workflows/08-docs-indexer.json</code></li>
            <li>Import and activate the chat workflow: <code>/static/workflows/09-lab-assistant-chat.json</code></li>
            <li>Ensure MongoDB and n8n are running: <code>npm run workshop:start</code></li>
            <li>The webhook should be available at the URL shown in the status bar</li>
          </ol>
        </div>
      </div>
    </Layout>
  );
}
```

# src/pages/assistant.module.css

```css
.container {
  max-width: 1400px;
  margin: 0 auto;
  padding: 2rem;
  display: grid;
  grid-template-columns: 1fr 400px;
  gap: 2rem;
  min-height: calc(100vh - 60px);
}

@media (max-width: 1200px) {
  .container {
    grid-template-columns: 1fr;
  }
}

.chatContainer {
  background: var(--ifm-background-surface-color);
  border-radius: 12px;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
  display: flex;
  flex-direction: column;
  height: calc(100vh - 120px);
  min-height: 600px;
  overflow: hidden;
}

.header {
  background: var(--ifm-color-primary);
  color: white;
  padding: 1.5rem;
  text-align: center;
  border-radius: 12px 12px 0 0;
}

.header h1 {
  margin: 0;
  font-size: 1.75rem;
  font-weight: 600;
}

.header p {
  margin: 0.5rem 0 0;
  opacity: 0.9;
  font-size: 0.95rem;
}

.suggestionsBar {
  padding: 1rem 1.5rem;
  background: var(--ifm-background-color);
  border-bottom: 1px solid var(--ifm-color-emphasis-200);
}

.suggestionsBar h3 {
  font-size: 0.875rem;
  margin: 0 0 0.75rem;
  color: var(--ifm-color-emphasis-600);
  text-transform: uppercase;
  letter-spacing: 0.05em;
}

.suggestions {
  display: flex;
  flex-wrap: wrap;
  gap: 0.5rem;
}

.suggestionChip {
  padding: 0.375rem 0.75rem;
  background: var(--ifm-background-surface-color);
  border: 1px solid var(--ifm-color-emphasis-300);
  border-radius: 20px;
  font-size: 0.875rem;
  cursor: pointer;
  transition: all 0.2s;
  color: var(--ifm-font-color-base);
}

.suggestionChip:hover:not(:disabled) {
  background: var(--ifm-color-primary);
  color: white;
  border-color: var(--ifm-color-primary);
}

.suggestionChip:disabled {
  opacity: 0.5;
  cursor: not-allowed;
}

.messagesContainer {
  flex: 1;
  overflow-y: auto;
  padding: 1.5rem;
  display: flex;
  flex-direction: column;
  gap: 1rem;
}

.message {
  display: flex;
  animation: fadeIn 0.3s ease-in;
}

@keyframes fadeIn {
  from {
    opacity: 0;
    transform: translateY(10px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.message.user {
  justify-content: flex-end;
}

.message.assistant {
  justify-content: flex-start;
}

.message.error {
  justify-content: center;
}

.messageContent {
  max-width: 70%;
  padding: 0.75rem 1rem;
  border-radius: 12px;
  line-height: 1.5;
}

.message.user .messageContent {
  background: var(--ifm-color-primary);
  color: white;
}

.message.assistant .messageContent {
  background: var(--ifm-color-emphasis-100);
  color: var(--ifm-font-color-base);
  border: 1px solid var(--ifm-color-emphasis-200);
}

.message.error .messageContent {
  background: var(--ifm-color-danger-contrast-background);
  color: var(--ifm-color-danger-dark);
  border: 1px solid var(--ifm-color-danger-light);
  max-width: 90%;
}

.messageMetadata {
  margin-top: 0.5rem;
  font-size: 0.75rem;
  opacity: 0.7;
}

.typingIndicator {
  display: flex;
  gap: 4px;
  padding: 0.75rem 1rem;
  background: var(--ifm-color-emphasis-100);
  border-radius: 12px;
  border: 1px solid var(--ifm-color-emphasis-200);
}

.typingIndicator span {
  width: 8px;
  height: 8px;
  border-radius: 50%;
  background: var(--ifm-color-emphasis-400);
  animation: bounce 1.4s infinite ease-in-out both;
}

.typingIndicator span:nth-child(1) {
  animation-delay: -0.32s;
}

.typingIndicator span:nth-child(2) {
  animation-delay: -0.16s;
}

@keyframes bounce {
  0%, 80%, 100% {
    transform: scale(0);
  }
  40% {
    transform: scale(1);
  }
}

.inputContainer {
  padding: 1.5rem;
  border-top: 1px solid var(--ifm-color-emphasis-200);
  display: flex;
  gap: 0.75rem;
}

.input {
  flex: 1;
  padding: 0.75rem 1rem;
  border: 2px solid var(--ifm-color-emphasis-300);
  border-radius: 8px;
  font-size: 1rem;
  background: var(--ifm-background-surface-color);
  color: var(--ifm-font-color-base);
  transition: border-color 0.2s;
}

.input:focus {
  outline: none;
  border-color: var(--ifm-color-primary);
}

.input:disabled {
  opacity: 0.6;
  cursor: not-allowed;
}

.sendButton {
  padding: 0.75rem 1.5rem;
  background: var(--ifm-color-primary);
  color: white;
  border: none;
  border-radius: 8px;
  font-size: 1rem;
  font-weight: 600;
  cursor: pointer;
  transition: background 0.2s;
}

.sendButton:hover:not(:disabled) {
  background: var(--ifm-color-primary-dark);
}

.sendButton:disabled {
  background: var(--ifm-color-emphasis-400);
  cursor: not-allowed;
}

.statusBar {
  padding: 0.75rem 1.5rem;
  background: var(--ifm-background-color);
  border-top: 1px solid var(--ifm-color-emphasis-200);
  border-radius: 0 0 12px 12px;
  display: flex;
  justify-content: space-between;
  align-items: center;
  font-size: 0.875rem;
}

.statusInfo {
  display: flex;
  align-items: center;
  gap: 0.5rem;
}

.statusIndicator {
  width: 8px;
  height: 8px;
  border-radius: 50%;
  background: var(--ifm-color-success);
}

.statusIndicator.sending {
  background: var(--ifm-color-warning);
  animation: pulse 1s infinite;
}

.statusIndicator.error {
  background: var(--ifm-color-danger);
}

@keyframes pulse {
  0% {
    opacity: 1;
  }
  50% {
    opacity: 0.5;
  }
  100% {
    opacity: 1;
  }
}

.webhookInput {
  padding: 0.25rem 0.5rem;
  border: 1px solid var(--ifm-color-emphasis-300);
  border-radius: 4px;
  font-size: 0.75rem;
  background: var(--ifm-background-surface-color);
  color: var(--ifm-font-color-base);
  width: 300px;
}

.infoPanel {
  background: var(--ifm-background-surface-color);
  border-radius: 12px;
  padding: 2rem;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
}

.infoPanel h2 {
  margin-top: 0;
  font-size: 1.5rem;
}

.infoPanel h3 {
  margin-top: 2rem;
  font-size: 1.25rem;
}

.infoPanel ol {
  margin: 1rem 0;
  padding-left: 1.5rem;
}

.infoPanel li {
  margin-bottom: 0.75rem;
  line-height: 1.6;
}

.infoPanel code {
  background: var(--ifm-code-background);
  padding: 0.125rem 0.375rem;
  border-radius: 4px;
  font-size: 0.875rem;
}
```

# src/pages/helloWorld.js

```js
import React from "react";
import Layout from "@theme/Layout";

export default function Hello() {
  return (
    <Layout title="Hello" description="Hello React Page">
      <div
        style={{
          display: "flex",
          justifyContent: "center",
          alignItems: "center",
          height: "50vh",
          fontSize: "20px",
        }}
      >
        <p>
          Edit <code>pages/helloWorld.js</code> and save to reload.
        </p>
      </div>
    </Layout>
  );
}

```

# src/pages/index.js

```js
import React from 'react';
import clsx from 'clsx';
import Link from '@docusaurus/Link';
import useDocusaurusContext from '@docusaurus/useDocusaurusContext';
import Layout from '@theme/Layout';
import HomepageFeatures from '@site/src/components/HomepageFeatures';

import styles from './index.module.css';

function HomepageHeader() {
  const { siteConfig } = useDocusaurusContext();
  return (
    <header className={clsx('hero hero--primary', styles.heroBanner)}>
      <div className="container">
        <h1 className="hero__title">{siteConfig.title}</h1>
        <p className="hero__subtitle">{siteConfig.tagline}</p>
        <div className={styles.buttons}>
          <Link
            className="button button--secondary button--lg"
            to="/docs/objectives-overview">
            {siteConfig.customFields.startButtonTitle}
          </Link>
        </div>
      </div>
    </header>
  );
}

export default function Home() {
  const { siteConfig } = useDocusaurusContext();
  const { title, tagline } = siteConfig;

  return (
    <Layout
      title={`${title}`}
      description={`${tagline}`} >
      <HomepageHeader />
      <main>
        <HomepageFeatures />
      </main>
    </Layout >
  );
}

```

# src/pages/index.module.css

```css
/**
 * CSS files with the .module.css suffix will be treated as CSS modules
 * and scoped locally.
 */

.heroBanner {
  padding: 4rem 0;
  text-align: center;
  position: relative;
  overflow: hidden;
}

@media screen and (max-width: 996px) {
  .heroBanner {
    padding: 2rem;
  }
}

.buttons {
  display: flex;
  align-items: center;
  justify-content: center;
}

```

# src/pages/slides.js

```js
import React, { useState } from 'react';
import Layout from '@theme/Layout';
import SlideViewer from '@site/src/components/SlideViewer';

const demoSlides = [
  {
    id: 'workshop-intro',
    title: 'Workshop Introduction',
    url: 'https://docs.google.com/presentation/d/1YZJRVyoYe1sAtQXCcTxdjpaIQ84-L57842vydaBjcZk',
    caption: 'Introduction to building multimodal PDF agents with n8n and MongoDB',
    notesLink: '/docs/intro',
  },
  {
    id: 'workshop-agents',
    title: 'AI Agents',
    url: 'https://docs.google.com/presentation/d/1YZJRVyoYe1sAtQXCcTxdjpaIQ84-L57842vydaBjcZk/edit?slide=id.g35dddaa82ed_0_4823#slide=id.g35dddaa82ed_0_4823',
    caption: 'Introduction to AI Agents',
    notesLink: '/docs/intro',
  },
  {
    id: 'modality-overview',
    title: 'Mulitmodality',
    url: 'https://docs.google.com/presentation/d/1YZJRVyoYe1sAtQXCcTxdjpaIQ84-L57842vydaBjcZk/edit?slide=id.g35df0c0f3b1_0_4883#slide=id.g35df0c0f3b1_0_4883',
    caption: 'High-level system architecture and components',
    autoplay: false,
    loop: true,
  },
  {
    id: 'mongodb-basics',
    title: 'MongoDB Atlas Basics',
    url: 'https://docs.google.com/presentation/d/fedcba0987654321/edit?usp=sharing',
    caption: 'Getting started with MongoDB Atlas for vector search',
  },
];

export default function SlidesPlayground() {
  const [selectedSlide, setSelectedSlide] = useState(demoSlides[0]);
  const [customUrl, setCustomUrl] = useState('');
  const [showCustom, setShowCustom] = useState(false);

  return (
    <Layout
      title="Welcome to AI4 - Building a Multimodal PDF Agent"
      description="Test and preview slide presentations">
      <div style={{ padding: '2rem' }}>
        <div style={{ maxWidth: '1200px', margin: '0 auto' }}>
          <h1>Welcome to AI4 - Building a Multimodal PDF Agent</h1>
          <p style={{ fontSize: '1.1rem', marginBottom: '2rem' }}>
            
          </p>

          <div style={{ marginBottom: '2rem' }}>
            <h3>Sections</h3>
            <div style={{ display: 'flex', gap: '1rem', flexWrap: 'wrap', marginBottom: '1rem' }}>
              {demoSlides.map((slide) => (
                <button
                  key={slide.id}
                  onClick={() => {
                    setSelectedSlide(slide);
                    setShowCustom(false);
                  }}
                  style={{
                    padding: '0.5rem 1rem',
                    border: '2px solid',
                    borderColor: selectedSlide.id === slide.id && !showCustom ? 'var(--ifm-color-primary)' : 'var(--ifm-color-emphasis-300)',
                    borderRadius: '4px',
                    background: selectedSlide.id === slide.id && !showCustom ? 'var(--ifm-color-primary-lightest)' : 'transparent',
                    cursor: 'pointer',
                    fontSize: '0.9rem',
                    fontWeight: selectedSlide.id === slide.id && !showCustom ? '600' : '400',
                  }}>
                  {slide.title}
                </button>
              ))}
            </div>

            
          </div>

          <div style={{ marginTop: '3rem' }}>
            {showCustom ? (
              <SlideViewer
                url={customUrl}
                title="Custom Presentation"
                caption="User-provided presentation"
                height="650px"
              />
            ) : (
              <SlideViewer
                {...selectedSlide}
                height="650px"
              />
            )}
          </div>

          {/* <div style={{ marginTop: '3rem', padding: '2rem', background: 'var(--ifm-color-emphasis-100)', borderRadius: '8px' }}>
            <h3>Usage Example</h3>
            <pre style={{ background: 'var(--ifm-pre-background)', padding: '1rem', borderRadius: '4px', overflow: 'auto' }}>
              <code>{`import SlideViewer from '@site/src/components/SlideViewer';

// Basic usage
<SlideViewer 
  url="https://docs.google.com/presentation/d/YOUR_ID/edit"
  title="My Presentation"
/>

// With all options
<SlideViewer 
  url="https://docs.google.com/presentation/d/YOUR_ID/edit"
  title="Workshop Introduction"
  width="100%"
  height="600px"
  caption="Introduction to our workshop"
  autoplay={true}
  loop={true}
  delayMs={5000}
  notesLink="/docs/speaker-notes"
/>`}</code>
            </pre>
          </div> */}
        </div>
      </div>
    </Layout>
  );
}
```

# src/pages/upload.js

```js
import React, { useState, useRef, useCallback } from 'react';
import Layout from '@theme/Layout';

export default function PDFUploadTest() {
  const [dragActive, setDragActive] = useState(false);
  const [uploading, setUploading] = useState(false);
  const [status, setStatus] = useState(null);
  const [currentFile, setCurrentFile] = useState(null);
  const [chatMode, setChatMode] = useState(false);
  const [messages, setMessages] = useState([]);
  const [question, setQuestion] = useState('');
  const [asking, setAsking] = useState(false);
  const [webhookUrl, setWebhookUrl] = useState('http://localhost:5678/webhook-test/process-pdf');
  const [chatWebhookUrl, setChatWebhookUrl] = useState('http://localhost:5678/webhook/multimodal-chat-agent');
  
  const fileInputRef = useRef(null);

  const handleDrag = useCallback((e) => {
    e.preventDefault();
    e.stopPropagation();
    if (e.type === "dragenter" || e.type === "dragover") {
      setDragActive(true);
    } else if (e.type === "dragleave") {
      setDragActive(false);
    }
  }, []);

  const handleDrop = useCallback((e) => {
    e.preventDefault();
    e.stopPropagation();
    setDragActive(false);
    
    const files = e.dataTransfer.files;
    if (files && files[0]) {
      handleFile(files[0]);
    }
  }, []);

  const handleFileSelect = (e) => {
    if (e.target.files && e.target.files[0]) {
      handleFile(e.target.files[0]);
    }
  };

  const handleFile = async (file) => {
    if (!file.name.toLowerCase().endsWith('.pdf')) {
      setStatus({
        type: 'error',
        message: 'Please upload a PDF file only.'
      });
      return;
    }

    setUploading(true);
    setStatus({
      type: 'info',
      message: `Uploading and processing PDF to: ${webhookUrl}...`
    });

    const formData = new FormData();
    formData.append('file', file);

    console.log('üöÄ Uploading to URL:', webhookUrl);
    console.log('üìÑ File:', file.name, 'Size:', file.size);

    try {
      const response = await fetch(webhookUrl, {
        method: 'POST',
        body: formData
      });

      console.log('üì° Response status:', response.status);
      console.log('üì° Response headers:', Object.fromEntries(response.headers.entries()));

      let result;
      const contentType = response.headers.get('content-type');
      
      try {
        if (contentType && contentType.includes('application/json')) {
          result = await response.json();
        } else {
          const text = await response.text();
          result = { rawResponse: text, contentType };
        }
      } catch (jsonError) {
        // Handle JSON parsing errors
        try {
          const text = await response.text();
          result = { 
            parseError: jsonError.message,
            rawResponse: text, 
            contentType,
            note: 'Response could not be parsed as JSON'
          };
        } catch (textError) {
          result = {
            parseError: jsonError.message,
            textError: textError.message,
            rawResponse: 'Could not read response',
            contentType
          };
        }
      }

      console.log('üì¶ Response data:', result);

      if (response.ok) {
        setCurrentFile(file.name);
        setStatus({
          type: 'success',
          message: `‚úÖ Successfully processed ${file.name}!`,
          details: {
            ...result,
            requestUrl: webhookUrl,
            responseStatus: response.status
          }
        });
        setChatMode(true);
      } else {
        const errorMessage = result.error || result.message || result.rawResponse || 'Upload failed';
        const jsonParseHint = result.parseError ? ' (JSON parsing failed - check n8n workflow response format)' : '';
        
        setStatus({
          type: 'error',
          message: `‚ùå HTTP ${response.status}: ${errorMessage}${jsonParseHint}`,
          details: {
            ...result,
            requestUrl: webhookUrl,
            responseStatus: response.status,
            suggestion: response.status === 404 
              ? 'Webhook not found. Check if your n8n workflow is active and the path is correct.'
              : result.parseError
                ? 'n8n workflow is not returning valid JSON. Check your workflow response format.'
                : 'Check n8n workflow logs for detailed error information.'
          }
        });
      }
    } catch (error) {
      console.error('‚ùå Upload error:', error);
      setStatus({
        type: 'error',
        message: `‚ùå Connection Error: ${error.message}`,
        details: { 
          errorType: error.name,
          errorMessage: error.message,
          requestUrl: webhookUrl,
          suggestion: 'Make sure your n8n workflow is running and the webhook URL is correct. Check browser console for more details.',
          troubleshooting: [
            'Verify n8n is running on the correct port',
            'Check if the workflow is activated in n8n',
            'Ensure the webhook path matches your workflow',
            'Try opening the webhook URL directly in browser'
          ]
        }
      });
    } finally {
      setUploading(false);
    }
  };

  const askQuestion = async () => {
    if (!question.trim()) return;

    const userMessage = { type: 'user', text: question, timestamp: new Date() };
    setMessages(prev => [...prev, userMessage]);
    setQuestion('');
    setAsking(true);

    const loadingMessage = { type: 'ai', text: 'Thinking...', loading: true, timestamp: new Date() };
    setMessages(prev => [...prev, loadingMessage]);

    try {
      const response = await fetch(chatWebhookUrl, {
        method: 'POST',
        headers: {
          'Content-Type': 'application/json'
        },
        body: JSON.stringify({
          message: userMessage.text,
          filename: currentFile
        })
      });

      const result = await response.json();
      
      // Remove loading message
      setMessages(prev => prev.filter(msg => !msg.loading));

      if (response.ok) {
        const aiMessage = {
          type: 'ai',
          text: result.message || result.response || result.answer || 'No answer received',
          timestamp: new Date(),
          details: result
        };
        setMessages(prev => [...prev, aiMessage]);
      } else {
        const errorMessage = {
          type: 'ai',
          text: `‚ùå Error: ${result.error || result.message || 'Failed to get answer'}`,
          timestamp: new Date(),
          error: true
        };
        setMessages(prev => [...prev, errorMessage]);
      }
    } catch (error) {
      // Remove loading message
      setMessages(prev => prev.filter(msg => !msg.loading));
      
      const errorMessage = {
        type: 'ai',
        text: `‚ùå Connection Error: ${error.message}`,
        timestamp: new Date(),
        error: true,
        details: {
          suggestion: 'Make sure your n8n chat workflow is running and the webhook URL is correct.',
          currentUrl: chatWebhookUrl
        }
      };
      setMessages(prev => [...prev, errorMessage]);
    } finally {
      setAsking(false);
    }
  };

  const resetChat = () => {
    setMessages([]);
    setChatMode(false);
    setCurrentFile(null);
    setStatus(null);
  };

  const testConnection = async () => {
    setStatus({
      type: 'info',
      message: `Testing connection to: ${webhookUrl}...`
    });

    try {
      console.log('üîç Testing connection to:', webhookUrl);
      
      // Try a simple GET request first to see if the endpoint exists
      const response = await fetch(webhookUrl, {
        method: 'POST',
      });

      console.log('üîç Test response status:', response.status);
      console.log('üîç Test response headers:', Object.fromEntries(response.headers.entries()));

      let result;
      const contentType = response.headers.get('content-type');
      
      try {
        if (contentType && contentType.includes('application/json')) {
          result = await response.json();
        } else {
          const text = await response.text();
          result = { rawResponse: text, contentType };
        }
      } catch (jsonError) {
        // Handle JSON parsing errors in test connection
        try {
          const text = await response.text();
          result = { 
            parseError: jsonError.message,
            rawResponse: text, 
            contentType,
            note: 'Response could not be parsed as JSON'
          };
        } catch (textError) {
          result = {
            parseError: jsonError.message,
            textError: textError.message,
            rawResponse: 'Could not read response',
            contentType
          };
        }
      }

      if (response.status === 405) {
        // Method not allowed is expected for webhooks - it means the endpoint exists
        setStatus({
          type: 'success',
          message: '‚úÖ Webhook endpoint found! (Method Not Allowed is expected for webhooks)',
          details: {
            requestUrl: webhookUrl,
            responseStatus: response.status,
            note: 'HTTP 405 is normal for webhook endpoints when accessed via GET. Your webhook should work for POST requests.'
          }
        });
      } else if (response.status === 404) {
        // Check if it's an n8n-specific 404 with helpful message
        const isN8nError = result.message && result.message.includes('webhook') && result.message.includes('registered');
        
        setStatus({
          type: 'error',
          message: `‚ùå Webhook not found (404)${isN8nError ? ' - n8n Webhook Not Registered' : ''}`,
          details: {
            requestUrl: webhookUrl,
            responseStatus: response.status,
            n8nMessage: result.message,
            n8nHint: result.hint,
            suggestion: isN8nError 
              ? 'Your n8n workflow needs to be activated or you need to click "Execute workflow" in n8n to register the webhook.'
              : 'Check if your n8n workflow is active and the webhook path is correct.',
            quickFix: isN8nError ? [
              '1. Open your n8n workflow',
              '2. Click the "Execute workflow" button to register the webhook for testing',
              '3. OR activate the workflow for permanent registration',
              '4. Try the upload again'
            ] : undefined
          }
        });
      } else {
        setStatus({
          type: 'info',
          message: `üîç Connection test completed (HTTP ${response.status})`,
          details: {
            ...result,
            requestUrl: webhookUrl,
            responseStatus: response.status,
            note: 'Unexpected response. Check the details below.'
          }
        });
      }
    } catch (error) {
      console.error('üîç Connection test error:', error);
      setStatus({
        type: 'error',
        message: `‚ùå Connection Test Failed: ${error.message}`,
        details: {
          errorType: error.name,
          errorMessage: error.message,
          requestUrl: webhookUrl,
          suggestion: 'Cannot reach the webhook URL. Check if n8n is running and accessible.'
        }
      });
    }
  };

  return (
    <Layout
      title="PDF Upload Tester"
      description="Test your n8n PDF processing workflows">
      <div style={{ padding: '2rem', maxWidth: '1000px', margin: '0 auto' }}>
        <div style={{ 
          background: 'white', 
          borderRadius: '12px', 
          boxShadow: '0 4px 12px rgba(0,0,0,0.1)', 
          padding: '2rem',
          border: '1px solid var(--ifm-color-emphasis-200)'
        }}>
          <div style={{ marginBottom: '2rem' }}>
            <h1 style={{ margin: '0 0 0.5rem 0', color: 'var(--ifm-color-primary)' }}>
              ü§ñ PDF Workflow Tester
            </h1>
            <p style={{ color: 'var(--ifm-color-emphasis-700)', fontSize: '1.1rem', margin: 0 }}>
              Test your n8n PDF processing and chat workflows
            </p>
          </div>

          {/* Configuration Section */}
          <div style={{ 
            background: 'var(--ifm-color-emphasis-100)', 
            padding: '1rem', 
            borderRadius: '8px', 
            marginBottom: '2rem' 
          }}>
            <h3 style={{ margin: '0 0 1rem 0', fontSize: '1rem' }}>‚öôÔ∏è Webhook Configuration</h3>
            <div style={{ display: 'grid', gap: '1rem', gridTemplateColumns: '1fr 1fr' }}>
              <div>
                <label style={{ display: 'block', marginBottom: '0.5rem', fontWeight: '500' }}>
                  Upload Webhook URL:
                </label>
                <input
                  type="text"
                  value={webhookUrl}
                  onChange={(e) => setWebhookUrl(e.target.value)}
                  style={{
                    width: '100%',
                    padding: '0.5rem',
                    border: '1px solid var(--ifm-color-emphasis-300)',
                    borderRadius: '4px',
                    fontSize: '0.9rem'
                  }}
                  placeholder="http://localhost:5678/webhook-test/process-pdf"
                />
              </div>
              <div>
                <label style={{ display: 'block', marginBottom: '0.5rem', fontWeight: '500' }}>
                  Chat Webhook URL:
                </label>
                <input
                  type="text"
                  value={chatWebhookUrl}
                  onChange={(e) => setChatWebhookUrl(e.target.value)}
                  style={{
                    width: '100%',
                    padding: '0.5rem',
                    border: '1px solid var(--ifm-color-emphasis-300)',
                    borderRadius: '4px',
                    fontSize: '0.9rem'
                  }}
                  placeholder="http://localhost:5678/webhook/multimodal-chat-agent"
                />
              </div>
            </div>
            <div style={{ marginTop: '1rem', textAlign: 'center' }}>
              <button
                onClick={testConnection}
                style={{
                  background: 'var(--ifm-color-secondary)',
                  color: 'white',
                  border: 'none',
                  padding: '0.5rem 1rem',
                  borderRadius: '4px',
                  cursor: 'pointer',
                  fontSize: '0.9rem',
                  fontWeight: '500'
                }}
              >
                üîç Test Connection
              </button>
            </div>
          </div>

          {/* Upload Section */}
          {!chatMode && (
            <div
              onDragEnter={handleDrag}
              onDragLeave={handleDrag}
              onDragOver={handleDrag}
              onDrop={handleDrop}
              style={{
                border: `2px dashed ${dragActive ? 'var(--ifm-color-primary)' : 'var(--ifm-color-emphasis-300)'}`,
                borderRadius: '12px',
                padding: '3rem',
                textAlign: 'center',
                background: dragActive ? 'var(--ifm-color-primary-lightest)' : 'var(--ifm-color-emphasis-100)',
                transition: 'all 0.3s ease',
                cursor: 'pointer',
                marginBottom: '2rem'
              }}
              onClick={() => fileInputRef.current?.click()}
            >
              <div style={{ fontSize: '3rem', marginBottom: '1rem' }}>üìÑ</div>
              <h3 style={{ margin: '0 0 1rem 0', color: 'var(--ifm-color-emphasis-800)' }}>
                {dragActive ? 'Drop your PDF here!' : 'Upload PDF Document'}
              </h3>
              <p style={{ margin: '0 0 1.5rem 0', color: 'var(--ifm-color-emphasis-600)' }}>
                Drag and drop your PDF file here, or click to browse
              </p>
              <button
                style={{
                  background: 'var(--ifm-color-primary)',
                  color: 'white',
                  border: 'none',
                  padding: '0.75rem 2rem',
                  borderRadius: '6px',
                  fontSize: '1rem',
                  fontWeight: '500',
                  cursor: 'pointer',
                  transition: 'background 0.2s ease'
                }}
                disabled={uploading}
              >
                {uploading ? '‚è≥ Processing...' : 'üìÅ Choose PDF File'}
              </button>
              <input
                ref={fileInputRef}
                type="file"
                accept=".pdf"
                onChange={handleFileSelect}
                style={{ display: 'none' }}
              />
            </div>
          )}

          {/* Status Section */}
          {status && (
            <div style={{
              padding: '1rem',
              borderRadius: '8px',
              marginBottom: '2rem',
              background: status.type === 'success' ? '#d4edda' : 
                         status.type === 'error' ? '#f8d7da' : '#d1ecf1',
              border: `1px solid ${status.type === 'success' ? '#c3e6cb' : 
                                   status.type === 'error' ? '#f5c6cb' : '#bee5eb'}`,
              color: status.type === 'success' ? '#155724' : 
                     status.type === 'error' ? '#721c24' : '#0c5460'
            }}>
              <div style={{ fontSize: '1rem', fontWeight: '500', marginBottom: '0.5rem' }}>
                {status.message}
              </div>
              {status.details && (
                <details style={{ marginTop: '0.5rem' }}>
                  <summary style={{ cursor: 'pointer', fontSize: '0.9rem' }}>
                    View Details
                  </summary>
                  <pre style={{
                    background: 'rgba(0,0,0,0.1)',
                    padding: '0.5rem',
                    borderRadius: '4px',
                    fontSize: '0.8rem',
                    overflow: 'auto',
                    marginTop: '0.5rem'
                  }}>
                    {JSON.stringify(status.details, null, 2)}
                  </pre>
                </details>
              )}
            </div>
          )}

          {/* Chat Section */}
          {chatMode && (
            <div style={{ marginTop: '2rem' }}>
              <div style={{ 
                display: 'flex', 
                justifyContent: 'space-between', 
                alignItems: 'center',
                marginBottom: '1rem'
              }}>
                <h2 style={{ margin: 0, color: 'var(--ifm-color-primary)' }}>
                  üí¨ Ask Questions about {currentFile}
                </h2>
                <button
                  onClick={resetChat}
                  style={{
                    background: 'var(--ifm-color-emphasis-300)',
                    border: 'none',
                    padding: '0.5rem 1rem',
                    borderRadius: '4px',
                    cursor: 'pointer',
                    fontSize: '0.9rem'
                  }}
                >
                  üîÑ Upload New PDF
                </button>
              </div>

              {/* Messages */}
              <div style={{
                border: '1px solid var(--ifm-color-emphasis-300)',
                borderRadius: '8px',
                height: '400px',
                overflowY: 'auto',
                padding: '1rem',
                marginBottom: '1rem',
                background: 'var(--ifm-background-color)'
              }}>
                {messages.length === 0 ? (
                  <div style={{ 
                    textAlign: 'center', 
                    color: 'var(--ifm-color-emphasis-600)',
                    marginTop: '2rem'
                  }}>
                    üí° Start by asking a question about your PDF content
                  </div>
                ) : (
                  messages.map((msg, idx) => (
                    <div
                      key={idx}
                      style={{
                        marginBottom: '1rem',
                        padding: '0.75rem',
                        borderRadius: '8px',
                        background: msg.type === 'user' 
                          ? 'var(--ifm-color-primary-lightest)' 
                          : msg.error 
                            ? '#f8d7da'
                            : 'var(--ifm-color-emphasis-100)',
                        border: `1px solid ${msg.type === 'user' 
                          ? 'var(--ifm-color-primary-light)' 
                          : msg.error 
                            ? '#f5c6cb'
                            : 'var(--ifm-color-emphasis-300)'}`,
                        alignSelf: msg.type === 'user' ? 'flex-end' : 'flex-start'
                      }}
                    >
                      <div style={{ 
                        fontSize: '0.9rem', 
                        fontWeight: '500',
                        marginBottom: '0.25rem',
                        color: msg.type === 'user' ? 'var(--ifm-color-primary-dark)' : 'var(--ifm-color-emphasis-800)'
                      }}>
                        {msg.type === 'user' ? 'üë§ You' : 'ü§ñ AI Assistant'}
                      </div>
                      <div style={{ lineHeight: '1.5' }}>
                        {msg.loading ? (
                          <div style={{ display: 'flex', alignItems: 'center', gap: '0.5rem' }}>
                            <div style={{
                              width: '16px',
                              height: '16px',
                              border: '2px solid var(--ifm-color-emphasis-300)',
                              borderTop: '2px solid var(--ifm-color-primary)',
                              borderRadius: '50%',
                              animation: 'spin 1s linear infinite'
                            }} />
                            {msg.text}
                          </div>
                        ) : (
                          msg.text
                        )}
                      </div>
                      {msg.details && !msg.loading && (
                        <details style={{ marginTop: '0.5rem' }}>
                          <summary style={{ cursor: 'pointer', fontSize: '0.8rem' }}>
                            Response Details
                          </summary>
                          <pre style={{
                            background: 'rgba(0,0,0,0.1)',
                            padding: '0.5rem',
                            borderRadius: '4px',
                            fontSize: '0.7rem',
                            overflow: 'auto',
                            marginTop: '0.5rem'
                          }}>
                            {JSON.stringify(msg.details, null, 2)}
                          </pre>
                        </details>
                      )}
                    </div>
                  ))
                )}
              </div>

              {/* Question Input */}
              <div style={{ display: 'flex', gap: '0.5rem' }}>
                <input
                  type="text"
                  value={question}
                  onChange={(e) => setQuestion(e.target.value)}
                  onKeyPress={(e) => e.key === 'Enter' && !asking && askQuestion()}
                  placeholder="Ask a question about your PDF..."
                  style={{
                    flex: 1,
                    padding: '0.75rem',
                    border: '1px solid var(--ifm-color-emphasis-300)',
                    borderRadius: '6px',
                    fontSize: '1rem'
                  }}
                  disabled={asking}
                />
                <button
                  onClick={askQuestion}
                  disabled={asking || !question.trim()}
                  style={{
                    background: asking ? 'var(--ifm-color-emphasis-300)' : 'var(--ifm-color-primary)',
                    color: 'white',
                    border: 'none',
                    padding: '0.75rem 1.5rem',
                    borderRadius: '6px',
                    fontSize: '1rem',
                    cursor: asking ? 'not-allowed' : 'pointer',
                    transition: 'background 0.2s ease'
                  }}
                >
                  {asking ? '‚è≥' : 'üöÄ'} Ask
                </button>
              </div>
            </div>
          )}
        </div>

        {/* Help Section */}
        <div style={{
          marginTop: '2rem',
          padding: '1.5rem',
          background: 'var(--ifm-color-emphasis-100)',
          borderRadius: '8px',
          border: '1px solid var(--ifm-color-emphasis-200)'
        }}>
          <h3 style={{ margin: '0 0 1rem 0' }}>üõ†Ô∏è How to Use This Tester</h3>
          <ol style={{ margin: 0, paddingLeft: '1.5rem' }}>
            <li><strong>Test connection first</strong> - Use the "Test Connection" button to verify n8n is accessible</li>
            <li><strong>Configure webhook URLs</strong> - Update the URLs to match your n8n workflow endpoints</li>
            <li><strong>Import your agent workflows</strong> - Use the LangChain agent workflows: <code>05-proper-chat-agent.json</code>, <code>06-advanced-agent-with-tools.json</code>, and <code>07-pdf-processing-agent.json</code></li>
            <li><strong>Activate your workflow</strong> - Make sure it's running in n8n (not just saved)</li>
            <li><strong>Upload a PDF</strong> - Drag and drop or click to select a PDF file</li>
            <li><strong>Ask questions</strong> - Once processed, you can chat with your document</li>
          </ol>
          <div style={{ 
            marginTop: '1rem', 
            padding: '0.75rem', 
            background: 'var(--ifm-color-warning-lightest)',
            border: '1px solid var(--ifm-color-warning-light)',
            borderRadius: '4px'
          }}>
            <strong>üí° Common Issues & Solutions:</strong>
            <ul style={{ margin: '0.5rem 0 0 0', paddingLeft: '1.5rem' }}>
              <li><strong>404 "webhook not registered":</strong> Click "Execute workflow" in n8n or activate the workflow</li>
              <li><strong>Failed to fetch:</strong> n8n might not be running or port is wrong</li>
              <li><strong>CORS errors:</strong> Try accessing from the same origin as n8n</li>
              <li>Use the <strong>Test Connection</strong> button first to diagnose issues</li>
              <li>Check browser console (F12) for detailed error information</li>
              <li>Default URLs assume n8n is running on <code>localhost:5678</code></li>
            </ul>
          </div>
        </div>
      </div>

      <style jsx>{`
        @keyframes spin {
          0% { transform: rotate(0deg); }
          100% { transform: rotate(360deg); }
        }
      `}</style>
    </Layout>
  );
}
```

# src/theme/MDXComponents.js

```js
import React from 'react';
// Import the original mapper
import MDXComponents from '@theme-original/MDXComponents';
import Link from "@site/src/components/Link";
import Screenshot from "@site/src/components/Screenshot";
import WorkshopExercise, { ExerciseStep, ExerciseValidation } from "@site/src/components/WorkshopExercise";
import CodeBlock, { TerminalCommand } from "@site/src/components/CodeBlock";
import ProgressTracker, { StepIndicator } from "@site/src/components/ProgressTracker";
import InteractiveDemo, { ConfigBuilder, ServiceTester } from "@site/src/components/InteractiveDemo";
import Quiz, { QuickCheck } from "@site/src/components/Quiz";
import EmbeddingTester, { EmbeddingVisualizer } from "@site/src/components/EmbeddingTester";
import QuickEmbeddingTest from "@site/src/components/QuickEmbeddingTest";
import WorkshopTransition, { SlideRecap, InstructorNotes, QRCodeAccess } from "@site/src/components/WorkshopTransition";
import WorkshopFeedback from "@site/src/components/WorkshopFeedback";
import WorkshopResources from "@site/src/components/WorkshopResources";
import LiveStatusBadge, { 
  StatusDot, 
  SystemHealthDashboard,
  CodespaceStatusBadge,
  DockerServicesStatusBadge,
  MongoDBAtlasStatusBadge,
  VoyageAIStatusBadge,
  WorkflowTestBadge
} from "@site/src/components/LiveStatusBadge";
import ExplainableCodeBlock, { WorkshopCodeBlock } from "@site/src/components/ExplainableCodeBlock";

export default {
  // Re-use the default mapping
  ...MDXComponents,
  Link,
  Screenshot,
  WorkshopExercise,
  ExerciseStep,
  ExerciseValidation,
  CodeBlock,
  TerminalCommand,
  ProgressTracker,
  StepIndicator,
  InteractiveDemo,
  ConfigBuilder,
  ServiceTester,
  Quiz,
  QuickCheck,
  EmbeddingTester,
  EmbeddingVisualizer,
  QuickEmbeddingTest,
  WorkshopTransition,
  SlideRecap,
  InstructorNotes,
  QRCodeAccess,
  WorkshopFeedback,
  WorkshopResources,
  LiveStatusBadge,
  StatusDot,
  SystemHealthDashboard,
  CodespaceStatusBadge,
  DockerServicesStatusBadge,
  MongoDBAtlasStatusBadge,
  VoyageAIStatusBadge,
  WorkflowTestBadge,
  ExplainableCodeBlock,
  WorkshopCodeBlock
};
```

# static/.nojekyll

```

```

# static/img/agent_workflow_1.png

This is a binary file of the type: Image

# static/img/agent_workflow_2.png

This is a binary file of the type: Image

# static/img/atlas-1-signup.png

This is a binary file of the type: Image

# static/img/atlas-2-verify-email.png

This is a binary file of the type: Image

# static/img/atlas-3-verify-email.png

This is a binary file of the type: Image

# static/img/atlas-4-verify-email.png

This is a binary file of the type: Image

# static/img/atlas-5-personalization.png

This is a binary file of the type: Image

# static/img/atlas-6-select-free.png

This is a binary file of the type: Image

# static/img/atlas-7-username.png

This is a binary file of the type: Image

# static/img/atlas-8-choose-connection.png

This is a binary file of the type: Image

# static/img/atlas-9-drivers.png

This is a binary file of the type: Image

# static/img/atlas-10-copy-connection-string.png

This is a binary file of the type: Image

# static/img/atlas-11-network.png

This is a binary file of the type: Image

# static/img/atlas-12-anywhere.png

This is a binary file of the type: Image

# static/img/blank-workspace.png

This is a binary file of the type: Image

# static/img/codespaces-building.png

This is a binary file of the type: Image

# static/img/codespaces-button.png

This is a binary file of the type: Image

# static/img/codespaces-ports.png

This is a binary file of the type: Image

# static/img/coding.png

This is a binary file of the type: Image

# static/img/data_processing.png

This is a binary file of the type: Image

# static/img/docu.svg

This is a file of the type: SVG Image

# static/img/expanded-leafy.png

This is a binary file of the type: Image

# static/img/favicon.ico

This is a binary file of the type: Binary

# static/img/favicon.svg

This is a file of the type: SVG Image

# static/img/gemini-1-consent.png

This is a binary file of the type: Image

# static/img/gemini-2-get-api-key.png

This is a binary file of the type: Image

# static/img/gemini-3-create-api-key.png

This is a binary file of the type: Image

# static/img/gemini-4-create-api-new-project.png

This is a binary file of the type: Image

# static/img/gemini-6-copy-key.png

This is a binary file of the type: Image

# static/img/gemini-logo.png

This is a binary file of the type: Image

# static/img/gh-pages.png

This is a binary file of the type: Image

# static/img/gh-secret.png

This is a binary file of the type: Image

# static/img/highfive.png

This is a binary file of the type: Image

# static/img/index-1.png

This is a binary file of the type: Image

# static/img/index-2.png

This is a binary file of the type: Image

# static/img/index-3.png

This is a binary file of the type: Image

# static/img/indeximage-1.png

This is a binary file of the type: Image

# static/img/logo-dark.svg

This is a file of the type: SVG Image

# static/img/logo.png

This is a binary file of the type: Image

# static/img/logo.svg

This is a file of the type: SVG Image

# static/img/memory_mgmt_1.png

This is a binary file of the type: Image

# static/img/memory_mgmt_2.png

This is a binary file of the type: Image

# static/img/mongodb-logo.png

This is a binary file of the type: Image

# static/img/n8n-1.png

This is a binary file of the type: Image

# static/img/n8n-2.png

This is a binary file of the type: Image

# static/img/n8n-3.png

This is a binary file of the type: Image

# static/img/n8n-logo.png

This is a binary file of the type: Image

# static/img/node.png

This is a binary file of the type: Image

# static/img/screenshot.png

This is a binary file of the type: Image

# static/img/test.png

This is a binary file of the type: Image

# static/img/typing.gif

This is a binary file of the type: Image

# static/img/voyage-1.webp

This is a binary file of the type: Image

# static/img/voyage-2.png

This is a binary file of the type: Image

# static/img/voyage-3.png

This is a binary file of the type: Image

# static/img/voyage-4.png

This is a binary file of the type: Image

# static/img/voyage-6.png

This is a binary file of the type: Image

# static/img/voyage-logo.png

This is a binary file of the type: Image

# static/img/voyage-logo.svg

This is a file of the type: SVG Image

# static/img/writing.png

This is a binary file of the type: Image

# static/notebooks/lab.ipynb

```ipynb
{
  "cells": [
    {
      "cell_type": "markdown",
      "metadata": {
        "id": "RM8rg08YhqZe"
      },
      "source": [
        "# Step 1: Setup prerequisites"
      ]
    },
    {
      "cell_type": "code",
      "execution_count": null,
      "metadata": {},
      "outputs": [],
      "source": [
        "import os\n",
        "from pymongo import MongoClient"
      ]
    },
    {
      "cell_type": "code",
      "execution_count": null,
      "metadata": {
        "id": "oXLWCWEghuOX"
      },
      "outputs": [],
      "source": [
        "# If you are using your own MongoDB Atlas cluster, use the connection string for your cluster here\n",
        "MONGODB_URI = os.getenv(\"MONGODB_URI\")\n",
        "# Initialize a MongoDB Python client\n",
        "mongodb_client = MongoClient(MONGODB_URI)\n",
        "# Check the connection to the server\n",
        "mongodb_client.admin.command(\"ping\")"
      ]
    },
    {
      "cell_type": "code",
      "execution_count": null,
      "metadata": {},
      "outputs": [],
      "source": [
        "SERVERLESS_URL = os.getenv(\"SERVERLESS_URL\")\n",
        "LLM_PROVIDER = \"google\""
      ]
    },
    {
      "cell_type": "markdown",
      "metadata": {
        "id": "UUf3jtFzO4-V"
      },
      "source": [
        "# Step 2: Read PDF from URL"
      ]
    },
    {
      "cell_type": "code",
      "execution_count": null,
      "metadata": {},
      "outputs": [],
      "source": [
        "import pymupdf\n",
        "import requests"
      ]
    },
    {
      "cell_type": "markdown",
      "metadata": {},
      "source": [
        "üìö https://pymupdf.readthedocs.io/en/latest/how-to-open-a-file.html#opening-remote-files"
      ]
    },
    {
      "cell_type": "code",
      "execution_count": null,
      "metadata": {},
      "outputs": [],
      "source": [
        "# Download the DeepSeek paper\n",
        "response = requests.get(\"https://arxiv.org/pdf/2501.12948\")\n",
        "if response.status_code != 200:\n",
        "    raise ValueError(f\"Failed to download PDF. Status code: {response.status_code}\")\n",
        "# Get the content of the response\n",
        "pdf_stream = response.content\n",
        "# Open the data in `pdf_stream` as a PDF document and store it in `pdf`.\n",
        "# HINT: Set the `filetype` argument to \"pdf\".\n",
        "pdf = <CODE_BLOCK_1>"
      ]
    },
    {
      "cell_type": "markdown",
      "metadata": {},
      "source": [
        "# Step 3: Store PDF images locally and extract metadata"
      ]
    },
    {
      "cell_type": "code",
      "execution_count": null,
      "metadata": {},
      "outputs": [],
      "source": [
        "from tqdm import tqdm"
      ]
    },
    {
      "cell_type": "code",
      "execution_count": null,
      "metadata": {},
      "outputs": [],
      "source": [
        "docs = []"
      ]
    },
    {
      "cell_type": "markdown",
      "metadata": {},
      "source": [
        "üìö https://pymupdf.readthedocs.io/en/latest/page.html#Page.get_pixmap"
      ]
    },
    {
      "cell_type": "code",
      "execution_count": null,
      "metadata": {},
      "outputs": [],
      "source": [
        "zoom = 3.0\n",
        "# Set image matrix dimensions\n",
        "mat = pymupdf.Matrix(zoom, zoom)\n",
        "# Iterate through the pages of the PDF\n",
        "for n in tqdm(range(pdf.page_count)):\n",
        "    temp = {}\n",
        "    # Use the `get_pixmap` method to render the PDF page as a matrix of pixels as specified by the variable `mat`\n",
        "    # HINT: Access the PDF page as pdf[n]\n",
        "    pix = <CODE_BLOCK_2>\n",
        "    # Store image locally\n",
        "    key = f\"data/images/{n+1}.png\"\n",
        "    pix.save(key)\n",
        "    # Extract image metadata to be stored in MongoDB\n",
        "    temp[\"key\"] = key\n",
        "    temp[\"width\"] = pix.width\n",
        "    temp[\"height\"] = pix.height\n",
        "    docs.append(temp)"
      ]
    },
    {
      "cell_type": "markdown",
      "metadata": {},
      "source": [
        "# Step 4: Generate image embeddings\n",
        "\n",
        "Uncomment this section only if you are generating embedding using your own Voyage AI API key.\n",
        "\n",
        "Follow the steps [here](https://docs.voyageai.com/docs/api-key-and-installation#authentication-with-api-keys) to obtain a Voyage AI API key."
      ]
    },
    {
      "cell_type": "code",
      "execution_count": null,
      "metadata": {},
      "outputs": [],
      "source": [
        "# from voyageai import Client\n",
        "# from PIL import Image"
      ]
    },
    {
      "cell_type": "code",
      "execution_count": null,
      "metadata": {},
      "outputs": [],
      "source": [
        "# # Set Voyage AI API Key\n",
        "# os.environ[\"VOYAGE_API_KEY\"] = \"your-api-key\""
      ]
    },
    {
      "cell_type": "code",
      "execution_count": null,
      "metadata": {},
      "outputs": [],
      "source": [
        "# voyageai_client = Client()"
      ]
    },
    {
      "cell_type": "code",
      "execution_count": null,
      "metadata": {},
      "outputs": [],
      "source": [
        "# def get_embedding(data, input_type):\n",
        "#     \"\"\"\n",
        "#     Get Voyage AI embeddings for images and text.\n",
        "\n",
        "#     Args:\n",
        "#         data: An image or text to embed\n",
        "#         input_type: Input type, either \"document\" or \"query\"\n",
        "\n",
        "#     Returns: Embeddings as a list\n",
        "#     \"\"\"\n",
        "#     embedding = voyageai_client.multimodal_embed(\n",
        "#         inputs=[[data]], model=\"voyage-multimodal-3\", input_type=input_type\n",
        "#     ).embeddings[0]\n",
        "#     return embedding"
      ]
    },
    {
      "cell_type": "code",
      "execution_count": null,
      "metadata": {},
      "outputs": [],
      "source": [
        "# embedded_docs = []\n",
        "# for doc in tqdm(docs):\n",
        "#     # Open the image from file\n",
        "#     img = Image.open(f\"{doc['key']}\")\n",
        "#     # Add the embeddings to the document\n",
        "#     doc[\"embedding\"] = get_embedding(img, \"document\")\n",
        "#     embedded_docs.append(doc)"
      ]
    },
    {
      "cell_type": "markdown",
      "metadata": {},
      "source": [
        "# Step 5: Write embeddings and metadata to MongoDB\n",
        "\n",
        "In this step, we are ingesting a dataset with multimodal embeddings pre-generated, into MongoDB. \n",
        "\n",
        "If you would like to understand how to the embedding process works, uncomment and work through the code in Step 4."
      ]
    },
    {
      "cell_type": "code",
      "execution_count": null,
      "metadata": {},
      "outputs": [],
      "source": [
        "import json"
      ]
    },
    {
      "cell_type": "code",
      "execution_count": null,
      "metadata": {},
      "outputs": [],
      "source": [
        "#  Database name\n",
        "DB_NAME = \"mongodb_aiewf\"\n",
        "# Name of the collection to insert documents into\n",
        "COLLECTION_NAME = \"multimodal_workshop\""
      ]
    },
    {
      "cell_type": "code",
      "execution_count": null,
      "metadata": {},
      "outputs": [],
      "source": [
        "# Connect to the collection\n",
        "collection = mongodb_client[DB_NAME][COLLECTION_NAME]"
      ]
    },
    {
      "cell_type": "code",
      "execution_count": null,
      "metadata": {},
      "outputs": [],
      "source": [
        "# Read data from local file\n",
        "with open(\"data/embeddings.json\", \"r\") as data_file:\n",
        "    json_data = data_file.read()\n",
        "data = json.loads(json_data)"
      ]
    },
    {
      "cell_type": "markdown",
      "metadata": {},
      "source": [
        "üìö https://pymongo.readthedocs.io/en/stable/api/pymongo/collection.html#pymongo.collection.Collection.insert_many"
      ]
    },
    {
      "cell_type": "code",
      "execution_count": null,
      "metadata": {},
      "outputs": [],
      "source": [
        "# Delete existing documents from the `collection` collection\n",
        "collection.delete_many({})\n",
        "print(f\"Deleted existing documents from the {COLLECTION_NAME} collection.\")\n",
        "# Bulk insert documents in `data`, into the `collection` collection.\n",
        "<CODE_BLOCK_3>\n",
        "print(\n",
        "    f\"{collection.count_documents({})} documents ingested into the {COLLECTION_NAME} collection.\"\n",
        ")"
      ]
    },
    {
      "cell_type": "markdown",
      "metadata": {},
      "source": [
        "# Step 6: Create a vector search index"
      ]
    },
    {
      "cell_type": "code",
      "execution_count": null,
      "metadata": {},
      "outputs": [],
      "source": [
        "VS_INDEX_NAME = \"vector_index\""
      ]
    },
    {
      "cell_type": "code",
      "execution_count": null,
      "metadata": {},
      "outputs": [],
      "source": [
        "# Create vector index definition specifying:\n",
        "# path: Path to the embeddings field\n",
        "# numDimensions: Number of embedding dimensions- depends on the embedding model used\n",
        "# similarity: Similarity metric. One of cosine, euclidean, dotProduct.\n",
        "model = {\n",
        "    \"name\": VS_INDEX_NAME,\n",
        "    \"type\": \"vectorSearch\",\n",
        "    \"definition\": {\n",
        "        \"fields\": [\n",
        "            {\n",
        "                \"type\": \"vector\",\n",
        "                \"path\": \"embedding\",\n",
        "                \"numDimensions\": 1024,\n",
        "                \"similarity\": \"cosine\",\n",
        "            }\n",
        "        ]\n",
        "    },\n",
        "}"
      ]
    },
    {
      "cell_type": "markdown",
      "metadata": {},
      "source": [
        "üìö https://pymongo.readthedocs.io/en/stable/api/pymongo/collection.html#pymongo.collection.Collection.create_search_index"
      ]
    },
    {
      "cell_type": "code",
      "execution_count": null,
      "metadata": {},
      "outputs": [],
      "source": [
        "# Create a vector search index with the above `model` for the `collection` collection\n",
        "<CODE_BLOCK_4>"
      ]
    },
    {
      "cell_type": "code",
      "execution_count": null,
      "metadata": {},
      "outputs": [],
      "source": [
        "# Verify that the index is in READY status before proceeding\n",
        "list(collection.list_search_indexes())"
      ]
    },
    {
      "cell_type": "markdown",
      "metadata": {
        "id": "pZfheX5FiIhU"
      },
      "source": [
        "# Step 7: Create agent tools\n"
      ]
    },
    {
      "cell_type": "code",
      "execution_count": null,
      "metadata": {},
      "outputs": [],
      "source": [
        "from typing import List"
      ]
    },
    {
      "cell_type": "markdown",
      "metadata": {},
      "source": [
        "üìö https://www.mongodb.com/docs/atlas/atlas-vector-search/vector-search-stage/#ann-examples (Refer to Basic Example)"
      ]
    },
    {
      "cell_type": "code",
      "execution_count": null,
      "metadata": {},
      "outputs": [],
      "source": [
        "def get_information_for_question_answering(user_query: str) -> List[str]:\n",
        "    \"\"\"\n",
        "    Retrieve information using vector search to answer a user query.\n",
        "\n",
        "    Args:\n",
        "    user_query (str): The user's query string.\n",
        "\n",
        "    Returns:\n",
        "    str: The retrieved information formatted as a string.\n",
        "    \"\"\"\n",
        "    # Embed the user query using our serverless endpoint\n",
        "    response = requests.post(\n",
        "        url=SERVERLESS_URL,\n",
        "        json={\n",
        "            \"task\": \"get_embedding\",\n",
        "            \"data\": {\"input\": user_query, \"input_type\": \"query\"},\n",
        "        },\n",
        "    )\n",
        "    # Extract the embedding from the response\n",
        "    query_embedding = response.json()[\"embedding\"]\n",
        "\n",
        "    # Define an aggregation pipeline consisting of a $vectorSearch stage followed by a $project stage\n",
        "    # Set the number of candidates to 150 and only return the top 2 documents from the vector search\n",
        "    # In the $project stage, exclude the `_id` field, include these fields: `key`, `width`, `height`, and the `vectorSearchScore`\n",
        "    # NOTE: Use variables defined previously for the `index`, `queryVector` and `path` fields in the $vectorSearch stage\n",
        "    pipeline = <CODE_BLOCK_5>\n",
        "\n",
        "    # Execute the aggregation `pipeline` against the `collection` collection and store the results in `results`\n",
        "    results = <CODE_BLOCK_6>\n",
        "    # Get images from local storage\n",
        "    keys = [result[\"key\"] for result in results]\n",
        "    print(f\"Keys: {keys}\")\n",
        "    return keys"
      ]
    },
    {
      "cell_type": "markdown",
      "metadata": {},
      "source": [
        "üìö https://ai.google.dev/gemini-api/docs/function-calling?example=meeting#step_1_define_function_declaration"
      ]
    },
    {
      "cell_type": "code",
      "execution_count": null,
      "metadata": {},
      "outputs": [],
      "source": [
        "# Define the function declaration for the `get_information_for_question_answering` function\n",
        "get_information_for_question_answering_declaration = {\n",
        "    \"name\": <CODE_BLOCK_7>,\n",
        "    \"description\": \"Retrieve information using vector search to answer a user query.\",\n",
        "    \"parameters\": {\n",
        "        \"type\": \"object\",\n",
        "        \"properties\": {\n",
        "            \"user_query\": {\n",
        "                \"type\": <CODE_BLOCK_8>,\n",
        "                \"description\": \"Query string to use for vector search\",\n",
        "            }\n",
        "        },\n",
        "        \"required\": <CODE_BLOCK_9>,\n",
        "    },\n",
        "}"
      ]
    },
    {
      "cell_type": "markdown",
      "metadata": {},
      "source": [
        "# Step 8: Instantiate the Gemini client"
      ]
    },
    {
      "cell_type": "code",
      "execution_count": null,
      "metadata": {},
      "outputs": [],
      "source": [
        "from google import genai\n",
        "from google.genai import types"
      ]
    },
    {
      "cell_type": "code",
      "execution_count": null,
      "metadata": {},
      "outputs": [],
      "source": [
        "LLM = \"gemini-2.0-flash\""
      ]
    },
    {
      "cell_type": "code",
      "execution_count": null,
      "metadata": {},
      "outputs": [],
      "source": [
        "api_key = requests.post(\n",
        "    url=SERVERLESS_URL, json={\"task\": \"get_api_key\", \"data\": LLM_PROVIDER}\n",
        ").json()[\"api_key\"]\n",
        "gemini_client = genai.Client(api_key=api_key)"
      ]
    },
    {
      "cell_type": "markdown",
      "metadata": {},
      "source": [
        "# Step 9: Create generation config"
      ]
    },
    {
      "cell_type": "code",
      "execution_count": null,
      "metadata": {},
      "outputs": [],
      "source": [
        "# Create a generation config with the `get_information_for_question_answering_declaration` function declaration and `temperature` set to 0.0\n",
        "tools = types.Tool(\n",
        "    function_declarations=[get_information_for_question_answering_declaration]\n",
        ")\n",
        "tools_config = types.GenerateContentConfig(tools=[tools], temperature=0.0)"
      ]
    },
    {
      "cell_type": "markdown",
      "metadata": {},
      "source": [
        "# Step 10: Define a function for tool selection"
      ]
    },
    {
      "cell_type": "code",
      "execution_count": null,
      "metadata": {},
      "outputs": [],
      "source": [
        "from google.genai.types import FunctionCall"
      ]
    },
    {
      "cell_type": "markdown",
      "metadata": {},
      "source": [
        "üìö https://ai.google.dev/gemini-api/docs/function-calling?example=meeting#step_4_create_user_friendly_response_with_function_result_and_call_the_model_again"
      ]
    },
    {
      "cell_type": "code",
      "execution_count": null,
      "metadata": {},
      "outputs": [],
      "source": [
        "def select_tool(messages: List) -> FunctionCall | None:\n",
        "    \"\"\"\n",
        "    Use an LLM to decide which tool to call\n",
        "\n",
        "    Args:\n",
        "        messages (List): Messages as a list\n",
        "\n",
        "    Returns:\n",
        "        functionCall: Function call object consisting of the tool name and arguments\n",
        "    \"\"\"\n",
        "    system_prompt = [\n",
        "        (\n",
        "            \"You're an AI assistant. Based on the given information, decide which tool to use.\"\n",
        "            \"If the user is asking to explain an image, don't call any tools unless that would help you better explain the image.\"\n",
        "            \"Here is the provided information:\\n\"\n",
        "        )\n",
        "    ]\n",
        "    # Input to the LLM\n",
        "    contents = system_prompt + messages\n",
        "    # Use the `gemini_client`, `LLM`, `contents` and `tools_config` defined previously to generate a response using Gemini\n",
        "    response = <CODE_BLOCK_10>\n",
        "    # Extract and return the function call from the response\n",
        "    return response.candidates[0].content.parts[0].function_call"
      ]
    },
    {
      "cell_type": "markdown",
      "metadata": {},
      "source": [
        "# Step 10: Define a function to execute tools and generate responses"
      ]
    },
    {
      "cell_type": "code",
      "execution_count": null,
      "metadata": {},
      "outputs": [],
      "source": [
        "from PIL import Image"
      ]
    },
    {
      "cell_type": "markdown",
      "metadata": {},
      "source": [
        "üìö https://ai.google.dev/gemini-api/docs/function-calling?example=meeting#step_3_execute_set_light_values_function_code"
      ]
    },
    {
      "cell_type": "code",
      "execution_count": null,
      "metadata": {},
      "outputs": [],
      "source": [
        "def generate_answer(user_query: str, images: List = []) -> str:\n",
        "    \"\"\"\n",
        "    Execute any tools and generate a response\n",
        "\n",
        "    Args:\n",
        "        user_query (str): User's query string\n",
        "        images (List): List of filepaths. Defaults to [].\n",
        "\n",
        "    Returns:\n",
        "        str: LLM-generated response\n",
        "    \"\"\"\n",
        "    # Use the `select_tool` function above to get the tool config\n",
        "    # NOTE: Input to `select_tool` should be a list\n",
        "    tool_call = <CODE_BLOCK_11>\n",
        "    # If a tool call is found and the name is `get_information_for_question_answering`\n",
        "    if (\n",
        "        tool_call is not None\n",
        "        and tool_call.name == \"get_information_for_question_answering\"\n",
        "    ):\n",
        "        print(f\"Agent: Calling tool: {tool_call.name}\")\n",
        "        # Call the tool with the arguments extracted by the LLM\n",
        "        tool_images = <CODE_BLOCK_12>\n",
        "        # Add images return by the tool to the list of input images if any\n",
        "        images.extend(tool_images)\n",
        "\n",
        "\n",
        "    system_prompt = f\"Answer the questions based on the provided context only. If the context is not sufficient, say I DON'T KNOW. DO NOT use any other information to answer the question.\"\n",
        "    # Pass the system prompt, user query, and content retrieved using vector search (`images`) as input to the LLM\n",
        "    contents = [system_prompt] + [user_query] + [Image.open(image) for image in images]\n",
        "\n",
        "    # Get the response from the LLM\n",
        "    response = gemini_client.models.generate_content(\n",
        "        model=LLM,\n",
        "        contents=contents,\n",
        "        config=types.GenerateContentConfig(temperature=0.0),\n",
        "    )\n",
        "    answer = response.text\n",
        "    return answer"
      ]
    },
    {
      "cell_type": "markdown",
      "metadata": {},
      "source": [
        "# Step 11: Define a function to execute the agent"
      ]
    },
    {
      "cell_type": "code",
      "execution_count": null,
      "metadata": {},
      "outputs": [],
      "source": [
        "def execute_agent(user_query: str, images: List = []) -> None:\n",
        "    \"\"\"\n",
        "    Execute the agent.\n",
        "\n",
        "    Args:\n",
        "        user_query (str): User query\n",
        "        images (List, optional): List of filepaths. Defaults to [].\n",
        "    \"\"\"\n",
        "    response = generate_answer(user_query, images)\n",
        "    print(\"Agent:\", response)"
      ]
    },
    {
      "cell_type": "code",
      "execution_count": null,
      "metadata": {},
      "outputs": [],
      "source": [
        "# Test the agent with a text input\n",
        "execute_agent(\"What is the Pass@1 accuracy of Deepseek R1 on the MATH500 benchmark?\")"
      ]
    },
    {
      "cell_type": "code",
      "execution_count": null,
      "metadata": {},
      "outputs": [],
      "source": [
        "# Test the agent with an image input\n",
        "execute_agent(\"Explain the graph in this image:\", [\"data/test.png\"])"
      ]
    },
    {
      "cell_type": "markdown",
      "metadata": {},
      "source": [
        "# Step 12: Add memory to the agent"
      ]
    },
    {
      "cell_type": "code",
      "execution_count": null,
      "metadata": {},
      "outputs": [],
      "source": [
        "from datetime import datetime"
      ]
    },
    {
      "cell_type": "code",
      "execution_count": null,
      "metadata": {},
      "outputs": [],
      "source": [
        "# Instantiate the history collection\n",
        "history_collection = mongodb_client[DB_NAME][\"history\"]"
      ]
    },
    {
      "cell_type": "markdown",
      "metadata": {},
      "source": [
        "üìö https://pymongo.readthedocs.io/en/stable/api/pymongo/collection.html#pymongo.collection.Collection.create_index"
      ]
    },
    {
      "cell_type": "code",
      "execution_count": null,
      "metadata": {},
      "outputs": [],
      "source": [
        "# Create an index on `session_id` on the `history_collection` collection\n",
        "<CODE_BLOCK_13>"
      ]
    },
    {
      "cell_type": "markdown",
      "metadata": {},
      "source": [
        "üìö https://pymongo.readthedocs.io/en/stable/api/pymongo/collection.html#pymongo.collection.Collection.insert_one"
      ]
    },
    {
      "cell_type": "code",
      "execution_count": null,
      "metadata": {},
      "outputs": [],
      "source": [
        "def store_chat_message(session_id: str, role: str, type: str, content: str) -> None:\n",
        "    \"\"\"\n",
        "    Create chat history document and store it in MongoDB\n",
        "\n",
        "    Args:\n",
        "        session_id (str): Session ID\n",
        "        role (str): Message role, one of `human` or `agent`.\n",
        "        type (str): Type of message, one of `text` or `image`.\n",
        "        content (str): Content of the message. For images, this is the image key.\n",
        "    \"\"\"\n",
        "    # Create a message object with `session_id`, `role`, `type`, `content` and `timestamp` fields\n",
        "    # `timestamp` should be set the current timestamp\n",
        "    message = {\n",
        "        \"session_id\": session_id,\n",
        "        \"role\": role,\n",
        "        \"type\": type,\n",
        "        \"content\": content,\n",
        "        \"timestamp\": datetime.now(),\n",
        "    }\n",
        "    # Insert the `message` into the `history_collection` collection\n",
        "    <CODE_BLOCK_14>"
      ]
    },
    {
      "cell_type": "markdown",
      "metadata": {},
      "source": [
        "üìö https://pymongo.readthedocs.io/en/stable/api/pymongo/cursor.html#pymongo.cursor.Cursor.sort"
      ]
    },
    {
      "cell_type": "code",
      "execution_count": null,
      "metadata": {},
      "outputs": [],
      "source": [
        "def retrieve_session_history(session_id: str) -> List:\n",
        "    \"\"\"\n",
        "    Retrieve chat history for a particular session.\n",
        "\n",
        "    Args:\n",
        "        session_id (str): Session ID\n",
        "\n",
        "    Returns:\n",
        "        List: List of messages. Can be a combination of text and images.\n",
        "    \"\"\"\n",
        "    # Query the `history_collection` collection for documents where the \"session_id\" field has the value of the input `session_id`\n",
        "    # Sort the results in increasing order of the values in `timestamp` field\n",
        "    cursor = <CODE_BLOCK_15>\n",
        "    messages = []\n",
        "    if cursor:\n",
        "        for msg in cursor:\n",
        "            # Is the message type is `text`, append the content as is\n",
        "            if msg[\"type\"] == \"text\":\n",
        "                messages.append(msg[\"content\"])\n",
        "            # If message type is `image`, open the image\n",
        "            elif msg[\"type\"] == \"image\":\n",
        "                messages.append(Image.open(msg[\"content\"]))\n",
        "    return messages"
      ]
    },
    {
      "cell_type": "code",
      "execution_count": null,
      "metadata": {},
      "outputs": [],
      "source": [
        "def generate_answer(session_id: str, user_query: str, images: List = []) -> str:\n",
        "    \"\"\"\n",
        "    Execute any tools and generate a response\n",
        "\n",
        "    Args:\n",
        "        session_id (str): Session ID\n",
        "        user_query (str): User's query string\n",
        "        images (List): List of filepaths. Defaults to [].\n",
        "\n",
        "    Returns:\n",
        "        str: LLM-generated response\n",
        "    \"\"\"\n",
        "    # Retrieve past conversation history for the specified `session_id` using the `retrieve_session_history` method\n",
        "    history = <CODE_BLOCK_16>\n",
        "    # Determine if any additional tools need to be called\n",
        "    tool_call = select_tool(history + [user_query])\n",
        "    if (\n",
        "        tool_call is not None\n",
        "        and tool_call.name == \"get_information_for_question_answering\"\n",
        "    ):\n",
        "        print(f\"Agent: Calling tool: {tool_call.name}\")\n",
        "        # Call the tool with the arguments extracted by the LLM\n",
        "        tool_images = get_information_for_question_answering(**tool_call.args)\n",
        "        # Add images return by the tool to the list of input images if any\n",
        "        images.extend(tool_images)\n",
        "\n",
        "    # Pass the system prompt, conversation history, user query and retrieved context (`images`) to the LLM to generate an answer\n",
        "    system_prompt = f\"Answer the questions based on the provided context only. If the context is not sufficient, say I DON'T KNOW. DO NOT use any other information to answer the question.\"\n",
        "    contents = (\n",
        "        [system_prompt]\n",
        "        + history\n",
        "        + [user_query]\n",
        "        + [Image.open(image) for image in images]\n",
        "    )\n",
        "    # Get a response from the LLM\n",
        "    response = gemini_client.models.generate_content(\n",
        "        model=LLM,\n",
        "        contents=contents,\n",
        "        config=types.GenerateContentConfig(temperature=0.0),\n",
        "    )\n",
        "    answer = response.text\n",
        "    # Write the current user query to memory using the `store_chat_message` function\n",
        "    # The `role` for user queries is \"user\" and `type` is \"text\"\n",
        "    <CODE_BLOCK_17>\n",
        "    # Write the filepaths of input/retrieved images to memory using the store_chat_message` function\n",
        "    # The `role` for these is \"user\" and `type` is \"image\"\n",
        "    for image in images:\n",
        "        <CODE_BLOCK_18>\n",
        "    # Write the LLM generated response to memory\n",
        "    # The `role` for these is \"agent\" and `type` is \"text\"\n",
        "    <CODE_BLOCK_19>\n",
        "    return answer"
      ]
    },
    {
      "cell_type": "code",
      "execution_count": null,
      "metadata": {},
      "outputs": [],
      "source": [
        "def execute_agent(session_id: str, user_query: str, images: List = []) -> None:\n",
        "    \"\"\"\n",
        "    Execute the agent.\n",
        "\n",
        "    Args:\n",
        "        session_id (str): Session ID\n",
        "        user_query (str): User query\n",
        "        images (List, optional): List of filepaths. Defaults to [].\n",
        "    \"\"\"\n",
        "    response = generate_answer(session_id, user_query, images)\n",
        "    print(\"Agent:\", response)"
      ]
    },
    {
      "cell_type": "code",
      "execution_count": null,
      "metadata": {},
      "outputs": [],
      "source": [
        "execute_agent(\n",
        "    \"1\",\n",
        "    \"What is the Pass@1 accuracy of Deepseek R1 on the MATH500 benchmark?\",\n",
        ")"
      ]
    },
    {
      "cell_type": "code",
      "execution_count": null,
      "metadata": {},
      "outputs": [],
      "source": [
        "# Follow-up question to make sure chat history is being used.\n",
        "execute_agent(\n",
        "    \"1\",\n",
        "    \"What did I just ask you?\",\n",
        ")"
      ]
    },
    {
      "cell_type": "markdown",
      "metadata": {},
      "source": [
        "# ü¶∏‚Äç‚ôÄÔ∏è Update to ReAct agent"
      ]
    },
    {
      "cell_type": "code",
      "execution_count": null,
      "metadata": {},
      "outputs": [],
      "source": [
        "def generate_answer(user_query: str, images: List = []) -> str:\n",
        "    \"\"\"\n",
        "    Implement a ReAct agent\n",
        "\n",
        "    Args:\n",
        "        user_query (str): User's query string\n",
        "        images (List): List of filepaths. Defaults to [].\n",
        "\n",
        "    Returns:\n",
        "        str: LLM-generated response\n",
        "    \"\"\"\n",
        "    # Define reasoning prompt\n",
        "    system_prompt = [\n",
        "        (\n",
        "            \"You are an AI assistant. Based on the current information, decide if you have enough to answer the user query, or if you need more information.\"\n",
        "            \"If you have enough information, respond with 'ANSWER: <your answer>'.\"\n",
        "            \"If you need more information, respond with 'TOOL: <question for the tool>'. Keep the question concise.\"\n",
        "            f\"User query: {user_query}\\n\"\n",
        "            \"Current information:\\n\"\n",
        "        )\n",
        "    ]\n",
        "    # Set max iterations\n",
        "    max_iterations = 3\n",
        "    current_iteration = 0\n",
        "    # Initialize list to accumulate tool outcomes etc.\n",
        "    current_information = []\n",
        "\n",
        "    # If the user input has images, add them to `current_information`\n",
        "    if len(images) != 0:\n",
        "        current_information.extend([Image.open(image) for image in images])\n",
        "\n",
        "    # Run the reasoning -> action taking loop for `max_iterations` number of iterations\n",
        "    while current_iteration < max_iterations:\n",
        "        current_iteration += 1\n",
        "        print(f\"Iteration {current_iteration}:\")\n",
        "        # Generate action -> final answer/tool call\n",
        "        response = gemini_client.models.generate_content(\n",
        "            model=LLM,\n",
        "            contents=system_prompt + current_information,\n",
        "            config=types.GenerateContentConfig(temperature=0.0),\n",
        "        )\n",
        "        answer = response.text\n",
        "        print(f\"Agent: {answer}\")\n",
        "        # If the agent has the final answer, return it\n",
        "        if \"ANSWER\" in answer:\n",
        "            return answer\n",
        "        # If the agent decides to call a tool\n",
        "        else:\n",
        "            # determine which tool to call\n",
        "            tool_call = select_tool([answer])\n",
        "            if (\n",
        "                tool_call is not None\n",
        "                and tool_call.name == \"get_information_for_question_answering\"\n",
        "            ):\n",
        "                print(f\"Agent: Calling tool: {tool_call.name}\")\n",
        "                # Call the tool with the arguments extracted by the LLM\n",
        "                tool_images = get_information_for_question_answering(**tool_call.args)\n",
        "                # Add images return by the tool to the list of input images if any\n",
        "                current_information.extend([Image.open(image) for image in tool_images])\n",
        "                continue"
      ]
    },
    {
      "cell_type": "code",
      "execution_count": null,
      "metadata": {},
      "outputs": [],
      "source": [
        "def execute_agent(user_query: str, images: List = []) -> None:\n",
        "    \"\"\"\n",
        "    Execute the agent.\n",
        "\n",
        "    Args:\n",
        "        user_query (str): User query\n",
        "        images (List, optional): List of filepaths. Defaults to [].\n",
        "    \"\"\"\n",
        "    response = generate_answer(user_query, images)\n",
        "    print(\"Agent:\", response)"
      ]
    },
    {
      "cell_type": "code",
      "execution_count": null,
      "metadata": {},
      "outputs": [],
      "source": [
        "execute_agent(\"What is the Pass@1 accuracy of Deepseek R1 on the MATH500 benchmark?\")"
      ]
    },
    {
      "cell_type": "code",
      "execution_count": null,
      "metadata": {},
      "outputs": [],
      "source": [
        "execute_agent(\"Explain the graph in this image:\", [\"data/test.png\"])"
      ]
    }
  ],
  "metadata": {
    "colab": {
      "collapsed_sections": [
        "RM8rg08YhqZe",
        "UUf3jtFzO4-V",
        "Sm5QZdshwJLN"
      ],
      "provenance": []
    },
    "kernelspec": {
      "display_name": "Python 3",
      "language": "python",
      "name": "python3"
    },
    "language_info": {
      "codemirror_mode": {
        "name": "ipython",
        "version": 3
      },
      "file_extension": ".py",
      "mimetype": "text/x-python",
      "name": "python",
      "nbconvert_exporter": "python",
      "pygments_lexer": "ipython3",
      "version": "3.12.1"
    },
    "widgets": {
      "application/vnd.jupyter.widget-state+json": {
        "09dcf4ce88064f11980bbefaad1ebc75": {
          "model_module": "@jupyter-widgets/controls",
          "model_module_version": "1.5.0",
          "model_name": "HTMLModel",
          "state": {
            "_dom_classes": [],
            "_model_module": "@jupyter-widgets/controls",
            "_model_module_version": "1.5.0",
            "_model_name": "HTMLModel",
            "_view_count": null,
            "_view_module": "@jupyter-widgets/controls",
            "_view_module_version": "1.5.0",
            "_view_name": "HTMLView",
            "description": "",
            "description_tooltip": null,
            "layout": "IPY_MODEL_39563df9477648398456675ec51075aa",
            "placeholder": "‚Äã",
            "style": "IPY_MODEL_f4353368efbd4c3891f805ddc3d05e1b",
            "value": "Downloading‚Äádata:‚Äá100%"
          }
        },
        "164d16df28d24ab796b7c9cf85174800": {
          "model_module": "@jupyter-widgets/controls",
          "model_module_version": "1.5.0",
          "model_name": "HTMLModel",
          "state": {
            "_dom_classes": [],
            "_model_module": "@jupyter-widgets/controls",
            "_model_module_version": "1.5.0",
            "_model_name": "HTMLModel",
            "_view_count": null,
            "_view_module": "@jupyter-widgets/controls",
            "_view_module_version": "1.5.0",
            "_view_name": "HTMLView",
            "description": "",
            "description_tooltip": null,
            "layout": "IPY_MODEL_95e4af5b420242b7a6b74a18cad98961",
            "placeholder": "‚Äã",
            "style": "IPY_MODEL_dff65b579f0746ffae8739ecb0aa5a41",
            "value": "Generating‚Äátrain‚Äásplit:‚Äá"
          }
        },
        "20d693a09c534414a5c4c0dd58cf94ed": {
          "model_module": "@jupyter-widgets/controls",
          "model_module_version": "1.5.0",
          "model_name": "ProgressStyleModel",
          "state": {
            "_model_module": "@jupyter-widgets/controls",
            "_model_module_version": "1.5.0",
            "_model_name": "ProgressStyleModel",
            "_view_count": null,
            "_view_module": "@jupyter-widgets/base",
            "_view_module_version": "1.2.0",
            "_view_name": "StyleView",
            "bar_color": null,
            "description_width": ""
          }
        },
        "278513c5a8b04a24b1823d38107f1e50": {
          "model_module": "@jupyter-widgets/controls",
          "model_module_version": "1.5.0",
          "model_name": "HTMLModel",
          "state": {
            "_dom_classes": [],
            "_model_module": "@jupyter-widgets/controls",
            "_model_module_version": "1.5.0",
            "_model_name": "HTMLModel",
            "_view_count": null,
            "_view_module": "@jupyter-widgets/controls",
            "_view_module_version": "1.5.0",
            "_view_name": "HTMLView",
            "description": "",
            "description_tooltip": null,
            "layout": "IPY_MODEL_62e196b6d30746578e137c50b661f946",
            "placeholder": "‚Äã",
            "style": "IPY_MODEL_ced7f9d61e06442a960dcda95852048e",
            "value": "‚Äá102M/102M‚Äá[00:06&lt;00:00,‚Äá20.6MB/s]"
          }
        },
        "30fe0bcd02cb47f3ba23bb480e2eaaea": {
          "model_module": "@jupyter-widgets/base",
          "model_module_version": "1.2.0",
          "model_name": "LayoutModel",
          "state": {
            "_model_module": "@jupyter-widgets/base",
            "_model_module_version": "1.2.0",
            "_model_name": "LayoutModel",
            "_view_count": null,
            "_view_module": "@jupyter-widgets/base",
            "_view_module_version": "1.2.0",
            "_view_name": "LayoutView",
            "align_content": null,
            "align_items": null,
            "align_self": null,
            "border": null,
            "bottom": null,
            "display": null,
            "flex": null,
            "flex_flow": null,
            "grid_area": null,
            "grid_auto_columns": null,
            "grid_auto_flow": null,
            "grid_auto_rows": null,
            "grid_column": null,
            "grid_gap": null,
            "grid_row": null,
            "grid_template_areas": null,
            "grid_template_columns": null,
            "grid_template_rows": null,
            "height": null,
            "justify_content": null,
            "justify_items": null,
            "left": null,
            "margin": null,
            "max_height": null,
            "max_width": null,
            "min_height": null,
            "min_width": null,
            "object_fit": null,
            "object_position": null,
            "order": null,
            "overflow": null,
            "overflow_x": null,
            "overflow_y": null,
            "padding": null,
            "right": null,
            "top": null,
            "visibility": null,
            "width": null
          }
        },
        "373ed3b6307741859ab297c270cf42c8": {
          "model_module": "@jupyter-widgets/controls",
          "model_module_version": "1.5.0",
          "model_name": "DescriptionStyleModel",
          "state": {
            "_model_module": "@jupyter-widgets/controls",
            "_model_module_version": "1.5.0",
            "_model_name": "DescriptionStyleModel",
            "_view_count": null,
            "_view_module": "@jupyter-widgets/base",
            "_view_module_version": "1.2.0",
            "_view_name": "StyleView",
            "description_width": ""
          }
        },
        "39563df9477648398456675ec51075aa": {
          "model_module": "@jupyter-widgets/base",
          "model_module_version": "1.2.0",
          "model_name": "LayoutModel",
          "state": {
            "_model_module": "@jupyter-widgets/base",
            "_model_module_version": "1.2.0",
            "_model_name": "LayoutModel",
            "_view_count": null,
            "_view_module": "@jupyter-widgets/base",
            "_view_module_version": "1.2.0",
            "_view_name": "LayoutView",
            "align_content": null,
            "align_items": null,
            "align_self": null,
            "border": null,
            "bottom": null,
            "display": null,
            "flex": null,
            "flex_flow": null,
            "grid_area": null,
            "grid_auto_columns": null,
            "grid_auto_flow": null,
            "grid_auto_rows": null,
            "grid_column": null,
            "grid_gap": null,
            "grid_row": null,
            "grid_template_areas": null,
            "grid_template_columns": null,
            "grid_template_rows": null,
            "height": null,
            "justify_content": null,
            "justify_items": null,
            "left": null,
            "margin": null,
            "max_height": null,
            "max_width": null,
            "min_height": null,
            "min_width": null,
            "object_fit": null,
            "object_position": null,
            "order": null,
            "overflow": null,
            "overflow_x": null,
            "overflow_y": null,
            "padding": null,
            "right": null,
            "top": null,
            "visibility": null,
            "width": null
          }
        },
        "41056c822b9d44559147d2b21416b956": {
          "model_module": "@jupyter-widgets/controls",
          "model_module_version": "1.5.0",
          "model_name": "HTMLModel",
          "state": {
            "_dom_classes": [],
            "_model_module": "@jupyter-widgets/controls",
            "_model_module_version": "1.5.0",
            "_model_name": "HTMLModel",
            "_view_count": null,
            "_view_module": "@jupyter-widgets/controls",
            "_view_module_version": "1.5.0",
            "_view_name": "HTMLView",
            "description": "",
            "description_tooltip": null,
            "layout": "IPY_MODEL_a43c349d171e469c8cc94d48060f775b",
            "placeholder": "‚Äã",
            "style": "IPY_MODEL_373ed3b6307741859ab297c270cf42c8",
            "value": "‚Äá50000/0‚Äá[00:04&lt;00:00,‚Äá12390.43‚Äáexamples/s]"
          }
        },
        "62e196b6d30746578e137c50b661f946": {
          "model_module": "@jupyter-widgets/base",
          "model_module_version": "1.2.0",
          "model_name": "LayoutModel",
          "state": {
            "_model_module": "@jupyter-widgets/base",
            "_model_module_version": "1.2.0",
            "_model_name": "LayoutModel",
            "_view_count": null,
            "_view_module": "@jupyter-widgets/base",
            "_view_module_version": "1.2.0",
            "_view_name": "LayoutView",
            "align_content": null,
            "align_items": null,
            "align_self": null,
            "border": null,
            "bottom": null,
            "display": null,
            "flex": null,
            "flex_flow": null,
            "grid_area": null,
            "grid_auto_columns": null,
            "grid_auto_flow": null,
            "grid_auto_rows": null,
            "grid_column": null,
            "grid_gap": null,
            "grid_row": null,
            "grid_template_areas": null,
            "grid_template_columns": null,
            "grid_template_rows": null,
            "height": null,
            "justify_content": null,
            "justify_items": null,
            "left": null,
            "margin": null,
            "max_height": null,
            "max_width": null,
            "min_height": null,
            "min_width": null,
            "object_fit": null,
            "object_position": null,
            "order": null,
            "overflow": null,
            "overflow_x": null,
            "overflow_y": null,
            "padding": null,
            "right": null,
            "top": null,
            "visibility": null,
            "width": null
          }
        },
        "7dbfebff68ff45628da832fac5233c93": {
          "model_module": "@jupyter-widgets/controls",
          "model_module_version": "1.5.0",
          "model_name": "HBoxModel",
          "state": {
            "_dom_classes": [],
            "_model_module": "@jupyter-widgets/controls",
            "_model_module_version": "1.5.0",
            "_model_name": "HBoxModel",
            "_view_count": null,
            "_view_module": "@jupyter-widgets/controls",
            "_view_module_version": "1.5.0",
            "_view_name": "HBoxView",
            "box_style": "",
            "children": [
              "IPY_MODEL_164d16df28d24ab796b7c9cf85174800",
              "IPY_MODEL_e70e0d317f1e4e73bd95349ed1510cce",
              "IPY_MODEL_41056c822b9d44559147d2b21416b956"
            ],
            "layout": "IPY_MODEL_b1929fb112174c0abcd8004f6be0f880"
          }
        },
        "95e4af5b420242b7a6b74a18cad98961": {
          "model_module": "@jupyter-widgets/base",
          "model_module_version": "1.2.0",
          "model_name": "LayoutModel",
          "state": {
            "_model_module": "@jupyter-widgets/base",
            "_model_module_version": "1.2.0",
            "_model_name": "LayoutModel",
            "_view_count": null,
            "_view_module": "@jupyter-widgets/base",
            "_view_module_version": "1.2.0",
            "_view_name": "LayoutView",
            "align_content": null,
            "align_items": null,
            "align_self": null,
            "border": null,
            "bottom": null,
            "display": null,
            "flex": null,
            "flex_flow": null,
            "grid_area": null,
            "grid_auto_columns": null,
            "grid_auto_flow": null,
            "grid_auto_rows": null,
            "grid_column": null,
            "grid_gap": null,
            "grid_row": null,
            "grid_template_areas": null,
            "grid_template_columns": null,
            "grid_template_rows": null,
            "height": null,
            "justify_content": null,
            "justify_items": null,
            "left": null,
            "margin": null,
            "max_height": null,
            "max_width": null,
            "min_height": null,
            "min_width": null,
            "object_fit": null,
            "object_position": null,
            "order": null,
            "overflow": null,
            "overflow_x": null,
            "overflow_y": null,
            "padding": null,
            "right": null,
            "top": null,
            "visibility": null,
            "width": null
          }
        },
        "a43c349d171e469c8cc94d48060f775b": {
          "model_module": "@jupyter-widgets/base",
          "model_module_version": "1.2.0",
          "model_name": "LayoutModel",
          "state": {
            "_model_module": "@jupyter-widgets/base",
            "_model_module_version": "1.2.0",
            "_model_name": "LayoutModel",
            "_view_count": null,
            "_view_module": "@jupyter-widgets/base",
            "_view_module_version": "1.2.0",
            "_view_name": "LayoutView",
            "align_content": null,
            "align_items": null,
            "align_self": null,
            "border": null,
            "bottom": null,
            "display": null,
            "flex": null,
            "flex_flow": null,
            "grid_area": null,
            "grid_auto_columns": null,
            "grid_auto_flow": null,
            "grid_auto_rows": null,
            "grid_column": null,
            "grid_gap": null,
            "grid_row": null,
            "grid_template_areas": null,
            "grid_template_columns": null,
            "grid_template_rows": null,
            "height": null,
            "justify_content": null,
            "justify_items": null,
            "left": null,
            "margin": null,
            "max_height": null,
            "max_width": null,
            "min_height": null,
            "min_width": null,
            "object_fit": null,
            "object_position": null,
            "order": null,
            "overflow": null,
            "overflow_x": null,
            "overflow_y": null,
            "padding": null,
            "right": null,
            "top": null,
            "visibility": null,
            "width": null
          }
        },
        "b1929fb112174c0abcd8004f6be0f880": {
          "model_module": "@jupyter-widgets/base",
          "model_module_version": "1.2.0",
          "model_name": "LayoutModel",
          "state": {
            "_model_module": "@jupyter-widgets/base",
            "_model_module_version": "1.2.0",
            "_model_name": "LayoutModel",
            "_view_count": null,
            "_view_module": "@jupyter-widgets/base",
            "_view_module_version": "1.2.0",
            "_view_name": "LayoutView",
            "align_content": null,
            "align_items": null,
            "align_self": null,
            "border": null,
            "bottom": null,
            "display": null,
            "flex": null,
            "flex_flow": null,
            "grid_area": null,
            "grid_auto_columns": null,
            "grid_auto_flow": null,
            "grid_auto_rows": null,
            "grid_column": null,
            "grid_gap": null,
            "grid_row": null,
            "grid_template_areas": null,
            "grid_template_columns": null,
            "grid_template_rows": null,
            "height": null,
            "justify_content": null,
            "justify_items": null,
            "left": null,
            "margin": null,
            "max_height": null,
            "max_width": null,
            "min_height": null,
            "min_width": null,
            "object_fit": null,
            "object_position": null,
            "order": null,
            "overflow": null,
            "overflow_x": null,
            "overflow_y": null,
            "padding": null,
            "right": null,
            "top": null,
            "visibility": null,
            "width": null
          }
        },
        "cebfba144ba6418092df949783f93455": {
          "model_module": "@jupyter-widgets/controls",
          "model_module_version": "1.5.0",
          "model_name": "HBoxModel",
          "state": {
            "_dom_classes": [],
            "_model_module": "@jupyter-widgets/controls",
            "_model_module_version": "1.5.0",
            "_model_name": "HBoxModel",
            "_view_count": null,
            "_view_module": "@jupyter-widgets/controls",
            "_view_module_version": "1.5.0",
            "_view_name": "HBoxView",
            "box_style": "",
            "children": [
              "IPY_MODEL_09dcf4ce88064f11980bbefaad1ebc75",
              "IPY_MODEL_f2bd7bda4d0c4d93b88e53aeb4e1b62d",
              "IPY_MODEL_278513c5a8b04a24b1823d38107f1e50"
            ],
            "layout": "IPY_MODEL_d3941c633788427abb858b21e285088f"
          }
        },
        "ced7f9d61e06442a960dcda95852048e": {
          "model_module": "@jupyter-widgets/controls",
          "model_module_version": "1.5.0",
          "model_name": "DescriptionStyleModel",
          "state": {
            "_model_module": "@jupyter-widgets/controls",
            "_model_module_version": "1.5.0",
            "_model_name": "DescriptionStyleModel",
            "_view_count": null,
            "_view_module": "@jupyter-widgets/base",
            "_view_module_version": "1.2.0",
            "_view_name": "StyleView",
            "description_width": ""
          }
        },
        "d17d8c8f45ee44cd87dcd787c05dbdc3": {
          "model_module": "@jupyter-widgets/controls",
          "model_module_version": "1.5.0",
          "model_name": "ProgressStyleModel",
          "state": {
            "_model_module": "@jupyter-widgets/controls",
            "_model_module_version": "1.5.0",
            "_model_name": "ProgressStyleModel",
            "_view_count": null,
            "_view_module": "@jupyter-widgets/base",
            "_view_module_version": "1.2.0",
            "_view_name": "StyleView",
            "bar_color": null,
            "description_width": ""
          }
        },
        "d3941c633788427abb858b21e285088f": {
          "model_module": "@jupyter-widgets/base",
          "model_module_version": "1.2.0",
          "model_name": "LayoutModel",
          "state": {
            "_model_module": "@jupyter-widgets/base",
            "_model_module_version": "1.2.0",
            "_model_name": "LayoutModel",
            "_view_count": null,
            "_view_module": "@jupyter-widgets/base",
            "_view_module_version": "1.2.0",
            "_view_name": "LayoutView",
            "align_content": null,
            "align_items": null,
            "align_self": null,
            "border": null,
            "bottom": null,
            "display": null,
            "flex": null,
            "flex_flow": null,
            "grid_area": null,
            "grid_auto_columns": null,
            "grid_auto_flow": null,
            "grid_auto_rows": null,
            "grid_column": null,
            "grid_gap": null,
            "grid_row": null,
            "grid_template_areas": null,
            "grid_template_columns": null,
            "grid_template_rows": null,
            "height": null,
            "justify_content": null,
            "justify_items": null,
            "left": null,
            "margin": null,
            "max_height": null,
            "max_width": null,
            "min_height": null,
            "min_width": null,
            "object_fit": null,
            "object_position": null,
            "order": null,
            "overflow": null,
            "overflow_x": null,
            "overflow_y": null,
            "padding": null,
            "right": null,
            "top": null,
            "visibility": null,
            "width": null
          }
        },
        "dff65b579f0746ffae8739ecb0aa5a41": {
          "model_module": "@jupyter-widgets/controls",
          "model_module_version": "1.5.0",
          "model_name": "DescriptionStyleModel",
          "state": {
            "_model_module": "@jupyter-widgets/controls",
            "_model_module_version": "1.5.0",
            "_model_name": "DescriptionStyleModel",
            "_view_count": null,
            "_view_module": "@jupyter-widgets/base",
            "_view_module_version": "1.2.0",
            "_view_name": "StyleView",
            "description_width": ""
          }
        },
        "e70e0d317f1e4e73bd95349ed1510cce": {
          "model_module": "@jupyter-widgets/controls",
          "model_module_version": "1.5.0",
          "model_name": "FloatProgressModel",
          "state": {
            "_dom_classes": [],
            "_model_module": "@jupyter-widgets/controls",
            "_model_module_version": "1.5.0",
            "_model_name": "FloatProgressModel",
            "_view_count": null,
            "_view_module": "@jupyter-widgets/controls",
            "_view_module_version": "1.5.0",
            "_view_name": "ProgressView",
            "bar_style": "success",
            "description": "",
            "description_tooltip": null,
            "layout": "IPY_MODEL_f73ae771c24645c79fd41409a8fc7b34",
            "max": 1,
            "min": 0,
            "orientation": "horizontal",
            "style": "IPY_MODEL_20d693a09c534414a5c4c0dd58cf94ed",
            "value": 1
          }
        },
        "f2bd7bda4d0c4d93b88e53aeb4e1b62d": {
          "model_module": "@jupyter-widgets/controls",
          "model_module_version": "1.5.0",
          "model_name": "FloatProgressModel",
          "state": {
            "_dom_classes": [],
            "_model_module": "@jupyter-widgets/controls",
            "_model_module_version": "1.5.0",
            "_model_name": "FloatProgressModel",
            "_view_count": null,
            "_view_module": "@jupyter-widgets/controls",
            "_view_module_version": "1.5.0",
            "_view_name": "ProgressView",
            "bar_style": "success",
            "description": "",
            "description_tooltip": null,
            "layout": "IPY_MODEL_30fe0bcd02cb47f3ba23bb480e2eaaea",
            "max": 102202622,
            "min": 0,
            "orientation": "horizontal",
            "style": "IPY_MODEL_d17d8c8f45ee44cd87dcd787c05dbdc3",
            "value": 102202622
          }
        },
        "f4353368efbd4c3891f805ddc3d05e1b": {
          "model_module": "@jupyter-widgets/controls",
          "model_module_version": "1.5.0",
          "model_name": "DescriptionStyleModel",
          "state": {
            "_model_module": "@jupyter-widgets/controls",
            "_model_module_version": "1.5.0",
            "_model_name": "DescriptionStyleModel",
            "_view_count": null,
            "_view_module": "@jupyter-widgets/base",
            "_view_module_version": "1.2.0",
            "_view_name": "StyleView",
            "description_width": ""
          }
        },
        "f73ae771c24645c79fd41409a8fc7b34": {
          "model_module": "@jupyter-widgets/base",
          "model_module_version": "1.2.0",
          "model_name": "LayoutModel",
          "state": {
            "_model_module": "@jupyter-widgets/base",
            "_model_module_version": "1.2.0",
            "_model_name": "LayoutModel",
            "_view_count": null,
            "_view_module": "@jupyter-widgets/base",
            "_view_module_version": "1.2.0",
            "_view_name": "LayoutView",
            "align_content": null,
            "align_items": null,
            "align_self": null,
            "border": null,
            "bottom": null,
            "display": null,
            "flex": null,
            "flex_flow": null,
            "grid_area": null,
            "grid_auto_columns": null,
            "grid_auto_flow": null,
            "grid_auto_rows": null,
            "grid_column": null,
            "grid_gap": null,
            "grid_row": null,
            "grid_template_areas": null,
            "grid_template_columns": null,
            "grid_template_rows": null,
            "height": null,
            "justify_content": null,
            "justify_items": null,
            "left": null,
            "margin": null,
            "max_height": null,
            "max_width": null,
            "min_height": null,
            "min_width": null,
            "object_fit": null,
            "object_position": null,
            "order": null,
            "overflow": null,
            "overflow_x": null,
            "overflow_y": null,
            "padding": null,
            "right": null,
            "top": null,
            "visibility": null,
            "width": "20px"
          }
        },
        "state": {}
      }
    }
  },
  "nbformat": 4,
  "nbformat_minor": 4
}

```

# static/notebooks/multimodal_agents_lab_original/data/embeddings.json

```json
[{"key": "data/images/1.png", "width": 1786, "height": 2526, "embedding": [0.005950927734375, 0.018798828125, 0.040283203125, -0.006500244140625, 0.00714111328125, -0.027099609375, -0.0439453125, -0.0031585693359375, 0.018798828125, 0.0179443359375, -0.0262451171875, 0.041259765625, 0.00537109375, 0.00396728515625, -0.0035858154296875, -0.001251220703125, -0.045166015625, -0.0177001953125, 0.021484375, -0.040283203125, 0.03271484375, -0.00148773193359375, 0.046142578125, -0.04736328125, -0.00897216796875, 0.043212890625, -0.0189208984375, -0.044189453125, 0.01104736328125, 1.1146068572998047e-05, -0.00677490234375, -0.01708984375, 0.030029296875, 0.01263427734375, 0.007232666015625, -0.029296875, -0.023193359375, 0.01324462890625, 0.0269775390625, -0.01434326171875, -0.078125, 0.0062255859375, -0.10107421875, -0.0262451171875, -0.000942230224609375, 0.032470703125, -0.055908203125, 0.0137939453125, 0.010498046875, -0.00148773193359375, -0.0098876953125, 0.0252685546875, -0.027587890625, -0.044189453125, 4.410743713378906e-05, 0.0308837890625, 0.024658203125, -0.0164794921875, 0.00897216796875, 0.01544189453125, -0.03466796875, 0.056884765625, -0.03466796875, 0.0047607421875, -0.0194091796875, 0.042236328125, 0.0296630859375, -0.0262451171875, 0.036865234375, -0.0186767578125, -0.0419921875, 0.00041961669921875, 0.058349609375, -0.064453125, 0.035400390625, -0.0037078857421875, -0.06005859375, 0.00970458984375, -0.0179443359375, -0.005615234375, -0.024658203125, 0.00909423828125, -0.001983642578125, 0.00151824951171875, -0.0185546875, -0.0289306640625, 0.062255859375, -0.062255859375, 0.01190185546875, 0.00701904296875, -0.029052734375, 0.0228271484375, 0.0086669921875, 0.050537109375, -0.00469970703125, -0.00543212890625, -0.035888671875, 0.022705078125, 0.0498046875, -0.0306396484375, -0.0157470703125, -0.0255126953125, 0.051025390625, 0.0220947265625, 0.030029296875, -0.031982421875, 0.01531982421875, -0.032958984375, -0.04638671875, 0.05419921875, -0.0286865234375, 0.02099609375, -0.010009765625, -0.045654296875, -0.0050048828125, -0.00823974609375, -0.00102996826171875, -0.01025390625, -0.023193359375, 0.012939453125, -0.055908203125, -0.0306396484375, 0.040283203125, -0.00726318359375, 0.04931640625, -0.00347900390625, -0.0257568359375, 0.01190185546875, 0.003997802734375, 0.00946044921875, 0.0400390625, 0.01214599609375, 0.01324462890625, 0.041259765625, -0.0302734375, -0.0213623046875, 0.08203125, 0.01025390625, 0.005645751953125, -0.0050048828125, 0.00048065185546875, 0.013671875, 0.040283203125, 0.038818359375, 0.018798828125, -0.03466796875, 0.00946044921875, -0.00970458984375, 0.000438690185546875, -0.00970458984375, -0.00927734375, -0.003082275390625, -0.048583984375, -0.005950927734375, -0.0108642578125, 0.0419921875, -0.029296875, 0.00396728515625, 0.01318359375, -0.051513671875, -0.0400390625, 0.07177734375, 0.0018463134765625, -0.019775390625, 0.055908203125, -0.00750732421875, -0.0296630859375, 0.035400390625, -0.08349609375, 0.01220703125, 0.01055908203125, 0.000926971435546875, -0.0181884765625, 0.0177001953125, 0.030029296875, 0.031982421875, 0.029296875, -0.01446533203125, 0.032958984375, -0.018310546875, -0.0081787109375, 0.01129150390625, 0.01080322265625, 0.0005950927734375, 0.0146484375, -0.004486083984375, -0.01202392578125, -0.01263427734375, -0.0026702880859375, 0.0191650390625, -0.022705078125, -0.004638671875, -0.0185546875, 0.042236328125, 0.02783203125, 0.0078125, -0.007049560546875, 0.01708984375, 0.06103515625, 0.02734375, -0.06494140625, 0.0189208984375, 0.0142822265625, -0.017578125, 0.0322265625, -0.01434326171875, 0.0260009765625, -0.01531982421875, 0.0341796875, -0.0220947265625, 0.0244140625, 0.01531982421875, -0.00885009765625, 0.04931640625, -0.029541015625, -0.0064697265625, 0.0076904296875, 0.00799560546875, -0.0125732421875, -0.0306396484375, -0.0225830078125, -0.0242919921875, -0.009521484375, 0.01043701171875, 0.036376953125, 0.037841796875, 0.0439453125, 0.0625, 0.04638671875, -0.09033203125, 0.042236328125, -0.0284423828125, -0.0017852783203125, 0.03466796875, -0.0203857421875, -0.059326171875, 0.022705078125, 0.0006866455078125, -0.01129150390625, 0.0228271484375, -0.01031494140625, 0.00138092041015625, 0.004608154296875, 0.002685546875, 0.0279541015625, -0.019287109375, 0.0078125, 0.03369140625, 0.0017242431640625, 0.02197265625, 0.02587890625, 0.0225830078125, -0.0023345947265625, -0.007537841796875, -0.01263427734375, -0.0111083984375, 0.01531982421875, -0.048828125, -0.00494384765625, 0.02587890625, -0.035400390625, -0.024658203125, 0.0115966796875, -0.03759765625, -0.00384521484375, 0.06396484375, -0.00897216796875, -0.06640625, -0.047607421875, 0.0279541015625, 0.0026092529296875, -0.007781982421875, 0.041259765625, 0.04736328125, 0.031982421875, -0.064453125, -0.0185546875, 0.0419921875, -0.012939453125, -0.028564453125, 0.041748046875, 0.03759765625, -0.02197265625, 0.02490234375, -0.022216796875, 0.06591796875, 0.042724609375, -0.01446533203125, 0.024658203125, -0.0194091796875, 0.061279296875, 0.057861328125, -0.0152587890625, 0.0025634765625, -0.006500244140625, -0.005828857421875, -0.0030059814453125, -0.0137939453125, -0.01397705078125, 0.00897216796875, 0.0228271484375, -0.033447265625, 0.00885009765625, -0.027587890625, -0.00830078125, 0.00946044921875, -0.0228271484375, -0.019287109375, -0.0010986328125, 0.03466796875, 0.00537109375, -0.031982421875, -0.053955078125, -0.0238037109375, -0.0419921875, -0.00970458984375, 0.012939453125, -0.025146484375, -0.004791259765625, 0.0068359375, -0.00933837890625, 0.021484375, -0.0002288818359375, 4.9591064453125e-05, 0.00689697265625, 0.0074462890625, -0.0400390625, -0.037841796875, -0.037109375, 0.0048828125, 0.03662109375, -0.02587890625, 0.003753662109375, -0.015625, -2.5272369384765625e-05, 0.005401611328125, -0.00194549560546875, 0.0091552734375, 0.0211181640625, 0.033203125, 0.002960205078125, 0.000762939453125, 0.01556396484375, 0.028564453125, 0.045166015625, 0.0135498046875, -0.0517578125, 0.009765625, -0.0007781982421875, 0.01080322265625, 0.00579833984375, 0.053466796875, -0.0206298828125, 0.03369140625, 0.03271484375, 0.022216796875, -0.0096435546875, -0.01446533203125, 0.03369140625, 0.0225830078125, -0.08447265625, 0.005645751953125, 0.05078125, 0.0126953125, -0.0281982421875, -0.051513671875, 0.014892578125, 0.0123291015625, 0.0181884765625, -0.0054931640625, 0.0439453125, 0.045654296875, -0.049560546875, -0.07177734375, 0.00762939453125, -0.0230712890625, 0.0002651214599609375, -0.0390625, 0.00677490234375, -0.0291748046875, -0.009765625, 0.005889892578125, 0.004547119140625, -0.0050048828125, 0.0115966796875, 0.004547119140625, -0.042236328125, 0.01263427734375, -0.01324462890625, -0.016357421875, -0.005889892578125, -0.035888671875, 0.00836181640625, -0.040771484375, -0.015380859375, 0.03369140625, -0.00677490234375, 0.0498046875, 0.05078125, -0.00634765625, -0.029541015625, 0.02783203125, 0.014892578125, 0.044189453125, -0.0262451171875, -0.01043701171875, -0.00927734375, 0.022705078125, 0.006561279296875, 0.045166015625, -0.00099945068359375, 0.052734375, -0.00909423828125, -0.032470703125, -0.09423828125, -0.037353515625, -0.0673828125, -0.0179443359375, 0.03955078125, 0.030029296875, 0.010986328125, -0.03173828125, -0.0147705078125, 0.01220703125, 0.030029296875, -0.0306396484375, 0.00543212890625, -0.043212890625, 0.030029296875, 0.006591796875, 0.038818359375, 0.00077056884765625, -0.0537109375, -0.005645751953125, 0.041015625, -0.044189453125, 0.03369140625, 0.01336669921875, -0.03759765625, -0.044921875, 0.0159912109375, 0.01129150390625, 0.019775390625, -0.00011730194091796875, -0.03955078125, -0.038818359375, -0.01513671875, 0.0159912109375, 0.04296875, 0.00927734375, 0.017333984375, 0.013671875, 0.0693359375, -0.01904296875, 0.0240478515625, 0.055908203125, -0.00823974609375, -0.006744384765625, 0.016357421875, -0.0252685546875, -0.0201416015625, 0.0400390625, -0.014892578125, 0.017333984375, 0.0091552734375, 0.021484375, 0.0439453125, -0.0224609375, 0.028564453125, -0.05078125, 0.02734375, 0.0115966796875, 0.03125, 0.00909423828125, -0.053955078125, 0.0235595703125, -0.01263427734375, 0.02197265625, 0.05517578125, -0.07470703125, -0.0167236328125, 0.0224609375, -0.040771484375, -0.001373291015625, 0.03271484375, 0.015625, 0.023193359375, 0.029541015625, -0.000835418701171875, 0.0019989013671875, -0.0159912109375, 0.03271484375, -0.01123046875, -0.00726318359375, -0.0517578125, 0.022705078125, -0.0093994140625, 0.0213623046875, 0.00537109375, -0.087890625, -0.0050048828125, 0.046630859375, -0.05078125, 0.01153564453125, 0.042236328125, -0.018310546875, -0.017578125, -0.00157928466796875, -0.01025390625, -0.06640625, -0.00023937225341796875, -0.0255126953125, 0.0032196044921875, -0.04931640625, 0.019287109375, -0.02783203125, 0.0081787109375, -0.0216064453125, -0.08984375, 0.0081787109375, -0.0673828125, -0.024658203125, 0.0233154296875, 0.00946044921875, -0.032470703125, 0.032958984375, -0.005126953125, 0.068359375, -0.0137939453125, -0.004425048828125, -0.02197265625, 0.03759765625, -0.0341796875, -0.0203857421875, 0.0118408203125, 0.0147705078125, 0.00799560546875, 0.04443359375, 0.002349853515625, -0.03955078125, -0.0125732421875, 0.05615234375, 0.043212890625, -0.032958984375, 0.0517578125, 0.024658203125, -0.03955078125, 0.048583984375, 0.0201416015625, -0.003387451171875, -0.004791259765625, 0.01397705078125, -0.0225830078125, 0.038818359375, -0.053955078125, 0.029296875, 0.006378173828125, 0.0439453125, -0.01239013671875, -0.0194091796875, -4.076957702636719e-05, 0.0120849609375, -0.027587890625, 0.00885009765625, 0.0286865234375, -0.0230712890625, 0.0291748046875, 0.0167236328125, 0.022216796875, -0.0257568359375, -0.033203125, -0.00970458984375, 0.00909423828125, -0.0439453125, 0.08984375, 0.016357421875, -0.007293701171875, -0.01214599609375, -0.03125, 0.036865234375, 0.0167236328125, -0.00933837890625, -0.0078125, 0.0023651123046875, -0.0201416015625, 0.044921875, -0.016845703125, -0.00970458984375, 0.047119140625, 0.004119873046875, -0.0042724609375, 0.018798828125, 0.017333984375, -0.00836181640625, -0.00164031982421875, -0.010498046875, -0.045166015625, 0.07568359375, 0.027587890625, -0.03466796875, -0.00927734375, -0.00927734375, -0.017333984375, 0.017333984375, 0.02587890625, -0.04638671875, -0.04833984375, 0.02197265625, 0.0517578125, -0.037841796875, -0.000904083251953125, 0.0146484375, 0.03515625, 0.0537109375, -0.0252685546875, 0.03076171875, 0.033935546875, -0.07763671875, -0.00592041015625, 0.0177001953125, -0.03125, -0.038330078125, 0.0031890869140625, 0.07568359375, -0.03271484375, 0.013671875, 0.00732421875, 0.0228271484375, -0.00830078125, -0.00457763671875, 0.053466796875, -0.0380859375, 0.045166015625, -0.041015625, 0.013671875, -0.012939453125, -0.0205078125, -0.0260009765625, -0.031982421875, -0.078125, 0.01336669921875, -0.022216796875, 0.038818359375, 0.0308837890625, -0.019775390625, -0.033447265625, 0.0179443359375, -0.04931640625, -0.0322265625, -0.01507568359375, -0.0137939453125, 0.06591796875, -0.01397705078125, -0.03369140625, 0.0142822265625, -0.0126953125, 0.0296630859375, -0.0225830078125, -0.061767578125, -0.0023040771484375, 0.060302734375, 0.03662109375, -0.01129150390625, -0.0791015625, -0.01336669921875, -0.035400390625, 0.00160980224609375, -0.0517578125, 0.005340576171875, -0.0137939453125, -0.007720947265625, 0.0185546875, 0.01190185546875, -0.0240478515625, 0.0260009765625, 0.0771484375, 0.053466796875, 0.044921875, -0.0179443359375, -0.0311279296875, 0.052490234375, -0.0004444122314453125, 0.018798828125, 0.004241943359375, 0.0167236328125, -0.00494384765625, -0.008544921875, 0.01220703125, -0.00191497802734375, -0.0032501220703125, 0.0120849609375, -0.01141357421875, 0.0177001953125, -0.0179443359375, 0.005767822265625, 0.0546875, -0.007232666015625, 0.019775390625, -0.01287841796875, 0.015869140625, 0.003814697265625, 0.00433349609375, -0.040283203125, 0.04296875, -0.045654296875, 0.025146484375, -0.057861328125, 0.00148773193359375, 0.037353515625, -0.0069580078125, -0.037109375, -0.00098419189453125, -0.004425048828125, -0.08447265625, -0.0120849609375, -0.00897216796875, -0.0341796875, -0.0400390625, 0.0019683837890625, -0.033447265625, -0.00927734375, 0.010498046875, -0.0238037109375, 0.007415771484375, 0.061767578125, 0.03955078125, 0.0068359375, -0.01190185546875, 0.04443359375, -0.0186767578125, -0.031494140625, -0.022705078125, -0.006439208984375, -0.022216796875, -0.0047607421875, 0.041748046875, -0.0137939453125, -0.01129150390625, -0.0556640625, 0.045654296875, -0.0003528594970703125, -0.023193359375, -0.0291748046875, -0.0181884765625, -0.0008544921875, 0.02197265625, -0.0166015625, 0.00054931640625, -0.00140380859375, 0.03955078125, -0.01513671875, 0.000270843505859375, -0.013671875, -0.00119781494140625, -0.03466796875, -0.045654296875, -0.06298828125, 0.024658203125, 0.02001953125, 0.03466796875, -0.018310546875, -0.00384521484375, -0.00274658203125, 0.0086669921875, -0.01153564453125, 0.0150146484375, -0.0185546875, 0.045654296875, -0.048583984375, -0.00182342529296875, -0.061279296875, -0.0419921875, -0.01287841796875, -0.0732421875, 0.056884765625, 0.0032958984375, -0.043212890625, -0.0238037109375, 0.05517578125, 0.033935546875, -0.016357421875, -0.004119873046875, 0.01513671875, -0.0517578125, 0.0267333984375, 0.018798828125, 0.0279541015625, 0.005523681640625, -0.038330078125, -0.0203857421875, 0.002716064453125, -0.029052734375, 0.04296875, 0.0001373291015625, 0.037109375, 0.005645751953125, 0.013916015625, -0.03515625, 0.0252685546875, 0.046142578125, 0.028564453125, 0.0115966796875, -0.09521484375, -0.028564453125, 0.03076171875, 0.006011962890625, 0.03515625, 0.0038909912109375, -0.0162353515625, -0.00848388671875, 0.0206298828125, -0.00677490234375, 0.036376953125, 0.029541015625, 0.0184326171875, -0.0025482177734375, -0.0306396484375, 0.033447265625, -0.0262451171875, 0.03125, 0.005157470703125, 0.01409912109375, 0.08642578125, 0.0322265625, -0.0498046875, -0.004425048828125, 0.036865234375, -0.017578125, -0.036376953125, 0.00604248046875, 0.000362396240234375, -0.024169921875, -0.07666015625, 0.0123291015625, 0.0257568359375, 0.02587890625, -0.004791259765625, 0.048828125, 0.01123046875, 0.0498046875, 0.00958251953125, 0.01434326171875, 0.0164794921875, -0.02783203125, -0.0113525390625, 0.0390625, 0.036376953125, -0.0184326171875, -0.0260009765625, -0.06494140625, -0.0020294189453125, -0.0181884765625, 0.0064697265625, 0.0517578125, 0.0211181640625, -0.03125, 0.03271484375, -0.01422119140625, -0.0625, 0.015869140625, 0.02587890625, -0.003082275390625, -0.0012359619140625, -0.0235595703125, -0.0052490234375, 0.03271484375, 0.0419921875, 0.02734375, -0.010986328125, 0.0291748046875, 0.00830078125, 0.068359375, -0.0263671875, 0.053466796875, 0.0034332275390625, 0.0194091796875, 0.029296875, 0.0225830078125, 0.006317138671875, 0.0301513671875, -0.0230712890625, 0.0556640625, -0.006378173828125, -0.0216064453125, 0.02734375, 0.023681640625, 0.042724609375, 0.03369140625, -0.0164794921875, -0.01348876953125, -0.033935546875, -0.076171875, -0.0027618408203125, 0.0169677734375, -0.00848388671875, -0.006622314453125, -0.0002288818359375, -0.00090789794921875, -0.0087890625, -0.06103515625, -0.002899169921875, 0.006439208984375, -0.0267333984375, -0.0498046875, -0.012939453125, -0.0439453125, -0.044189453125, 0.06103515625, 0.0107421875, 0.00537109375, -0.01068115234375, 0.035888671875, -0.0341796875, 0.06103515625, 0.004486083984375, 0.0038909912109375, -0.009765625, -0.012939453125, -0.00390625, 0.027099609375, 0.0177001953125, 0.054931640625, -0.038330078125, 0.00150299072265625, 0.0247802734375, -0.04638671875, -0.0286865234375, 0.00311279296875, -0.02197265625, 0.0380859375, 0.0036468505859375, 0.000640869140625, 0.01190185546875, 0.0135498046875, -0.019775390625, -0.036376953125, 0.03466796875, 0.0194091796875, 0.0228271484375, 0.053466796875, -0.030029296875, 0.00823974609375, 0.0260009765625, 0.0262451171875, 0.0306396484375, -0.035888671875, -0.0439453125, -0.053955078125, 0.0167236328125, -0.01190185546875, -0.036865234375, -0.0264892578125, -0.03466796875, -0.0189208984375, 0.008544921875, 0.01397705078125, -0.043212890625, -0.03173828125, -0.005950927734375, 0.01397705078125, 0.007781982421875, -0.0028076171875, -0.003631591796875, 0.00238037109375, 0.06005859375, 0.00616455078125, -0.001739501953125, 0.0220947265625, 0.07080078125, -0.0255126953125, 0.02001953125, 0.004058837890625, -0.030029296875, 0.07373046875, 0.08544921875, 0.0225830078125, 0.04736328125, -0.02197265625, 0.031494140625, 0.0269775390625, -0.0191650390625, -0.0108642578125, 0.00799560546875, 0.0228271484375, -0.022216796875, -0.014892578125, 0.02001953125, -0.00799560546875, 0.051513671875, 0.0047607421875, -0.02783203125, 0.016845703125, -0.01190185546875, 0.0302734375, 0.0096435546875, -0.033935546875, 0.0037078857421875, -0.009521484375, -0.044921875, -0.0135498046875, -0.08984375, 0.059326171875, 0.0078125, -0.023193359375, 0.0400390625, -0.005126953125, -0.023681640625, -0.01025390625, 0.06298828125, 0.01275634765625, 0.0203857421875, 0.0177001953125, 0.03466796875, 0.029296875, -0.00738525390625, -0.027587890625, 0.041015625, -0.021728515625, 0.0142822265625, 0.0262451171875, -0.01336669921875, -0.0123291015625, -0.03515625, -0.029296875]}, {"key": "data/images/2.png", "width": 1786, "height": 2526, "embedding": [0.01495361328125, 0.0027618408203125, 0.020751953125, -0.0191650390625, 0.0260009765625, -0.054443359375, -0.055908203125, -0.024658203125, 0.0240478515625, -0.01019287109375, -0.04638671875, -0.0093994140625, 0.02685546875, 0.0211181640625, -0.006439208984375, 0.007110595703125, -0.049560546875, -0.005889892578125, -0.0130615234375, -0.0208740234375, 0.0091552734375, -0.0703125, 0.00066375732421875, -0.0230712890625, -0.032958984375, 0.056884765625, -0.01361083984375, 0.00131988525390625, 0.002777099609375, -0.005126953125, -0.0208740234375, -0.008056640625, 0.057861328125, -0.037353515625, -0.05078125, -0.07275390625, -0.028564453125, 0.0108642578125, -0.0311279296875, -0.0296630859375, -0.052978515625, 0.021240234375, -0.07177734375, -0.02392578125, 0.00933837890625, -0.024169921875, -0.02880859375, -0.0228271484375, 0.03076171875, -0.0211181640625, -0.0015869140625, 0.031494140625, 0.00384521484375, -0.00994873046875, -0.01275634765625, 0.017822265625, 0.052490234375, 0.004119873046875, 0.039794921875, 0.0111083984375, -0.0400390625, -0.009765625, -0.000888824462890625, -0.0089111328125, 0.01239013671875, 0.00787353515625, 0.07275390625, -0.00909423828125, 0.025146484375, -0.0263671875, -0.032958984375, -0.03369140625, 0.044677734375, -0.041748046875, 0.01611328125, 0.0140380859375, -0.03662109375, 0.0240478515625, -0.01519775390625, 0.042236328125, -0.0224609375, 0.0223388671875, -0.064453125, -0.026611328125, -7.295608520507812e-05, 0.00732421875, 0.03076171875, 0.014404296875, 0.0439453125, 0.021728515625, -0.025390625, 0.0166015625, -0.0140380859375, 0.036376953125, -0.006500244140625, -0.032958984375, 0.0123291015625, -0.036376953125, 0.0289306640625, -0.01068115234375, -0.056884765625, 0.00970458984375, 0.00933837890625, 0.0284423828125, 0.00872802734375, -0.049072265625, 0.033203125, 0.005889892578125, -0.0703125, 0.036865234375, -0.032470703125, -0.003265380859375, 0.0269775390625, -0.033447265625, -0.02001953125, -0.017822265625, 0.034912109375, -0.004913330078125, 0.0169677734375, -0.0240478515625, -0.027099609375, 0.00567626953125, 0.0118408203125, 0.0034027099609375, 0.0322265625, 0.04345703125, 0.00994873046875, 0.0380859375, 0.01226806640625, 0.005889892578125, 0.0087890625, 0.044921875, -0.038818359375, 0.025634765625, -0.03466796875, -0.01300048828125, 0.0478515625, 0.0206298828125, -0.0179443359375, 0.0228271484375, -0.041748046875, 0.0299072265625, 0.0191650390625, 0.0703125, 0.00982666015625, -0.058837890625, 0.00341796875, -0.0284423828125, -0.001434326171875, -0.0076904296875, -0.00604248046875, 0.0174560546875, -0.0126953125, 2.6226043701171875e-05, 0.037353515625, 0.021728515625, -0.02001953125, 0.0007476806640625, -0.038330078125, -0.0252685546875, -0.03466796875, 0.028564453125, -0.015869140625, 0.0311279296875, 0.0439453125, 0.002197265625, -0.038330078125, 0.0302734375, -0.058837890625, 0.03369140625, -0.034912109375, -0.004669189453125, 0.0091552734375, 0.01324462890625, 0.056884765625, 0.00250244140625, -0.00555419921875, -0.08544921875, 0.0208740234375, -0.0194091796875, -0.004608154296875, 0.007110595703125, 0.046142578125, 0.0380859375, 0.0284423828125, -0.015380859375, -0.0103759765625, -0.033447265625, -0.05126953125, 0.017822265625, -0.01153564453125, -0.0255126953125, 0.064453125, 0.057861328125, 0.04150390625, -0.039306640625, 0.0181884765625, -0.006439208984375, -0.049560546875, -0.02294921875, -0.06640625, 0.01953125, 0.06884765625, -0.0238037109375, -0.01556396484375, -0.01409912109375, -0.01361083984375, 0.029052734375, 0.0169677734375, -0.042236328125, -0.01239013671875, 0.00860595703125, 0.011474609375, -0.05615234375, -0.021728515625, -0.0181884765625, -0.0179443359375, -0.037353515625, -0.0216064453125, 0.0181884765625, 0.006805419921875, 0.03662109375, 0.01422119140625, -0.00982666015625, 0.06494140625, 0.07275390625, 0.004547119140625, 0.0166015625, 0.0458984375, -0.026611328125, 0.0068359375, -0.0179443359375, 0.02392578125, 0.01300048828125, 0.0172119140625, -0.0191650390625, 0.06494140625, -0.0286865234375, -0.0166015625, 0.0015106201171875, 0.0439453125, 0.046630859375, -0.0302734375, -0.0223388671875, -3.4332275390625e-05, -0.013916015625, 0.00106048583984375, 0.0206298828125, -0.0966796875, -0.002044677734375, -0.033935546875, -0.021484375, -0.007659912109375, 0.0205078125, -0.025146484375, -0.052001953125, 0.040771484375, -0.058837890625, -0.002349853515625, 0.043212890625, 0.0057373046875, 0.0030059814453125, 0.005279541015625, -0.003936767578125, 0.0103759765625, 0.039794921875, 0.0205078125, -0.054443359375, -0.033447265625, 0.01287841796875, 0.033935546875, -0.02685546875, 0.0157470703125, 0.01611328125, -0.00150299072265625, -0.0634765625, -0.0272216796875, 0.013916015625, -0.01495361328125, -0.0223388671875, -0.019775390625, 0.044677734375, -0.0272216796875, -0.0032196044921875, -0.0140380859375, 0.056396484375, 0.02685546875, -0.0133056640625, 0.00142669677734375, 0.020263671875, 0.026123046875, 0.06787109375, -0.0262451171875, 0.024169921875, -0.0184326171875, 0.0024871826171875, -0.07177734375, -0.00634765625, -0.0023956298828125, 0.021728515625, 0.01385498046875, -0.04052734375, -0.021728515625, -0.021240234375, 0.051025390625, 0.017578125, 0.0223388671875, -0.0191650390625, -0.04736328125, 0.052978515625, -0.015380859375, -0.0228271484375, 0.00958251953125, -0.003326416015625, -0.020263671875, -0.037841796875, -0.00787353515625, -0.0390625, -0.01019287109375, 0.005096435546875, 0.03466796875, -0.04150390625, 0.043212890625, 0.042236328125, -0.00238037109375, 0.025146484375, 0.02197265625, -0.022705078125, -0.057861328125, -0.0400390625, 0.03271484375, 0.035888671875, -0.025390625, 0.0089111328125, 0.003143310546875, 0.0028839111328125, -0.055419921875, -0.0003643035888671875, -0.025146484375, -0.0223388671875, 0.0091552734375, 0.003662109375, -0.005828857421875, -0.0184326171875, 0.0498046875, 0.035888671875, -0.0546875, 0.003692626953125, -0.007659912109375, -0.01708984375, -0.008056640625, 0.031494140625, 0.021728515625, 0.0289306640625, 0.005279541015625, -0.03662109375, -0.000621795654296875, -0.021484375, -0.01300048828125, -0.0023956298828125, 0.01055908203125, -0.0169677734375, 0.055908203125, -0.006591796875, 0.01116943359375, -0.0693359375, 0.0223388671875, 0.00830078125, -0.0179443359375, 0.01373291015625, 0.06640625, 0.02685546875, 0.00836181640625, -0.0269775390625, 0.0113525390625, -0.00872802734375, -0.04248046875, -0.041015625, -0.006439208984375, 0.00139617919921875, -0.0296630859375, 0.0255126953125, 0.01055908203125, 0.000675201416015625, 0.0390625, 0.005828857421875, -0.00848388671875, 0.01226806640625, -0.02197265625, -0.0400390625, -0.0093994140625, -0.00518798828125, -0.0233154296875, -0.01055908203125, -0.050537109375, 0.037841796875, 0.026123046875, -0.006866455078125, 0.039794921875, -0.0018310546875, 0.00830078125, 0.02294921875, 0.01348876953125, -0.01708984375, -0.003082275390625, -0.0084228515625, 0.064453125, -0.0296630859375, 0.034423828125, 0.049560546875, 0.0260009765625, -0.006103515625, -0.01483154296875, 0.005218505859375, 0.0038909912109375, -0.052001953125, -0.006134033203125, -0.0206298828125, -0.033935546875, 0.0206298828125, -0.010986328125, -0.01556396484375, -0.0198974609375, 0.0341796875, -0.0032806396484375, 0.059326171875, -0.038330078125, -0.011474609375, 0.0081787109375, -0.039794921875, 0.031494140625, 0.055419921875, -0.0205078125, -0.0115966796875, 0.013916015625, -0.0556640625, 0.0162353515625, -0.0274658203125, -0.06884765625, -0.05078125, -0.00396728515625, 0.052978515625, -0.01519775390625, -0.00787353515625, -0.056884765625, -0.0223388671875, -0.007781982421875, 0.01153564453125, 0.03662109375, 0.04248046875, 0.008056640625, 0.03662109375, 0.013916015625, -0.06298828125, 0.07373046875, -0.006500244140625, 0.000598907470703125, -0.0262451171875, 0.026611328125, -0.060791015625, -0.0191650390625, -0.003936767578125, -0.0213623046875, -0.0289306640625, -0.02685546875, -0.0028076171875, 0.08837890625, 0.0035552978515625, -0.041015625, -0.07763671875, 0.01513671875, 0.032958984375, 0.0162353515625, 0.029296875, -0.03662109375, 0.044677734375, 0.059814453125, 0.0203857421875, 0.08349609375, -0.0654296875, -0.052001953125, -0.002777099609375, -0.018798828125, 0.0164794921875, 0.047607421875, -0.004241943359375, 0.0235595703125, -0.0235595703125, 0.03076171875, 0.000946044921875, -0.008056640625, 0.050537109375, -0.032470703125, -0.0145263671875, -0.031494140625, 0.046630859375, -0.00970458984375, 0.0322265625, -0.0220947265625, -0.013427734375, 0.01409912109375, 0.00112152099609375, -0.059814453125, -0.017822265625, 0.01611328125, -0.0086669921875, -0.035888671875, -0.01611328125, -0.0208740234375, -0.026611328125, 0.00634765625, -0.033203125, 0.06591796875, 0.0224609375, 0.0120849609375, 0.0048828125, -0.0157470703125, -0.00830078125, -0.033935546875, -0.024169921875, -0.08203125, -0.0021514892578125, 0.0634765625, 0.046142578125, -0.017822265625, 0.080078125, -0.00055694580078125, 0.003173828125, 0.0001621246337890625, -0.024169921875, -0.0194091796875, -0.03662109375, -0.021484375, 0.0213623046875, 0.03564453125, -0.040771484375, -0.032470703125, 0.043212890625, -0.0205078125, -0.0281982421875, -0.02294921875, 0.0272216796875, 0.047119140625, 0.031494140625, 0.01116943359375, -0.036865234375, -0.036865234375, 0.05908203125, -0.011474609375, 0.01495361328125, 0.0233154296875, 0.013427734375, -0.0040283203125, 0.0458984375, -0.022705078125, 0.00909423828125, -0.00130462646484375, 0.03173828125, 0.01611328125, 0.00970458984375, 0.01043701171875, -0.0654296875, -0.076171875, 0.041015625, -0.023193359375, -0.0263671875, 0.0191650390625, -0.00079345703125, 0.03515625, -0.03515625, -0.049560546875, -0.034912109375, 0.0220947265625, -0.0230712890625, 0.0439453125, -0.006195068359375, 0.038330078125, 0.0216064453125, -0.07470703125, 0.0103759765625, -0.01397705078125, -0.006622314453125, 0.041748046875, -0.02783203125, -0.0133056640625, 0.020751953125, -0.0184326171875, 0.046142578125, 0.021728515625, 0.024169921875, 0.005401611328125, 0.01434326171875, 0.04296875, -0.01055908203125, -0.01446533203125, -0.017578125, 0.041015625, 0.011474609375, 0.040771484375, -0.04248046875, -0.0189208984375, -0.003692626953125, 0.017333984375, 0.05419921875, 0.0181884765625, -0.07373046875, -0.037353515625, 0.00732421875, 0.04345703125, -0.03271484375, 0.0009918212890625, 0.0299072265625, 0.00238037109375, -0.0196533203125, -0.00836181640625, -0.00421142578125, -0.0103759765625, -0.034912109375, 0.0032501220703125, 0.0198974609375, -0.042236328125, -0.0654296875, -0.01123046875, 0.039794921875, -0.00384521484375, 0.031494140625, 0.031494140625, 0.0146484375, 0.0087890625, -0.04638671875, 0.03369140625, -0.041015625, 0.0303955078125, 0.0054931640625, -0.02294921875, 0.033447265625, -0.0106201171875, 0.0106201171875, 0.0145263671875, -0.03759765625, -0.0296630859375, -0.007171630859375, 0.033203125, 0.016845703125, -0.0235595703125, -0.00081634521484375, -0.031494140625, -0.07958984375, -0.051025390625, -0.004974365234375, -0.006622314453125, 0.04541015625, -0.0162353515625, -0.004241943359375, 0.059814453125, -0.029541015625, 0.0230712890625, -0.01397705078125, -0.035888671875, 0.0303955078125, 0.047607421875, -0.00640869140625, -0.0186767578125, -0.056396484375, -0.0089111328125, -0.01483154296875, 0.047119140625, -0.0281982421875, -0.0103759765625, 0.018310546875, -0.060791015625, -0.007171630859375, -0.0191650390625, -0.033447265625, -0.00604248046875, 0.031494140625, 0.0252685546875, -0.023193359375, -0.0302734375, -0.0311279296875, 0.0322265625, -0.0062255859375, -0.004791259765625, 0.039794921875, 0.005828857421875, -0.024169921875, -0.021484375, 0.04833984375, 0.0439453125, -0.026123046875, 0.02685546875, -0.00946044921875, 0.022705078125, 0.046630859375, -0.0311279296875, 0.02783203125, -0.034423828125, 0.042236328125, -0.0556640625, -0.00531005859375, -0.01025390625, 0.015869140625, -0.0311279296875, -0.0458984375, -0.01324462890625, 0.056396484375, -0.0035247802734375, -0.00537109375, 0.039794921875, -0.01422119140625, -0.017822265625, -0.01531982421875, 0.00628662109375, -0.0157470703125, 0.052490234375, 0.01483154296875, -0.043212890625, -0.016845703125, 0.0147705078125, -0.049560546875, -0.0272216796875, 0.0277099609375, -0.018310546875, 0.020263671875, 0.037841796875, 0.00958251953125, 0.015380859375, -0.006988525390625, -0.01348876953125, -0.023681640625, -0.053955078125, 0.0059814453125, 0.03369140625, -0.01904296875, 0.01226806640625, 0.008544921875, -0.0042724609375, 0.01031494140625, -0.09228515625, 0.004913330078125, -0.0169677734375, -0.0084228515625, -0.023193359375, -0.000125885009765625, -0.041015625, 0.0306396484375, -0.052490234375, 0.07470703125, -0.035888671875, 0.049560546875, 0.000698089599609375, -0.000881195068359375, -0.04443359375, 0.0037384033203125, -0.06640625, -0.016845703125, -0.0198974609375, -0.0026397705078125, -0.03271484375, 0.09228515625, -0.01556396484375, -0.044189453125, -0.0281982421875, 0.026611328125, -0.0216064453125, 0.04443359375, 0.0028533935546875, 0.01300048828125, -0.020751953125, -0.01611328125, -0.0245361328125, -0.0380859375, 0.0203857421875, -0.08642578125, 0.05810546875, 0.0189208984375, -0.0198974609375, -0.0498046875, 0.01025390625, 0.031494140625, 0.00081634521484375, -0.0211181640625, 0.0213623046875, -0.0546875, 0.010986328125, 0.040771484375, 0.0069580078125, 0.037353515625, 0.0272216796875, 0.025146484375, -0.0220947265625, -0.0277099609375, -0.0133056640625, 0.0260009765625, 0.02783203125, 0.00994873046875, 0.0106201171875, 0.008056640625, 0.029541015625, 0.040771484375, 0.026123046875, 0.0306396484375, -0.08935546875, -0.032958984375, 0.04638671875, -0.032958984375, 0.0203857421875, -0.0142822265625, 0.04248046875, 0.0098876953125, 0.0128173828125, 0.025390625, -0.00946044921875, 0.0260009765625, -0.0174560546875, 0.0299072265625, 0.00185394287109375, -0.0228271484375, -0.01708984375, 0.0299072265625, -0.01324462890625, -0.0299072265625, 0.059326171875, -0.01513671875, -0.001190185546875, 0.00445556640625, -0.005950927734375, 0.0084228515625, 0.01513671875, 0.01361083984375, -0.0087890625, 1.9222497940063477e-06, -0.0252685546875, -0.01055908203125, 0.0257568359375, 0.0030670166015625, 0.0023040771484375, 0.036865234375, -0.0040283203125, 0.027099609375, -0.05224609375, 0.016357421875, 0.04150390625, -0.0033721923828125, 0.004791259765625, 0.040771484375, -0.006500244140625, 0.006500244140625, -0.0172119140625, -0.01556396484375, 0.00946044921875, 0.03515625, 0.012451171875, 0.04052734375, -0.0162353515625, 0.0289306640625, -0.005279541015625, -0.01031494140625, -0.0458984375, 0.0400390625, 0.029052734375, 0.0380859375, -0.01513671875, -0.04833984375, -0.0003814697265625, 0.004730224609375, 0.06689453125, 0.02880859375, 0.00433349609375, 7.227063179016113e-07, -0.01324462890625, 0.059814453125, 0.0015106201171875, 0.0205078125, -0.022705078125, 0.02880859375, 0.01025390625, 0.021484375, -0.036376953125, 0.01422119140625, 0.035888671875, 0.033447265625, -0.0289306640625, -0.0400390625, 0.04833984375, 0.01385498046875, 0.023193359375, 0.0272216796875, -0.036865234375, 0.0115966796875, -0.02294921875, -0.037353515625, 0.0230712890625, 0.03662109375, -0.00048065185546875, -0.0086669921875, -0.01531982421875, -0.05322265625, 0.003143310546875, -0.01904296875, -0.025390625, -0.0084228515625, -0.0252685546875, -0.0103759765625, 0.0037384033203125, -0.0157470703125, -0.025390625, 0.034912109375, 0.03662109375, -0.00201416015625, 0.021240234375, 0.0274658203125, -0.03466796875, 0.00787353515625, 0.00112152099609375, 0.00994873046875, -0.01300048828125, 0.0126953125, -0.0211181640625, -0.0087890625, 0.004669189453125, 0.078125, -0.01483154296875, 0.047607421875, 0.04052734375, -0.051513671875, -0.00360107421875, 0.0020751953125, -0.01177978515625, 0.0262451171875, 0.0120849609375, -0.00098419189453125, -0.0296630859375, -0.048095703125, -0.029052734375, -0.049560546875, 0.0673828125, 0.00016880035400390625, 0.0260009765625, -0.0037384033203125, -0.0498046875, -0.038330078125, 0.03173828125, 0.056884765625, 0.00138092041015625, -0.025390625, 0.02392578125, 0.0018310546875, 0.0120849609375, -0.023681640625, -0.024658203125, 0.0203857421875, 0.00897216796875, -0.048095703125, 0.0299072265625, 0.0181884765625, -0.0311279296875, -0.026611328125, -0.0010528564453125, 0.0220947265625, 0.00537109375, 0.00384521484375, 0.00830078125, 0.0010986328125, 0.0439453125, 0.005340576171875, -0.007415771484375, -0.01385498046875, 0.054443359375, 0.023681640625, 0.0037994384765625, 0.054931640625, -0.0247802734375, 0.068359375, 0.0322265625, 0.0164794921875, 0.029052734375, 0.0087890625, 0.025634765625, 0.0269775390625, -0.033203125, 0.0302734375, -0.052978515625, 0.00135040283203125, -0.041015625, 0.0011749267578125, 0.007781982421875, 0.00909423828125, 0.068359375, 0.044189453125, 0.017578125, -0.00738525390625, 0.0751953125, 0.0172119140625, 0.0322265625, 0.007568359375, 0.0299072265625, 0.033935546875, -0.032470703125, 0.00811767578125, -0.0244140625, 0.00640869140625, -0.0021820068359375, -0.02001953125, 0.009765625, -0.024169921875, -0.0615234375, 0.0233154296875, -0.00994873046875, 0.00152587890625, -0.037841796875, 0.001922607421875, 0.02197265625, -0.020751953125, -0.052001953125, 0.002899169921875, 0.001434326171875, -0.04833984375, -0.035888671875, 0.0191650390625, -0.0172119140625, -0.0213623046875, -0.03515625, -0.0260009765625]}, {"key": "data/images/3.png", "width": 1786, "height": 2526, "embedding": [-0.004486083984375, -0.00323486328125, 0.033447265625, 0.0252685546875, 0.029296875, 0.0162353515625, -0.0771484375, -0.0159912109375, 0.0205078125, 0.0086669921875, -0.06298828125, 0.0115966796875, 0.023193359375, 0.0252685546875, 0.0157470703125, -0.00885009765625, -0.039794921875, -0.00142669677734375, 0.00494384765625, -0.04638671875, 0.0146484375, 0.00885009765625, 0.07177734375, -0.01116943359375, -0.0238037109375, 0.0419921875, -0.0247802734375, -0.004852294921875, -0.00372314453125, -0.010009765625, -0.0111083984375, 0.003936767578125, 0.034423828125, -0.03515625, -0.0224609375, -0.0458984375, -0.023193359375, -0.008544921875, -0.00335693359375, -0.014892578125, -0.049560546875, -0.007171630859375, -0.09765625, -0.0279541015625, 0.006683349609375, -0.0177001953125, -0.05322265625, -0.0263671875, 0.00921630859375, 0.0087890625, -0.020751953125, 0.022216796875, -0.017333984375, -0.045654296875, -0.029296875, 0.0242919921875, 0.0301513671875, -0.0252685546875, 0.00174713134765625, 0.0040283203125, -0.0291748046875, 0.003936767578125, -0.0167236328125, -0.004150390625, 0.000759124755859375, 0.04638671875, 0.056396484375, -0.017822265625, 0.035400390625, -0.019287109375, -0.01141357421875, 0.0052490234375, 0.050537109375, -0.027099609375, 0.0133056640625, -0.021728515625, -0.058349609375, 0.013427734375, 0.00787353515625, 0.0205078125, 0.0059814453125, 0.01434326171875, -0.0076904296875, 0.00122833251953125, -0.0169677734375, -0.00099945068359375, 0.0072021484375, -0.057373046875, -0.005584716796875, 0.0228271484375, -0.07275390625, 0.01416015625, 0.0341796875, 0.003265380859375, -0.048828125, -0.001922607421875, -0.00531005859375, 0.005340576171875, 0.041748046875, 0.0224609375, -0.036376953125, -0.0096435546875, 0.050537109375, 0.04150390625, -0.000255584716796875, -0.0517578125, 0.055908203125, 0.017333984375, -0.034423828125, 0.033935546875, -0.0303955078125, 0.0024261474609375, 0.00506591796875, -0.04736328125, -0.0181884765625, -0.01190185546875, 0.01611328125, -0.01165771484375, -0.007080078125, -0.0174560546875, -0.0252685546875, -0.047607421875, 0.047607421875, -0.0181884765625, 0.04638671875, -0.0020904541015625, 0.00909423828125, 0.0281982421875, -0.0257568359375, 0.001373291015625, -0.003997802734375, -0.006683349609375, -0.0159912109375, 0.035400390625, -0.00148773193359375, -0.00811767578125, 0.08984375, 0.03466796875, 0.01263427734375, 0.021728515625, 0.004364013671875, -0.00433349609375, 0.07568359375, 0.0157470703125, -0.00384521484375, -0.06591796875, -0.01287841796875, -0.022705078125, -0.002960205078125, 0.01116943359375, -0.01434326171875, 0.00860595703125, -0.01904296875, -0.013916015625, -0.046630859375, 0.03466796875, -0.005340576171875, 0.0174560546875, 0.002838134765625, -0.037841796875, -0.0419921875, 0.04345703125, -0.029296875, -0.00982666015625, 0.0625, -0.048828125, -0.038818359375, 0.0037994384765625, -0.07373046875, -0.04052734375, 0.007537841796875, -0.0322265625, 0.044921875, -0.0019683837890625, 0.07275390625, 0.031494140625, 0.041015625, -0.0279541015625, -0.009765625, -0.0064697265625, -0.0169677734375, 0.00909423828125, 0.04541015625, 0.0244140625, 0.0458984375, 0.006561279296875, -0.01507568359375, -0.0172119140625, 0.0281982421875, 0.0322265625, -0.041748046875, 0.022216796875, -0.0133056640625, 0.04638671875, 0.031982421875, -0.007415771484375, 0.021728515625, -0.037841796875, 0.0133056640625, 0.0205078125, -0.062255859375, 0.029296875, 0.048828125, 0.00182342529296875, 0.036376953125, 0.01953125, 0.0162353515625, -0.0115966796875, -0.01361083984375, -0.0198974609375, 0.0194091796875, -0.01458740234375, 0.0026702880859375, 0.017822265625, -0.036865234375, -0.0164794921875, -0.01165771484375, -0.0439453125, 0.02685546875, -0.009521484375, -0.0546875, 0.0322265625, 0.02099609375, 0.0262451171875, 0.0703125, 0.03466796875, -0.01953125, 0.07275390625, 0.055419921875, -0.042724609375, 0.02001953125, -0.03076171875, -0.00323486328125, 0.002532958984375, -0.00152587890625, -0.052490234375, -0.0213623046875, -0.01708984375, -8.58306884765625e-05, 0.0228271484375, -0.08740234375, -0.0023345947265625, -0.003173828125, -0.0072021484375, 0.0023651123046875, -0.00811767578125, 0.0068359375, 0.0189208984375, -0.019287109375, 0.01214599609375, 0.0252685546875, -0.0033416748046875, 0.0135498046875, 0.007537841796875, -0.002532958984375, -0.04833984375, 0.0020294189453125, -0.07763671875, 0.060302734375, -0.004547119140625, 0.0159912109375, -0.01519775390625, 0.00885009765625, -0.04248046875, -0.01336669921875, 0.043701171875, -0.00506591796875, -0.07080078125, -0.048828125, 0.06787109375, 0.004058837890625, 0.00823974609375, 0.054931640625, 0.04248046875, -0.006988525390625, -0.036865234375, -0.00579833984375, 0.0164794921875, -0.04443359375, 0.0205078125, 0.004974365234375, 0.041015625, -0.05419921875, 0.0517578125, -0.032958984375, 0.056884765625, 0.01458740234375, 0.0054931640625, 0.0184326171875, -0.0076904296875, 0.00958251953125, 0.0341796875, -0.039306640625, -0.0284423828125, -0.004791259765625, -0.003021240234375, 0.004302978515625, -0.0291748046875, -0.033447265625, 0.0289306640625, 0.026611328125, -0.04541015625, -0.00872802734375, -0.04052734375, -0.0267333984375, -0.0279541015625, -0.0301513671875, -0.036376953125, -0.0093994140625, -0.00183868408203125, -0.012451171875, -0.035888671875, -0.044677734375, -0.02099609375, -0.010009765625, -0.05322265625, 0.034423828125, -0.057861328125, -0.007049560546875, -0.00098419189453125, 0.0172119140625, 0.0400390625, -0.013916015625, 0.024658203125, 0.041015625, 0.020263671875, -0.0196533203125, -0.03564453125, 0.0002002716064453125, -0.00164794921875, 0.0693359375, -0.0019989013671875, 0.0079345703125, 0.0234375, 0.0186767578125, 0.018798828125, -0.0224609375, -0.02392578125, 0.01409912109375, 0.00732421875, 0.0186767578125, 0.033203125, 0.007171630859375, 0.0274658203125, -0.0024871826171875, -0.0087890625, -0.044677734375, 0.035888671875, -0.060302734375, 0.00909423828125, 0.037841796875, 0.02490234375, 0.00543212890625, -0.003082275390625, 0.027099609375, 0.0133056640625, 0.00148773193359375, -0.07568359375, -0.0181884765625, 0.002532958984375, -0.068359375, -0.0234375, 0.04150390625, -0.00579833984375, 0.00433349609375, -0.035400390625, -0.00482177734375, -0.0172119140625, -0.0111083984375, 0.01263427734375, 0.032958984375, 0.049560546875, -0.01507568359375, -0.060302734375, -0.0015869140625, 0.007110595703125, -0.024169921875, 0.0013885498046875, -0.00110626220703125, 0.010986328125, -0.023681640625, 0.01904296875, 0.0284423828125, 0.022216796875, 0.00063323974609375, 0.02685546875, -0.07080078125, -0.00136566162109375, -0.02734375, -0.019775390625, -0.01123046875, -0.033935546875, 0.0281982421875, -0.0146484375, -0.0166015625, 0.07177734375, -0.00469970703125, 0.0279541015625, 0.00482177734375, -0.029296875, -0.03076171875, 0.022216796875, -0.024169921875, 0.00958251953125, -0.023193359375, -0.00555419921875, 0.00124359130859375, -0.043701171875, -0.0069580078125, 0.0791015625, 0.024658203125, 0.019287109375, -0.00543212890625, 0.019775390625, -0.0634765625, -0.0186767578125, -0.0830078125, -0.018798828125, 0.0135498046875, 0.046630859375, -0.00188446044921875, -0.046875, -0.048583984375, -0.0184326171875, 0.041748046875, -0.0257568359375, -0.023681640625, 0.038330078125, 0.024658203125, -0.0380859375, 0.042724609375, 0.038330078125, -0.055908203125, -0.0186767578125, 0.004913330078125, -0.01397705078125, 0.00323486328125, 0.017333984375, -0.047607421875, -0.057373046875, 0.057373046875, 0.015380859375, -0.000743865966796875, -0.026611328125, -0.04833984375, -0.007080078125, -0.013427734375, 0.01116943359375, 0.026611328125, 0.06640625, 0.0118408203125, 0.031982421875, 0.10107421875, -0.0113525390625, 0.043701171875, 0.041015625, 0.0009765625, -0.0196533203125, 0.047607421875, -0.0296630859375, -0.0238037109375, 0.0244140625, 0.0064697265625, 0.0076904296875, 0.00543212890625, 0.007598876953125, 0.02587890625, -0.0191650390625, -0.0205078125, -0.043701171875, 0.023193359375, -0.0517578125, 0.020263671875, -0.0177001953125, -0.0341796875, 0.0419921875, 0.029296875, 0.04345703125, 0.050537109375, -0.043701171875, -0.00567626953125, 0.0157470703125, -0.01318359375, -0.0034942626953125, 0.02392578125, -0.0003719329833984375, 0.00830078125, -0.0291748046875, 0.0023040771484375, -0.048583984375, 0.0181884765625, 0.005950927734375, 0.0157470703125, 0.03759765625, -0.033447265625, 0.01611328125, -0.033935546875, 0.05029296875, -0.01263427734375, -0.061767578125, 0.023193359375, 0.036865234375, -0.034912109375, 0.0011749267578125, -0.00518798828125, -0.012939453125, -0.02587890625, -0.038330078125, 0.00732421875, -0.00384521484375, -0.031982421875, -0.05224609375, -0.00341796875, -0.0771484375, 0.0096435546875, 0.0189208984375, 0.026123046875, -0.0184326171875, -0.06982421875, 0.02978515625, -0.034912109375, 0.0174560546875, 0.01556396484375, 0.0191650390625, -0.017578125, 0.01141357421875, 0.01336669921875, 0.0022430419921875, 0.0087890625, -0.00970458984375, 0.00439453125, -0.00677490234375, -0.0133056640625, 0.01611328125, 0.032958984375, 0.0238037109375, -0.0257568359375, 0.04052734375, 0.0286865234375, 0.00164794921875, -0.01470947265625, 0.0301513671875, 0.01312255859375, 0.009765625, -7.915496826171875e-05, -0.0096435546875, -0.0279541015625, 0.01123046875, 0.00909423828125, 0.019775390625, 0.002471923828125, 0.044921875, -0.054443359375, 0.00433349609375, -0.0179443359375, 0.036865234375, 0.032958984375, 0.055908203125, -0.00518798828125, 0.004730224609375, -0.0400390625, -0.01318359375, -0.0283203125, -0.015380859375, -0.01708984375, -0.05224609375, -0.0035400390625, -0.00885009765625, 0.00665283203125, -0.0341796875, -0.01904296875, -0.0106201171875, 0.0189208984375, -0.0107421875, 0.07177734375, 0.007537841796875, 0.0205078125, -0.034423828125, -0.0146484375, 0.03955078125, -8.165836334228516e-06, -0.0159912109375, -0.00634765625, -0.044677734375, 0.0042724609375, 0.050537109375, 0.0024871826171875, 0.0267333984375, 0.055908203125, -0.0103759765625, -0.0177001953125, 0.031494140625, 0.0311279296875, -0.00970458984375, 0.0181884765625, 0.00531005859375, 0.022216796875, 0.0224609375, 0.044921875, -0.058837890625, 0.024658203125, 0.00372314453125, -0.023681640625, 0.04345703125, -0.01385498046875, -0.06494140625, -0.03076171875, 0.04736328125, 0.038818359375, -0.04052734375, -0.025390625, 0.04443359375, 0.0118408203125, 0.04345703125, 0.0019683837890625, -0.00616455078125, -0.0047607421875, -0.076171875, -0.0189208984375, -0.004302978515625, -0.042724609375, -0.0341796875, 0.004302978515625, 0.080078125, -0.01043701171875, 0.0303955078125, -0.00653076171875, -0.00299072265625, 0.023193359375, -0.00469970703125, 0.0184326171875, -0.041015625, 0.056396484375, -0.06298828125, 0.0169677734375, 0.047607421875, -0.0267333984375, -0.050537109375, 0.004547119140625, -0.0546875, 0.0223388671875, -0.038818359375, 0.048583984375, 0.002471923828125, -0.0205078125, -0.026611328125, 0.00836181640625, -0.050537109375, -0.01434326171875, 0.01446533203125, 0.0272216796875, 0.03759765625, -0.0263671875, -0.046630859375, 0.032470703125, -0.01470947265625, 0.00054931640625, -0.019287109375, -0.02685546875, 0.019775390625, 0.03515625, 0.0162353515625, -0.0028076171875, -0.055908203125, -0.01190185546875, -0.04052734375, 0.0301513671875, -0.053466796875, -0.005126953125, -0.019775390625, -0.036865234375, 0.0208740234375, -0.04150390625, -0.031982421875, 0.0238037109375, 0.0634765625, 0.064453125, 0.02392578125, -0.0218505859375, -0.05322265625, 0.004852294921875, -0.0167236328125, -0.00933837890625, 0.01068115234375, 0.0341796875, -0.00506591796875, -0.0576171875, 0.007354736328125, -0.0169677734375, -0.0517578125, -0.03466796875, -0.006317138671875, 0.00482177734375, -0.01214599609375, 0.0111083984375, 0.021240234375, -0.01483154296875, 0.00848388671875, -0.0257568359375, 0.00885009765625, -0.00677490234375, 0.01318359375, 0.00811767578125, 0.022216796875, -0.008056640625, 0.027099609375, -0.036376953125, 0.010498046875, -0.004547119140625, -0.00787353515625, -0.01708984375, 0.0108642578125, -0.0205078125, -0.01141357421875, 0.0546875, 0.002532958984375, -0.052490234375, -0.037841796875, -0.004180908203125, -0.0517578125, -0.0194091796875, 0.00189208984375, -0.01092529296875, 0.002410888671875, 0.0184326171875, -0.00262451171875, 0.0009613037109375, 0.01708984375, 0.0262451171875, -0.0159912109375, -0.0169677734375, 0.03125, -0.00848388671875, 0.00897216796875, 0.043701171875, 0.036865234375, -0.006439208984375, -0.0263671875, -0.04248046875, 0.00946044921875, -0.00799560546875, -0.0164794921875, -0.0546875, -0.010986328125, -0.0054931640625, 0.0257568359375, -0.00665283203125, 0.04638671875, -0.0023345947265625, 0.0179443359375, -0.00909423828125, -0.00860595703125, -0.015380859375, -0.0120849609375, -0.031494140625, -0.01611328125, -0.0625, 0.0146484375, -0.0194091796875, 0.0262451171875, -0.03515625, -0.0067138671875, -0.0274658203125, 0.01190185546875, -0.000804901123046875, 0.0224609375, -0.02001953125, 0.060791015625, -0.036376953125, -0.00262451171875, -0.083984375, -0.036376953125, -0.0133056640625, -0.0224609375, 0.010498046875, 0.00115203857421875, 0.00250244140625, -0.0096435546875, 0.0458984375, 0.03515625, -0.004425048828125, -0.042724609375, 0.00579833984375, -0.04638671875, 0.02490234375, 0.0133056640625, 0.01531982421875, 0.00433349609375, -0.0311279296875, 0.01531982421875, -0.03564453125, -0.055419921875, 0.048828125, 0.039306640625, 0.0164794921875, -0.02978515625, 0.015625, -0.0400390625, 0.050537109375, 0.0284423828125, 0.026611328125, 0.02294921875, -0.04248046875, -0.0205078125, 0.01318359375, 0.0233154296875, 0.0118408203125, 0.01263427734375, -0.035888671875, -0.0023040771484375, 0.01287841796875, 0.0247802734375, 0.0262451171875, 0.04638671875, -0.00823974609375, 0.0130615234375, 0.007476806640625, 0.004425048828125, 0.01953125, -0.010498046875, -0.0208740234375, 0.01171875, 0.06591796875, 0.05029296875, -0.032958984375, -0.0157470703125, 0.0223388671875, -0.0289306640625, 0.01263427734375, 0.0302734375, 0.021728515625, -0.0022735595703125, -0.03857421875, 0.036865234375, -0.0034942626953125, 0.039794921875, -0.003662109375, 0.039306640625, 0.0004482269287109375, 0.042724609375, 0.045654296875, 0.0146484375, 0.004913330078125, 0.0081787109375, -0.0164794921875, 0.0419921875, 0.007476806640625, 0.0286865234375, -0.0167236328125, -0.0194091796875, 0.023193359375, 0.032958984375, -0.0159912109375, 0.039794921875, 0.0177001953125, -0.03076171875, 0.003326416015625, -0.050537109375, -0.036376953125, 0.013671875, 0.0546875, 0.0283203125, 0.0078125, -0.032958984375, -0.0191650390625, 0.0167236328125, 0.06884765625, 0.01953125, -0.01068115234375, -0.0038604736328125, -0.043701171875, 0.035400390625, 0.0014495849609375, -0.00933837890625, 0.004547119140625, 0.01214599609375, 0.032958984375, 0.01373291015625, -0.0546875, 0.0172119140625, -0.033935546875, 0.033935546875, -0.0283203125, -0.017333984375, 0.080078125, 0.00836181640625, 0.037353515625, 0.046875, -0.0028076171875, 0.017822265625, -0.032470703125, -0.08544921875, -0.00677490234375, -0.0146484375, 0.01953125, -0.0213623046875, -0.032958984375, -0.02099609375, 0.0038299560546875, -0.02978515625, 0.004058837890625, -0.0133056640625, -0.0308837890625, -0.029296875, -0.017333984375, -0.068359375, -0.07958984375, 0.057861328125, 0.0223388671875, -0.00372314453125, -0.008056640625, 0.002349853515625, -0.0167236328125, 0.060791015625, -0.021728515625, -0.04052734375, 0.03466796875, -0.042724609375, 0.03564453125, 0.0299072265625, -0.0018310546875, 0.048828125, -0.01470947265625, 0.0032958984375, 0.061767578125, -0.00830078125, -0.014404296875, -0.0031585693359375, -0.032470703125, 0.055908203125, 0.00665283203125, -0.0115966796875, 0.000701904296875, -0.00174713134765625, -0.01068115234375, -0.020263671875, 0.02392578125, 0.0030975341796875, 0.07275390625, 0.052734375, -0.0133056640625, 0.0419921875, 0.039306640625, 0.068359375, 0.00537109375, -0.046630859375, -0.0341796875, -0.031982421875, 0.0556640625, -0.00958251953125, -0.0308837890625, -0.0296630859375, -0.03955078125, -0.035888671875, 0.033447265625, -0.01458740234375, -0.04638671875, 0.026123046875, -0.00799560546875, -0.0064697265625, 0.044921875, -0.0128173828125, 0.01171875, 0.0103759765625, 0.07275390625, 0.036376953125, -0.00531005859375, 0.0198974609375, 0.0537109375, -0.027099609375, 0.022705078125, 0.033935546875, -0.044921875, 0.10888671875, 0.0810546875, -0.00148773193359375, 0.0052490234375, -0.038818359375, 0.049560546875, 0.032958984375, -0.016357421875, 0.0107421875, -0.0042724609375, 0.020263671875, -0.0177001953125, -0.007293701171875, -0.0244140625, 0.001556396484375, 0.07275390625, -0.004669189453125, 0.0164794921875, -0.01904296875, -0.00860595703125, 0.004669189453125, 0.029296875, -0.0035400390625, -0.000507354736328125, -0.024169921875, -0.008056640625, 0.010009765625, -0.024169921875, 0.02734375, 0.026611328125, -0.0076904296875, 0.046875, 0.009765625, -0.01708984375, -0.0205078125, 0.04296875, 0.00848388671875, -0.01190185546875, 0.044921875, 0.001007080078125, 0.033447265625, -0.01904296875, 0.01263427734375, 0.02392578125, -0.038818359375, 0.00982666015625, 0.0498046875, -0.007171630859375, -0.026611328125, -0.06494140625, -0.0311279296875]}, {"key": "data/images/4.png", "width": 1786, "height": 2526, "embedding": [0.0283203125, -0.0087890625, -0.0017852783203125, 0.00830078125, -0.02197265625, 0.0252685546875, -0.056884765625, -0.047119140625, -0.00061798095703125, -0.00107574462890625, -0.042724609375, 0.050048828125, 0.010498046875, 0.006103515625, 0.0177001953125, 0.008544921875, -0.03759765625, -0.03515625, -0.0087890625, -0.015869140625, 0.031982421875, 0.031494140625, 0.07421875, -0.0296630859375, -0.029052734375, 0.0380859375, -0.01348876953125, -0.00616455078125, -0.0166015625, -0.0302734375, -0.019775390625, -0.0294189453125, 0.0517578125, -0.044921875, -0.0172119140625, -0.0296630859375, -0.0223388671875, -0.00628662109375, 0.0238037109375, -0.0245361328125, -0.04345703125, -0.01483154296875, -0.080078125, -0.03515625, 0.0004119873046875, 0.0169677734375, -0.020263671875, -0.0166015625, 0.01007080078125, -0.004974365234375, -0.0213623046875, -0.010986328125, 0.00848388671875, -0.045654296875, -0.01422119140625, 0.02392578125, 0.0036468505859375, -0.044921875, 0.04052734375, 0.00115966796875, -0.05126953125, 0.00139617919921875, -0.01544189453125, 0.0185546875, -0.0289306640625, 0.0576171875, 0.0712890625, -0.026123046875, 0.049072265625, -0.0228271484375, -0.002655029296875, -0.0244140625, 0.03271484375, -0.042724609375, 0.0263671875, -0.0267333984375, -0.06982421875, 0.0166015625, -0.033935546875, 0.018310546875, -0.0022125244140625, 0.01422119140625, -0.0233154296875, -0.010498046875, -0.0174560546875, -0.022705078125, 0.005462646484375, -0.0244140625, 0.0191650390625, -0.0240478515625, -0.039306640625, 0.044677734375, -0.00653076171875, 0.045654296875, -0.01318359375, 0.0022430419921875, 0.00102996826171875, 0.01318359375, 0.0703125, 0.050048828125, -0.0172119140625, 0.0038299560546875, 0.0296630859375, 0.04345703125, -0.03466796875, -0.0693359375, 0.048828125, 0.0206298828125, -0.057861328125, 0.055419921875, -0.00927734375, 0.01220703125, -0.01251220703125, -0.058837890625, -0.033935546875, -0.033447265625, -0.009521484375, -0.0191650390625, 0.005950927734375, -0.038330078125, -0.0498046875, -0.04248046875, 0.056640625, -0.00125885009765625, 0.0517578125, 0.007537841796875, 0.000782012939453125, 0.0089111328125, 0.011474609375, 0.00860595703125, 0.01556396484375, 0.0223388671875, 0.00726318359375, 0.0361328125, 0.024658203125, 0.00189208984375, 0.05712890625, 0.00543212890625, -0.00506591796875, 0.0245361328125, -0.055419921875, 0.0252685546875, 0.054443359375, 0.040283203125, 0.0419921875, -0.06982421875, 0.00738525390625, -0.0517578125, -0.01422119140625, 0.0234375, -0.005859375, 0.00799560546875, -0.025146484375, 0.001220703125, 0.01904296875, 0.029541015625, -0.032958984375, 0.0098876953125, -0.0145263671875, -0.0390625, -0.046630859375, 0.0615234375, -0.0439453125, 0.0024566650390625, 0.047119140625, -0.043212890625, -0.031494140625, -0.0223388671875, -0.07080078125, -0.01806640625, -0.006256103515625, -0.019775390625, 0.055908203125, 0.030517578125, 0.07666015625, 0.0267333984375, 0.01470947265625, -0.0277099609375, -0.01171875, -0.004791259765625, -0.0084228515625, -0.010009765625, 0.0301513671875, -0.001739501953125, 0.034912109375, -0.025634765625, -0.00396728515625, -0.02978515625, 0.00128173828125, -0.01068115234375, -0.022216796875, -0.0013580322265625, 0.002716064453125, 0.0255126953125, 0.0302734375, -0.00830078125, 0.00506591796875, -0.015869140625, 0.0224609375, 0.0322265625, -0.025634765625, 0.020263671875, 0.0277099609375, -0.01141357421875, 0.00762939453125, -0.03369140625, -0.006866455078125, -0.0322265625, 0.014892578125, 0.0172119140625, 0.06787109375, -0.0245361328125, -0.007354736328125, 0.021728515625, -0.0140380859375, -0.01116943359375, 0.0128173828125, -0.022216796875, -0.0198974609375, -0.0400390625, -0.040283203125, -0.002349853515625, -0.0167236328125, 0.0191650390625, 0.072265625, 0.061279296875, -0.01611328125, 0.055908203125, 0.058349609375, -0.0213623046875, 0.02392578125, -0.033203125, -0.00543212890625, 0.012451171875, -0.053955078125, -0.045654296875, -0.01318359375, 0.00897216796875, -0.000885009765625, 0.04248046875, -0.0172119140625, 0.00457763671875, -0.02294921875, 0.005950927734375, 0.02001953125, -0.0308837890625, 0.047119140625, 0.016845703125, -0.031982421875, 0.020263671875, 0.01806640625, 0.03271484375, -0.006317138671875, 0.00213623046875, -0.017822265625, -0.041015625, -0.00164794921875, -0.038330078125, 0.053955078125, 0.00531005859375, 0.0223388671875, -0.005462646484375, -0.04052734375, -0.041015625, -0.0224609375, 0.03271484375, 0.0255126953125, -0.07421875, -0.01416015625, 0.043212890625, 0.0223388671875, -0.000850677490234375, 0.055908203125, 0.048828125, -0.01611328125, -0.02392578125, -0.0252685546875, 0.0101318359375, -0.048828125, 0.013916015625, 0.03515625, 0.024169921875, -0.0263671875, 0.0361328125, -0.0262451171875, 0.05224609375, 0.036376953125, 0.01263427734375, -0.0294189453125, 0.003326416015625, 0.0091552734375, 0.00726318359375, -0.0263671875, -0.0031890869140625, 0.040283203125, -0.0341796875, -0.021728515625, 0.005828857421875, 0.0159912109375, 0.016845703125, 0.008056640625, -0.00531005859375, -0.0150146484375, -0.03369140625, -0.0191650390625, -0.0224609375, 0.017333984375, -0.02099609375, -0.038818359375, 0.006866455078125, -0.02294921875, -0.02783203125, -0.0128173828125, -0.00494384765625, -0.054443359375, -0.01177978515625, 0.036376953125, -0.048828125, -0.0157470703125, -0.01226806640625, -0.02490234375, -0.04150390625, -0.012939453125, -0.00115966796875, 0.0341796875, 0.0025634765625, -0.0263671875, -0.029052734375, 0.0179443359375, -0.010986328125, 0.064453125, -0.002655029296875, -0.0179443359375, -0.011962890625, -0.0196533203125, 0.017333984375, 0.016845703125, 0.00848388671875, -0.01263427734375, 0.006103515625, 0.021240234375, -0.01251220703125, 0.01470947265625, 0.033447265625, 0.0308837890625, -0.01513671875, -0.0654296875, 0.00927734375, -0.038330078125, -0.0296630859375, -0.0169677734375, 0.0458984375, -0.0277099609375, 0.0263671875, 0.0294189453125, -0.00054931640625, 0.0130615234375, -0.0020904541015625, 0.00970458984375, -0.00347900390625, -0.07958984375, 0.0223388671875, 0.036376953125, -0.00021076202392578125, 0.00762939453125, -0.01287841796875, 0.01385498046875, 0.0152587890625, -0.010498046875, 0.0087890625, 0.06787109375, 0.06591796875, -0.00927734375, -0.05712890625, 0.0390625, 0.00927734375, -0.0166015625, -0.038330078125, -0.0023956298828125, 0.0045166015625, -0.0113525390625, 0.0224609375, 0.0157470703125, -0.0274658203125, -0.01220703125, 0.0005645751953125, -0.02880859375, 0.0013275146484375, -0.021728515625, -0.017333984375, -0.00726318359375, -0.0277099609375, 0.006439208984375, -0.03173828125, 0.0128173828125, 0.060546875, 0.00341796875, 0.0250244140625, 0.0267333984375, -0.00604248046875, 0.005340576171875, 0.0033721923828125, -0.00830078125, 0.0029144287109375, -0.0093994140625, -0.03125, 0.02490234375, -0.037109375, 0.01513671875, 0.058837890625, 0.0213623046875, 0.05126953125, -0.01385498046875, 0.01318359375, -0.0235595703125, 0.0002994537353515625, -0.06884765625, -0.0250244140625, -0.0093994140625, 0.0311279296875, 0.001678466796875, -0.042236328125, -0.006591796875, -0.040283203125, 0.008544921875, -0.025634765625, -0.0128173828125, -0.00128936767578125, 0.0245361328125, -0.060546875, 0.0224609375, 0.047119140625, -0.055419921875, -0.02685546875, 0.006103515625, -0.0002307891845703125, -0.01202392578125, 0.0108642578125, -0.01470947265625, -0.054931640625, 0.0034637451171875, 0.007293701171875, 0.0078125, 0.01220703125, -0.0196533203125, -0.02197265625, -0.0218505859375, -0.00286865234375, 0.00787353515625, 0.048828125, 0.0498046875, 0.0380859375, 0.1142578125, -0.01611328125, 0.0419921875, 0.07177734375, 0.0072021484375, -0.0145263671875, -0.019775390625, -0.035400390625, 0.0101318359375, -0.0228271484375, 0.00970458984375, 0.031494140625, -0.01416015625, 0.0018768310546875, 0.053955078125, -0.03271484375, -0.0196533203125, -0.0361328125, 0.0030517578125, 0.00665283203125, 0.0052490234375, 0.0128173828125, -0.038330078125, 0.06103515625, 0.007659912109375, 0.0108642578125, 0.0294189453125, -0.0498046875, -0.004974365234375, 0.0205078125, -0.01220703125, 0.026611328125, 0.0224609375, 0.00244140625, -0.0037841796875, -0.00167083740234375, -0.0296630859375, -0.0194091796875, 0.0252685546875, 0.01171875, -0.012451171875, 0.02685546875, -0.048828125, 0.017333984375, -0.0341796875, 0.04541015625, -0.0263671875, -0.044921875, 0.0032958984375, 0.055908203125, -0.062255859375, -0.045654296875, 0.04052734375, 0.01055908203125, -0.062255859375, -0.04443359375, -0.01611328125, -0.02294921875, -0.01336669921875, -0.0302734375, 0.030029296875, -0.056884765625, 0.00787353515625, 0.01483154296875, 0.0033721923828125, -0.020263671875, -0.083984375, 0.0037841796875, -0.028564453125, -0.042724609375, 0.00970458984375, 0.0123291015625, -0.0157470703125, 0.0308837890625, 0.001129150390625, 0.0031280517578125, 0.00872802734375, -0.02197265625, -0.0076904296875, 0.00994873046875, -0.00909423828125, -0.00958251953125, 0.0166015625, 0.01153564453125, 0.000888824462890625, 0.01385498046875, 0.02099609375, -0.003265380859375, -0.036376953125, 0.038330078125, 0.037109375, 0.038330078125, 0.00189208984375, 0.0093994140625, -0.0291748046875, 0.032958984375, 0.01397705078125, 0.005615234375, 0.0009613037109375, 0.033935546875, -0.083984375, 0.01116943359375, -0.01531982421875, 0.044677734375, 0.03466796875, 0.038330078125, -0.00885009765625, -0.01507568359375, -0.01513671875, -0.02099609375, -0.0615234375, 0.01220703125, 0.0016632080078125, -0.03369140625, 0.0004253387451171875, -0.0478515625, 0.004638671875, -0.052734375, -0.041259765625, -0.01470947265625, 0.03173828125, 0.01287841796875, 0.037109375, 0.01385498046875, 0.02099609375, 0.003936767578125, -0.052734375, 0.055419921875, 0.005340576171875, 0.005767822265625, -0.01220703125, -0.04052734375, -0.003021240234375, 0.037109375, -0.052490234375, 0.0277099609375, 0.0218505859375, -0.0174560546875, -0.0032958984375, -0.0076904296875, 0.048828125, 0.0269775390625, -0.0223388671875, -0.021240234375, 0.018798828125, 0.0302734375, 0.024658203125, -0.0308837890625, -0.015869140625, 0.0089111328125, -0.038330078125, 0.072265625, 0.0157470703125, -0.05126953125, -0.015869140625, 0.0244140625, 0.07421875, -0.055419921875, -0.01275634765625, 0.047119140625, 0.0223388671875, 0.02685546875, -0.0284423828125, 0.005706787109375, 0.01507568359375, -0.0791015625, -0.0191650390625, -0.007293701171875, -0.03515625, -0.03466796875, -0.0089111328125, 0.04931640625, -0.0216064453125, 0.011474609375, -0.0164794921875, 0.0255126953125, 0.0181884765625, -0.0302734375, 0.036376953125, 0.0052490234375, 0.0458984375, -0.04443359375, -0.0185546875, 0.0341796875, -0.048828125, -0.034912109375, 0.004791259765625, -0.025634765625, 0.0038604736328125, -0.0361328125, 0.0751953125, 0.01025390625, 0.007537841796875, -0.0106201171875, 0.0120849609375, -0.0693359375, -0.0291748046875, 0.0030517578125, 0.0167236328125, 0.042236328125, -0.02294921875, -0.03515625, 0.0076904296875, -0.00799560546875, 0.03466796875, -0.03125, -0.072265625, 0.03466796875, 0.01226806640625, 0.0274658203125, -0.007781982421875, -0.06005859375, 0.007293701171875, -0.0223388671875, 0.0223388671875, -0.0439453125, 0.0098876953125, -0.0164794921875, -0.0255126953125, -0.015869140625, -0.0263671875, -0.048095703125, -0.0011138916015625, 0.0556640625, 0.06396484375, 0.0089111328125, -0.0238037109375, -0.05908203125, 0.016357421875, -0.0361328125, 0.01190185546875, -0.0140380859375, 0.015625, 0.00128936767578125, -0.0458984375, 0.0277099609375, -0.010009765625, -0.041259765625, -0.040283203125, -0.00014209747314453125, 0.0308837890625, -0.015869140625, -0.0235595703125, 0.0250244140625, -0.03759765625, 0.04541015625, -0.032958984375, -0.0218505859375, 0.000392913818359375, -0.0167236328125, -0.044921875, 0.02685546875, -0.033447265625, 0.038330078125, -0.043701171875, 0.00164794921875, 0.039794921875, -0.03662109375, -0.0390625, -0.0191650390625, 0.02197265625, 0.0167236328125, 0.048828125, 0.01092529296875, -0.048095703125, 0.000667572021484375, 0.01141357421875, -0.0341796875, -0.0244140625, 0.03466796875, 0.0205078125, 0.00994873046875, 0.0233154296875, -0.00089263916015625, 0.0262451171875, 0.01092529296875, 0.036376953125, -0.04150390625, -0.016845703125, -0.0033416748046875, -0.00164794921875, -0.0038604736328125, 0.015869140625, 0.05224609375, -0.04052734375, -0.0174560546875, -0.087890625, -0.021240234375, 0.025634765625, -0.044921875, -0.010498046875, 0.00848388671875, -0.03466796875, 0.01116943359375, -0.020263671875, 0.0113525390625, -0.0052490234375, 0.009765625, 0.006805419921875, -0.00156402587890625, -0.006561279296875, -0.006103515625, -0.0235595703125, -0.030517578125, -0.046630859375, -0.0185546875, -0.013916015625, 0.07421875, -0.0198974609375, 0.01953125, 0.00384521484375, 0.000823974609375, -0.0145263671875, 0.05615234375, -0.02392578125, 0.0419921875, -0.0595703125, 0.008056640625, -0.038330078125, -0.072265625, -0.0244140625, -0.07177734375, 0.0198974609375, 0.0223388671875, 0.0030670166015625, 0.0159912109375, 0.06884765625, 0.015380859375, -0.01123046875, -0.0458984375, 0.041015625, -0.07080078125, -0.00061798095703125, 0.0145263671875, -0.0004730224609375, 0.04150390625, -0.0125732421875, 0.016845703125, -0.0198974609375, 0.00173187255859375, 0.05126953125, 0.03759765625, 0.0277099609375, 0.000743865966796875, 0.0123291015625, -0.01251220703125, 0.043212890625, 0.02734375, 0.0257568359375, -0.008544921875, -0.041259765625, -0.06396484375, 0.07177734375, 0.0047607421875, 0.009521484375, -0.017578125, -0.015869140625, -0.015869140625, 0.01080322265625, 0.0257568359375, 0.0263671875, 0.048095703125, 0.0257568359375, 0.004547119140625, 0.00909423828125, 0.011474609375, 0.01220703125, -0.01092529296875, 0.02099609375, 0.0150146484375, 0.06298828125, 0.030517578125, -0.04443359375, -0.0274658203125, 0.01556396484375, 0.0177001953125, 0.022705078125, -0.00106048583984375, 0.025634765625, 0.005401611328125, -0.0224609375, -0.009521484375, -0.01336669921875, 0.039794921875, 0.041259765625, 0.01318359375, -0.018798828125, 0.04833984375, 0.020263671875, -0.002716064453125, 0.01025390625, 0.0191650390625, -0.03515625, 0.034423828125, -0.018310546875, -0.01904296875, -0.006011962890625, -0.0296630859375, 0.050048828125, 0.006103515625, -0.0223388671875, 0.057861328125, 0.00726318359375, -0.0322265625, 0.01904296875, -0.0245361328125, -0.0277099609375, -0.0296630859375, 0.01385498046875, 0.0035552978515625, 0.002655029296875, -0.04345703125, -0.041259765625, 0.00347900390625, 0.0517578125, 0.037109375, -0.0341796875, -0.03076171875, -0.007659912109375, 0.046142578125, -0.0211181640625, 0.0267333984375, -0.01220703125, -0.006561279296875, 0.047119140625, 0.0052490234375, -0.0322265625, 0.0302734375, -0.02392578125, 0.01025390625, 0.02490234375, -0.0289306640625, 0.017822265625, 0.0196533203125, 0.035888671875, 0.033203125, 0.007781982421875, 0.01251220703125, -0.0213623046875, -0.0810546875, 0.038330078125, -0.01361083984375, -0.0067138671875, -0.0223388671875, -0.0147705078125, -0.01416015625, 0.007720947265625, -0.0111083984375, -0.0101318359375, -0.020263671875, -0.02197265625, -0.024169921875, -0.00909423828125, -0.0498046875, -0.056884765625, 0.053955078125, 0.0228271484375, -0.0322265625, -0.006591796875, 0.002532958984375, -0.0322265625, 0.0185546875, 0.0040283203125, -0.01318359375, 0.0037841796875, 0.00750732421875, -0.028564453125, 0.005401611328125, -0.000629425048828125, 0.031982421875, -0.0027923583984375, 0.0054931640625, 0.015869140625, -0.0751953125, 0.007080078125, 0.0250244140625, -0.037109375, 0.0703125, -0.00168609619140625, 0.040283203125, -0.0007171630859375, 0.01544189453125, 0.0047607421875, -0.0059814453125, 0.01226806640625, -0.01007080078125, 0.0380859375, 0.021728515625, -0.029052734375, -0.009765625, 0.0712890625, 0.059326171875, 0.022216796875, -0.09814453125, -0.042236328125, -0.021728515625, 0.052490234375, -0.0024566650390625, 0.0191650390625, -0.033447265625, -0.046142578125, 0.006591796875, 0.011474609375, 0.021240234375, -0.044677734375, -0.0262451171875, 0.031494140625, -0.01470947265625, 0.01416015625, -0.0010223388671875, -0.006744384765625, -0.002716064453125, 0.06396484375, 0.04052734375, -0.0040283203125, -0.0106201171875, 0.06640625, -0.01611328125, -0.0048828125, 0.033203125, 0.0054931640625, 0.0751953125, 0.05810546875, 0.0128173828125, 0.0191650390625, -0.0546875, 0.02587890625, 0.059326171875, -0.0179443359375, 0.051025390625, 0.007720947265625, -0.036376953125, -0.056884765625, -0.01531982421875, -0.04345703125, -0.0029296875, 0.052734375, 0.05908203125, -0.0101318359375, -0.011474609375, -0.0654296875, 0.0294189453125, 0.004913330078125, -0.007080078125, 0.010986328125, 0.0050048828125, -0.0252685546875, 0.012451171875, -0.031982421875, 0.038330078125, 0.0145263671875, -0.033203125, 0.07763671875, -0.01531982421875, -0.0185546875, -0.016357421875, 0.0341796875, 0.001373291015625, -0.0108642578125, 0.006591796875, -0.01513671875, 0.011962890625, -0.025634765625, -0.016845703125, -0.00384521484375, -0.0498046875, -0.0023956298828125, 0.05322265625, -0.0250244140625, -0.0211181640625, -0.02978515625, -0.051513671875]}, {"key": "data/images/5.png", "width": 1786, "height": 2526, "embedding": [0.010009765625, -0.0194091796875, 0.044189453125, 0.00830078125, 0.0244140625, -0.018310546875, -0.037353515625, 0.004058837890625, -0.00689697265625, -0.03466796875, -0.033935546875, 0.02294921875, 0.00262451171875, 0.0125732421875, -0.050537109375, -0.0220947265625, -0.0184326171875, -0.0257568359375, 0.015625, -0.006988525390625, 0.05322265625, -0.031494140625, 0.03271484375, -0.045166015625, -0.0303955078125, 0.07470703125, -0.022216796875, -0.02001953125, 0.000957489013671875, -0.0078125, -0.01708984375, -0.03369140625, 0.0172119140625, -0.02197265625, -0.03515625, -0.037353515625, -0.039794921875, -0.0111083984375, 0.0032806396484375, -0.005645751953125, -0.04443359375, -0.0029754638671875, -0.06396484375, -0.0238037109375, -0.00933837890625, -0.01123046875, -0.032958984375, -0.0172119140625, -0.00921630859375, -0.017822265625, -0.021484375, -0.018310546875, 0.01019287109375, -0.043212890625, -0.0191650390625, -0.006561279296875, 0.03564453125, 0.006011962890625, 0.00860595703125, 0.01239013671875, -0.028564453125, 0.01953125, -0.0035247802734375, 0.0172119140625, 0.021728515625, 0.05615234375, 0.05419921875, -0.053466796875, 0.0281982421875, -0.031494140625, -0.025146484375, 0.01031494140625, 0.036865234375, -0.044189453125, 0.032470703125, -0.041748046875, -0.02587890625, 0.025146484375, 0.015380859375, 0.03369140625, -0.03515625, 0.05078125, -0.00836181640625, -0.005096435546875, 0.0225830078125, -0.004119873046875, 0.040771484375, -0.045654296875, 0.01361083984375, -0.006561279296875, -0.02392578125, 0.0299072265625, 0.043212890625, 0.047607421875, -0.033203125, -0.0164794921875, -0.00958251953125, -0.040771484375, 0.053466796875, -0.0108642578125, -0.040771484375, -0.0130615234375, -0.01177978515625, 0.041259765625, 0.00640869140625, 0.002655029296875, 0.009765625, 0.011962890625, -0.0576171875, 0.06884765625, -0.03173828125, 0.01953125, -0.016845703125, -0.04248046875, -0.037353515625, -0.01708984375, 0.004241943359375, -0.01708984375, 0.0235595703125, -0.030029296875, -0.047607421875, -0.03076171875, -0.00848388671875, 0.025146484375, 0.0400390625, 0.03515625, -0.000759124755859375, 0.09912109375, -0.0322265625, 0.0103759765625, 0.0230712890625, 0.05419921875, -0.01153564453125, 0.0230712890625, -0.001800537109375, 0.0281982421875, 0.059814453125, 0.048828125, -0.00823974609375, 0.01409912109375, 0.00098419189453125, 0.0194091796875, 0.0576171875, 0.08154296875, 0.0216064453125, -0.0703125, 0.0281982421875, -0.032470703125, 0.016845703125, -0.002410888671875, -0.00787353515625, -0.00439453125, 0.0201416015625, 0.01611328125, 0.0029754638671875, 0.03076171875, -0.038818359375, 0.0159912109375, -0.025146484375, -0.031494140625, 0.01409912109375, 0.00787353515625, -0.0230712890625, 0.01287841796875, 0.04248046875, 0.0089111328125, -0.019287109375, -0.031494140625, -0.050537109375, 0.0172119140625, 0.01055908203125, -0.00152587890625, 0.033203125, 0.06005859375, 0.048095703125, 0.040771484375, 0.0096435546875, 0.001800537109375, 0.033935546875, -0.014404296875, 0.001312255859375, 0.010986328125, 0.056396484375, 0.0157470703125, 0.036865234375, -0.042236328125, -0.01019287109375, -0.0133056640625, 0.021728515625, -0.0096435546875, -0.00087738037109375, -0.05322265625, -0.00078582763671875, 0.04296875, 0.03369140625, 0.004913330078125, 0.03466796875, 0.01019287109375, 0.01220703125, 0.0269775390625, -0.0771484375, 0.0018768310546875, 0.01953125, -0.00750732421875, -0.0244140625, 0.017822265625, 0.019287109375, -0.018310546875, 0.002593994140625, -0.05810546875, 0.0269775390625, 0.00013446807861328125, -0.027099609375, -0.01019287109375, -0.0322265625, 0.008544921875, -0.0164794921875, -0.0498046875, -0.0133056640625, -0.01556396484375, -0.00078582763671875, 0.016845703125, 0.00970458984375, 0.0400390625, 0.04443359375, 0.0228271484375, -0.0033721923828125, 0.0439453125, 0.032470703125, -0.07958984375, 0.0208740234375, -0.02978515625, -0.005035400390625, 0.029541015625, -0.03125, -0.00750732421875, 0.019775390625, -6.151199340820312e-05, -0.017822265625, 0.021240234375, -0.02978515625, 0.02197265625, -0.00750732421875, -0.045654296875, 0.025146484375, -0.024658203125, 0.0284423828125, 0.0126953125, -0.046142578125, 0.01385498046875, -0.0023345947265625, 0.030029296875, -0.000514984130859375, 0.009033203125, -0.030029296875, -0.0830078125, 0.041748046875, -0.04248046875, 0.05859375, 0.02880859375, 0.005950927734375, -0.02099609375, -0.016845703125, -0.0189208984375, -0.0233154296875, 0.039794921875, 0.0002117156982421875, -0.05419921875, -0.05712890625, 0.0361328125, 0.037353515625, -0.0142822265625, 0.04931640625, 0.055908203125, 0.00994873046875, -0.06494140625, -0.0498046875, 0.0057373046875, -0.01519775390625, -0.00445556640625, 0.012451171875, 0.027099609375, -0.0225830078125, 0.049560546875, -0.01409912109375, 0.091796875, 0.00689697265625, 0.00144195556640625, 0.0262451171875, -0.007720947265625, 0.010498046875, 0.030029296875, -0.01708984375, -0.0289306640625, 0.0220947265625, -0.028076171875, -0.021240234375, 0.02880859375, 0.0211181640625, 0.030029296875, 0.0172119140625, -0.021240234375, 0.01470947265625, -0.0517578125, -0.0230712890625, -0.0272216796875, -0.0224609375, -0.005035400390625, -0.049560546875, 0.01470947265625, 0.021240234375, -0.055419921875, 0.00921630859375, -0.03515625, -0.036865234375, -0.07373046875, 0.022216796875, -0.0269775390625, 0.036865234375, 0.02294921875, 0.00811767578125, -0.0167236328125, 0.00531005859375, 0.0033721923828125, 0.0198974609375, 0.026611328125, -0.03466796875, -0.037841796875, -0.0625, 0.0106201171875, 0.0712890625, -0.00360107421875, 0.036376953125, -0.0072021484375, 0.00994873046875, -0.00787353515625, -0.002105712890625, -0.00787353515625, 0.031494140625, -0.005615234375, 0.0203857421875, 0.003936767578125, 0.00946044921875, 0.0189208984375, 0.00445556640625, 0.0234375, -0.05419921875, 0.000644683837890625, 0.0034332275390625, 0.0142822265625, 0.00021457672119140625, 0.00360107421875, -0.017578125, 0.003936767578125, 0.009033203125, -0.0125732421875, -0.02099609375, 0.00738525390625, -0.0089111328125, 0.010498046875, -0.04296875, -0.01953125, 0.06640625, 0.031494140625, -0.006011962890625, -0.040771484375, -0.0244140625, -0.0145263671875, -0.0140380859375, -0.005401611328125, 0.0615234375, 0.05712890625, -0.021728515625, -0.0159912109375, 0.0224609375, -0.0390625, -0.0140380859375, -0.02880859375, -0.005859375, 0.00933837890625, 0.000308990478515625, 0.0198974609375, 0.026123046875, -0.00057220458984375, -0.017822265625, -0.0054931640625, -0.0162353515625, 0.002227783203125, 0.00811767578125, -0.02587890625, -0.00439453125, -0.0186767578125, 0.01080322265625, -0.0277099609375, -0.05859375, 0.0303955078125, 0.050537109375, 0.0322265625, -0.0167236328125, 0.01141357421875, -0.0238037109375, 0.01007080078125, 0.036376953125, 0.0224609375, -0.0234375, 0.02587890625, 0.015625, 0.0020751953125, 0.046630859375, 0.05419921875, 0.0146484375, 0.04345703125, -0.007354736328125, 0.00201416015625, -0.053466796875, -0.05322265625, -0.043212890625, -0.0247802734375, -0.0169677734375, 0.036376953125, -0.0002079010009765625, -0.048828125, -0.03662109375, -0.011474609375, -0.00164031982421875, 0.00909423828125, -0.00787353515625, -0.0264892578125, -0.00390625, -0.044189453125, 0.04443359375, -0.00060272216796875, -0.083984375, -0.0299072265625, -0.0308837890625, -0.0023040771484375, 0.017578125, -0.010986328125, -0.05126953125, -0.07666015625, 0.0140380859375, 0.03369140625, -0.0108642578125, -0.01007080078125, -0.025634765625, -0.007049560546875, -0.032470703125, 0.037353515625, 0.01019287109375, 0.031982421875, 0.0126953125, 0.03515625, 0.05078125, -0.030029296875, 0.021728515625, 0.0390625, 0.0169677734375, -0.009765625, 0.029296875, -0.008056640625, -0.009765625, 0.040771484375, 0.0033416748046875, -0.0294189453125, 0.0036163330078125, 0.033447265625, 0.039794921875, -0.001861572265625, -0.0164794921875, -0.061279296875, 0.032470703125, 0.0201416015625, 0.0027008056640625, -0.000858306884765625, -0.046142578125, 0.053466796875, 0.03466796875, 0.0279541015625, 0.044189453125, -0.053466796875, -0.025146484375, -0.01312255859375, 0.0016326904296875, 0.01165771484375, 0.038330078125, 0.0439453125, 0.0390625, -0.02587890625, -0.01953125, -0.030029296875, -0.0299072265625, 0.01104736328125, -0.0361328125, -0.0274658203125, -0.0272216796875, 0.05322265625, 0.0004863739013671875, 0.03173828125, -0.03466796875, -0.040771484375, 0.0247802734375, 0.0103759765625, -0.072265625, -0.02294921875, -0.015380859375, -0.040283203125, -0.06005859375, 0.008056640625, 0.0233154296875, -0.00067138671875, 0.011962890625, -0.02001953125, 0.0238037109375, -0.037841796875, -0.01239013671875, -0.028564453125, 0.01470947265625, -0.061767578125, -0.0272216796875, -0.0107421875, -0.0712890625, -0.0234375, 0.009033203125, 0.042236328125, -0.0244140625, 0.025146484375, -0.0015716552734375, 0.01953125, 0.0272216796875, 0.00054931640625, 0.00750732421875, 0.0262451171875, 0.0016326904296875, 0.0135498046875, 0.03662109375, 0.00830078125, 0.02978515625, 0.030029296875, -0.028076171875, 0.0157470703125, 0.0072021484375, 0.1005859375, -0.005096435546875, 0.047607421875, 0.00689697265625, -0.0040283203125, -0.03564453125, 0.0111083984375, 0.001373291015625, 0.01397705078125, -0.003082275390625, -0.0106201171875, -0.007781982421875, -0.0137939453125, -0.0064697265625, 0.0123291015625, 0.01214599609375, 0.041748046875, -3.0040740966796875e-05, -0.017822265625, -0.00823974609375, -0.056884765625, -0.0703125, -0.0029449462890625, 0.017822265625, -0.053466796875, 0.037841796875, -0.03564453125, -0.0234375, -0.08642578125, -0.03662109375, -0.024658203125, 0.012939453125, 0.0244140625, 0.043212890625, 0.0054931640625, -0.0089111328125, -0.0189208984375, -0.087890625, 0.0048828125, -0.0274658203125, 0.01220703125, -0.000194549560546875, -0.02197265625, -0.0108642578125, -0.0125732421875, -0.00113677978515625, 0.00848388671875, 0.03955078125, -0.05078125, 0.01446533203125, 0.0150146484375, 0.00677490234375, -0.0025482177734375, -0.0029144287109375, -0.0111083984375, 0.02587890625, 0.0517578125, 0.0478515625, -0.00726318359375, -0.008056640625, 0.0072021484375, 0.0023345947265625, -0.0084228515625, 0.01019287109375, -0.0234375, -0.0673828125, 0.01385498046875, 0.05029296875, -0.0040283203125, -0.02880859375, 0.0159912109375, 0.062255859375, 0.06396484375, -0.0272216796875, 0.01519775390625, 0.0244140625, -0.03125, -0.021240234375, 0.0037384033203125, -0.0517578125, -0.025390625, 0.0010833740234375, 0.024658203125, 0.0206298828125, 0.0201416015625, -0.0252685546875, 0.00946044921875, 0.01043701171875, -0.040771484375, 0.045654296875, -0.027587890625, 0.03369140625, -0.0111083984375, -0.005645751953125, 0.0125732421875, -0.045166015625, -0.00023937225341796875, 0.006622314453125, -0.072265625, 0.038330078125, -0.0203857421875, 0.0341796875, -0.006011962890625, -0.016357421875, 0.0274658203125, -0.05419921875, -0.05078125, -0.0289306640625, -0.0042724609375, -0.00537109375, 0.0888671875, 0.003936767578125, -0.0186767578125, 0.0294189453125, -0.0123291015625, 0.036865234375, -0.043212890625, -0.01153564453125, 0.0211181640625, 0.004730224609375, -0.00787353515625, -0.012939453125, -0.06787109375, 0.0001678466796875, -0.0262451171875, 0.0172119140625, -0.0703125, 0.01220703125, -0.00148773193359375, -0.02197265625, -0.0181884765625, 0.03076171875, -0.03662109375, 0.01531982421875, 0.064453125, 0.07568359375, 0.01214599609375, -0.0147705078125, -0.0712890625, 0.0125732421875, -0.027099609375, -0.00518798828125, 0.0012054443359375, 0.01202392578125, 0.0133056640625, -0.0419921875, 0.046142578125, -0.01336669921875, -0.02880859375, -0.007049560546875, -0.0267333984375, 0.00665283203125, 0.03955078125, -0.078125, 0.060791015625, -0.01202392578125, 0.001312255859375, -0.048583984375, -0.0306396484375, 0.0017852783203125, 0.00701904296875, -0.051513671875, 0.00970458984375, -0.03466796875, 0.0615234375, -0.0098876953125, -0.006866455078125, 0.00439453125, 0.0135498046875, -0.01312255859375, -0.028076171875, -0.01422119140625, -0.0272216796875, 0.047607421875, 0.01190185546875, -0.05859375, -0.01495361328125, 0.0108642578125, -0.046142578125, -0.040771484375, 0.0257568359375, -0.037353515625, -0.0164794921875, 0.0220947265625, 0.0091552734375, 0.040771484375, -0.0108642578125, 0.0240478515625, -0.012939453125, -0.025390625, -0.0009613037109375, 0.0186767578125, -0.01312255859375, 0.0216064453125, 0.04345703125, 0.0029449462890625, 4.738569259643555e-06, -0.0732421875, -0.0419921875, -0.00148773193359375, -0.01263427734375, -0.048828125, -0.017578125, -0.00994873046875, 0.01190185546875, -0.0247802734375, 0.0189208984375, 0.0098876953125, 0.037353515625, 0.00180816650390625, 0.0189208984375, -0.031982421875, 0.0020904541015625, -0.005950927734375, 0.006744384765625, -0.064453125, 0.0272216796875, -0.017333984375, 0.046142578125, -0.0189208984375, 0.01153564453125, -0.05615234375, 0.03515625, 0.01348876953125, 0.0142822265625, -0.009033203125, 0.051513671875, -0.01080322265625, 0.01177978515625, -0.0419921875, -0.0230712890625, 0.004974365234375, -0.06884765625, 0.0400390625, -0.0203857421875, 0.046875, 0.0004329681396484375, 0.037353515625, 0.0247802734375, -0.006683349609375, -0.0439453125, -0.00101470947265625, -0.0517578125, 0.0016326904296875, 0.04931640625, 0.0279541015625, -0.03515625, -0.01055908203125, -0.00946044921875, -0.00012874603271484375, -0.000415802001953125, 0.02880859375, -0.0157470703125, 0.057861328125, 0.031982421875, 0.0150146484375, -0.03369140625, 0.0419921875, 0.0164794921875, 0.061767578125, 0.019775390625, -0.0703125, -0.0194091796875, 0.0289306640625, -0.00518798828125, -0.014892578125, 0.038818359375, -0.0164794921875, 0.012939453125, 0.0087890625, 0.005401611328125, -0.0026397705078125, 0.0478515625, -0.017822265625, -0.0186767578125, 0.0057373046875, 0.0242919921875, -0.01513671875, 0.0289306640625, 0.002410888671875, -0.02587890625, 0.07470703125, 0.03125, -0.040283203125, -0.0206298828125, 0.036376953125, 0.0002841949462890625, 0.003326416015625, 0.01287841796875, 0.00799560546875, 0.0142822265625, -0.03076171875, -0.007659912109375, 0.00994873046875, 0.0166015625, -0.01019287109375, 0.0211181640625, -0.017578125, 0.012451171875, 0.0103759765625, -0.01141357421875, 0.0284423828125, -0.01422119140625, -0.034423828125, 0.053466796875, 0.02880859375, -0.0157470703125, -0.014404296875, 0.002166748046875, 0.01165771484375, -0.01806640625, 0.0361328125, 0.017822265625, 0.006195068359375, 0.014404296875, 0.00958251953125, -0.047119140625, -0.0458984375, 0.05712890625, 0.04150390625, 0.016845703125, -0.0166015625, -0.05712890625, 0.004974365234375, -0.0247802734375, 0.078125, 0.05419921875, 0.0211181640625, 0.0400390625, 0.000652313232421875, 0.038818359375, -0.025146484375, 0.0164794921875, -0.0216064453125, -0.01544189453125, 0.03369140625, -0.0089111328125, -0.027587890625, 0.0234375, 0.01397705078125, -0.00994873046875, -0.025390625, -0.00823974609375, 0.03173828125, 0.0157470703125, 0.05712890625, 0.0634765625, -0.05419921875, 0.026611328125, -0.026611328125, -0.0712890625, 0.017578125, 0.01055908203125, 0.0012054443359375, -0.020751953125, -0.0196533203125, -0.047607421875, -0.0191650390625, -0.038330078125, -0.017578125, -0.00555419921875, -0.03173828125, -0.021240234375, -0.0086669921875, -0.038330078125, -0.042236328125, 0.046630859375, 0.0228271484375, -0.0098876953125, 0.028076171875, -0.028076171875, -0.01080322265625, -0.0206298828125, -0.0284423828125, 0.01361083984375, 0.041259765625, -0.0157470703125, 0.021240234375, 0.01806640625, 7.677078247070312e-05, 0.06689453125, -0.0206298828125, -0.019775390625, 0.053466796875, -0.033203125, -0.0126953125, -0.000492095947265625, -0.04150390625, 0.016845703125, 0.0076904296875, -0.01190185546875, -0.0186767578125, -0.0186767578125, 0.0172119140625, -0.045654296875, 0.01544189453125, 0.03125, 0.01422119140625, 0.0194091796875, -0.0216064453125, 0.02880859375, 0.02392578125, 0.061767578125, 0.00299072265625, 0.0013885498046875, 0.003631591796875, -0.007659912109375, 0.0272216796875, -0.005157470703125, 0.00543212890625, -0.061279296875, -0.054931640625, -0.0302734375, 0.05126953125, 0.0023040771484375, -0.0142822265625, -0.0140380859375, 0.030029296875, 0.005767822265625, 0.02880859375, 0.03466796875, -0.0021514892578125, -0.030029296875, 0.0859375, -0.014404296875, -0.0133056640625, -0.00170135498046875, 0.052490234375, -0.01043701171875, 0.014404296875, -0.007720947265625, -0.0125732421875, 0.0830078125, 0.058837890625, 0.037353515625, -0.0002956390380859375, -0.03564453125, 0.0341796875, 0.038330078125, 0.006927490234375, 0.03564453125, -0.0208740234375, -0.0166015625, -0.06298828125, -0.0137939453125, -0.0302734375, 0.0234375, 0.0712890625, 0.01513671875, 0.0341796875, 0.0277099609375, 0.031982421875, -0.0020599365234375, 0.02587890625, -0.0033416748046875, -0.01470947265625, -0.01171875, -0.045166015625, 0.016845703125, -0.048583984375, 0.02197265625, -0.0181884765625, -0.0220947265625, 0.0595703125, -0.043212890625, -0.021728515625, -0.0162353515625, 0.0130615234375, 0.0164794921875, -0.02978515625, 0.00958251953125, -0.0576171875, 0.03466796875, 0.0019683837890625, -0.0052490234375, 0.0341796875, -0.03564453125, -0.0203857421875, 0.0019683837890625, -0.0439453125, -0.022216796875, -0.02978515625, -0.01171875]}, {"key": "data/images/6.png", "width": 1786, "height": 2526, "embedding": [0.0186767578125, 0.0198974609375, 0.080078125, 0.0302734375, 0.03125, -0.0206298828125, 0.00194549560546875, 0.026611328125, -0.01611328125, 0.00811767578125, -0.020751953125, -0.026611328125, 0.0230712890625, -0.01373291015625, 0.041259765625, -0.02783203125, -0.0361328125, -0.025146484375, 0.012451171875, -0.01141357421875, 0.038818359375, -0.0133056640625, 0.049560546875, -0.07470703125, -0.030517578125, 0.03369140625, -0.033203125, -0.0169677734375, -0.004791259765625, -0.06298828125, -0.034912109375, -0.0634765625, 0.003936767578125, 0.02197265625, 0.02685546875, -0.0169677734375, 0.010009765625, 0.00628662109375, 0.01397705078125, -0.006103515625, -0.0228271484375, -0.05224609375, -0.033935546875, 0.0186767578125, -0.04443359375, -0.0228271484375, -0.060791015625, 0.0308837890625, -0.0257568359375, -0.0341796875, -0.031494140625, -0.032958984375, -0.0198974609375, -0.0277099609375, -0.0098876953125, 0.02783203125, -0.01141357421875, 0.004791259765625, -0.006103515625, -0.0174560546875, -0.003631591796875, 0.02734375, -0.0322265625, 0.0084228515625, 0.0244140625, 0.023681640625, 0.0693359375, -0.047119140625, -0.00080108642578125, 0.000415802001953125, -0.022216796875, -0.0177001953125, 0.0081787109375, -0.0279541015625, 0.0240478515625, 0.041015625, -0.04736328125, -0.000911712646484375, -0.0291748046875, -0.025146484375, -0.017822265625, 0.0115966796875, -0.0166015625, -0.030517578125, 0.004119873046875, -0.0135498046875, 0.023193359375, -0.00119781494140625, -0.006011962890625, 0.00494384765625, -0.0240478515625, 0.039306640625, 0.051513671875, 0.039794921875, -0.01287841796875, -0.03515625, -0.05712890625, 0.03125, 0.034912109375, -0.0162353515625, -0.037353515625, -0.023193359375, 0.033203125, -0.01202392578125, 0.05712890625, -0.02734375, 0.060546875, -0.0308837890625, -0.048828125, 0.0172119140625, 0.003143310546875, -0.0247802734375, -0.010986328125, -0.035400390625, -0.0361328125, -0.01806640625, 0.0361328125, 0.0189208984375, 0.0113525390625, 0.016845703125, -0.054931640625, -0.04150390625, -0.0242919921875, -0.0062255859375, 0.03466796875, -0.0228271484375, 0.0126953125, -0.034423828125, 0.03759765625, -0.01300048828125, -0.01220703125, 0.023681640625, -0.0111083984375, 0.064453125, -0.0033721923828125, -0.025634765625, 0.0228271484375, 0.009033203125, -0.035400390625, -0.0308837890625, -0.0673828125, -0.0024261474609375, 0.02490234375, 0.0174560546875, 0.0308837890625, -0.0732421875, -0.0172119140625, 0.0062255859375, -0.00099945068359375, 0.0281982421875, -0.003570556640625, -0.0087890625, 0.0225830078125, -0.005340576171875, 0.060546875, 0.05126953125, -0.01434326171875, 0.01312255859375, 0.00555419921875, -0.04296875, -0.0023956298828125, 0.04052734375, -0.005706787109375, -0.017578125, 0.043212890625, -0.003143310546875, -0.01513671875, -0.006103515625, -0.0673828125, 0.00726318359375, -0.0245361328125, -0.014404296875, -0.023681640625, -0.026123046875, -0.00015544891357421875, 0.0032806396484375, 0.0174560546875, 0.0098876953125, 0.004791259765625, -0.05419921875, -0.015869140625, -0.0150146484375, 0.034423828125, 0.0281982421875, 0.0177001953125, -0.015869140625, -0.028564453125, -0.0069580078125, -0.043701171875, -0.0133056640625, -0.0142822265625, 0.019775390625, -0.00063323974609375, 0.025390625, 0.004974365234375, 0.0021820068359375, 0.02734375, -0.03662109375, 0.034423828125, 0.03173828125, -0.059326171875, 0.046142578125, 0.0191650390625, 0.01239013671875, -0.033203125, 0.01324462890625, -0.02099609375, -0.04150390625, 0.00628662109375, -0.03173828125, 0.00970458984375, -0.01068115234375, 0.023681640625, 0.0159912109375, -0.00106048583984375, -0.03564453125, -0.031494140625, 0.045166015625, 0.0177001953125, 0.022216796875, 0.00958251953125, 0.006988525390625, -0.01153564453125, 0.0024261474609375, -0.0208740234375, 0.020263671875, -0.00946044921875, 0.062255859375, 0.0576171875, -0.051513671875, 0.037353515625, -0.0194091796875, -0.00970458984375, 0.0311279296875, -0.048095703125, 0.0072021484375, 0.0400390625, -0.05419921875, 0.039794921875, -0.022705078125, 0.045654296875, 0.02734375, -0.0299072265625, -0.0198974609375, -0.0007476806640625, 0.01544189453125, 0.01177978515625, 0.015869140625, -0.01220703125, -0.0023345947265625, -0.05419921875, -0.033447265625, -0.004302978515625, -0.006072998046875, -0.01263427734375, 0.002685546875, 0.038818359375, -0.03662109375, 0.0308837890625, 0.038330078125, 0.0218505859375, -0.0186767578125, -0.006072998046875, -0.0247802734375, -0.0177001953125, 0.0062255859375, 0.004669189453125, -0.028564453125, -0.02490234375, 0.008544921875, -0.00994873046875, -0.039794921875, -0.0026702880859375, 0.01348876953125, -0.05322265625, -0.051513671875, -0.0011444091796875, 0.038330078125, 0.0084228515625, -0.04736328125, -0.0027313232421875, 0.0240478515625, 0.00384521484375, 0.03369140625, -0.03515625, 0.03173828125, 0.06103515625, 0.01025390625, 0.03173828125, 0.0247802734375, 0.041015625, 0.04443359375, -0.0225830078125, 0.00084686279296875, 0.05908203125, 0.002532958984375, -0.0361328125, -0.03369140625, -0.005645751953125, 0.0174560546875, 0.000461578369140625, -0.029541015625, 0.0211181640625, -0.0240478515625, 0.0162353515625, -0.0625, -0.000675201416015625, -0.0159912109375, 0.002532958984375, -0.0206298828125, -0.056396484375, -0.0108642578125, -0.0294189453125, -0.0634765625, 0.026611328125, -0.03662109375, 0.061767578125, -0.0252685546875, -0.02880859375, -0.004425048828125, 0.001983642578125, -0.006134033203125, -0.0059814453125, 0.0223388671875, 0.0247802734375, -0.0108642578125, -0.0341796875, -0.030517578125, -0.0157470703125, -0.00677490234375, 0.011962890625, -0.038330078125, 0.0084228515625, -0.046142578125, -0.0341796875, 0.0159912109375, -0.0079345703125, 0.000713348388671875, 0.05322265625, 0.006561279296875, 0.03466796875, 0.044677734375, 0.037841796875, 0.0028533935546875, 0.043701171875, -0.0279541015625, -0.09033203125, 0.0235595703125, 0.0027008056640625, -0.0152587890625, -0.039306640625, 0.03662109375, -0.039306640625, 0.00193023681640625, -0.0196533203125, 0.03173828125, 0.0269775390625, 0.05908203125, 0.011962890625, 0.0118408203125, -0.0264892578125, -0.01031494140625, 0.09130859375, -0.0191650390625, -0.064453125, -0.06005859375, -0.0546875, -0.0174560546875, 0.034423828125, 0.01043701171875, 0.08642578125, 0.00103759765625, 0.000762939453125, -0.0693359375, -0.0169677734375, -0.01556396484375, -0.0240478515625, -0.0751953125, -0.0091552734375, 0.04345703125, -0.055419921875, 0.015625, 0.0400390625, -0.002777099609375, 0.055908203125, -0.00787353515625, -0.015869140625, -0.006103515625, 0.017822265625, 0.01806640625, -0.01483154296875, -0.038818359375, 0.037109375, -0.017822265625, -0.0198974609375, 0.0166015625, 0.037109375, 0.0194091796875, 0.044677734375, 0.00506591796875, 0.0004730224609375, 0.0152587890625, 0.00421142578125, -0.005889892578125, 0.0228271484375, -0.0286865234375, 0.025146484375, -0.030029296875, -0.002349853515625, 0.051513671875, -0.017333984375, 0.043701171875, 0.00193023681640625, 0.01556396484375, -0.058349609375, -0.0091552734375, -0.038330078125, 0.00537109375, 0.0036468505859375, -0.0145263671875, 0.02880859375, -0.0537109375, -0.06396484375, -0.013427734375, 0.05810546875, -0.004669189453125, 0.005767822265625, -0.03466796875, 0.058837890625, 0.017822265625, 0.0208740234375, 0.01116943359375, -0.0069580078125, 0.0252685546875, 0.0242919921875, -0.021484375, 0.0400390625, -0.05322265625, -0.0537109375, -0.05419921875, 0.041748046875, 0.02197265625, -0.03173828125, 0.00872802734375, -0.04443359375, -0.043701171875, -0.003631591796875, 0.0052490234375, 0.041015625, -0.03662109375, 0.034912109375, 0.0291748046875, 0.016845703125, -0.07568359375, 0.0341796875, 0.027099609375, -0.0240478515625, 0.01806640625, 0.010986328125, -0.0186767578125, -0.022705078125, 0.021484375, 0.002288818359375, 0.044677734375, 0.02392578125, -0.022705078125, 0.03369140625, -0.00860595703125, -0.023681640625, -0.037109375, 0.0081787109375, 0.0174560546875, -0.032470703125, -0.0576171875, -0.04443359375, 0.006134033203125, 0.0302734375, 0.062255859375, 0.01043701171875, -0.0693359375, -0.00628662109375, 0.050537109375, -0.0223388671875, -0.01116943359375, 0.07470703125, 0.000774383544921875, -0.00567626953125, -0.030517578125, 0.00124359130859375, -0.0169677734375, -0.000751495361328125, 0.02685546875, -0.06396484375, -0.0296630859375, -0.06591796875, -0.03515625, 0.041748046875, 0.0303955078125, -0.0291748046875, -0.09228515625, 0.0302734375, -0.00092315673828125, 0.00396728515625, -0.02734375, -0.02392578125, -0.025390625, -0.0279541015625, -0.01513671875, -0.01287841796875, -0.0172119140625, 0.0111083984375, -0.017822265625, 0.0230712890625, -0.03125, 0.03369140625, 0.005645751953125, 0.00396728515625, 0.0125732421875, -0.0135498046875, -0.0191650390625, -0.049072265625, -0.034912109375, -0.004730224609375, 0.01239013671875, -0.03759765625, 0.0050048828125, -0.00665283203125, -0.00848388671875, -0.04052734375, 0.0247802734375, -0.023681640625, -0.0001811981201171875, -0.0240478515625, 0.01312255859375, 0.037841796875, -0.00738525390625, 0.042724609375, 0.0439453125, -0.0026702880859375, 0.0303955078125, -0.0234375, 0.051513671875, 0.026611328125, -0.0101318359375, 0.0419921875, 0.00970458984375, -0.022705078125, -0.023193359375, 0.03662109375, 0.0010833740234375, 0.034912109375, 0.0157470703125, -0.016357421875, 0.016845703125, -0.042724609375, 0.044677734375, 0.01373291015625, 0.10498046875, 0.045654296875, -0.0133056640625, -0.0252685546875, -0.05224609375, -0.0419921875, 0.04736328125, -0.0159912109375, -0.013671875, 0.0113525390625, 0.056640625, 0.01220703125, 0.02490234375, -0.0245361328125, 0.016845703125, -0.007049560546875, -0.00360107421875, 0.01171875, 0.031494140625, 0.04541015625, -0.01519775390625, -0.053955078125, 0.048095703125, -0.0186767578125, 0.00836181640625, 0.0283203125, 0.03271484375, -0.02783203125, 0.02197265625, -0.0216064453125, 0.0242919921875, 0.05712890625, -0.003936767578125, -0.029052734375, -0.0279541015625, 0.033203125, -0.0247802734375, 0.0189208984375, -0.016845703125, -0.0067138671875, 0.052490234375, 0.03955078125, 0.00408935546875, -0.04541015625, 0.022216796875, -0.0208740234375, 0.07080078125, 0.0498046875, 0.0034942626953125, -0.047119140625, 0.01708984375, 0.048583984375, -1.5974044799804688e-05, 0.0498046875, 0.0260009765625, -0.031982421875, 0.01458740234375, 0.007476806640625, 0.023681640625, -0.01434326171875, -0.045654296875, 0.0361328125, -0.017333984375, -0.052001953125, -0.026611328125, 0.030029296875, 0.042236328125, -0.00982666015625, -0.0216064453125, -0.0020751953125, 0.000881195068359375, 0.013671875, -0.06884765625, 0.037109375, -0.057373046875, -0.00185394287109375, 0.005279541015625, 0.00360107421875, 0.0277099609375, -0.033203125, 0.0020751953125, -0.023681640625, -0.0281982421875, 0.0108642578125, -0.01806640625, 0.050537109375, 0.04052734375, -0.0040283203125, 0.0091552734375, -0.001495361328125, -0.049072265625, -0.015869140625, 0.0037994384765625, 0.0023193359375, 0.006072998046875, 0.0086669921875, 0.0218505859375, 0.00885009765625, -0.0225830078125, 0.03173828125, 0.059814453125, -0.055908203125, 0.000621795654296875, 0.03125, 0.00830078125, -0.045654296875, -0.0791015625, -0.004669189453125, -0.0262451171875, 0.04052734375, -0.0361328125, 0.0108642578125, 0.033203125, -0.048828125, -0.0091552734375, -0.000865936279296875, -0.0296630859375, 0.00579833984375, -0.0037384033203125, 0.0634765625, 0.05419921875, -0.014404296875, -0.0025634765625, -0.005462646484375, 0.034912109375, -0.00640869140625, -0.00970458984375, -0.031982421875, -0.0133056640625, -0.053955078125, 0.04052734375, -0.00139617919921875, -0.00811767578125, -0.03955078125, -0.061767578125, -0.055908203125, -0.03271484375, -0.038330078125, 0.0361328125, -0.048095703125, -0.026611328125, -0.0191650390625, 0.0228271484375, 0.0277099609375, 0.007568359375, 0.009033203125, 0.0177001953125, -0.06494140625, 0.055419921875, -0.0322265625, -0.00083160400390625, 0.001983642578125, -0.0205078125, 0.00164031982421875, -0.0177001953125, -0.0015716552734375, -0.0133056640625, 0.01080322265625, 0.00213623046875, -0.037109375, 0.00457763671875, 0.02734375, -0.04638671875, -0.04150390625, 0.0018463134765625, 0.002288818359375, -0.0478515625, 0.02880859375, 0.00421142578125, 0.002288818359375, 0.05419921875, -0.02490234375, -0.006103515625, -0.033203125, 0.0242919921875, 0.033203125, -0.029541015625, 0.00885009765625, 0.0194091796875, -0.06884765625, -0.018310546875, -0.03662109375, -0.015625, -0.026611328125, -0.072265625, -0.0247802734375, -0.010498046875, -0.00360107421875, -0.00390625, -0.0262451171875, -0.008544921875, 0.0159912109375, 0.029052734375, 0.048828125, 0.000762939453125, 0.0208740234375, -0.031982421875, -0.06396484375, -0.033203125, -0.0257568359375, -0.00341796875, -0.0004367828369140625, 0.02685546875, 0.007476806640625, -0.01611328125, -0.0189208984375, -0.01544189453125, 0.0291748046875, 0.01287841796875, -0.002960205078125, 0.03369140625, -0.0732421875, 0.007781982421875, -0.0537109375, -0.01385498046875, -0.0024566650390625, -0.0712890625, -0.0111083984375, 0.0196533203125, 0.0223388671875, -0.0072021484375, 0.0274658203125, -0.000347137451171875, 0.000324249267578125, -0.037109375, -0.00160980224609375, -0.04638671875, 0.046142578125, 0.04443359375, 0.041015625, 0.0269775390625, -0.023681640625, 0.01220703125, -0.047119140625, -0.0166015625, 0.0260009765625, -0.0091552734375, 0.051513671875, -0.046142578125, 0.0101318359375, 0.03369140625, 0.04052734375, -0.005340576171875, 0.004150390625, -0.0011444091796875, -0.0478515625, -0.0093994140625, -0.0030517578125, 0.0419921875, 0.033447265625, 0.01080322265625, -0.00946044921875, -0.001739501953125, -0.031494140625, 0.0191650390625, 0.0076904296875, 0.0101318359375, -0.035400390625, 0.039306640625, -0.00872802734375, -0.005157470703125, -0.033203125, -0.020263671875, -0.030029296875, -0.026611328125, 0.0625, 0.002288818359375, -0.023681640625, 0.0257568359375, 0.0498046875, -0.04443359375, 0.0003204345703125, -0.0028533935546875, 0.01239013671875, 0.01495361328125, -0.0162353515625, -0.0186767578125, 0.0003833770751953125, -0.004669189453125, 0.0166015625, 0.00592041015625, 0.0125732421875, 0.039306640625, 0.00494384765625, 0.052978515625, -0.045654296875, -0.010498046875, -0.0169677734375, 0.06689453125, 0.04541015625, -0.0244140625, -0.0281982421875, -0.05322265625, -0.01806640625, -0.0002613067626953125, 0.0400390625, 0.06591796875, 0.030517578125, -0.0020751953125, 0.00506591796875, -0.0225830078125, -0.051513671875, 0.00592041015625, 0.033203125, 0.02734375, 0.056396484375, -0.0308837890625, -0.03466796875, -0.00183868408203125, 0.048828125, 0.041015625, -0.0107421875, 0.0018768310546875, -0.0024261474609375, 0.03662109375, 0.03955078125, 0.07421875, -0.0185546875, -0.0172119140625, -0.0185546875, 0.0177001953125, -0.0302734375, 0.0244140625, 0.000522613525390625, 0.0081787109375, -0.0172119140625, -0.01806640625, 0.0277099609375, 0.045654296875, -0.0308837890625, 0.045166015625, 0.000934600830078125, 0.0023956298828125, -0.017333984375, -0.0194091796875, -0.0257568359375, -0.041259765625, 0.048095703125, 0.0291748046875, -0.00162506103515625, -0.029052734375, 0.0186767578125, -0.023681640625, 0.0189208984375, 0.02490234375, 0.0252685546875, -0.041259765625, -0.0018768310546875, -0.0126953125, -0.0419921875, 0.04296875, 0.033203125, -0.0166015625, -0.04150390625, 0.0274658203125, -0.006134033203125, -0.0264892578125, 0.0211181640625, 0.0166015625, 0.01116943359375, 0.01080322265625, 0.02734375, -0.025146484375, -0.04150390625, 0.05322265625, -0.023193359375, 0.0361328125, 0.031982421875, -0.003814697265625, -0.0228271484375, 0.0133056640625, -0.002105712890625, 0.035400390625, 0.0084228515625, -0.007354736328125, 0.0186767578125, 0.0240478515625, -0.00168609619140625, -0.048095703125, -0.00799560546875, 0.0162353515625, 0.01544189453125, 0.0010528564453125, -0.00494384765625, 0.0177001953125, 0.0810546875, 0.04443359375, 0.035400390625, 0.0257568359375, -0.04150390625, -0.061767578125, -0.01806640625, -0.00640869140625, -0.0010528564453125, -0.030029296875, -0.03271484375, 0.006134033203125, -0.00193023681640625, 0.0101318359375, -0.004974365234375, -0.03662109375, 0.0036773681640625, -0.016845703125, 0.0021514892578125, -0.005157470703125, -0.0162353515625, 0.052978515625, 0.05908203125, 0.0084228515625, 0.04443359375, 0.0556640625, 0.04345703125, -0.006011962890625, 0.01324462890625, 0.0242919921875, -0.06103515625, 0.057373046875, 0.06396484375, 0.0308837890625, -0.005859375, -0.0038604736328125, 0.03662109375, -0.0247802734375, 0.00872802734375, -0.007720947265625, 0.00171661376953125, -0.03466796875, -0.0208740234375, -0.025146484375, -0.017333984375, 0.01239013671875, 0.0673828125, -0.008056640625, 0.0274658203125, -0.0260009765625, -0.0205078125, 0.00457763671875, -0.0013580322265625, -0.0068359375, 0.042236328125, 0.023193359375, -0.0277099609375, 0.0245361328125, -0.016845703125, 0.06298828125, -0.0576171875, -0.022216796875, 0.0091552734375, -0.0050048828125, -0.04296875, 0.003204345703125, 0.03125, 0.003997802734375, -0.0228271484375, -0.029541015625, 0.00946044921875, -0.00421142578125, -0.014404296875, -0.039794921875, 0.031494140625, -0.022705078125, -0.0101318359375, 0.0264892578125, -0.05419921875, 0.0223388671875, -0.03173828125, -0.046875]}, {"key": "data/images/7.png", "width": 1786, "height": 2526, "embedding": [0.016845703125, 0.01904296875, 0.07666015625, 0.005950927734375, 0.0150146484375, -0.035888671875, 0.00421142578125, 0.0167236328125, 0.013671875, 0.003204345703125, -0.0220947265625, 0.01611328125, -0.016357421875, 0.0025177001953125, 0.0247802734375, -0.0022430419921875, -0.05712890625, -0.055419921875, 0.005950927734375, 0.001007080078125, 0.059326171875, -0.0069580078125, 0.01031494140625, -0.048583984375, -0.006500244140625, 0.0172119140625, -0.031494140625, -0.00762939453125, 0.02392578125, -0.01519775390625, -0.0179443359375, -0.0174560546875, 0.0390625, 0.0218505859375, 0.001007080078125, 0.025146484375, -0.04150390625, -0.0274658203125, 0.000148773193359375, -0.020751953125, -0.039794921875, -0.025634765625, -0.1005859375, -0.0198974609375, -0.004638671875, -0.00567626953125, 0.0009918212890625, -0.00060272216796875, 0.0029449462890625, -0.0250244140625, -0.01409912109375, -0.04150390625, -0.03466796875, -0.0966796875, 0.00182342529296875, 0.01495361328125, 0.01519775390625, -0.0174560546875, 0.0205078125, -0.00408935546875, -0.00860595703125, 0.01275634765625, -0.003997802734375, 0.0185546875, -0.01220703125, 0.0004863739013671875, 0.09033203125, -0.042236328125, 0.0157470703125, 0.0167236328125, -0.043701171875, -0.01263427734375, 0.01544189453125, -0.0341796875, 0.048583984375, -0.041015625, -0.050048828125, 0.00860595703125, -0.01556396484375, -0.0277099609375, -0.056640625, 0.0225830078125, -0.01385498046875, 0.005157470703125, 0.016845703125, 0.000858306884765625, 0.01434326171875, -0.07958984375, -0.0230712890625, 0.052978515625, -0.05126953125, 0.013427734375, 0.058837890625, 0.00347900390625, 0.01275634765625, -0.03515625, -0.05322265625, 0.04443359375, 0.0218505859375, -0.0084228515625, -0.01153564453125, -0.04443359375, 0.040283203125, -0.0101318359375, 0.036865234375, -0.043701171875, 0.04052734375, -0.0537109375, -0.03662109375, 0.031494140625, 0.0220947265625, -0.01556396484375, -0.029052734375, -0.06103515625, 0.0030517578125, -0.035400390625, 0.0211181640625, -0.002197265625, 0.0294189453125, 0.022705078125, -0.031982421875, -0.06396484375, -0.001739501953125, -0.022705078125, 0.044921875, -0.0087890625, 0.0031280517578125, -0.00799560546875, 0.000881195068359375, 0.000217437744140625, -0.00110626220703125, 0.0296630859375, 0.00146484375, 0.0322265625, 0.0186767578125, -0.02294921875, 0.0272216796875, 0.0263671875, -0.0260009765625, -0.0035858154296875, -0.00933837890625, -0.005645751953125, 0.02783203125, 0.0216064453125, 0.0247802734375, -0.021484375, -0.0157470703125, -0.000606536865234375, 0.00958251953125, 0.0341796875, -0.039794921875, 0.0194091796875, 0.00921630859375, -0.0084228515625, 0.028564453125, 0.0556640625, -0.0184326171875, 0.0283203125, 0.000331878662109375, -0.07080078125, -0.03369140625, -0.009765625, 0.0140380859375, 0.013671875, 0.04052734375, -0.0260009765625, -0.009521484375, -0.018798828125, -0.06396484375, 0.03369140625, -0.01171875, -0.03271484375, -0.01348876953125, 0.005889892578125, 0.0213623046875, 0.0303955078125, -0.005950927734375, 0.022705078125, 0.0269775390625, -0.047119140625, -0.0286865234375, -0.005615234375, 0.0021514892578125, 0.0201416015625, 0.0238037109375, -0.038818359375, -0.0263671875, -0.00506591796875, 0.01275634765625, 0.0014190673828125, -0.0157470703125, -0.032958984375, -0.026611328125, 0.0289306640625, 0.0103759765625, -0.000545501708984375, -0.0004825592041015625, 0.013916015625, 0.07763671875, 0.04833984375, -0.060546875, 0.0029449462890625, -0.002044677734375, -0.01068115234375, 0.0013427734375, 0.0128173828125, 0.007476806640625, -0.041259765625, 0.0087890625, 0.0390625, 0.056396484375, -0.01416015625, 0.028076171875, 0.034912109375, -0.022705078125, 0.0247802734375, -0.01556396484375, 0.0216064453125, -0.0157470703125, -0.0252685546875, -0.00537109375, -0.0242919921875, -0.04443359375, 0.0103759765625, 0.0025787353515625, 0.031494140625, 0.050048828125, 0.038818359375, 0.02783203125, -0.07373046875, 0.048583984375, 0.01611328125, -0.021484375, 0.0174560546875, -0.0277099609375, -0.00144195556640625, -0.00494384765625, -0.0283203125, -0.01007080078125, -0.0133056640625, -0.0294189453125, 0.0179443359375, -0.0242919921875, 0.047607421875, 0.0213623046875, 0.0264892578125, 0.0225830078125, 0.0286865234375, 0.0164794921875, 0.00836181640625, -0.02783203125, -0.036376953125, 0.0113525390625, -0.007171630859375, -0.02685546875, 0.00921630859375, 0.00185394287109375, -0.057373046875, 0.0286865234375, 0.031494140625, 0.004608154296875, 0.0140380859375, -0.044189453125, -0.032470703125, -0.044189453125, 0.036376953125, -0.031494140625, -0.0029449462890625, -0.022705078125, 0.041259765625, 0.025634765625, -0.01470947265625, 0.0390625, 0.0174560546875, -0.0150146484375, -0.0703125, -0.0235595703125, 0.0205078125, -0.0025787353515625, -0.0128173828125, 0.058837890625, 0.011962890625, -0.01025390625, 0.047119140625, 0.01153564453125, 0.0322265625, 0.03759765625, -0.0032958984375, 0.032470703125, 0.0172119140625, 0.04296875, 0.02783203125, -0.0224609375, 0.04931640625, 0.0263671875, 0.0234375, -0.00457763671875, -0.019775390625, -0.0260009765625, -0.0225830078125, -0.040771484375, -0.064453125, 0.017578125, -0.04296875, 0.04443359375, -0.04541015625, -0.0185546875, -0.01434326171875, 0.003753662109375, 0.01068115234375, 0.01434326171875, -0.0556640625, -0.005279541015625, -0.0458984375, -0.016845703125, -0.0220947265625, 0.052978515625, -0.0272216796875, -0.01953125, -0.028564453125, 0.035400390625, -0.00087738037109375, -0.0035858154296875, 0.006103515625, 0.031982421875, -0.013916015625, -0.0098876953125, -0.036376953125, 0.0001049041748046875, 0.005767822265625, 0.0390625, 0.0018768310546875, 0.03076171875, -0.0174560546875, -0.020263671875, -0.0252685546875, 0.018798828125, 0.0181884765625, 0.015869140625, 0.0281982421875, 0.05810546875, 0.009765625, 0.048828125, 0.01470947265625, 0.031982421875, -0.0024566650390625, -0.058837890625, 0.035888671875, 0.00151824951171875, -0.018310546875, -0.00982666015625, 0.04541015625, -0.0234375, 0.01300048828125, 0.04931640625, 0.037109375, -0.01190185546875, 0.021484375, -0.00119781494140625, -0.0101318359375, -0.09423828125, -0.0125732421875, 0.08544921875, 0.018310546875, -0.0101318359375, 0.002410888671875, 0.0086669921875, -0.01220703125, 0.03076171875, 0.030029296875, 0.04541015625, 0.0294189453125, -0.0179443359375, -0.0673828125, -0.0181884765625, -0.01025390625, -0.004180908203125, -0.0308837890625, -0.0150146484375, 0.01092529296875, -0.052978515625, 0.03173828125, 0.033203125, -0.0026092529296875, 0.0264892578125, -0.0069580078125, -0.037109375, 0.037109375, -0.008056640625, 0.045166015625, -0.01043701171875, -0.051025390625, 0.040283203125, -0.0179443359375, -0.0205078125, 0.0390625, 0.0299072265625, 0.03955078125, 0.0703125, -0.015380859375, -0.035888671875, -0.00897216796875, -0.008056640625, 0.019775390625, 0.0174560546875, -0.0147705078125, -0.035400390625, 0.00738525390625, -0.018310546875, 0.03857421875, -0.00811767578125, 0.052734375, -0.0166015625, -0.0023040771484375, -0.07080078125, -0.015869140625, -0.03466796875, 0.008544921875, 0.0380859375, 0.0179443359375, 0.048828125, -0.032958984375, 0.0003261566162109375, -0.01519775390625, 0.0556640625, -0.06640625, -0.022705078125, -0.000782012939453125, 0.050048828125, -0.0289306640625, 0.035888671875, 0.00927734375, -0.017578125, 0.01263427734375, 0.038818359375, -0.056640625, 0.00799560546875, -0.01385498046875, -0.037109375, -0.076171875, 0.043212890625, -0.02294921875, -0.0286865234375, -0.0150146484375, -0.031494140625, -0.0185546875, 0.01055908203125, -0.01251220703125, 0.0703125, 0.0252685546875, 0.018798828125, 0.0302734375, 0.076171875, -0.0123291015625, 0.024169921875, 0.05810546875, -0.0140380859375, -0.0023345947265625, 0.00958251953125, -0.002044677734375, 0.00701904296875, 0.006805419921875, -0.004364013671875, 0.022705078125, 0.03515625, 0.01434326171875, 0.02294921875, -0.004913330078125, 0.006622314453125, -0.0201416015625, -0.001434326171875, 0.0218505859375, -0.00518798828125, -0.005523681640625, -0.056396484375, 0.0004730224609375, 0.01324462890625, 0.060791015625, 0.0264892578125, -0.07861328125, 0.00384521484375, -0.00154876708984375, -0.0023956298828125, -0.03369140625, 0.0322265625, 0.02783203125, 0.013916015625, -0.0096435546875, -0.0211181640625, -0.05322265625, -0.0289306640625, 0.057373046875, -0.02392578125, -0.0556640625, -0.0380859375, -0.0264892578125, 0.0018768310546875, 0.02734375, -0.01611328125, -0.08544921875, -0.0023040771484375, 0.05126953125, -0.08251953125, -0.0198974609375, -0.016845703125, -0.04345703125, -0.01104736328125, 0.00701904296875, -0.0341796875, 0.024658203125, 0.00787353515625, -0.019287109375, 0.037109375, -0.0732421875, -0.0017547607421875, -0.01068115234375, -0.0272216796875, 0.0218505859375, -0.051513671875, 0.032958984375, -0.035888671875, -0.038818359375, 0.0218505859375, 0.0185546875, -0.0299072265625, 0.0201416015625, -0.0296630859375, 0.0181884765625, -0.025146484375, -0.00787353515625, -0.0179443359375, -0.0069580078125, 0.03076171875, -0.0184326171875, 0.03857421875, -0.0069580078125, -0.0164794921875, 0.03515625, 0.034912109375, 0.015625, 0.01214599609375, 0.0242919921875, 0.026611328125, -0.0257568359375, 0.05322265625, 0.036376953125, -0.05029296875, -0.006500244140625, 0.00173187255859375, -0.0067138671875, 0.00421142578125, -0.0211181640625, -0.021484375, -0.02392578125, 0.0020294189453125, 0.02685546875, 0.001922607421875, 0.043701171875, -0.00421142578125, 0.00106048583984375, -0.034423828125, -0.042724609375, -0.04443359375, 0.00567626953125, -0.01153564453125, -0.006591796875, -0.0147705078125, 0.01556396484375, 0.0084228515625, -0.01251220703125, -0.0634765625, -0.00872802734375, 0.0016632080078125, -0.03271484375, 0.034912109375, 0.038330078125, -0.006805419921875, 0.0059814453125, -0.064453125, 0.0096435546875, 0.00347900390625, 0.01104736328125, -0.01348876953125, 0.035400390625, -0.0230712890625, 0.03173828125, -0.0152587890625, -0.0033721923828125, 0.0771484375, -0.00897216796875, -0.015380859375, -0.0247802734375, 0.0224609375, 0.004302978515625, -0.0234375, -0.0281982421875, -0.00872802734375, 0.051025390625, 0.0634765625, -0.038818359375, -0.021484375, 0.01025390625, -0.042236328125, 0.028564453125, 0.026123046875, -0.037109375, -0.030029296875, 0.0286865234375, 0.07080078125, -0.01470947265625, 0.025634765625, 0.02734375, 0.00897216796875, 0.0703125, -0.0196533203125, -0.00701904296875, -0.0008697509765625, -0.054443359375, -0.006072998046875, -0.00830078125, -0.004852294921875, -0.031494140625, 0.0302734375, 0.028564453125, -0.0274658203125, -0.013916015625, -0.0294189453125, 0.0021514892578125, 0.006256103515625, -0.040283203125, 0.029541015625, -0.0238037109375, 0.05126953125, -0.01348876953125, 0.047607421875, -0.020263671875, -0.058837890625, -0.02783203125, -0.058837890625, -0.06884765625, 0.01953125, -0.0205078125, 0.0458984375, 0.031494140625, 0.0018463134765625, -0.0107421875, -0.022705078125, -0.040771484375, -0.01470947265625, -0.024658203125, 0.005157470703125, 0.0172119140625, 0.0004634857177734375, -0.00213623046875, 0.044189453125, -0.0162353515625, 0.052978515625, 0.01458740234375, -0.047119140625, -0.0208740234375, 0.0537109375, 0.04052734375, -0.035888671875, -0.07763671875, -0.052978515625, -0.04248046875, -0.009521484375, -0.041748046875, -0.03271484375, 0.0286865234375, -0.0216064453125, -0.00958251953125, 0.00872802734375, -0.0128173828125, 0.03515625, 0.03271484375, 0.048583984375, 0.0098876953125, -0.021728515625, 0.00201416015625, 0.053955078125, 0.008056640625, -0.007171630859375, -0.007171630859375, -0.0026702880859375, 0.003997802734375, -0.042236328125, 0.04296875, -0.019775390625, -0.01470947265625, 0.00176239013671875, -0.03369140625, -0.020263671875, -0.003692626953125, 0.00872802734375, 0.044189453125, -0.022216796875, -0.006591796875, -0.0030975341796875, 0.015380859375, 0.0213623046875, 0.0263671875, -0.056396484375, 0.0247802734375, -0.08984375, 0.0311279296875, -0.0255126953125, -0.0106201171875, -0.0274658203125, -0.0164794921875, -0.004486083984375, -0.01708984375, 0.057373046875, -0.0150146484375, 0.0140380859375, -0.022705078125, -0.041015625, -0.0150146484375, -0.0152587890625, -0.0235595703125, -0.06396484375, 0.0250244140625, -9.012222290039062e-05, -0.01556396484375, 0.0225830078125, 0.01708984375, -0.0179443359375, 0.01123046875, 0.0272216796875, -0.05126953125, -0.0235595703125, 0.0294189453125, -0.01611328125, -0.0208740234375, -0.0024566650390625, 0.0546875, -0.0859375, -0.01275634765625, -0.022705078125, 0.035888671875, 0.01324462890625, -0.05712890625, 0.0035247802734375, -0.0098876953125, -0.031494140625, 0.0225830078125, -0.00421142578125, 0.0152587890625, 0.01318359375, 0.04052734375, 0.02783203125, 0.0185546875, 0.002838134765625, -0.0042724609375, -0.041259765625, -0.062255859375, -0.0390625, 0.0274658203125, -0.01129150390625, 0.0220947265625, 0.007598876953125, -0.0235595703125, 0.050048828125, -0.022705078125, 0.013916015625, -0.01177978515625, -0.0322265625, 0.031982421875, -0.060546875, 0.038818359375, -0.024658203125, -0.0098876953125, -0.01556396484375, -0.08837890625, -0.0283203125, -0.0242919921875, -0.01904296875, -0.01104736328125, 0.011962890625, 0.041748046875, -0.036865234375, -0.01214599609375, 0.016845703125, -0.047119140625, 0.0478515625, 0.040283203125, 0.01373291015625, 0.01470947265625, -0.0615234375, -0.0196533203125, -0.015380859375, -0.0130615234375, 0.0128173828125, -0.00173187255859375, 0.0213623046875, 0.0016632080078125, 0.022705078125, 0.01434326171875, -0.0012054443359375, 0.021240234375, -0.004425048828125, 0.00830078125, -0.07177734375, -0.0274658203125, 0.0076904296875, 0.0194091796875, 0.0016021728515625, 0.0076904296875, -0.031982421875, -0.0157470703125, 0.0069580078125, -0.005126953125, 0.05712890625, 0.00081634521484375, -0.01483154296875, 0.01708984375, -0.03759765625, -0.01416015625, -0.02783203125, -0.0216064453125, -0.0208740234375, -0.04052734375, 0.08056640625, -0.01611328125, -0.021240234375, -0.00116729736328125, 0.0296630859375, -0.05712890625, 0.00909423828125, 0.0537109375, -0.0047607421875, -0.004791259765625, -0.06298828125, 0.0250244140625, 0.0057373046875, 0.000598907470703125, -0.0164794921875, 0.031494140625, 0.029052734375, 0.06787109375, 0.03369140625, 0.006103515625, -0.0211181640625, -0.048828125, -0.03515625, 0.0272216796875, 0.034912109375, -0.035888671875, -0.052978515625, -0.04052734375, -0.01177978515625, -0.01104736328125, 0.0311279296875, 0.0157470703125, 0.0252685546875, -0.005096435546875, 0.0264892578125, 0.01025390625, -0.0556640625, 0.0272216796875, 0.022705078125, 0.0128173828125, 0.0303955078125, -0.06591796875, -0.0211181640625, -0.0264892578125, 0.035400390625, 0.0147705078125, -0.0230712890625, 0.01214599609375, 0.033203125, 0.07421875, -0.00098419189453125, 0.007232666015625, 0.00176239013671875, -0.0004749298095703125, 0.003265380859375, 0.031982421875, -0.038818359375, 0.0242919921875, 0.01495361328125, 0.03173828125, -0.02734375, -0.0255126953125, 0.0634765625, 0.044189453125, 0.008544921875, 0.00909423828125, -0.0250244140625, 0.0028228759765625, -0.03857421875, -0.03759765625, 0.005889892578125, 0.0036773681640625, 0.032958984375, 0.01275634765625, -0.0030364990234375, -0.034912109375, -0.003204345703125, -0.017578125, 0.008056640625, 0.0003204345703125, -0.0091552734375, -0.05810546875, -0.0036773681640625, -0.064453125, -0.05322265625, -0.0111083984375, 0.03955078125, -0.005401611328125, -0.0308837890625, 0.043212890625, 0.0242919921875, 0.0033721923828125, 0.01708984375, 0.0220947265625, 0.0185546875, -0.0128173828125, -0.0177001953125, -0.00113677978515625, -0.00012063980102539062, 0.06689453125, 0.0157470703125, 0.0238037109375, 0.07763671875, -0.0098876953125, -0.00982666015625, 0.0113525390625, 0.0076904296875, 0.05322265625, -0.01080322265625, 0.0140380859375, 0.0048828125, 0.00421142578125, -0.002197265625, -0.03125, 0.005889892578125, 0.04150390625, 0.06591796875, 0.0654296875, -0.005523681640625, 0.016845703125, 0.0283203125, 0.057861328125, -0.00640869140625, -0.019287109375, -0.0272216796875, -0.01495361328125, 0.0281982421875, 0.0250244140625, 0.00555419921875, -0.047119140625, -0.042724609375, -0.006072998046875, 0.01904296875, -0.0286865234375, -0.00750732421875, -0.035888671875, 0.020751953125, 0.04248046875, 0.002655029296875, 0.0238037109375, -0.039794921875, 0.0235595703125, 0.06591796875, 0.01434326171875, 0.051513671875, 0.03076171875, 0.057861328125, -0.0673828125, -0.0028076171875, -0.006500244140625, -0.05322265625, 0.07421875, 0.0654296875, 0.028564453125, 0.022705078125, -0.055419921875, 0.05126953125, -0.00640869140625, 0.01275634765625, -0.00738525390625, 0.0281982421875, -0.0224609375, 0.0179443359375, 0.01470947265625, -0.01483154296875, 0.00787353515625, 0.030029296875, -0.00830078125, -0.0194091796875, -0.004974365234375, -0.00787353515625, 0.0269775390625, -0.0294189453125, 0.00421142578125, 0.01544189453125, -0.0263671875, -0.013671875, -0.00531005859375, -0.064453125, 0.0247802734375, 0.0037841796875, -0.021240234375, 0.01239013671875, -0.01611328125, -0.02685546875, -0.00116729736328125, 0.029052734375, -0.0164794921875, -0.0244140625, -0.0179443359375, 0.00439453125, 0.0107421875, 0.00665283203125, -0.019775390625, 0.0247802734375, 0.0036163330078125, 0.01019287109375, 0.0031280517578125, -0.044189453125, -0.034912109375, -0.031494140625, -0.052734375]}, {"key": "data/images/8.png", "width": 1786, "height": 2526, "embedding": [0.006988525390625, 0.03125, 0.07861328125, 0.01397705078125, 8.702278137207031e-06, -0.0257568359375, 0.01116943359375, 0.022705078125, 0.017822265625, 0.0260009765625, -0.059814453125, -0.004364013671875, -0.00133514404296875, 0.0057373046875, -0.01324462890625, -0.02392578125, -0.0257568359375, -0.0341796875, 0.0185546875, 0.0084228515625, 0.0135498046875, -0.01251220703125, 0.0252685546875, -0.039306640625, -0.031494140625, 0.01513671875, 0.01031494140625, -0.028564453125, 0.0011749267578125, -0.0255126953125, -0.0289306640625, -0.0205078125, 0.0615234375, 0.028564453125, 0.000904083251953125, 0.0025177001953125, -0.0439453125, -0.0091552734375, 0.0107421875, 0.0145263671875, -0.051513671875, -0.0206298828125, -0.02294921875, -0.0478515625, -0.011474609375, -0.00171661376953125, -0.03759765625, 0.00604248046875, -0.0157470703125, -0.035400390625, 0.016845703125, -0.051513671875, -0.06591796875, -0.0615234375, -0.024169921875, 0.0133056640625, 0.029296875, -0.01519775390625, 0.035400390625, -0.00087738037109375, -0.0185546875, 0.006072998046875, 0.0027313232421875, -0.01348876953125, -0.01324462890625, -0.01708984375, 0.05029296875, -0.011474609375, -0.004547119140625, 0.0042724609375, 0.0196533203125, 0.01361083984375, -0.01373291015625, -0.0205078125, 0.0228271484375, 0.01263427734375, -0.019287109375, 0.0208740234375, -0.01397705078125, -0.02294921875, -0.06591796875, 0.0238037109375, 0.00083160400390625, 0.046875, 0.0031890869140625, -0.044921875, 0.035400390625, 0.003265380859375, -0.01397705078125, 0.0020904541015625, -0.0181884765625, 0.0223388671875, 0.068359375, -0.005706787109375, 0.01300048828125, -0.00592041015625, -0.01708984375, 0.038330078125, 0.00799560546875, -0.0111083984375, -0.0267333984375, -0.05126953125, -0.006439208984375, -0.01123046875, 0.041259765625, -0.0264892578125, 0.03515625, -0.0283203125, 0.0031280517578125, 0.03515625, -0.003509521484375, -0.05859375, -0.0211181640625, -0.002349853515625, 0.0002899169921875, 0.0016021728515625, 0.0269775390625, -0.0024871826171875, 0.007659912109375, 0.02294921875, -0.01708984375, -0.033447265625, 3.528594970703125e-05, -0.0267333984375, 0.0135498046875, 0.00927734375, 0.041748046875, 0.0289306640625, -0.02783203125, -0.004180908203125, -0.024658203125, -0.0216064453125, 0.017333984375, -0.00191497802734375, -0.056640625, -0.06494140625, 0.0341796875, 0.017578125, -0.050048828125, -0.021484375, 0.020751953125, -0.0002117156982421875, 0.018798828125, 0.039306640625, 0.016357421875, -0.025146484375, 0.0299072265625, -0.0035552978515625, -0.0130615234375, 0.006072998046875, 0.00811767578125, -0.003662109375, -0.0020294189453125, 0.0035552978515625, 0.0299072265625, 0.03125, -0.0191650390625, 0.0279541015625, -0.00213623046875, -0.05712890625, -0.0289306640625, 0.0018463134765625, 0.0177001953125, -0.003021240234375, 0.06640625, 0.0206298828125, -0.001953125, -0.0146484375, -0.03515625, 0.01019287109375, -0.0439453125, -0.01275634765625, -0.043212890625, 0.041259765625, -0.01116943359375, 0.01611328125, 0.0322265625, 0.00457763671875, 0.029541015625, 0.0166015625, -0.04052734375, -0.017822265625, -0.005828857421875, 0.006988525390625, 0.001434326171875, -0.04541015625, 0.005462646484375, 0.00909423828125, -0.0030975341796875, 0.01904296875, 0.00982666015625, -0.047607421875, 0.024658203125, -0.000408172607421875, 0.00124359130859375, -0.0157470703125, 0.0031280517578125, -0.033447265625, 0.0093994140625, 0.00732421875, -0.04052734375, 0.0191650390625, 0.0146484375, 0.00982666015625, -0.015869140625, 0.01092529296875, -0.0123291015625, -0.0166015625, 0.01251220703125, -0.0015716552734375, 0.048583984375, 0.023681640625, 0.00994873046875, 0.01214599609375, -0.0123291015625, 0.00119781494140625, 0.0478515625, -0.003997802734375, 0.0311279296875, -0.0196533203125, 0.0093994140625, -0.044677734375, -0.037109375, 0.022705078125, 0.0257568359375, -0.01214599609375, -0.00372314453125, -0.0203857421875, 0.033447265625, -0.091796875, 0.04443359375, 0.0269775390625, -0.0146484375, 0.0045166015625, 0.0135498046875, -0.018310546875, 0.0299072265625, 0.0224609375, -0.044677734375, -0.054443359375, -0.0081787109375, -0.052978515625, -0.0031890869140625, -0.037109375, -0.00037384033203125, 0.03515625, 0.031982421875, 0.0030975341796875, 0.0255126953125, -0.01708984375, -0.00537109375, 0.00567626953125, 0.01611328125, -0.01324462890625, -0.04541015625, -0.00799560546875, 0.01251220703125, -0.048583984375, -0.01055908203125, 0.06640625, 0.01556396484375, 0.0022125244140625, -0.0147705078125, -0.0458984375, -0.029052734375, 0.060302734375, -0.00029754638671875, -0.036376953125, -0.046875, 0.05712890625, 0.000728607177734375, -0.034912109375, -0.01348876953125, 0.062255859375, -0.0146484375, -0.1064453125, 0.00836181640625, 0.0042724609375, -0.002960205078125, -0.043701171875, 0.0458984375, 0.005035400390625, -0.0185546875, 0.0216064453125, 0.017822265625, 0.019287109375, 0.048583984375, 0.018310546875, 0.0185546875, 0.01544189453125, 0.051513671875, 0.0242919921875, -0.0439453125, 0.0003643035888671875, 0.0302734375, 0.026611328125, -0.015380859375, -0.0238037109375, -0.0238037109375, 0.032958984375, -0.0057373046875, 0.004180908203125, 0.03173828125, -0.052978515625, 0.0213623046875, -0.01904296875, 0.0196533203125, -0.0439453125, 0.0260009765625, 0.008544921875, 0.0216064453125, -0.1044921875, -0.0289306640625, -0.040771484375, 0.00994873046875, -0.0205078125, 0.0458984375, -0.0142822265625, -0.01397705078125, -0.005859375, 0.01263427734375, 0.01007080078125, 0.04052734375, -0.0294189453125, 0.02099609375, -0.0242919921875, -0.03564453125, -0.019287109375, 0.0322265625, -0.00970458984375, 0.049560546875, 0.00994873046875, 0.029296875, 0.00640869140625, -0.0133056640625, -0.0264892578125, -0.01324462890625, 0.023681640625, 0.0255126953125, 0.03076171875, 0.07080078125, 0.009521484375, 0.051513671875, -0.03076171875, -0.0174560546875, -0.006103515625, -0.0732421875, 0.033447265625, 0.027099609375, -0.0010223388671875, -0.0142822265625, -0.00732421875, -0.0810546875, 0.0341796875, 0.020263671875, 0.003082275390625, 0.009033203125, -0.01068115234375, -0.00390625, 0.040771484375, 0.0086669921875, -0.035400390625, 0.08056640625, 0.01214599609375, 0.031982421875, -0.039306640625, -0.018798828125, -0.02880859375, 0.034912109375, 0.0111083984375, 0.0712890625, 0.0201416015625, -0.01171875, -0.028564453125, -0.0022430419921875, -0.037109375, -0.029541015625, 0.0205078125, -0.01324462890625, 0.0194091796875, -0.06689453125, 0.05712890625, 0.018798828125, 0.0103759765625, -0.039306640625, -0.000843048095703125, -0.0615234375, -0.00885009765625, -0.0076904296875, 0.03515625, -0.00347900390625, -0.006195068359375, 0.04443359375, -0.0185546875, 0.00124359130859375, 0.00183868408203125, -0.02099609375, 0.05126953125, 0.018310546875, 0.0030975341796875, -0.0201416015625, -0.009521484375, -0.0191650390625, 0.0311279296875, 0.04541015625, -0.021484375, 0.005035400390625, 0.00135040283203125, 0.003936767578125, 0.0272216796875, 0.0185546875, 0.0115966796875, -0.0228271484375, 0.04150390625, -0.072265625, 0.00165557861328125, -0.036376953125, 0.01531982421875, 0.01287841796875, 0.04296875, 0.04736328125, -0.0157470703125, 0.006439208984375, -0.00732421875, 0.040771484375, -0.0181884765625, 0.022216796875, -0.027587890625, 0.03515625, -0.0133056640625, 0.054931640625, -0.00897216796875, -0.0115966796875, 0.00159454345703125, 0.0634765625, -0.0091552734375, -0.024169921875, 0.01214599609375, -0.0576171875, -0.025634765625, 0.0625, -0.0224609375, -0.06494140625, 0.005157470703125, -0.0634765625, -0.004364013671875, -0.0303955078125, -0.01519775390625, 0.0712890625, -0.0262451171875, -0.0247802734375, -0.00225830078125, 0.0810546875, -0.00982666015625, 0.0208740234375, 0.0419921875, 0.003631591796875, -0.036376953125, 0.0087890625, -0.062255859375, -0.0308837890625, 0.0123291015625, 0.0233154296875, 0.0673828125, 0.009521484375, 0.01171875, 0.035888671875, 0.00732421875, 0.050048828125, -0.031982421875, 0.00506591796875, 0.000385284423828125, -0.01495361328125, 0.010986328125, -0.007598876953125, -0.00372314453125, 0.004913330078125, 0.0361328125, 0.0673828125, -0.095703125, -0.02880859375, 0.016357421875, 0.013916015625, 0.00787353515625, 0.033447265625, -0.0244140625, -0.0089111328125, 0.00836181640625, -0.00958251953125, -0.039794921875, -0.0118408203125, 0.0269775390625, -0.015869140625, -0.0015106201171875, -0.0164794921875, -0.05419921875, 0.06689453125, 0.00506591796875, -0.017333984375, -0.04150390625, -0.0147705078125, 0.0299072265625, -0.038330078125, -0.04833984375, -0.0125732421875, -0.040771484375, -0.0078125, -0.0250244140625, 0.00055694580078125, -0.01239013671875, 0.0022430419921875, -0.00799560546875, 0.01324462890625, -0.05859375, 6.389617919921875e-05, -0.008056640625, -0.03076171875, 0.0244140625, -0.038818359375, -0.028564453125, -0.0556640625, -0.0299072265625, 0.006866455078125, 0.054931640625, -0.0198974609375, -0.0057373046875, -0.01904296875, -0.0272216796875, -0.047607421875, -0.01300048828125, -0.002960205078125, -0.00469970703125, 0.0198974609375, -0.027099609375, 0.019287109375, 0.027099609375, 0.0250244140625, 0.0284423828125, 0.036376953125, 0.00384521484375, -0.0196533203125, 0.03466796875, 0.03173828125, -0.03564453125, 0.05322265625, 0.041015625, -0.00131988525390625, -0.006317138671875, -0.0196533203125, 0.0036773681640625, -0.01904296875, -0.0084228515625, -0.0107421875, -0.03564453125, -0.00592041015625, 0.0004787445068359375, 0.024169921875, 0.08056640625, -0.003448486328125, 0.00994873046875, -0.06640625, -0.000514984130859375, -0.0341796875, 0.034912109375, 0.0120849609375, -0.024658203125, -0.02197265625, -0.032958984375, -0.024658203125, -0.029052734375, -0.061767578125, 0.00555419921875, -0.0029754638671875, -0.03125, 0.007598876953125, 0.01904296875, -0.01904296875, -0.00604248046875, -0.0693359375, 0.004638671875, -0.0299072265625, -0.00787353515625, -0.05517578125, 0.0211181640625, 0.0045166015625, 0.00537109375, 0.00188446044921875, -0.01275634765625, 0.0213623046875, -0.039306640625, -0.0177001953125, 0.000514984130859375, 0.0203857421875, 0.0159912109375, -0.01251220703125, 0.0147705078125, -0.01470947265625, 0.0458984375, 0.05224609375, -0.02880859375, 0.0024261474609375, 0.0087890625, -0.01513671875, 0.0247802734375, 0.029052734375, -0.01422119140625, 0.0174560546875, 0.03466796875, 0.0303955078125, -0.0020294189453125, 0.02099609375, 0.041015625, 0.0294189453125, 0.00994873046875, -0.015869140625, -0.0103759765625, -0.03515625, -0.05419921875, 0.004913330078125, 0.006500244140625, 0.03515625, -0.048828125, 0.016357421875, 0.051513671875, -0.041259765625, 0.037109375, -0.0556640625, -0.006256103515625, -0.016845703125, -0.005218505859375, 0.036376953125, 0.00023937225341796875, 0.03759765625, -0.07958984375, 0.003997802734375, -0.0019989013671875, -0.011474609375, 0.01123046875, -0.032958984375, -0.054443359375, 0.04736328125, 0.0034027099609375, 0.0087890625, 0.051513671875, 0.00140380859375, -0.0140380859375, -0.023193359375, 0.005706787109375, 0.020751953125, 0.0159912109375, 0.0167236328125, -0.01275634765625, 0.0223388671875, 0.00170135498046875, 0.0164794921875, -0.0157470703125, 0.028076171875, -0.007568359375, -0.01806640625, -0.0208740234375, -0.01397705078125, 0.0205078125, -0.03857421875, -0.0123291015625, -0.036376953125, -0.08349609375, 0.0255126953125, -0.0458984375, -0.0294189453125, 0.0267333984375, 0.0203857421875, -0.07666015625, 0.0010833740234375, -0.0089111328125, -0.008544921875, 0.0162353515625, 0.027099609375, 0.016357421875, -0.0341796875, 0.0322265625, -0.0081787109375, -0.0157470703125, -0.01220703125, -0.0242919921875, -0.01361083984375, -0.0174560546875, -0.06494140625, 0.0439453125, -0.04833984375, -0.004913330078125, 0.01361083984375, -0.07421875, -0.033447265625, 0.0213623046875, -0.002777099609375, 0.028564453125, -0.0146484375, -0.010986328125, -0.0201416015625, -0.043212890625, -0.01214599609375, 0.01287841796875, -0.042724609375, 0.031982421875, -0.0732421875, 0.01611328125, -0.03857421875, 0.006256103515625, -0.000827789306640625, -0.01495361328125, -0.022216796875, 0.0213623046875, -0.005462646484375, 0.00457763671875, 0.091796875, -0.0242919921875, -0.007781982421875, -0.0308837890625, 0.0032196044921875, 0.0252685546875, -0.034912109375, 0.0135498046875, 0.0185546875, 0.0213623046875, 0.0159912109375, 0.0167236328125, -0.01043701171875, 0.02392578125, 0.0262451171875, -0.021484375, -0.03076171875, 0.035400390625, 0.041015625, -0.015869140625, -0.034912109375, 0.03759765625, -0.060546875, -0.01190185546875, -0.00170135498046875, 0.015869140625, 0.031494140625, -0.0439453125, 0.017578125, -0.03173828125, 0.0194091796875, -0.006988525390625, -0.01531982421875, 0.0125732421875, -0.0142822265625, 0.0654296875, 0.0247802734375, 0.033447265625, 0.01519775390625, 0.0177001953125, -0.07421875, -0.06591796875, -0.0458984375, 0.01708984375, -0.02783203125, 0.019287109375, -0.004974365234375, -0.034912109375, -0.0111083984375, -0.029296875, -0.0016021728515625, -0.018798828125, -0.00640869140625, 0.046875, -0.041259765625, 0.048583984375, -0.033447265625, -0.004547119140625, -0.0250244140625, -0.014404296875, 0.01708984375, 0.007080078125, -0.00384521484375, -0.0238037109375, -0.002532958984375, 0.043701171875, -0.043212890625, -0.004913330078125, -0.007476806640625, -0.04736328125, 0.039794921875, 0.03759765625, 0.06591796875, -0.0260009765625, -0.0625, -0.0007476806640625, -0.004119873046875, -0.006439208984375, 0.01531982421875, -0.0133056640625, -0.007476806640625, -0.0218505859375, 0.01263427734375, 0.054931640625, 0.04296875, 0.040771484375, 0.034912109375, -0.0179443359375, -0.037109375, -0.0615234375, 0.0036773681640625, 0.0303955078125, 0.0174560546875, -0.0216064453125, -0.054931640625, -0.0198974609375, -0.00151824951171875, 0.00160980224609375, 0.050537109375, 0.00121307373046875, 0.006622314453125, -0.0252685546875, -0.0751953125, -0.037109375, -0.036376953125, -0.031982421875, -0.0242919921875, 0.0020294189453125, 0.000545501708984375, 0.054931640625, -0.044677734375, -0.041259765625, 0.026611328125, -0.055908203125, 0.00262451171875, 0.023681640625, -0.005035400390625, 0.029296875, -0.0004711151123046875, -0.0224609375, -0.0595703125, 0.0040283203125, -0.064453125, 0.0308837890625, 0.041259765625, 0.0751953125, 0.00286865234375, 0.0038604736328125, 0.0299072265625, -0.051025390625, -0.0302734375, -0.0042724609375, -0.0107421875, -0.0036163330078125, -0.03857421875, -0.000560760498046875, -0.0218505859375, 0.01904296875, 0.052001953125, 0.01806640625, 0.044921875, 0.0181884765625, 0.037109375, -0.00156402587890625, -0.044921875, 0.026611328125, 0.032958984375, 0.00360107421875, 0.048583984375, -0.05224609375, -0.03515625, -0.031982421875, -0.0081787109375, -0.00482177734375, -0.0206298828125, 0.0164794921875, 0.00787353515625, 0.037109375, 0.04052734375, 0.04150390625, 0.007659912109375, 0.0228271484375, 0.04150390625, 0.0157470703125, 0.01275634765625, 0.004119873046875, 0.0213623046875, -0.0234375, 0.0023193359375, 0.002838134765625, 0.041748046875, 0.0218505859375, -0.0205078125, 0.035888671875, -0.01397705078125, -0.01055908203125, 0.0162353515625, -0.033935546875, -0.01025390625, 0.006805419921875, 0.02197265625, 0.0311279296875, 0.03662109375, -0.0201416015625, 0.0257568359375, 0.00567626953125, 0.0167236328125, -0.055908203125, -0.01287841796875, -0.03125, -0.0252685546875, -0.02783203125, -0.05859375, 0.06396484375, 0.06494140625, -0.06689453125, -0.01214599609375, 0.03857421875, 0.035400390625, 0.038330078125, 0.01806640625, -0.0157470703125, 0.05615234375, -0.051513671875, -0.02978515625, 0.0279541015625, 0.050048828125, 0.039306640625, 0.000362396240234375, 0.024658203125, 0.04296875, -0.01806640625, -0.028076171875, 0.0673828125, 0.03076171875, 0.0162353515625, 0.001068115234375, -0.004638671875, -0.02099609375, 0.0107421875, 0.021484375, 0.05517578125, -0.0179443359375, 0.0208740234375, 0.06689453125, 0.031494140625, -0.0198974609375, -0.0439453125, 0.05859375, 0.02294921875, -0.016845703125, -0.05419921875, -0.0107421875, 0.00469970703125, -0.0034027099609375, 0.0128173828125, -0.039306640625, -0.0242919921875, -0.04638671875, -0.033203125, -0.007232666015625, -0.039794921875, 0.010986328125, -0.0032806396484375, -0.018310546875, 0.00732421875, 0.0164794921875, 0.0244140625, -0.046630859375, -0.0157470703125, 0.0595703125, -0.000789642333984375, 0.0267333984375, 0.01031494140625, 0.076171875, -0.0206298828125, -0.00787353515625, 0.00286865234375, -0.040771484375, 0.076171875, 0.033447265625, 0.0306396484375, 0.00982666015625, -0.05419921875, 0.0439453125, 0.02880859375, 0.003143310546875, -0.048583984375, -0.0019989013671875, -0.0205078125, 0.0174560546875, 0.018310546875, 0.029052734375, 0.028564453125, 0.00872802734375, -0.008544921875, -0.01519775390625, -0.04833984375, 0.0072021484375, 0.02197265625, 0.0274658203125, 0.02392578125, 0.08447265625, -0.051513671875, -0.0322265625, 0.0308837890625, -0.043212890625, 0.0167236328125, 0.0257568359375, -0.01519775390625, -0.0030364990234375, -0.0303955078125, -0.04541015625, -0.01397705078125, 0.0478515625, 0.010986328125, -0.031982421875, -0.0128173828125, -0.028076171875, -0.029541015625, -0.01251220703125, -0.02294921875, -0.0111083984375, -0.041259765625, 0.022705078125, 0.03857421875, -0.05126953125, -0.0859375, -0.016845703125, -0.05712890625]}, {"key": "data/images/9.png", "width": 1786, "height": 2526, "embedding": [-0.000507354736328125, 0.03857421875, 0.03662109375, 0.048095703125, 0.0023651123046875, -0.036865234375, -0.053955078125, 0.0230712890625, 0.004119873046875, -0.02001953125, -0.043701171875, 0.030029296875, 0.025634765625, -0.0072021484375, -0.0106201171875, -0.023681640625, -0.0205078125, -0.05078125, 0.0140380859375, -0.033203125, 0.0311279296875, -0.01507568359375, 0.002166748046875, -0.0269775390625, -0.0107421875, 0.044921875, 0.00799560546875, -0.041015625, 0.038330078125, -0.06689453125, -0.0101318359375, -0.0260009765625, 0.0137939453125, 0.01458740234375, -0.033447265625, -0.02734375, -0.037841796875, 0.0166015625, -0.007049560546875, -0.03125, -0.10107421875, -0.010498046875, -0.0654296875, 0.001922607421875, 0.02001953125, 0.004180908203125, -0.0260009765625, 0.021240234375, 0.019775390625, -0.0269775390625, 0.006317138671875, -0.018310546875, 0.0205078125, -0.0810546875, 0.00885009765625, 0.021728515625, 0.016845703125, -0.0022125244140625, 0.0732421875, -0.006591796875, -0.00823974609375, -0.019775390625, -0.028564453125, -0.011474609375, -0.0002841949462890625, 0.055908203125, 0.03466796875, -0.05322265625, 0.015625, 0.0142822265625, 0.0201416015625, 0.007781982421875, 0.01409912109375, 0.0189208984375, 0.025390625, 0.01708984375, -0.04248046875, 0.0137939453125, -0.0101318359375, 0.0196533203125, -0.0159912109375, -0.03515625, -0.0057373046875, -0.01104736328125, -0.0537109375, -0.028564453125, 0.031494140625, -0.045166015625, -0.0022735595703125, 0.01116943359375, -0.057861328125, -0.004608154296875, 0.0361328125, -0.00075531005859375, 0.0030670166015625, 0.01129150390625, -0.00799560546875, 0.016357421875, 0.0546875, 0.03076171875, -0.01409912109375, -0.0257568359375, 0.026611328125, 0.0020904541015625, 0.00408935546875, -0.039794921875, 0.01025390625, -0.0272216796875, -0.019287109375, 0.08740234375, -0.037353515625, 0.022216796875, -0.00457763671875, 0.0133056640625, 0.025390625, -0.02294921875, 0.046630859375, 0.0220947265625, -0.01556396484375, -0.020263671875, -0.0458984375, 0.0140380859375, -0.0194091796875, -0.00872802734375, 0.039794921875, 0.026611328125, 0.020263671875, 0.041015625, 0.0096435546875, 0.02294921875, -0.00787353515625, 0.00970458984375, 0.01190185546875, 0.0130615234375, -0.0252685546875, 0.00933837890625, 0.03466796875, 0.04052734375, -0.006500244140625, 0.00201416015625, -0.037353515625, 0.00592041015625, 0.0537109375, 0.02294921875, 0.0289306640625, -0.10107421875, 0.038330078125, 0.031982421875, 0.0186767578125, 0.02099609375, 0.032470703125, 0.037841796875, -0.0177001953125, 0.02734375, -0.005767822265625, 0.01007080078125, 0.014892578125, 0.0078125, 0.008544921875, -0.0196533203125, 0.004974365234375, 0.029541015625, 0.032958984375, 0.0308837890625, 0.052734375, 0.0130615234375, -0.01409912109375, -0.028564453125, -0.04931640625, 0.030029296875, -0.030029296875, 0.0057373046875, 0.00799560546875, 0.0595703125, 0.041748046875, -0.0123291015625, -0.0220947265625, -0.0205078125, -0.00194549560546875, 0.02490234375, -0.01287841796875, 0.00115203857421875, 0.0810546875, 0.02099609375, 0.01080322265625, -0.020263671875, -0.00518798828125, -0.02294921875, -0.0167236328125, -0.031982421875, -0.020751953125, -0.0234375, 0.011474609375, 0.003173828125, 0.024658203125, 0.003936767578125, 0.0458984375, -0.00531005859375, -0.0177001953125, -0.01544189453125, -0.043701171875, 0.037841796875, 0.0174560546875, 0.0137939453125, -0.0244140625, 0.01116943359375, 0.021484375, -0.01190185546875, -0.0250244140625, -0.032958984375, 0.056396484375, -0.004150390625, -0.003997802734375, 0.01171875, -0.02294921875, 0.0164794921875, 0.024658203125, -0.06396484375, 0.021484375, -0.0042724609375, -0.005584716796875, -0.015869140625, 0.0106201171875, -0.01190185546875, 0.041015625, 0.046875, -0.06494140625, -0.00013637542724609375, 0.0057373046875, -0.055419921875, -0.006317138671875, 5.066394805908203e-07, -0.0269775390625, -0.005615234375, 0.006988525390625, -0.0419921875, 0.04736328125, 0.0240478515625, -0.01263427734375, -0.01611328125, -0.031982421875, 0.04345703125, -0.0111083984375, -0.0137939453125, 0.004852294921875, 0.03515625, 0.00701904296875, 0.003997802734375, -0.033447265625, 0.0157470703125, 0.0029754638671875, -0.0289306640625, -0.01708984375, -0.01202392578125, -0.0322265625, -0.05859375, 0.024658203125, -0.007293701171875, 0.0035552978515625, 0.06298828125, 0.037841796875, -0.04443359375, 0.0291748046875, -0.034423828125, -0.03515625, 0.02294921875, 0.03173828125, -0.02490234375, -0.037841796875, 0.03076171875, 0.003936767578125, 0.033447265625, 0.0179443359375, 0.07666015625, -0.021240234375, -0.08349609375, -0.0537109375, 0.05322265625, -0.035400390625, -0.0191650390625, 0.046875, -0.003204345703125, 0.008544921875, 0.01104736328125, -0.0269775390625, 0.04248046875, 0.0308837890625, -0.00156402587890625, -0.0068359375, 0.0057373046875, 0.041015625, 0.0218505859375, -0.056396484375, -0.019775390625, 0.05322265625, 0.027587890625, -0.02978515625, -0.01251220703125, -0.0228271484375, 0.040283203125, -0.007049560546875, 0.0133056640625, 0.00518798828125, -0.0654296875, -0.038330078125, 0.004364013671875, 0.032470703125, -0.00616455078125, -0.01043701171875, 0.01025390625, -0.0208740234375, -0.038818359375, -0.03173828125, -0.06689453125, 0.006988525390625, -0.07666015625, 0.0037689208984375, -0.037841796875, -0.01116943359375, 0.01544189453125, -0.0234375, 0.0311279296875, -0.00537109375, -0.0098876953125, 0.036865234375, -0.005859375, 0.039306640625, -0.037841796875, -0.0252685546875, -0.0419921875, 0.09033203125, -0.01708984375, -0.0074462890625, -0.00188446044921875, -0.0159912109375, 0.04833984375, -0.0030059814453125, -0.00112152099609375, 0.021240234375, 0.01483154296875, 0.01708984375, 0.0081787109375, 0.054443359375, 0.0162353515625, 0.0186767578125, -0.004119873046875, -0.043701171875, -0.01116943359375, -0.0032196044921875, -0.0361328125, -0.025390625, 0.044677734375, -0.0224609375, -0.00011873245239257812, 0.0244140625, -0.0311279296875, -0.00543212890625, -0.01556396484375, -0.01129150390625, -0.00250244140625, 0.004058837890625, -0.0103759765625, 0.052001953125, -0.029296875, 0.0595703125, -0.01611328125, -0.00946044921875, -0.029541015625, 0.00136566162109375, 0.0201416015625, 0.0732421875, 0.0036468505859375, 0.0027008056640625, -0.01226806640625, -0.0020904541015625, -0.02099609375, -0.023681640625, -0.0289306640625, -0.0159912109375, 0.031494140625, -0.0341796875, 0.0281982421875, 0.005401611328125, 0.028076171875, -0.00787353515625, 0.046142578125, -0.06640625, -0.031494140625, -0.0296630859375, 0.01080322265625, -0.050048828125, -0.038330078125, -0.006134033203125, -0.018310546875, 0.000743865966796875, 0.01263427734375, -0.06689453125, 0.04443359375, 0.00153350830078125, 0.032958984375, -0.034912109375, -0.00057220458984375, 0.0016021728515625, -0.008544921875, 0.0458984375, 0.041748046875, 0.06298828125, -0.0218505859375, 0.0771484375, 0.037353515625, -0.01025390625, -0.00156402587890625, -0.0030670166015625, 0.0244140625, -0.06591796875, -0.01123046875, -0.039306640625, -0.005462646484375, -0.03857421875, 0.06591796875, 0.044677734375, -0.03173828125, -0.02734375, 0.034423828125, 0.050048828125, -0.0128173828125, 0.024169921875, -0.0400390625, -0.0194091796875, -0.041015625, 0.0164794921875, -0.00921630859375, -0.035400390625, -0.004425048828125, 0.0264892578125, -0.004730224609375, 0.01483154296875, 0.03125, -0.050048828125, -0.0498046875, -0.0159912109375, 0.01318359375, -0.0228271484375, 0.025390625, -0.017333984375, -0.0177001953125, -0.00026702880859375, 0.0198974609375, 0.03173828125, 0.01422119140625, -0.01226806640625, 0.01397705078125, 0.057861328125, 0.0123291015625, -0.0034942626953125, 0.0693359375, 0.005462646484375, -0.04052734375, 0.0252685546875, -0.07568359375, -0.0081787109375, -0.01507568359375, -0.01611328125, 0.002471923828125, 0.0106201171875, -0.002532958984375, 0.07861328125, 0.0458984375, 0.01446533203125, -0.037841796875, -0.0111083984375, 0.0179443359375, -0.041748046875, -0.03173828125, -0.0296630859375, -0.000179290771484375, 0.02880859375, 0.0693359375, 0.05322265625, -0.0498046875, -0.047607421875, 0.0033111572265625, -0.0201416015625, 0.01251220703125, 0.05859375, 0.0225830078125, 0.031494140625, -0.00970458984375, 0.003570556640625, -0.0296630859375, -0.01348876953125, -0.01171875, -0.0234375, -0.016845703125, -0.033935546875, 0.00286865234375, 0.0252685546875, 0.032958984375, -0.0147705078125, -0.0576171875, -0.017822265625, 0.026611328125, -0.0595703125, -0.027587890625, -0.0037078857421875, 0.0016632080078125, 0.03564453125, -0.0174560546875, -0.01141357421875, -0.0225830078125, 0.01409912109375, 0.00946044921875, -0.0244140625, -0.04833984375, 0.03125, -0.039306640625, 0.0281982421875, -0.0108642578125, -0.06591796875, -0.051513671875, -0.041015625, -0.038818359375, 0.036376953125, -0.0008392333984375, -0.000347137451171875, 0.034423828125, -0.003662109375, 0.00604248046875, -0.07470703125, -0.03515625, 0.0111083984375, -0.01153564453125, 0.002166748046875, 0.014404296875, 0.036376953125, -0.00122833251953125, 0.011474609375, 0.0230712890625, -0.0045166015625, 0.0311279296875, -0.037841796875, 0.0238037109375, 0.045166015625, -0.0172119140625, 0.0615234375, -0.006744384765625, -0.01361083984375, -0.0091552734375, 0.03173828125, -0.019287109375, -0.0028228759765625, 0.045166015625, -0.021484375, 0.059326171875, -0.022216796875, 0.030517578125, 0.00640869140625, 0.056396484375, 0.0252685546875, 0.0201416015625, 0.00787353515625, -0.01141357421875, -0.041015625, 0.021728515625, -0.017333984375, -0.04345703125, 0.019287109375, -0.0150146484375, -0.00982666015625, -0.03125, -0.0308837890625, -0.000408172607421875, 0.0120849609375, -0.0341796875, 0.039306640625, -0.0005340576171875, -0.006744384765625, -0.03662109375, -0.062255859375, 0.0224609375, -0.003021240234375, -0.020751953125, -0.034912109375, 0.0205078125, -0.0194091796875, 0.02978515625, -0.0057373046875, 0.0020904541015625, 0.0037994384765625, -0.0260009765625, -0.0194091796875, 0.048095703125, 0.045166015625, -0.0289306640625, 0.044677734375, 0.00125885009765625, 0.04296875, 0.056884765625, 0.06884765625, -0.02490234375, -0.004425048828125, -0.00494384765625, -0.026611328125, 0.056396484375, 0.026611328125, -0.068359375, -0.0498046875, -0.0096435546875, 0.06103515625, -0.06689453125, 0.00506591796875, 0.00250244140625, 0.006439208984375, -0.00799560546875, -0.0233154296875, 0.008056640625, 0.01007080078125, -0.08203125, 0.024658203125, -0.000881195068359375, -0.054443359375, -0.00762939453125, 0.019287109375, 0.0191650390625, -0.045654296875, 0.0196533203125, 0.0020904541015625, 0.0118408203125, 0.0013885498046875, -0.021484375, 0.068359375, -0.0016021728515625, 0.031982421875, -0.0284423828125, -0.03125, 0.02978515625, -0.00860595703125, -0.0201416015625, 0.0087890625, -0.04150390625, 0.06298828125, -0.027587890625, 0.0137939453125, -0.004730224609375, -0.07568359375, 0.037353515625, -0.0257568359375, -0.003082275390625, 0.007598876953125, 0.0164794921875, 0.022216796875, 0.0011444091796875, -0.006500244140625, -0.01263427734375, 0.0072021484375, -0.031494140625, 0.034423828125, -0.02734375, -0.0419921875, -0.01202392578125, -0.0159912109375, -0.01220703125, -0.00592041015625, 0.0111083984375, -0.002166748046875, 0.01007080078125, -0.01263427734375, -0.0233154296875, 0.010009765625, 0.01458740234375, -0.01409912109375, -0.03076171875, 0.0252685546875, -0.05224609375, -0.0172119140625, 0.05126953125, 0.010498046875, 0.008056640625, -0.033935546875, -0.044677734375, 0.001861572265625, -0.0147705078125, -0.00732421875, -0.0027618408203125, -0.0137939453125, -0.04248046875, -0.06689453125, 0.050048828125, -0.055908203125, -0.06689453125, -0.0224609375, -0.03271484375, -0.034423828125, 0.017333984375, -0.00799560546875, 0.0252685546875, -0.00162506103515625, 0.00811767578125, -0.007598876953125, -0.01361083984375, 0.034423828125, 0.0106201171875, -0.0281982421875, 0.00933837890625, -0.036865234375, 0.04296875, -0.021728515625, -0.00836181640625, -0.007110595703125, -0.00958251953125, -0.04736328125, 0.004730224609375, -0.0068359375, 0.0194091796875, 0.057861328125, 0.023681640625, -0.0458984375, -0.0218505859375, -0.0224609375, 0.002716064453125, -0.0458984375, 0.0004520416259765625, -0.00933837890625, -0.0015869140625, 0.0106201171875, -0.0240478515625, -0.00537109375, -0.0013275146484375, 0.01409912109375, 0.006439208984375, -0.0311279296875, 0.00823974609375, 0.05078125, 0.0032958984375, -0.000965118408203125, 0.04931640625, 0.009033203125, 0.0013275146484375, -0.06103515625, 0.00213623046875, -0.005126953125, -0.034912109375, -0.00665283203125, -0.030517578125, -0.0052490234375, 0.01348876953125, 0.006317138671875, 0.032958984375, 0.004547119140625, 0.0120849609375, 0.059326171875, 0.0498046875, -0.0096435546875, -0.036376953125, -0.0201416015625, 0.007781982421875, -0.07763671875, 0.00145721435546875, -0.03662109375, 0.02294921875, -0.01708984375, -0.044921875, -0.05615234375, 0.014892578125, -0.01263427734375, 0.07373046875, 0.03857421875, 0.03125, -0.041015625, -0.00946044921875, -0.046875, -0.021728515625, 0.01385498046875, -0.000614166259765625, 0.024658203125, -0.0052490234375, 0.0076904296875, -0.0311279296875, 0.0361328125, 0.09130859375, -0.01104736328125, -0.029296875, 0.0281982421875, -0.068359375, 0.03955078125, 0.07275390625, 0.0595703125, -0.0118408203125, -0.028564453125, -0.021240234375, -0.049072265625, -0.002288818359375, 0.014892578125, 0.006317138671875, 0.01300048828125, 0.04052734375, 0.02685546875, 0.004730224609375, 0.041748046875, 0.0281982421875, 0.036376953125, -0.0238037109375, -0.033935546875, -0.04736328125, 0.062255859375, -0.031982421875, 0.04150390625, 0.01483154296875, 0.01806640625, -0.0341796875, 0.0106201171875, 0.00067138671875, -0.0036468505859375, 0.0341796875, -0.0057373046875, -0.00994873046875, -0.07177734375, -0.005401611328125, -0.019287109375, 0.004364013671875, -0.030517578125, 0.00153350830078125, 0.0004520416259765625, 0.029541015625, -0.00799560546875, -0.0233154296875, 0.04150390625, -0.05078125, 0.0196533203125, 0.02490234375, 0.052978515625, 0.0230712890625, -0.010009765625, -0.039794921875, -0.0074462890625, 0.0086669921875, 0.04248046875, 0.00897216796875, 0.0223388671875, 0.038330078125, 0.0147705078125, 0.0322265625, 0.0177001953125, -0.0218505859375, -0.028076171875, 0.0189208984375, 0.00013065338134765625, 0.03466796875, -0.03955078125, -0.0281982421875, -0.0238037109375, 0.021484375, 0.06396484375, 0.032958984375, -0.0137939453125, -0.014404296875, -0.0281982421875, -0.015625, 0.0025634765625, 0.0189208984375, 0.05908203125, 0.0289306640625, 0.01348876953125, -0.034912109375, -0.025390625, -0.014892578125, 0.034423828125, 0.0250244140625, -0.0400390625, 0.00185394287109375, -0.0035247802734375, 0.01226806640625, -0.03369140625, 0.00799560546875, -0.000751495361328125, -0.0028839111328125, 0.0174560546875, 0.0157470703125, 0.01385498046875, 0.0120849609375, -0.0167236328125, 0.0120849609375, -0.048095703125, -0.0126953125, 0.05859375, 0.026123046875, 0.0015869140625, 0.03466796875, -0.020751953125, 0.031494140625, 0.0140380859375, -0.0062255859375, 0.00152587890625, -0.034423828125, 0.00165557861328125, -0.02880859375, -0.0201416015625, 0.00823974609375, 0.005859375, -0.025390625, -0.036376953125, -0.0120849609375, 0.0106201171875, 0.0118408203125, -0.04345703125, -0.03125, -0.037841796875, 0.07568359375, 0.06982421875, -0.05078125, -0.04736328125, 0.050048828125, 0.003753662109375, -0.03076171875, 0.004241943359375, -0.04833984375, 0.0223388671875, -0.016357421875, -0.0035247802734375, 0.0269775390625, 0.0142822265625, 0.0308837890625, -0.00787353515625, 0.0205078125, 0.038330078125, -0.037841796875, -0.007537841796875, -0.041748046875, 0.044677734375, 0.0201416015625, 0.01507568359375, 0.0179443359375, 0.0050048828125, 0.01025390625, -0.0101318359375, -4.00543212890625e-05, 0.0240478515625, 0.046875, 0.06689453125, -0.007049560546875, 0.0091552734375, -0.00077056884765625, 0.027587890625, -0.00836181640625, 0.015625, -0.0224609375, 0.0269775390625, 0.006439208984375, 0.0311279296875, 0.0184326171875, -0.0230712890625, -0.020263671875, -0.0458984375, 0.0205078125, -0.006134033203125, -0.00750732421875, -0.0084228515625, -0.0108642578125, -0.0016021728515625, -0.0152587890625, 0.01251220703125, -0.0260009765625, -0.0068359375, 0.00799560546875, 0.08203125, 0.00099945068359375, 0.05126953125, 0.007720947265625, 0.04248046875, -0.00994873046875, 0.0050048828125, -0.0196533203125, -0.017578125, 0.109375, 0.024169921875, 0.03369140625, 0.04150390625, -0.0245361328125, 0.033203125, 0.0186767578125, 0.0184326171875, 0.037353515625, -0.038330078125, -0.047607421875, -0.050048828125, 0.01171875, -0.005859375, 0.023681640625, 0.054443359375, 0.026123046875, 0.06982421875, -0.00531005859375, -0.0218505859375, 0.041748046875, -0.0012664794921875, 0.014892578125, 0.04931640625, -0.01263427734375, -0.026611328125, 0.058349609375, -0.04150390625, 0.00787353515625, -0.03564453125, -0.0133056640625, 0.0147705078125, -0.0322265625, -0.02880859375, 0.004150390625, 0.016357421875, 0.0101318359375, -0.02734375, -0.016357421875, -0.0198974609375, -0.013671875, -0.03125, -0.0184326171875, 0.0164794921875, 0.0216064453125, -0.0040283203125, 0.01806640625, -0.026611328125, -0.0208740234375, -0.02294921875, -0.0498046875]}, {"key": "data/images/10.png", "width": 1786, "height": 2526, "embedding": [-0.046142578125, 0.046875, 0.046630859375, 0.0031890869140625, 0.02685546875, -0.0089111328125, -0.005828857421875, -0.019775390625, 0.004119873046875, 0.025634765625, -0.061767578125, -0.0242919921875, 0.0284423828125, 0.0048828125, 0.0439453125, 0.0023040771484375, -0.0308837890625, -0.036376953125, 0.01422119140625, -0.03564453125, 0.008056640625, -0.0113525390625, 0.0125732421875, -0.027099609375, -0.005340576171875, 0.08349609375, 0.01904296875, -0.013916015625, 0.0169677734375, -0.03271484375, 0.0013580322265625, -0.0260009765625, 0.021484375, -0.0286865234375, -0.037353515625, -0.046630859375, -0.0322265625, -0.01312255859375, 0.0172119140625, -0.045166015625, -0.055908203125, -0.0208740234375, -0.044189453125, -0.045166015625, 0.01129150390625, -0.0296630859375, -0.06298828125, -0.007415771484375, 0.003204345703125, -0.002685546875, -0.053466796875, 0.007598876953125, 0.019287109375, -0.02294921875, -0.0458984375, -0.0135498046875, -0.0125732421875, 0.00153350830078125, 0.017333984375, -0.02294921875, 0.047607421875, -0.0123291015625, -0.0308837890625, -0.03662109375, 0.040283203125, 0.05908203125, 0.041259765625, -0.046142578125, 0.0179443359375, 0.00616455078125, -0.031494140625, 0.00102996826171875, 0.0284423828125, -0.039306640625, 0.031494140625, 0.03955078125, -0.0235595703125, -0.000652313232421875, -0.02197265625, 0.01708984375, -0.0030975341796875, -0.004119873046875, 0.00848388671875, 0.0025177001953125, -0.0458984375, -0.003692626953125, 0.0196533203125, -0.045166015625, 0.004852294921875, 0.01904296875, -0.0291748046875, 0.01275634765625, 0.033935546875, -0.002777099609375, -0.0108642578125, -0.00836181640625, 0.0233154296875, 0.002716064453125, 0.0311279296875, 0.01556396484375, -0.046875, -0.07421875, 0.0098876953125, -0.033935546875, 0.01434326171875, -0.015625, 0.0263671875, 0.00885009765625, -0.0208740234375, 0.037353515625, -0.00732421875, 0.021240234375, -0.01007080078125, -0.017822265625, 0.00848388671875, 0.0247802734375, 0.061767578125, 0.01318359375, -0.033935546875, -0.032958984375, -0.064453125, -0.011962890625, -0.00689697265625, -0.0693359375, 0.046875, 0.047607421875, 0.019287109375, -0.006378173828125, 0.030029296875, 0.03466796875, 0.0008697509765625, 0.021728515625, 0.0157470703125, 0.034423828125, -0.0010986328125, 0.0177001953125, 0.0245361328125, 0.048583984375, 0.01031494140625, -0.03076171875, -0.0206298828125, 0.0283203125, 0.06396484375, 0.052490234375, 0.0033416748046875, -0.046630859375, 0.025146484375, 0.031494140625, 0.0179443359375, 0.01904296875, 0.046142578125, -0.0206298828125, 0.0059814453125, 0.0299072265625, -0.0120849609375, 0.0186767578125, -0.01953125, 0.022705078125, -0.01611328125, 0.0031280517578125, 0.007781982421875, 0.05126953125, -0.0016021728515625, -0.000823974609375, 0.051025390625, -0.016845703125, -0.06884765625, -0.046630859375, -0.06640625, -0.0047607421875, 0.0027618408203125, -0.00244140625, 0.06884765625, 0.04833984375, 0.059814453125, 0.01190185546875, -0.01519775390625, -0.041748046875, -0.022705078125, -0.0162353515625, 0.004302978515625, 0.004486083984375, 0.06787109375, 0.038818359375, 0.02783203125, 0.005340576171875, -0.048583984375, -0.0186767578125, -0.021728515625, -0.003692626953125, -0.0078125, -0.01275634765625, 0.021484375, 0.0654296875, 0.016845703125, -0.011474609375, 0.046142578125, -0.00787353515625, -0.0250244140625, 0.01055908203125, -0.037353515625, 0.037109375, -0.017822265625, -0.005157470703125, -0.021728515625, 0.025146484375, 0.052490234375, 0.0152587890625, 0.0111083984375, -0.037109375, 0.042236328125, -0.0157470703125, -0.0084228515625, -0.00982666015625, -0.0167236328125, -0.049072265625, 0.02294921875, 0.004852294921875, 0.035888671875, 0.0303955078125, -0.00238037109375, 0.00347900390625, 0.006988525390625, 0.0299072265625, 0.0225830078125, 0.044189453125, -0.0380859375, 0.0380859375, 0.0203857421875, -0.04248046875, 0.00433349609375, 0.02685546875, -0.006988525390625, -0.0230712890625, 0.000453948974609375, -0.035400390625, 0.00927734375, -0.0211181640625, -0.00445556640625, -0.01116943359375, -0.0096435546875, 0.00141143798828125, 0.006195068359375, -0.039306640625, 0.0126953125, -0.00128936767578125, -0.0150146484375, 0.01611328125, -0.046875, 0.00154876708984375, 0.0022735595703125, -0.0233154296875, -0.0322265625, 0.006378173828125, -0.00335693359375, -0.0986328125, 0.0067138671875, -0.021240234375, 0.01043701171875, 0.015625, 0.0147705078125, -0.0179443359375, -0.01177978515625, -0.03271484375, -0.019287109375, 0.035888671875, -0.0196533203125, -0.03662109375, -0.0400390625, 0.050048828125, 0.0081787109375, -0.0284423828125, 0.044189453125, 0.0458984375, -0.0234375, -0.04248046875, -0.034423828125, 0.0208740234375, -0.0242919921875, -0.05126953125, -0.000278472900390625, -0.00433349609375, 0.0033416748046875, 0.035888671875, -0.046630859375, 0.04345703125, 0.0247802734375, 0.021240234375, 0.015869140625, 0.01171875, 0.00927734375, 0.049560546875, -0.02880859375, 0.028076171875, 0.03955078125, -0.007781982421875, -0.0308837890625, 0.007415771484375, 0.000743865966796875, 0.0120849609375, 0.006256103515625, 0.005096435546875, 0.0067138671875, -0.046630859375, -0.01226806640625, -0.05322265625, -0.005584716796875, 0.01165771484375, -0.028076171875, -0.0140380859375, 0.01165771484375, -0.059814453125, -0.03271484375, -0.0157470703125, -0.008056640625, -0.041748046875, 0.0213623046875, -0.0296630859375, 0.01043701171875, 0.01312255859375, 0.0196533203125, -0.0230712890625, -0.0311279296875, 0.040771484375, 0.010009765625, 0.0001697540283203125, 0.015380859375, -0.0242919921875, -0.0091552734375, 0.006805419921875, 0.07421875, -0.0133056640625, -0.01544189453125, 0.040771484375, -0.007415771484375, 0.0263671875, -0.0296630859375, 0.004547119140625, -0.0184326171875, -0.01226806640625, -0.030029296875, 0.0172119140625, 0.034423828125, 0.01214599609375, 0.002410888671875, -0.01104736328125, -0.0322265625, 0.033203125, -0.0225830078125, 0.0057373046875, 0.030029296875, 0.032470703125, -0.0157470703125, 0.0093994140625, -0.032470703125, -0.003936767578125, 0.01904296875, -0.045166015625, -0.007537841796875, 0.047119140625, -0.0235595703125, -0.0081787109375, 0.0849609375, -0.0203857421875, 0.0208740234375, -0.054443359375, -0.03271484375, -0.01068115234375, -0.0284423828125, 0.06005859375, 0.045166015625, 0.03857421875, -0.0078125, -0.01226806640625, 0.017578125, -0.025634765625, -0.04296875, -0.025634765625, -0.03564453125, 0.049072265625, 0.0113525390625, 0.011474609375, -0.0291748046875, 0.003692626953125, 0.004486083984375, 0.03564453125, -0.07763671875, -0.006561279296875, -0.040283203125, 0.000125885009765625, -0.037353515625, -0.03564453125, 0.01251220703125, -0.03857421875, -0.029296875, 0.00017261505126953125, 0.01043701171875, 0.0654296875, -0.0263671875, 0.020263671875, -0.041259765625, 0.01055908203125, -0.024169921875, 0.0233154296875, 0.0208740234375, 0.04052734375, 0.041748046875, -0.03369140625, 0.062255859375, 0.0751953125, -0.0003871917724609375, 0.0234375, 0.001678466796875, 0.0108642578125, -0.037353515625, -0.021484375, -0.025634765625, 0.0145263671875, -0.031494140625, 0.07275390625, 0.031494140625, -0.046630859375, -0.0322265625, -0.00823974609375, 0.032958984375, 0.040283203125, 0.0194091796875, 0.022216796875, 0.006561279296875, -0.047607421875, 0.00848388671875, 0.03759765625, -0.0181884765625, -0.026611328125, -0.0023040771484375, -0.0380859375, -0.029052734375, -0.01519775390625, -0.052001953125, -0.035400390625, 0.0341796875, 0.00238037109375, -0.03857421875, 0.0196533203125, -0.058349609375, -0.053466796875, 0.02685546875, 0.01373291015625, 0.06884765625, 0.027099609375, 0.004150390625, 0.04833984375, 0.0478515625, 0.0030364990234375, 0.03515625, 0.0233154296875, 0.025634765625, 0.00543212890625, -0.01708984375, -0.0064697265625, 0.0137939453125, 0.00897216796875, -0.00885009765625, 0.01611328125, 0.037109375, 0.01953125, 0.042236328125, 0.032958984375, 0.0015106201171875, -0.0439453125, -0.03515625, -0.00299072265625, 0.0296630859375, -0.06005859375, -0.032958984375, 0.01507568359375, 0.0478515625, 0.06689453125, 0.0284423828125, -0.047119140625, -0.054443359375, 0.0203857421875, -0.019287109375, -0.0004062652587890625, 0.0233154296875, -0.004180908203125, -0.0308837890625, -0.003936767578125, 0.035888671875, -0.0242919921875, -0.0296630859375, 0.0206298828125, -0.055908203125, 0.01416015625, -0.0262451171875, 0.0274658203125, 0.0245361328125, 0.03369140625, 0.0072021484375, -0.07421875, -0.0106201171875, 0.0247802734375, -0.01422119140625, -0.0439453125, -0.0047607421875, -0.0262451171875, -0.01019287109375, -0.005859375, -0.01239013671875, -0.0177001953125, -0.0181884765625, -0.0380859375, -0.00347900390625, -0.031494140625, 0.02392578125, -0.05419921875, 0.00909423828125, -0.006683349609375, -0.042724609375, 0.00177764892578125, -0.03662109375, -0.036376953125, 0.033935546875, 0.00750732421875, -0.05908203125, 0.005828857421875, 0.0260009765625, -0.0242919921875, -0.016845703125, 0.00011730194091796875, 0.02001953125, 0.035400390625, -0.0291748046875, -0.03125, 0.039306640625, 0.05029296875, -0.0069580078125, 0.044189453125, 0.016357421875, 0.005645751953125, -0.034423828125, 0.00634765625, 0.025390625, 0.036865234375, 0.038818359375, -0.015380859375, -0.0537109375, 0.01318359375, 0.0133056640625, -0.01165771484375, -0.037353515625, 0.056640625, -0.0732421875, 0.00066375732421875, -0.01708984375, 0.00982666015625, 0.000125885009765625, 0.059814453125, -0.0120849609375, 0.045166015625, -0.000720977783203125, -0.037109375, -0.05419921875, 0.004547119140625, -0.0458984375, -0.041748046875, 0.045166015625, 0.00139617919921875, -0.0018463134765625, -0.0169677734375, 0.01226806640625, -0.0322265625, -0.0108642578125, -0.0008697509765625, 0.035888671875, 0.0211181640625, -0.026611328125, -0.0262451171875, -0.046630859375, 0.001190185546875, -0.0260009765625, -0.0157470703125, -0.0537109375, 0.035888671875, -0.02783203125, 0.07373046875, 0.03759765625, -0.007781982421875, 0.0615234375, 0.0206298828125, 0.00201416015625, 0.037109375, 0.06005859375, -0.0107421875, -0.001800537109375, 0.031494140625, 0.0147705078125, 0.011962890625, 0.007415771484375, -0.00177764892578125, 0.0140380859375, 0.0203857421875, -0.0255126953125, -0.01129150390625, 0.034912109375, -0.0615234375, -0.0673828125, 0.03564453125, 0.026611328125, -0.0341796875, -0.02587890625, -0.006072998046875, 0.019287109375, 0.0556640625, -0.00665283203125, -0.014404296875, 0.017578125, -0.02880859375, -0.017578125, 0.01611328125, -0.03369140625, -0.028076171875, -0.01165771484375, 0.015625, -0.005096435546875, 0.05517578125, 1.0907649993896484e-05, 0.0247802734375, 0.0279541015625, -0.060302734375, 0.033935546875, -0.033935546875, 0.05029296875, -0.046630859375, -0.0031890869140625, 0.01275634765625, -0.01031494140625, -0.003936767578125, 0.02587890625, -0.09033203125, 0.0322265625, -0.020263671875, 0.05810546875, -0.0341796875, -0.0247802734375, 0.005218505859375, -0.0296630859375, -0.00933837890625, 0.0023345947265625, -0.02197265625, 0.04296875, 0.029052734375, 0.00274658203125, -0.051025390625, -0.064453125, -0.052490234375, 0.046630859375, -0.0245361328125, -0.030517578125, 0.0033416748046875, -0.036376953125, 0.0032501220703125, -0.0087890625, -0.0208740234375, -0.004547119140625, 0.01519775390625, 0.0167236328125, -0.04296875, -0.00787353515625, 0.01458740234375, -0.013916015625, 0.003021240234375, 0.031982421875, -0.0274658203125, 0.0076904296875, 0.03564453125, 0.04345703125, -0.004302978515625, -0.037353515625, -0.0120849609375, -0.017578125, -0.064453125, 0.0026397705078125, -0.0260009765625, -0.0111083984375, -0.029296875, -0.05126953125, 0.03564453125, 0.012939453125, -0.017333984375, -0.0024261474609375, -0.0296630859375, 0.0025787353515625, 0.00689697265625, -0.027099609375, 0.0380859375, -0.0458984375, 0.00555419921875, -0.0247802734375, 0.03466796875, 0.01239013671875, 0.00634765625, -0.0225830078125, -0.009521484375, -0.01904296875, 0.09033203125, -0.0255126953125, -0.0311279296875, -0.033935546875, -0.0233154296875, -0.027099609375, -0.0081787109375, -0.016845703125, 0.002166748046875, 0.059326171875, 0.0250244140625, -0.053466796875, -0.041259765625, -0.019775390625, -0.054443359375, -0.0380859375, 0.0272216796875, -0.0107421875, -0.0284423828125, 0.0137939453125, 0.005340576171875, 0.0108642578125, -0.01171875, -0.004364013671875, -0.041259765625, -0.035888671875, 0.026611328125, -0.0255126953125, 0.0081787109375, 0.05517578125, 0.0225830078125, 0.01373291015625, 0.00469970703125, -0.0556640625, 0.030029296875, -0.0283203125, -0.004608154296875, -0.036865234375, 0.00543212890625, 0.004302978515625, 0.03662109375, 0.0057373046875, 0.05078125, -0.00482177734375, 0.00909423828125, 0.005035400390625, 0.0123291015625, -0.00811767578125, -0.02587890625, -0.0194091796875, 0.0255126953125, -0.056640625, 0.025634765625, -0.021728515625, 0.045166015625, -0.00860595703125, -0.002716064453125, -0.049072265625, -0.0322265625, 0.01214599609375, 0.07373046875, 0.0157470703125, 0.0223388671875, -0.0888671875, 0.0020904541015625, -0.030029296875, -0.01031494140625, -0.000942230224609375, -0.042724609375, 0.021484375, -0.01165771484375, 0.021728515625, -0.0311279296875, 1.633167266845703e-05, 0.04345703125, 0.030029296875, -0.033935546875, 0.0262451171875, -0.03369140625, 0.06005859375, 0.051025390625, 0.026611328125, -0.0135498046875, -0.0137939453125, -0.0007171630859375, -0.02587890625, -0.0150146484375, 0.01611328125, 0.01904296875, 0.049560546875, -0.035888671875, 0.030029296875, -0.07421875, 0.03662109375, 0.01904296875, -0.005767822265625, 0.033203125, -0.060791015625, -0.007293701171875, 0.046875, -0.00360107421875, -0.0022430419921875, 0.01129150390625, -0.0150146484375, -0.014404296875, -0.003936767578125, 0.00677490234375, -0.005859375, 0.0322265625, -0.0029144287109375, 0.0078125, -0.033935546875, -0.010986328125, 0.0169677734375, 0.005645751953125, -0.04296875, 0.00732421875, 0.018798828125, 0.0458984375, -0.04345703125, -0.0230712890625, 0.06298828125, -0.0291748046875, 0.0235595703125, -0.01611328125, 0.05126953125, 0.03076171875, -0.0150146484375, -0.0157470703125, -0.00823974609375, -0.005340576171875, -0.00750732421875, 0.01483154296875, 0.0322265625, 0.053466796875, -0.01312255859375, 0.030517578125, 0.029052734375, -0.027099609375, -0.0181884765625, 0.05908203125, 0.019775390625, 0.0128173828125, -0.0235595703125, -0.053466796875, 0.019287109375, 0.0020904541015625, 0.04541015625, 0.06884765625, 0.00555419921875, 0.006072998046875, 0.017578125, -0.0478515625, 0.0245361328125, 0.03466796875, 0.01483154296875, 0.05126953125, 0.0299072265625, -0.0123291015625, -0.02294921875, 0.03759765625, 0.041259765625, 0.0234375, -0.007781982421875, -0.01422119140625, 0.02001953125, -0.01177978515625, 0.0255126953125, 0.017578125, -0.01055908203125, -0.03759765625, 0.04443359375, 0.007598876953125, -0.0234375, 0.042724609375, -0.0242919921875, 0.004638671875, -0.05615234375, 0.01422119140625, 0.078125, 0.0260009765625, 0.0091552734375, 0.04052734375, -0.034912109375, 0.0267333984375, -0.0250244140625, -0.054931640625, -0.00897216796875, -0.0303955078125, -0.00174713134765625, 0.00090789794921875, -0.044189453125, -0.035888671875, 0.00933837890625, -0.0322265625, -0.0167236328125, 0.017578125, 0.01129150390625, -0.0006103515625, -0.038818359375, -0.0260009765625, -0.00323486328125, 0.0966796875, -0.004547119140625, -0.041259765625, -0.046630859375, 0.0093994140625, 0.0025482177734375, -0.036376953125, -0.0263671875, -0.033203125, 0.029296875, 0.00023365020751953125, -0.00469970703125, 0.036376953125, -0.005096435546875, 0.047607421875, -0.01239013671875, -0.01611328125, 0.00023365020751953125, -0.012939453125, -0.048583984375, 0.005645751953125, -0.0022735595703125, 0.01312255859375, -0.01129150390625, -0.00390625, 0.029296875, -0.00604248046875, -0.01312255859375, -0.01007080078125, 0.0157470703125, 0.045166015625, 0.047607421875, 0.0009613037109375, 0.01177978515625, 0.01226806640625, 0.034423828125, 0.0242919921875, 0.030517578125, 0.031494140625, 0.01007080078125, 0.020263671875, -0.0242919921875, -0.026611328125, -0.04931640625, -0.0140380859375, -0.030517578125, -0.0537109375, 0.04345703125, 0.06298828125, -0.00113677978515625, -0.021484375, 0.007720947265625, 0.00494384765625, 0.0206298828125, 0.00848388671875, 0.0018310546875, -0.032958984375, 0.0654296875, 0.04248046875, 0.018310546875, -0.032958984375, 0.02783203125, 0.006134033203125, 0.0230712890625, -0.00133514404296875, -0.026611328125, 0.07421875, 0.048583984375, 0.025146484375, -0.0147705078125, 0.03955078125, 0.01507568359375, 0.03271484375, -0.00909423828125, 0.0177001953125, -0.02001953125, -0.02001953125, -0.03515625, 0.01019287109375, -0.0223388671875, 0.01129150390625, 0.05419921875, 0.017822265625, 0.087890625, -0.036865234375, 0.0213623046875, 0.016845703125, 0.0146484375, -0.00347900390625, 0.0308837890625, 0.0233154296875, -0.06787109375, -0.0172119140625, -0.0615234375, 0.0081787109375, -0.030517578125, -0.000492095947265625, 0.0120849609375, -0.0247802734375, -0.036376953125, 0.0113525390625, 0.0206298828125, -0.00909423828125, -0.042724609375, -0.003021240234375, -0.03173828125, 0.011474609375, -0.036376953125, -0.0030670166015625, 0.04443359375, -0.022705078125, 0.00445556640625, 0.04345703125, 0.0135498046875, -0.017578125, -0.0703125, -0.03515625]}, {"key": "data/images/11.png", "width": 1786, "height": 2526, "embedding": [-0.030029296875, -0.01171875, 0.049072265625, -0.01129150390625, -0.000606536865234375, 0.01336669921875, -0.00157928466796875, -0.037841796875, -0.00738525390625, 0.0086669921875, -0.041015625, 0.0252685546875, -0.0252685546875, -0.0106201171875, 0.034423828125, -0.0081787109375, -0.0498046875, -0.0146484375, 0.01025390625, -0.03759765625, 0.041748046875, 0.004150390625, 0.0181884765625, -0.00433349609375, -0.051025390625, 0.062255859375, 0.00025177001953125, -0.046875, -0.05517578125, -0.03173828125, 0.0257568359375, -0.0159912109375, 0.0830078125, -0.01531982421875, -0.060791015625, -0.0634765625, 0.023193359375, 1.5616416931152344e-05, 0.046142578125, 0.010498046875, -0.04248046875, -0.046875, -0.10205078125, -0.0299072265625, 0.029541015625, -0.0029296875, -0.045166015625, -0.0166015625, 0.00848388671875, -0.02392578125, -0.00970458984375, -0.0252685546875, -0.0279541015625, -0.00653076171875, -0.056396484375, -0.008544921875, -0.02392578125, -0.0252685546875, 0.0225830078125, 0.00958251953125, -0.04541015625, 0.0177001953125, -0.07421875, 0.0240478515625, 0.00128173828125, 0.0181884765625, 0.01263427734375, 0.027587890625, 0.038818359375, -0.003387451171875, -0.027099609375, 0.0027923583984375, 0.0289306640625, -0.052734375, 0.029541015625, 0.005035400390625, -0.08349609375, -0.02978515625, -0.007171630859375, 0.044189453125, 0.0159912109375, -0.022705078125, -0.00897216796875, -0.003692626953125, -0.00634765625, -0.02392578125, 0.0017852783203125, -0.0196533203125, 0.01177978515625, -0.003936767578125, -0.07470703125, 0.0185546875, -0.01556396484375, 0.014892578125, -0.017333984375, -0.052490234375, -0.0145263671875, -0.0255126953125, 0.09033203125, 0.033935546875, -0.016845703125, -0.05615234375, -0.003387451171875, 0.0263671875, -0.0235595703125, -0.021240234375, 0.0186767578125, 0.01104736328125, -0.0478515625, 0.0150146484375, -0.0213623046875, 0.0223388671875, -0.023193359375, 0.0042724609375, -0.0177001953125, -0.037353515625, 0.021728515625, 0.040283203125, -0.041015625, -0.00176239013671875, -0.04443359375, -0.030029296875, 0.004791259765625, -0.03466796875, 0.0145263671875, 0.02392578125, 0.0059814453125, -0.0162353515625, 0.031494140625, 0.0230712890625, 0.0198974609375, 0.004241943359375, -0.00726318359375, 0.05859375, 0.0234375, 0.003997802734375, 0.07470703125, 0.037841796875, -0.03662109375, -0.0235595703125, -0.055908203125, 0.06494140625, 0.0419921875, -0.017333984375, 0.0098876953125, -0.03662109375, -0.0179443359375, -0.036865234375, 0.029296875, 0.04150390625, 0.00738525390625, -0.03662109375, 0.0022735595703125, 0.0106201171875, -0.0017852783203125, 0.055908203125, -0.035400390625, 0.0380859375, -0.0303955078125, 0.0091552734375, -0.00653076171875, 0.043701171875, -0.007568359375, 0.028076171875, 0.06640625, -0.05419921875, -0.046875, -0.0201416015625, -0.0908203125, 0.016845703125, -0.0537109375, -0.0126953125, 0.028564453125, 0.041748046875, 0.0478515625, 0.041015625, -0.0115966796875, -0.06640625, -0.01275634765625, -0.01556396484375, -0.007110595703125, -0.0205078125, 0.04150390625, 0.041015625, -0.00787353515625, -0.048095703125, -0.043212890625, -0.01336669921875, 0.01116943359375, -0.041748046875, 0.005126953125, -0.010009765625, 0.0186767578125, 0.0126953125, 0.017333984375, -0.0027618408203125, 0.035400390625, -0.0213623046875, -0.007568359375, 0.057373046875, -0.080078125, 0.054443359375, -0.01446533203125, -0.042236328125, 0.0279541015625, 0.0026092529296875, -0.0038909912109375, -0.029296875, -0.023193359375, -0.02099609375, 0.048828125, -0.025390625, 0.00433349609375, 0.012939453125, -0.028076171875, -0.032470703125, 0.0189208984375, -0.01226806640625, 0.045166015625, 0.04248046875, -0.015869140625, 0.0047607421875, -0.01116943359375, 0.0244140625, 0.08935546875, 0.048828125, -0.0031280517578125, 0.05224609375, 0.00732421875, -0.042724609375, 0.03369140625, 0.00579833984375, -0.0009918212890625, 0.00726318359375, 0.0030517578125, -0.0205078125, -0.0036773681640625, -0.0419921875, 0.0277099609375, -0.003265380859375, -0.005584716796875, 0.003509521484375, -0.053466796875, -0.055419921875, 0.006866455078125, -0.01214599609375, 0.034423828125, 0.04443359375, -0.062255859375, 0.017822265625, -0.0012664794921875, -0.0028228759765625, -0.00141143798828125, 0.051513671875, 3.3855438232421875e-05, -0.0927734375, 0.02001953125, -0.0186767578125, 0.002593994140625, 0.026611328125, 0.031982421875, 0.001556396484375, -0.0027008056640625, -0.0247802734375, -0.0262451171875, 0.064453125, -0.052734375, -0.06005859375, -0.06640625, 0.06787109375, -0.015869140625, -0.01513671875, 0.03369140625, 0.034423828125, -0.006317138671875, -0.0595703125, -0.009521484375, 0.033203125, -0.041015625, 0.03515625, -0.00970458984375, 0.049072265625, -0.0081787109375, 0.017333984375, -0.0255126953125, 0.08837890625, 0.00518798828125, 0.00970458984375, 0.01422119140625, 0.01336669921875, 0.0208740234375, 0.0498046875, 0.0037384033203125, -0.0235595703125, 0.021728515625, -0.028564453125, -0.058837890625, 0.020263671875, 0.007598876953125, -0.00909423828125, -0.01446533203125, -0.000453948974609375, 0.0130615234375, 0.0026702880859375, 0.007049560546875, -0.00811767578125, -0.01446533203125, 0.004852294921875, -0.00830078125, -0.01446533203125, -0.00701904296875, -0.01092529296875, -0.01239013671875, -0.04638671875, -0.0281982421875, -0.0478515625, 0.0517578125, -0.050537109375, -0.033203125, 0.01080322265625, 0.01080322265625, 0.04443359375, 0.01214599609375, 0.060546875, 0.0281982421875, 0.01025390625, -0.01544189453125, -0.004791259765625, 0.0050048828125, 0.0220947265625, 0.0113525390625, 0.022216796875, -0.0089111328125, 0.01116943359375, 0.005645751953125, 0.0186767578125, 0.01708984375, 0.0208740234375, 0.000362396240234375, -0.017822265625, -0.0205078125, 0.0220947265625, 0.038330078125, -0.0098876953125, -0.00994873046875, -0.02587890625, -0.044677734375, 0.03173828125, -0.02490234375, 0.004241943359375, -0.00152587890625, 0.038330078125, 0.0146484375, -0.01177978515625, -0.0220947265625, -0.01171875, -0.002777099609375, 0.021240234375, -0.0025634765625, 0.033447265625, -0.02685546875, -0.00634765625, 0.03515625, -0.03466796875, -0.005584716796875, -0.039306640625, -0.03173828125, -0.0023193359375, 0.00396728515625, 0.029296875, 0.04052734375, 0.06396484375, -0.0184326171875, -0.059814453125, 0.026123046875, -0.0220947265625, -0.0002460479736328125, -0.01251220703125, -0.0024566650390625, 0.0162353515625, -0.021728515625, 0.01373291015625, -0.0113525390625, -0.036865234375, -0.00012969970703125, 0.0223388671875, -0.041015625, 0.028076171875, -0.04150390625, 0.00921630859375, 0.00927734375, -0.0274658203125, 0.019775390625, -0.0244140625, -0.03466796875, 0.0537109375, 0.005584716796875, 0.0615234375, 0.00116729736328125, 0.00927734375, -0.03955078125, -0.0230712890625, 0.0028839111328125, 0.01239013671875, 0.0255126953125, 0.006134033203125, 0.064453125, -0.035888671875, -0.0181884765625, 0.05859375, 0.01446533203125, 0.048828125, 0.0181884765625, 0.02294921875, -0.05859375, 0.004058837890625, -0.0098876953125, -0.0205078125, 0.0235595703125, 0.034423828125, 0.0281982421875, -0.04345703125, -0.0272216796875, -0.01531982421875, 0.0235595703125, -0.04248046875, -0.026123046875, 0.04052734375, 0.01068115234375, -0.036376953125, 0.0205078125, 0.03759765625, -0.05859375, -0.011962890625, 0.012451171875, -0.0225830078125, 0.0145263671875, -0.0247802734375, -0.038818359375, -0.04345703125, 0.0245361328125, 0.012451171875, -0.04638671875, -0.04345703125, -0.03662109375, -0.02392578125, -0.006866455078125, -0.01116943359375, -0.00115203857421875, -0.00189208984375, 0.026123046875, 0.0673828125, 0.0693359375, -0.01251220703125, 0.0634765625, 0.0216064453125, 0.00186920166015625, -0.0216064453125, -0.0084228515625, -0.01556396484375, 0.033935546875, -0.0037994384765625, -0.0194091796875, -0.010009765625, -0.0133056640625, 0.0033416748046875, 0.048828125, 0.0240478515625, -0.042236328125, -0.05859375, 0.0023956298828125, 0.01495361328125, 0.0005035400390625, -0.01263427734375, -0.015869140625, 0.0478515625, 0.0262451171875, 0.04345703125, 0.05224609375, -0.01287841796875, 0.000873565673828125, 0.03076171875, -0.0002231597900390625, 0.03662109375, 0.04638671875, 0.026123046875, -0.0018768310546875, -0.041015625, 0.04638671875, -0.01397705078125, -0.00128173828125, 0.036865234375, -0.01513671875, -0.004669189453125, -0.0166015625, 0.036376953125, 0.0147705078125, 0.06005859375, -0.04052734375, -0.06298828125, 0.0218505859375, 0.018798828125, -0.061767578125, -0.0234375, 0.04638671875, -0.0225830078125, -0.0230712890625, -0.0517578125, 0.00811767578125, -0.002044677734375, 0.032958984375, -0.00732421875, -0.006134033203125, -0.05224609375, -0.00531005859375, -0.0147705078125, -0.018310546875, 0.015380859375, -0.044677734375, -0.0380859375, -0.0277099609375, -0.044189453125, 0.049072265625, 0.00457763671875, -0.033935546875, 0.03564453125, 0.01544189453125, -0.036376953125, -0.006683349609375, -0.029296875, -0.01556396484375, -0.03515625, 0.002166748046875, -0.0341796875, 0.0034332275390625, 0.017578125, 0.00311279296875, 0.0419921875, 0.02001953125, 0.0001392364501953125, -0.032470703125, 0.0286865234375, 0.0027618408203125, 0.01434326171875, 0.0177001953125, -0.0289306640625, -0.0194091796875, -0.004425048828125, -0.00885009765625, -0.00738525390625, -0.0240478515625, 0.03173828125, -0.062255859375, 0.03564453125, -0.033935546875, 0.016845703125, 0.007781982421875, 0.03662109375, 0.0223388671875, 0.0089111328125, 0.0242919921875, -0.041015625, -0.062255859375, 0.0113525390625, -0.0284423828125, -0.020751953125, 0.017333984375, -0.015869140625, 0.03564453125, -0.0157470703125, -0.040283203125, 0.00653076171875, 0.020263671875, -0.0250244140625, 0.037841796875, 0.0294189453125, 0.023193359375, -0.00173187255859375, -0.0213623046875, 0.023681640625, 0.005401611328125, -0.0181884765625, -0.00811767578125, -0.00787353515625, -0.053466796875, 0.045166015625, -0.041748046875, 0.04638671875, 0.07763671875, -0.0311279296875, 0.0150146484375, 0.01611328125, 0.034912109375, -0.0079345703125, 0.006072998046875, 0.00946044921875, 0.01434326171875, 0.0169677734375, -0.002166748046875, -0.052734375, -0.007781982421875, -0.006866455078125, -0.0191650390625, 0.01220703125, 0.0184326171875, -0.049560546875, 0.0303955078125, 0.05712890625, 0.00738525390625, -0.037109375, 0.0030364990234375, 0.0245361328125, -0.003692626953125, 0.03125, -0.0034637451171875, 0.010498046875, 0.0284423828125, -0.053466796875, -0.000621795654296875, -0.0302734375, -0.026611328125, -0.0218505859375, 0.0322265625, 0.018798828125, -0.0294189453125, 0.037109375, -0.0074462890625, 0.02392578125, 0.0225830078125, -0.04345703125, 0.02685546875, -0.0023651123046875, 0.0537109375, -0.0032806396484375, -0.006591796875, 0.005584716796875, -0.0289306640625, -0.034912109375, 0.00118255615234375, -0.044677734375, 0.0184326171875, -0.037109375, 0.07470703125, 0.0034332275390625, -0.012939453125, 0.03662109375, -0.0145263671875, -0.037841796875, -0.0218505859375, -0.049072265625, 0.023681640625, -0.01519775390625, 0.0093994140625, -0.050537109375, -0.00830078125, -0.015869140625, 0.0281982421875, -0.0908203125, -0.004425048828125, 0.00653076171875, -0.018798828125, 0.0234375, -0.01470947265625, -0.022705078125, -0.005584716796875, -0.031982421875, 0.0267333984375, -0.0625, -0.014892578125, 0.0277099609375, -0.03662109375, -0.0093994140625, -0.0184326171875, -0.0052490234375, 0.007232666015625, 0.03466796875, 0.023193359375, 0.033203125, -0.01556396484375, -0.0004596710205078125, 0.0026702880859375, -0.043701171875, 0.01251220703125, 0.0225830078125, 0.037353515625, -0.01153564453125, -0.0498046875, 0.01092529296875, 0.033203125, -0.023193359375, -0.035400390625, -0.01336669921875, -0.004791259765625, 0.01336669921875, 0.0211181640625, 0.03515625, -0.006988525390625, 0.0279541015625, -0.041748046875, -0.002288818359375, -0.049072265625, 0.0026092529296875, -0.02294921875, -0.0277099609375, -0.029541015625, 0.04052734375, 0.00860595703125, 0.023193359375, -0.002197265625, 0.0098876953125, -0.0169677734375, -0.002166748046875, -0.0244140625, -0.0089111328125, 0.05322265625, 0.03173828125, -0.05908203125, 0.01708984375, 0.0126953125, -0.0732421875, -0.038330078125, 0.03076171875, 0.0084228515625, -0.01177978515625, 0.01513671875, -0.0213623046875, 0.03076171875, -0.0185546875, 0.003265380859375, -0.019775390625, -0.027099609375, -0.02001953125, -0.0011749267578125, -0.03125, 0.0257568359375, 0.00811767578125, -0.006683349609375, 0.0003261566162109375, -0.07177734375, 0.0311279296875, 0.01025390625, -0.032470703125, -0.0294189453125, -0.0205078125, -0.004058837890625, 0.03271484375, 0.007232666015625, 0.000858306884765625, -0.01055908203125, -0.006866455078125, 0.0034942626953125, 0.023193359375, -0.033447265625, -0.00384521484375, -0.00872802734375, 0.006317138671875, -0.07373046875, 0.000949859619140625, -0.00152587890625, 0.0810546875, -0.04541015625, -0.0101318359375, 0.01055908203125, 0.01116943359375, 0.037353515625, 0.045166015625, 0.00811767578125, 0.032958984375, -0.033203125, -0.0052490234375, -0.05908203125, -0.000396728515625, -0.0220947265625, -0.052490234375, 0.035888671875, -0.01025390625, -0.0196533203125, 0.0034942626953125, 0.04052734375, -0.01220703125, 0.0003032684326171875, -0.0252685546875, 0.0162353515625, -0.040283203125, 0.020751953125, 0.01171875, 0.0693359375, -0.00262451171875, -0.039306640625, -0.004150390625, 0.01251220703125, 0.007232666015625, 0.0284423828125, 0.01556396484375, -0.0091552734375, -0.042236328125, 0.023193359375, -0.0235595703125, 0.0751953125, 0.0284423828125, -0.00131988525390625, 0.035888671875, -0.0908203125, -0.05224609375, 0.00811767578125, 0.00543212890625, 0.044677734375, -0.00701904296875, -0.0027313232421875, -0.004638671875, -0.0093994140625, 0.030029296875, 0.01361083984375, 0.00946044921875, -0.0196533203125, 0.0294189453125, -0.050048828125, 0.029052734375, -0.0162353515625, -0.022216796875, 0.0011749267578125, 0.0021209716796875, 0.03955078125, 0.00102996826171875, -0.0302734375, -0.00830078125, 0.0311279296875, -0.033203125, -0.00799560546875, -0.0252685546875, -0.029541015625, -0.00183868408203125, -0.034423828125, -0.0194091796875, -0.026611328125, 0.0272216796875, -0.0118408203125, 0.0169677734375, 0.00543212890625, 0.03955078125, -0.0067138671875, 0.01434326171875, 0.01068115234375, 0.0179443359375, -0.032470703125, 0.0303955078125, 0.01336669921875, 0.00469970703125, -0.035400390625, -0.046142578125, 0.0419921875, 0.0091552734375, 0.0101318359375, 0.04345703125, -0.007232666015625, -0.055419921875, 0.01104736328125, -0.044677734375, -0.00909423828125, 0.00848388671875, 0.01275634765625, 0.0218505859375, 0.049560546875, 0.0050048828125, -0.053466796875, 0.007354736328125, 0.05908203125, 0.028564453125, 0.00144195556640625, -0.01263427734375, -0.01043701171875, 0.000804901123046875, 0.00531005859375, -0.0034332275390625, -0.021728515625, -0.04052734375, 0.0380859375, 0.0216064453125, -0.049072265625, 0.0250244140625, 0.029052734375, 0.04736328125, -0.049072265625, -0.01318359375, 0.0634765625, 0.0174560546875, 0.00830078125, -0.00933837890625, 0.0004100799560546875, -0.00372314453125, 0.0166015625, -0.083984375, -0.048583984375, -0.0196533203125, -0.001983642578125, 0.000698089599609375, -0.0634765625, -0.000499725341796875, 0.026611328125, -0.038330078125, 0.01025390625, -0.0013275146484375, -0.033203125, -0.035400390625, -0.04736328125, -0.07763671875, 0.0111083984375, 0.06640625, 0.060546875, -0.042724609375, -0.039306640625, -0.00176239013671875, -0.004791259765625, 0.0250244140625, -0.006927490234375, 0.01007080078125, 0.028564453125, -0.036376953125, -0.0277099609375, 0.0101318359375, -0.012939453125, 0.033203125, -0.01318359375, 0.0115966796875, 0.051513671875, -0.04248046875, -0.0201416015625, -0.03125, -0.0308837890625, 0.012451171875, 0.0030364990234375, 0.0179443359375, -0.048095703125, -0.0162353515625, -0.0458984375, -0.07421875, -0.005767822265625, -0.006011962890625, 0.0289306640625, 0.0172119140625, -0.004150390625, -0.0186767578125, 0.05908203125, 0.003265380859375, 0.0208740234375, -0.0279541015625, 0.00439453125, 0.0174560546875, 0.008544921875, -0.019775390625, 0.00726318359375, -0.049560546875, -0.01287841796875, -0.061767578125, 0.0341796875, 0.03369140625, -0.01239013671875, -0.021728515625, 0.06689453125, 0.045166015625, 0.0185546875, -0.028076171875, 0.041015625, -0.038818359375, 0.044189453125, 0.01336669921875, 0.0186767578125, -0.0023651123046875, 0.0252685546875, -0.0230712890625, 0.00927734375, 0.01531982421875, 0.016845703125, 0.080078125, 0.05078125, 0.020263671875, -0.0177001953125, -0.006103515625, 0.03662109375, 0.0223388671875, 0.007171630859375, -0.003448486328125, -0.013427734375, -0.011962890625, -0.07763671875, 0.021240234375, -0.029296875, 0.034912109375, 0.041015625, 0.0274658203125, 0.039306640625, -0.023681640625, -0.0166015625, 0.01153564453125, 0.0267333984375, 0.00016689300537109375, -0.0115966796875, 0.011962890625, -0.06982421875, -0.001556396484375, -0.016845703125, 0.0038909912109375, 0.000598907470703125, -0.0218505859375, 0.037109375, -0.017333984375, -0.0308837890625, -0.019775390625, 0.037353515625, -0.01068115234375, 0.0064697265625, -0.00579833984375, 0.0263671875, -0.032470703125, -0.033935546875, -0.021728515625, -0.018798828125, -0.0272216796875, -0.0185546875, 0.035888671875, -0.0169677734375, 0.0022125244140625, -0.05712890625, -0.00408935546875]}, {"key": "data/images/12.png", "width": 1786, "height": 2526, "embedding": [0.024169921875, 0.018310546875, 0.0673828125, -0.00860595703125, 0.002838134765625, -0.01904296875, 0.030517578125, 0.031982421875, 0.0208740234375, -0.0272216796875, -0.027099609375, 0.08251953125, -0.06298828125, 0.0147705078125, 0.03564453125, -0.003387451171875, -0.0208740234375, -0.00750732421875, 0.00982666015625, -0.0128173828125, 0.0966796875, 0.0078125, 0.03173828125, -0.03369140625, 0.006378173828125, -0.001220703125, -0.04931640625, 0.0113525390625, -0.00689697265625, 0.0029449462890625, -0.00567626953125, -0.0478515625, -0.0146484375, 0.00095367431640625, -0.07421875, 0.01611328125, -0.057373046875, -0.01226806640625, 0.030029296875, -0.041259765625, -0.0517578125, 0.0135498046875, -0.06591796875, -0.0260009765625, 0.04345703125, -0.0107421875, -0.01336669921875, 0.040771484375, 0.06005859375, 0.01422119140625, -0.025634765625, 0.00634765625, -0.03271484375, -0.03955078125, -0.032470703125, 0.000820159912109375, -0.01031494140625, 0.005645751953125, 0.006500244140625, 0.00665283203125, -0.0250244140625, -0.00677490234375, -0.1015625, 0.0322265625, 0.0220947265625, 0.02783203125, 0.041259765625, -0.018798828125, 0.0037994384765625, 0.0021514892578125, -0.02294921875, -0.046630859375, 0.07177734375, -0.076171875, 0.031494140625, -0.004486083984375, -0.042236328125, 0.00909423828125, -0.0537109375, 0.00787353515625, 0.00555419921875, 0.018798828125, -0.0169677734375, -0.046875, -0.017333984375, -0.0150146484375, 0.0220947265625, 0.00872802734375, 0.01519775390625, 0.035888671875, -0.00634765625, 0.0263671875, -0.03271484375, 0.000690460205078125, 0.036376953125, 0.004913330078125, -0.0137939453125, -0.005157470703125, 0.046630859375, 0.009765625, 0.0201416015625, -0.022705078125, 0.0299072265625, -0.025634765625, 0.0255126953125, -0.00555419921875, 0.05322265625, -0.05126953125, -0.03515625, 0.0123291015625, 0.056884765625, 0.029052734375, -0.0206298828125, -0.0186767578125, -0.000293731689453125, -0.0301513671875, 0.02880859375, 0.009521484375, -0.00848388671875, -0.00439453125, -0.06787109375, -0.0206298828125, -0.007415771484375, -0.03271484375, -0.000698089599609375, -0.0284423828125, 0.000148773193359375, -0.0181884765625, -0.000537872314453125, 0.01177978515625, 0.032958984375, -0.0081787109375, -0.01239013671875, 0.0230712890625, 0.00018024444580078125, 0.035888671875, 0.0556640625, 0.048583984375, -0.04345703125, 0.011474609375, -0.0169677734375, 0.0120849609375, 0.052490234375, 0.01544189453125, -0.0291748046875, -0.04248046875, 0.0003681182861328125, -0.037109375, 0.0556640625, 0.02880859375, 0.0108642578125, 0.017333984375, -0.00439453125, -0.0213623046875, -0.01275634765625, 0.0040283203125, -0.022216796875, 0.038818359375, -0.036376953125, 0.00604248046875, -0.035400390625, 0.01708984375, 0.00555419921875, -0.0040283203125, 0.053466796875, -0.032470703125, 0.045166015625, 0.0034942626953125, -0.052490234375, -0.00112152099609375, 0.032470703125, -0.00162506103515625, -0.0225830078125, -0.03076171875, 0.046630859375, 0.0203857421875, 0.036865234375, -0.0247802734375, 0.0011749267578125, -0.0196533203125, 0.00897216796875, -0.015869140625, -0.00250244140625, -0.0247802734375, -0.0303955078125, -0.034423828125, -0.024169921875, -0.00122833251953125, -0.0263671875, -0.044189453125, -0.0262451171875, 0.016845703125, 0.0047607421875, 0.0203857421875, 0.057373046875, 0.0625, -0.004302978515625, -0.00177001953125, 0.035888671875, 0.01318359375, -0.0615234375, 0.00299072265625, 0.017333984375, 0.00015354156494140625, -0.0146484375, 0.002777099609375, 0.019775390625, -0.055908203125, 0.0081787109375, -0.0125732421875, 0.054931640625, -0.05029296875, 0.049072265625, 0.02001953125, 0.016845703125, -0.0233154296875, 0.0208740234375, 0.016845703125, 0.01361083984375, -0.052490234375, -0.004486083984375, 0.002166748046875, -0.064453125, 0.01007080078125, 0.02685546875, 0.028076171875, -0.0179443359375, 0.02587890625, -0.002197265625, -0.0284423828125, 0.025146484375, 0.027099609375, 0.0047607421875, -0.0400390625, -0.016845703125, 0.0167236328125, 0.01031494140625, -0.0634765625, 0.025634765625, 0.037353515625, 0.005645751953125, 0.005157470703125, -0.04296875, 0.044189453125, 0.0262451171875, -0.07373046875, 0.042236328125, 0.06884765625, -0.0186767578125, -0.040283203125, -0.022216796875, -0.0225830078125, -0.037353515625, 0.01611328125, 0.0089111328125, -0.07275390625, 0.0012359619140625, 0.00677490234375, 0.021240234375, 0.00811767578125, 0.0247802734375, -0.06298828125, -0.0255126953125, -0.0133056640625, -0.0301513671875, 0.0238037109375, -0.04833984375, -0.0035552978515625, -0.061767578125, 0.032958984375, -0.0150146484375, 0.060791015625, 0.04296875, 0.030517578125, -0.0152587890625, -0.03271484375, 0.00628662109375, -0.0247802734375, -0.019775390625, -0.0032806396484375, 0.005340576171875, 0.027587890625, -0.0517578125, 0.050048828125, -0.033447265625, 0.06494140625, -0.01116943359375, 0.02783203125, 0.0018768310546875, 0.04833984375, 0.0235595703125, -0.027099609375, -0.00145721435546875, -0.0042724609375, 0.0673828125, -0.00665283203125, -0.021484375, -0.033203125, -0.03466796875, -0.04443359375, -0.03515625, 0.009521484375, 0.053466796875, -0.02783203125, 0.021240234375, -0.047607421875, -0.039306640625, 0.01031494140625, -0.021728515625, 0.003387451171875, -0.0146484375, -0.01422119140625, -0.044677734375, -0.0380859375, -0.02587890625, -0.0238037109375, 0.0238037109375, -0.06103515625, -0.000934600830078125, 0.03759765625, -0.017578125, -0.0184326171875, -0.00836181640625, 0.01177978515625, -0.0615234375, -0.0208740234375, -0.030029296875, -0.003936767578125, 0.036376953125, 0.008544921875, 0.0238037109375, -0.01031494140625, 0.007476806640625, -0.004425048828125, -0.0303955078125, 0.02783203125, 0.013916015625, 0.06005859375, 0.0296630859375, 0.046630859375, -0.004669189453125, 0.007110595703125, 0.0194091796875, 0.049072265625, 0.022705078125, -0.010986328125, -0.03857421875, 0.00469970703125, -0.0556640625, -0.0279541015625, -0.00982666015625, 0.056884765625, -0.0211181640625, -0.05029296875, 0.0120849609375, -0.0225830078125, 0.0169677734375, -0.002227783203125, -0.029541015625, -0.0201416015625, -0.0311279296875, -0.046630859375, 0.04248046875, 0.015380859375, 0.0286865234375, -0.0120849609375, 0.0172119140625, -0.0029144287109375, 0.029541015625, 0.0120849609375, 0.017578125, 0.058349609375, -0.01165771484375, -0.062255859375, 0.0026092529296875, -0.0247802734375, -0.0069580078125, -0.03857421875, 0.00628662109375, 0.02587890625, -0.0556640625, 0.0159912109375, -0.006072998046875, 0.0296630859375, 0.0625, -0.00897216796875, -0.047607421875, 0.07421875, -0.017578125, -0.02880859375, 0.0013885498046875, -0.041748046875, 0.041259765625, -0.0247802734375, 0.02392578125, 0.0301513671875, 0.053466796875, 0.049560546875, 0.01373291015625, -0.02392578125, -0.056884765625, 0.003936767578125, 0.01422119140625, -0.0005950927734375, 0.0203857421875, 0.024658203125, 0.01177978515625, -0.025634765625, -0.0203857421875, 0.064453125, -0.041748046875, 0.024169921875, -0.002105712890625, -0.03515625, -0.08349609375, -0.04541015625, 0.052734375, 0.03466796875, 0.02001953125, -0.00543212890625, -0.01165771484375, -0.026611328125, -0.049560546875, -0.06298828125, 0.03466796875, -0.0169677734375, 0.03662109375, 0.0126953125, 0.01275634765625, -0.04345703125, 0.044677734375, 0.0322265625, -0.0174560546875, 0.022705078125, 0.05419921875, -0.0279541015625, 0.064453125, -0.01226806640625, -0.08447265625, -0.010009765625, 0.0478515625, -0.021484375, -0.024169921875, -0.036865234375, -0.030517578125, -0.0311279296875, 0.01226806640625, 0.0086669921875, -0.0047607421875, -0.0017547607421875, -0.013916015625, 0.02001953125, 0.05419921875, -0.0233154296875, -0.00677490234375, 0.004150390625, -0.01239013671875, 0.00616455078125, -0.00860595703125, 0.038818359375, 0.02880859375, -0.0169677734375, -0.03857421875, 0.005645751953125, -0.0084228515625, 0.008544921875, -0.01904296875, 0.0164794921875, -0.0234375, 0.01397705078125, -0.0081787109375, 0.0380859375, 0.0106201171875, 0.01611328125, -0.00750732421875, 0.04833984375, 0.0284423828125, 0.035400390625, 0.06298828125, -0.0169677734375, 0.00543212890625, 0.0255126953125, -0.019775390625, 0.01611328125, 0.0311279296875, 0.04443359375, 0.003753662109375, -0.002655029296875, -0.031494140625, -0.016845703125, -0.01611328125, 0.06298828125, 0.002105712890625, 0.00970458984375, -0.0537109375, -0.0086669921875, -0.01611328125, 0.05126953125, -0.01422119140625, -0.0625, 0.036376953125, 0.0213623046875, -0.044189453125, -0.017578125, 0.004058837890625, -0.091796875, 0.0164794921875, -0.0169677734375, -0.009765625, -0.01416015625, -0.002105712890625, 0.007537841796875, -0.01708984375, 0.00299072265625, 0.00677490234375, 0.001190185546875, 0.03466796875, 0.0322265625, -0.006561279296875, 0.051025390625, -0.018310546875, -0.036865234375, -0.0181884765625, 0.0166015625, -0.0732421875, -0.006683349609375, 0.00762939453125, 0.01904296875, -0.03076171875, -0.052490234375, 0.000209808349609375, -0.003814697265625, 0.015380859375, -0.01373291015625, 0.01458740234375, 0.0263671875, -0.028076171875, 0.0013580322265625, 0.024169921875, -0.039306640625, -0.00146484375, 0.0167236328125, 0.0247802734375, -0.01031494140625, 0.0206298828125, 0.0233154296875, -0.0164794921875, 0.00494384765625, -0.0235595703125, -0.021728515625, -0.031494140625, 0.0089111328125, -0.01165771484375, -0.027587890625, 0.034423828125, 0.01708984375, 0.006378173828125, 0.048583984375, -0.0152587890625, 0.056884765625, 0.041748046875, -0.046875, -0.022216796875, -0.045166015625, -0.01953125, 0.01214599609375, 0.0615234375, 0.024658203125, -0.06982421875, 0.01483154296875, 0.0098876953125, 0.0003452301025390625, 0.019775390625, 0.001434326171875, 0.00982666015625, 0.01300048828125, 0.0283203125, -0.022705078125, -0.029296875, 0.0703125, 0.022705078125, -0.0029144287109375, -0.03173828125, 0.0223388671875, 0.0048828125, 0.06982421875, -0.03076171875, 0.01214599609375, 0.01068115234375, -0.0016021728515625, 0.024169921875, -0.0220947265625, 0.0322265625, -0.036376953125, 0.00933837890625, -0.022705078125, 0.0157470703125, 0.052734375, 0.0201416015625, 0.003387451171875, -0.0213623046875, -0.046630859375, -0.044677734375, 0.009765625, 0.013427734375, -0.041259765625, -0.00408935546875, 0.01214599609375, 0.07470703125, -0.025146484375, -0.0040283203125, 0.01708984375, -0.0201416015625, 0.03076171875, -0.019287109375, 0.008544921875, -0.005645751953125, 0.01373291015625, -0.00543212890625, 0.01226806640625, 0.0031890869140625, -0.005645751953125, 0.0267333984375, 0.0072021484375, 0.024658203125, 0.0303955078125, 0.038818359375, 0.022216796875, -0.003143310546875, -0.07275390625, 0.038818359375, -0.007720947265625, 0.00982666015625, -0.025390625, 0.0064697265625, 0.0272216796875, -0.034423828125, -0.0966796875, -0.015380859375, -0.00537109375, 0.001434326171875, 0.0108642578125, 0.05029296875, -0.03515625, -0.0035552978515625, 0.01904296875, -0.0262451171875, -0.0380859375, -0.052734375, -0.0152587890625, -0.01312255859375, 0.0140380859375, -0.00537109375, -0.0322265625, -0.005645751953125, 0.031494140625, 0.0208740234375, 0.00921630859375, -0.0284423828125, -0.052490234375, 0.034423828125, 0.015380859375, -0.0108642578125, 0.00098419189453125, -0.0169677734375, -0.006134033203125, -0.0076904296875, -0.09521484375, -0.0089111328125, -0.041259765625, -0.0145263671875, 0.01556396484375, 0.0260009765625, -0.00921630859375, -0.006378173828125, 0.04443359375, 0.006561279296875, 0.00738525390625, 0.01031494140625, -0.0299072265625, -0.056884765625, -0.01275634765625, 0.02880859375, -0.03564453125, 0.00982666015625, 0.0023193359375, -0.0771484375, 0.0072021484375, -0.04833984375, -0.10693359375, -0.011962890625, -0.0634765625, -0.00543212890625, -0.004913330078125, 0.078125, 0.0247802734375, -0.0291748046875, 0.03662109375, 0.024169921875, 0.006561279296875, 0.024169921875, -0.0311279296875, -0.015380859375, 0.02880859375, 0.002288818359375, 0.0235595703125, 0.01373291015625, -0.0128173828125, 0.021484375, -0.0159912109375, -0.05859375, -0.0113525390625, -0.0040283203125, -0.047119140625, -0.006378173828125, 0.033447265625, -0.0024566650390625, -0.05859375, 0.01611328125, -0.034423828125, -0.051025390625, -0.01129150390625, 0.0208740234375, -0.031494140625, -0.005767822265625, 0.011962890625, 0.01495361328125, 0.00927734375, 0.04345703125, -0.032470703125, -0.007171630859375, -0.002716064453125, -0.036865234375, -0.00933837890625, -0.00106048583984375, 0.042236328125, -0.0654296875, -0.027099609375, -0.08349609375, -0.000274658203125, -0.006256103515625, 0.015380859375, 0.0106201171875, -0.018798828125, 0.0002384185791015625, 0.00433349609375, -0.0267333984375, -0.0069580078125, 0.000888824462890625, 0.046875, -0.0037994384765625, -0.01226806640625, 0.000339508056640625, -0.00628662109375, 0.0038909912109375, -0.0208740234375, 0.01361083984375, 0.06396484375, -0.01458740234375, 0.049560546875, 0.0150146484375, 0.05078125, 0.031494140625, 0.011474609375, -0.03515625, 0.0225830078125, 0.004852294921875, 0.02783203125, 0.0194091796875, 0.0022735595703125, -0.0279541015625, -0.050048828125, 0.015625, -0.0284423828125, -0.00112152099609375, 0.0072021484375, -0.02001953125, 0.000698089599609375, 0.0283203125, -0.0079345703125, -9.775161743164062e-05, -0.0693359375, 0.00982666015625, 0.01312255859375, 0.0017242431640625, 0.04345703125, 0.03515625, -0.036376953125, -0.0673828125, -0.03564453125, -0.00689697265625, -0.0286865234375, -0.0230712890625, 0.0220947265625, 0.034912109375, -0.028076171875, 0.017578125, -0.060302734375, 0.0380859375, 0.02294921875, -0.0179443359375, -0.0120849609375, -0.060302734375, -0.036865234375, 0.03515625, 0.030029296875, 0.01904296875, 0.0030364990234375, -0.002838134765625, -0.024658203125, 0.02783203125, -0.0247802734375, -0.0225830078125, -0.04541015625, 0.000820159912109375, -0.0174560546875, -0.031494140625, 0.0380859375, 0.02001953125, 0.007415771484375, 0.0159912109375, -0.001922607421875, 0.07080078125, 0.0206298828125, -0.0673828125, 0.005645751953125, 0.033203125, -0.029541015625, 0.009521484375, 0.0179443359375, -0.0093994140625, -0.0223388671875, -0.0380859375, -0.00982666015625, 0.008056640625, 0.0194091796875, -0.0185546875, 0.0179443359375, 0.020263671875, 0.05419921875, 0.05859375, 0.01904296875, 0.021484375, -0.00543212890625, -0.033203125, -0.011474609375, 0.0400390625, 0.009521484375, -0.03369140625, -0.027099609375, -0.033935546875, 0.00555419921875, 0.030029296875, 0.030029296875, -0.0172119140625, -0.020263671875, -0.004638671875, -0.0247802734375, -0.004180908203125, -0.0185546875, 0.053466796875, -0.044677734375, 0.027099609375, 0.01031494140625, -0.05419921875, 0.01104736328125, 0.0194091796875, 0.0255126953125, 0.006500244140625, -0.0234375, -0.0213623046875, -0.00909423828125, -0.033447265625, 0.0810546875, -0.00567626953125, -0.0211181640625, 0.0576171875, 0.00604248046875, -0.016357421875, 0.0263671875, -0.0225830078125, 0.031982421875, -0.04345703125, -0.0615234375, 0.047607421875, 0.035888671875, 0.00159454345703125, -0.01300048828125, 0.00104522705078125, 0.0211181640625, -0.041748046875, 0.00860595703125, -0.041259765625, 0.00080108642578125, -0.0027618408203125, -0.0022430419921875, 0.003662109375, -0.01239013671875, 0.018310546875, -0.01068115234375, 0.0179443359375, 0.030517578125, -0.00787353515625, -0.046875, -0.03369140625, -0.0233154296875, -0.076171875, 0.052490234375, -0.0208740234375, 0.0081787109375, -0.0458984375, 0.005950927734375, -0.0279541015625, 0.0181884765625, -0.02880859375, 0.0263671875, 0.01031494140625, -0.00897216796875, -0.02392578125, -0.000579833984375, -0.05419921875, -3.4332275390625e-05, -0.03369140625, 0.03466796875, 0.044677734375, 0.0003604888916015625, 0.0037384033203125, -0.0091552734375, -0.001190185546875, 0.029296875, -0.0301513671875, -0.01904296875, -0.00848388671875, 0.030029296875, -0.0279541015625, -0.024658203125, 0.0101318359375, -0.01300048828125, 0.0556640625, 0.052001953125, -0.0030975341796875, 0.02685546875, 0.013427734375, 0.01068115234375, 0.0380859375, -0.0087890625, 0.040283203125, -0.059326171875, -0.002166748046875, 0.00640869140625, -0.0028228759765625, -0.0250244140625, -0.01611328125, -0.0123291015625, 0.060302734375, -0.004150390625, 0.0169677734375, -0.022705078125, 0.051025390625, 0.0247802734375, 0.02392578125, 0.00732421875, -0.00238037109375, 0.011962890625, 0.047607421875, -0.01312255859375, 0.05517578125, -0.0035400390625, 0.00095367431640625, -0.035888671875, 0.0262451171875, 0.001800537109375, -0.03173828125, 0.039306640625, 0.0133056640625, -0.0001544952392578125, -0.00347900390625, -0.04833984375, 0.044677734375, 0.01458740234375, -0.00156402587890625, 0.021240234375, 0.040771484375, -0.06591796875, -0.039306640625, -0.049072265625, 0.00016689300537109375, 0.01043701171875, 0.036376953125, -0.01544189453125, -0.010009765625, -0.0078125, -0.007537841796875, -0.0123291015625, 0.00250244140625, -0.007110595703125, 0.0098876953125, 0.03515625, -0.027099609375, -0.01312255859375, -0.0308837890625, 0.007537841796875, 0.031494140625, -0.02783203125, 0.000545501708984375, 0.011962890625, -0.0010986328125, -0.0286865234375, 0.021728515625, -0.01214599609375, -0.0279541015625, 0.03662109375, 0.0242919921875, 0.03857421875, -0.03955078125, -0.0120849609375, 0.00026702880859375, 0.01416015625, 0.02001953125, 0.027587890625, -0.027099609375, 0.013916015625, -0.029052734375, -0.029541015625]}, {"key": "data/images/13.png", "width": 1786, "height": 2526, "embedding": [0.04638671875, -0.025390625, 0.0703125, 0.01611328125, -0.0234375, -0.005035400390625, 0.006591796875, -0.0135498046875, 0.034912109375, -0.033447265625, -0.01458740234375, 0.08203125, -0.0439453125, 0.01348876953125, -0.00592041015625, -0.0130615234375, -0.064453125, 0.0005645751953125, -0.0037384033203125, -0.0089111328125, 0.07666015625, 0.01361083984375, 0.0302734375, -0.06591796875, 0.00531005859375, 0.0283203125, -0.043701171875, 0.0296630859375, -0.00921630859375, -0.006256103515625, -0.01104736328125, -0.0057373046875, 0.01519775390625, -0.01287841796875, 0.00970458984375, 0.037841796875, -0.0302734375, -0.006561279296875, 0.033935546875, -0.0439453125, -0.054443359375, -0.0185546875, -0.064453125, 0.00049591064453125, 0.021728515625, 0.009521484375, -0.050048828125, 0.01458740234375, -0.029052734375, -0.025390625, -0.03466796875, -0.0147705078125, -0.036376953125, -0.061767578125, -0.04931640625, 0.0052490234375, -0.01007080078125, -0.0303955078125, -0.0257568359375, -0.008544921875, -0.044189453125, 0.03076171875, -0.0361328125, 0.0380859375, 0.0169677734375, 0.037353515625, 0.003082275390625, -0.01202392578125, -0.0087890625, -0.0069580078125, -0.0286865234375, -0.044921875, 0.0576171875, -0.04443359375, 0.046630859375, -0.01129150390625, -0.03564453125, 0.027587890625, -0.025146484375, -0.002532958984375, -0.01068115234375, 0.0172119140625, -0.02587890625, 0.00555419921875, 0.00738525390625, 0.0115966796875, 0.0137939453125, -0.04833984375, -0.017578125, 0.024169921875, -0.048583984375, 0.0166015625, -0.026123046875, 0.0291748046875, 0.0281982421875, -0.01495361328125, -0.0115966796875, 0.02587890625, 0.038330078125, -0.00994873046875, -0.006134033203125, -0.0299072265625, 0.04345703125, 0.0211181640625, 0.020263671875, -0.026123046875, 0.0380859375, -0.041015625, -0.0341796875, 0.0308837890625, 0.0103759765625, 0.0126953125, -0.01519775390625, -0.033447265625, -0.016357421875, -0.06689453125, -0.0322265625, 0.0189208984375, -0.002960205078125, -0.012451171875, -0.05224609375, -0.0133056640625, 0.0233154296875, -0.048095703125, 0.036865234375, -0.01544189453125, 0.0003757476806640625, 0.007171630859375, -0.0174560546875, 0.0201416015625, 0.051025390625, -0.0020599365234375, -0.010009765625, 0.00872802734375, 0.006866455078125, 0.0211181640625, 0.0703125, -0.0126953125, -0.03369140625, 0.0216064453125, -0.0234375, -0.01202392578125, 0.044189453125, 0.01416015625, 0.0269775390625, 0.007781982421875, -0.00396728515625, 0.01025390625, 0.00927734375, 0.017822265625, -0.036865234375, 0.01287841796875, -0.00994873046875, -0.01611328125, 0.01416015625, 0.039306640625, -0.0120849609375, 0.037353515625, -0.048095703125, -0.044921875, -0.0228271484375, -0.0186767578125, 0.023193359375, -0.019287109375, 0.0272216796875, -0.0615234375, -0.0042724609375, 0.006744384765625, -0.01806640625, 0.01611328125, 0.058349609375, -0.0106201171875, -0.01416015625, -0.0133056640625, 0.01275634765625, -0.015625, 0.012451171875, -0.027587890625, 0.01312255859375, -0.025390625, -0.001129150390625, 0.009033203125, 0.01318359375, -0.0439453125, -0.015625, -0.0115966796875, 0.0291748046875, -0.0240478515625, -0.006744384765625, -0.042724609375, -0.002716064453125, -0.01611328125, -0.0263671875, 0.04150390625, 0.037841796875, 0.0250244140625, 0.01025390625, 0.0157470703125, 0.0556640625, 0.058349609375, -0.01171875, 0.01611328125, 0.0250244140625, -0.00145721435546875, 0.0283203125, 0.041015625, 0.031982421875, -0.0498046875, 0.004364013671875, 0.00994873046875, -0.004852294921875, -0.0240478515625, 0.032470703125, 0.03857421875, 0.01513671875, 0.0137939453125, -0.006072998046875, -0.01458740234375, -0.025390625, -0.05078125, 0.01202392578125, -0.03564453125, -0.039794921875, -0.004058837890625, 0.0299072265625, 0.01068115234375, 0.00445556640625, 0.076171875, 0.006988525390625, -0.09814453125, 0.00018978118896484375, 0.0322265625, 0.001007080078125, 0.0050048828125, -0.039794921875, -0.023193359375, 0.0103759765625, -0.0341796875, -0.0012054443359375, 0.04052734375, -0.01123046875, 0.059814453125, -0.0115966796875, 0.01519775390625, 0.047607421875, -0.01068115234375, 0.039306640625, 0.03271484375, -0.00029754638671875, -0.0322265625, -0.00872802734375, 0.030517578125, -0.0361328125, 0.004638671875, 5.21540641784668e-06, -0.0101318359375, 0.006744384765625, -0.03662109375, 0.01214599609375, 0.01007080078125, 0.031494140625, 0.01416015625, -0.0517578125, -0.027587890625, -0.017333984375, 0.0224609375, -0.02587890625, -0.00182342529296875, -0.059326171875, 0.01806640625, 0.0281982421875, -0.0284423828125, 0.030517578125, 0.033447265625, 0.0126953125, -0.04736328125, 0.0005645751953125, 0.006591796875, -0.056396484375, 0.017822265625, 0.03857421875, -0.00433349609375, -0.0172119140625, 0.06298828125, -0.0213623046875, 0.04248046875, 0.010986328125, -0.00787353515625, -0.01226806640625, 0.0062255859375, 0.029541015625, -0.017578125, 0.0108642578125, -0.0103759765625, 0.020263671875, -0.0279541015625, 0.01348876953125, -0.05517578125, -0.0184326171875, -0.039306640625, -0.043212890625, -0.0002727508544921875, 0.00982666015625, 0.027587890625, -0.0216064453125, -0.04150390625, -0.048095703125, 0.0024566650390625, 0.02099609375, 0.0296630859375, -0.0023193359375, -0.01611328125, -0.01202392578125, -0.024658203125, -0.051025390625, -0.0279541015625, 0.015380859375, -0.0150146484375, -0.00860595703125, 0.0081787109375, 8.487701416015625e-05, -0.021728515625, -0.026611328125, -0.026123046875, -0.01904296875, -0.02880859375, -0.048583984375, -0.0361328125, -0.03125, 0.041015625, 0.04638671875, 0.002593994140625, -0.02294921875, 0.00439453125, -0.031982421875, 0.030029296875, 0.05224609375, 0.01055908203125, -0.000759124755859375, 0.03125, 0.034423828125, 0.00103759765625, 0.03369140625, 0.044921875, -0.001983642578125, -0.0111083984375, -0.056884765625, 0.0174560546875, -0.0031280517578125, -0.039794921875, -0.043212890625, 0.036376953125, 0.01348876953125, -0.015380859375, 0.030517578125, 0.035400390625, 0.0498046875, 0.015869140625, -0.02587890625, 0.003326416015625, -0.0380859375, -0.01519775390625, 0.05029296875, -0.00408935546875, -0.0255126953125, -0.01422119140625, 0.027587890625, -0.0269775390625, 0.0052490234375, -0.00689697265625, 0.0576171875, 0.072265625, -0.057373046875, -0.07666015625, -0.00439453125, -0.04345703125, -0.00653076171875, -0.0311279296875, 0.01611328125, 0.026123046875, -0.044189453125, 0.0272216796875, 0.044189453125, -0.0159912109375, 0.0245361328125, -0.030029296875, -0.04345703125, 0.047607421875, -0.0283203125, 0.004425048828125, 0.00201416015625, -0.05859375, 0.0380859375, -0.024658203125, 0.0240478515625, 0.0245361328125, 0.04052734375, 0.05078125, 0.0191650390625, -0.04345703125, -0.0228271484375, 0.004241943359375, 0.006591796875, -0.00811767578125, 0.0205078125, -0.01025390625, 0.004364013671875, -0.024658203125, 0.00262451171875, 0.056884765625, -0.01141357421875, 0.06103515625, 0.01513671875, -0.037353515625, -0.056640625, -0.04052734375, -0.0184326171875, 0.0201416015625, 0.019287109375, 0.008056640625, -0.02294921875, 0.01348876953125, -0.01336669921875, -0.03564453125, 0.00146484375, -0.064453125, 0.00653076171875, -0.0196533203125, -0.0238037109375, -0.005401611328125, 0.04833984375, 0.00543212890625, -0.05224609375, -0.04638671875, 0.038818359375, -0.037353515625, 0.042236328125, 0.010986328125, -0.00909423828125, -0.053955078125, 0.06787109375, -0.00762939453125, 0.0120849609375, -0.01055908203125, -0.006988525390625, -0.04638671875, -0.0177001953125, -0.01251220703125, 0.00732421875, 0.0023345947265625, 0.039306640625, 0.043212890625, 0.06005859375, -0.022216796875, 0.00634765625, 0.058349609375, -0.0380859375, 0.015625, -0.0242919921875, -0.0205078125, 0.0283203125, -0.0152587890625, -0.00946044921875, 0.0198974609375, 0.01129150390625, 0.0125732421875, -0.017578125, -0.0016632080078125, 0.018310546875, -0.00885009765625, 0.044921875, -0.0028228759765625, -0.016357421875, 0.04248046875, -0.0216064453125, 0.059814453125, -0.006988525390625, 0.022216796875, 0.059326171875, -0.0283203125, -0.03271484375, 0.029541015625, -0.01055908203125, 0.003692626953125, 0.06787109375, 0.0703125, 0.0311279296875, -0.03271484375, -0.04638671875, -0.015869140625, -0.0194091796875, 0.0341796875, -0.0018157958984375, -0.0087890625, -0.04931640625, -0.01251220703125, -0.00439453125, 0.04931640625, -0.0216064453125, -0.054931640625, 0.00140380859375, 0.023193359375, -0.038330078125, -0.03564453125, -0.005828857421875, -0.0211181640625, -0.0419921875, -0.00555419921875, -0.008056640625, 0.0308837890625, 0.018310546875, -0.039306640625, 0.0299072265625, -0.03857421875, 0.022216796875, -0.02001953125, 0.03271484375, 0.0185546875, -0.0308837890625, 0.0257568359375, -0.033203125, -0.0712890625, -0.0174560546875, 0.027587890625, 0.00177764892578125, 0.0419921875, -0.01104736328125, 0.00726318359375, 0.0159912109375, -0.0126953125, -0.02294921875, 0.0189208984375, -0.0242919921875, -0.01397705078125, -0.00628662109375, 0.00872802734375, 0.00616455078125, 0.038818359375, 0.0010986328125, -0.0218505859375, -0.01513671875, 0.0279541015625, 0.036865234375, 0.00689697265625, 0.0157470703125, 0.06494140625, -0.006988525390625, 0.02490234375, -0.0201416015625, 0.01025390625, -0.0078125, -0.0150146484375, -0.0228271484375, -0.0123291015625, 0.0057373046875, 0.053955078125, 0.00836181640625, 0.09814453125, -0.029296875, -0.0030059814453125, 0.00174713134765625, -0.021240234375, 0.003997802734375, -0.06640625, 0.00125885009765625, 0.00482177734375, 0.03515625, 0.01171875, -0.00360107421875, -0.016357421875, -0.007476806640625, -0.006011962890625, 0.02490234375, -0.035400390625, 0.03857421875, 0.005615234375, 0.0185546875, -0.00457763671875, -0.0634765625, 0.07373046875, 0.00092315673828125, 0.01397705078125, -0.01171875, 0.006011962890625, -0.0079345703125, -0.0238037109375, -0.0283203125, 0.00604248046875, -0.0029296875, -0.02197265625, -0.0040283203125, -0.0380859375, 0.042236328125, -0.01458740234375, -0.01904296875, -0.0286865234375, -0.01104736328125, 0.0186767578125, -0.014404296875, -0.01190185546875, -0.043212890625, -0.03076171875, -0.064453125, 0.057373046875, 0.03857421875, -0.0118408203125, -0.03076171875, 0.04736328125, 0.076171875, -0.04248046875, -0.04248046875, 0.030029296875, 0.0322265625, 0.06298828125, -0.047607421875, 0.01611328125, -0.00531005859375, -0.033203125, -0.0106201171875, -0.039794921875, 0.008056640625, -0.006439208984375, -0.0189208984375, 0.02783203125, 0.006744384765625, -0.01123046875, -0.0242919921875, -0.0126953125, -0.0269775390625, -0.048095703125, 0.0250244140625, -0.0361328125, -0.0123291015625, -0.034423828125, -0.003997802734375, 0.01141357421875, -0.0123291015625, -0.0830078125, -0.026611328125, -0.036376953125, 0.04736328125, -0.01312255859375, 0.06103515625, 0.023193359375, -0.00958251953125, 0.0181884765625, -0.03466796875, -0.064453125, -0.041015625, -0.0233154296875, 0.0152587890625, -0.0126953125, -0.00970458984375, -0.002593994140625, -0.0286865234375, -0.0220947265625, 0.0302734375, 0.004425048828125, -0.042724609375, -0.021240234375, 0.060546875, 0.03662109375, -0.03564453125, -0.0174560546875, -0.0035858154296875, -0.010498046875, -0.0028076171875, -0.023681640625, 0.0291748046875, -0.0189208984375, 0.01904296875, -0.01171875, 0.06103515625, -0.0299072265625, 0.03173828125, 0.072265625, 0.0322265625, 0.044921875, -0.0302734375, -0.026611328125, -0.004974365234375, -0.042724609375, 0.0303955078125, -0.020751953125, -0.002227783203125, 0.0302734375, -0.00159454345703125, 0.035400390625, -0.0322265625, -0.026123046875, 0.001007080078125, -0.047607421875, -0.0021209716796875, -0.01544189453125, -0.0032196044921875, 0.031982421875, -0.021728515625, 0.02294921875, 0.0064697265625, 0.004241943359375, 0.0103759765625, -0.0157470703125, -0.030517578125, 0.020751953125, -0.05517578125, 0.0262451171875, -0.02587890625, 0.0035247802734375, 0.0145263671875, -0.006805419921875, -0.062255859375, 0.0150146484375, 0.000949859619140625, -0.034423828125, -0.0238037109375, 0.02490234375, -0.0115966796875, -0.0172119140625, 0.0242919921875, -0.023193359375, -0.0150146484375, 0.0002613067626953125, 0.00189971923828125, 0.0025634765625, 0.0299072265625, 0.0250244140625, 0.0185546875, -0.01556396484375, 0.04345703125, -0.0177001953125, -0.031494140625, 0.048095703125, -0.017822265625, -0.0274658203125, -0.0023651123046875, 0.0693359375, -0.05078125, -0.0224609375, -0.0927734375, -0.02294921875, 0.059814453125, -0.05419921875, 0.0198974609375, -0.030517578125, -0.038330078125, -0.0037384033203125, 0.0010986328125, -0.0228271484375, 0.00634765625, 0.04345703125, 0.0042724609375, 0.0283203125, 0.0184326171875, 0.012451171875, 0.00390625, -0.037353515625, -0.0218505859375, 0.021240234375, 0.01458740234375, 0.02880859375, -0.00830078125, 0.007171630859375, 0.0262451171875, -0.0216064453125, 0.034423828125, -0.003143310546875, 0.01287841796875, 0.041015625, -0.0012969970703125, 0.045654296875, -0.01190185546875, -0.043701171875, -0.00075531005859375, -0.09814453125, 0.00148773193359375, -0.0240478515625, 0.0021514892578125, 0.025146484375, 0.01025390625, -0.0087890625, -0.0625, -0.04443359375, 0.037109375, -0.03466796875, 0.01361083984375, 0.021728515625, -0.00104522705078125, -0.024169921875, -0.0517578125, -0.00109100341796875, -0.0146484375, -0.0299072265625, -0.0186767578125, 0.0157470703125, 0.037841796875, 0.031494140625, 0.05419921875, -0.016357421875, 0.0211181640625, 0.01373291015625, -0.0023193359375, -0.0022125244140625, -0.080078125, -0.044921875, 0.027587890625, 0.02197265625, -0.01092529296875, -0.017333984375, 0.0029296875, 0.00799560546875, -0.00531005859375, 0.005706787109375, -0.00628662109375, -0.0115966796875, 0.038818359375, -0.01373291015625, 0.00927734375, 0.05078125, 0.0133056640625, -0.01025390625, 0.01904296875, 0.029296875, 0.0947265625, 0.0458984375, -0.05908203125, 0.0191650390625, -0.0004558563232421875, -0.044921875, 0.0169677734375, 0.001007080078125, -0.0126953125, -0.006378173828125, -0.06494140625, -0.0159912109375, 0.025390625, -0.01068115234375, 0.007598876953125, 0.04150390625, 0.02783203125, 0.00872802734375, 0.017578125, 0.0283203125, 0.01025390625, -0.01287841796875, -0.0012969970703125, 0.03515625, 0.0283203125, 0.0224609375, -0.0281982421875, -0.0091552734375, 0.00021839141845703125, -0.0064697265625, -0.01904296875, 0.0419921875, 0.01165771484375, 0.00131988525390625, 0.024658203125, -0.0126953125, -0.049072265625, -0.033203125, 0.017822265625, -0.031494140625, 0.003173828125, -0.06103515625, -0.0267333984375, -0.017822265625, 0.05517578125, 0.0205078125, -0.018310546875, 0.01806640625, -0.01409912109375, 0.039306640625, -0.03369140625, 0.07666015625, 0.03662109375, 0.00946044921875, 0.0296630859375, 0.044189453125, -0.0189208984375, 0.011474609375, 0.03857421875, 0.024658203125, -0.004974365234375, -0.0439453125, -0.036376953125, 0.0517578125, 0.02197265625, 0.01007080078125, 0.024658203125, -0.0308837890625, -0.030029296875, -0.07568359375, 0.0263671875, 0.00799560546875, 0.027587890625, 0.006866455078125, 0.00122833251953125, 0.057373046875, -0.0026397705078125, 0.004913330078125, -0.0184326171875, 0.01483154296875, -0.00762939453125, -0.0615234375, -0.00885009765625, -0.042236328125, -0.0576171875, 0.035400390625, 0.0299072265625, 0.039306640625, -0.010498046875, 0.0034332275390625, -0.04248046875, 0.0262451171875, 0.0024566650390625, 0.0498046875, -0.029052734375, 0.04931640625, -0.051513671875, -0.0189208984375, -0.03076171875, 0.0032196044921875, -0.07763671875, 0.026611328125, 0.05517578125, -0.03515625, -0.01123046875, 0.025146484375, 0.004852294921875, 0.037841796875, -0.0380859375, -0.0037384033203125, 0.037353515625, 0.004241943359375, -0.0030059814453125, -0.059814453125, 0.01068115234375, -0.004608154296875, -0.01068115234375, 0.060546875, 0.005340576171875, -0.0130615234375, 0.016357421875, 0.036865234375, 0.047607421875, -0.043701171875, 0.01611328125, -0.0625, 0.0927734375, 0.0283203125, 0.01141357421875, -0.05322265625, -0.04638671875, -0.03564453125, 0.07470703125, -0.03271484375, -0.00921630859375, -0.01611328125, 0.037109375, 0.0283203125, 0.000858306884765625, -0.017333984375, -0.0257568359375, 0.0284423828125, 0.034912109375, -0.039306640625, 0.025390625, 0.00860595703125, 0.036376953125, -0.06591796875, 0.030517578125, -0.00860595703125, -0.01458740234375, 0.07275390625, 0.04736328125, -0.0177001953125, 0.00408935546875, -0.041015625, 0.03369140625, 0.01904296875, -0.01129150390625, 0.03271484375, 0.001007080078125, -0.037841796875, -0.045166015625, -0.01312255859375, 0.0023956298828125, 0.04248046875, 0.038330078125, 0.0101318359375, -0.049072265625, -0.04052734375, -0.0272216796875, -0.0089111328125, 0.0005645751953125, 0.0186767578125, 0.048095703125, -0.02197265625, -0.05078125, 0.01348876953125, -0.048095703125, 0.04833984375, -0.0037384033203125, -0.0284423828125, 0.0303955078125, 0.030517578125, -0.0205078125, -0.043701171875, 0.038818359375, -0.0025634765625, 0.00125885009765625, 0.00168609619140625, -0.009033203125, 0.0205078125, -0.01202392578125, -0.00946044921875, 0.00811767578125, 0.00909423828125, 0.00982666015625, 0.01519775390625, -0.0400390625, 0.0137939453125, -0.056640625, -0.003082275390625]}, {"key": "data/images/14.png", "width": 1786, "height": 2526, "embedding": [0.01611328125, -0.025634765625, 0.07421875, 0.025634765625, 0.01275634765625, -0.0087890625, -0.0234375, -0.05126953125, -0.01409912109375, -0.0235595703125, -0.02392578125, 0.05810546875, -0.005035400390625, 0.004486083984375, 0.0220947265625, -0.044921875, -0.05908203125, -0.03125, 0.0048828125, -0.031982421875, 0.0703125, -0.01556396484375, 0.034912109375, -0.060791015625, -0.0252685546875, 0.049560546875, -0.006805419921875, -0.02783203125, 0.03759765625, -0.01104736328125, -0.01025390625, -0.0291748046875, 0.028076171875, -0.0103759765625, -0.035400390625, -0.00421142578125, -0.0194091796875, -0.00017261505126953125, 0.0634765625, -0.015625, -0.047119140625, -0.0179443359375, -0.1025390625, -0.007354736328125, 0.0185546875, 0.011962890625, -0.016357421875, -0.016357421875, 0.0181884765625, -0.032958984375, 0.00043487548828125, -0.0179443359375, -0.0269775390625, -0.07177734375, -0.048583984375, 0.001922607421875, 0.000606536865234375, -0.034912109375, -0.0157470703125, 0.00159454345703125, -0.044189453125, 0.022216796875, -0.0478515625, 0.036865234375, -0.00628662109375, 0.021240234375, 0.046142578125, -0.003814697265625, -0.009521484375, -0.016357421875, -0.0213623046875, 0.000186920166015625, 0.064453125, -0.05712890625, 0.04833984375, -0.015625, -0.08984375, 0.0021820068359375, -0.01318359375, -0.00185394287109375, 0.0016632080078125, 0.007232666015625, -0.0291748046875, -0.0247802734375, 0.0150146484375, -0.0230712890625, 0.0242919921875, -0.030029296875, -0.003936767578125, 0.00927734375, -0.016845703125, -0.0111083984375, -0.0185546875, 0.0272216796875, 0.01043701171875, -0.0147705078125, -0.00958251953125, 0.018310546875, 0.057861328125, 0.028564453125, -0.00909423828125, -0.00147247314453125, 0.041748046875, 0.0289306640625, 0.017578125, -0.047607421875, 0.050048828125, -0.0302734375, -0.06298828125, 0.07373046875, -0.0032196044921875, 0.0106201171875, 0.00087738037109375, -0.051025390625, -0.029541015625, -0.0458984375, 0.0020599365234375, 0.01361083984375, -0.039306640625, -0.03515625, -0.04443359375, -0.04931640625, -0.005950927734375, -0.01263427734375, 0.026123046875, -0.01519775390625, -0.01434326171875, 0.000476837158203125, 0.037353515625, 0.00029754638671875, 0.0140380859375, -0.006378173828125, -0.037109375, 0.013916015625, 0.01068115234375, 0.01275634765625, 0.048828125, -0.0067138671875, -0.004913330078125, -0.0152587890625, -0.05029296875, 0.00537109375, 0.07763671875, 0.0033111572265625, 0.00836181640625, -0.04150390625, -0.00836181640625, -0.0150146484375, 0.0703125, 0.0220947265625, -0.031982421875, 0.03271484375, -0.0294189453125, 0.00567626953125, 0.0026092529296875, 0.041259765625, -0.0286865234375, 0.0079345703125, -0.039794921875, -0.00860595703125, -0.01220703125, 0.00604248046875, -0.0264892578125, -0.02734375, 0.044189453125, -0.01177978515625, -0.009521484375, 0.013427734375, -0.044189453125, -0.01300048828125, 0.0177001953125, -0.03369140625, 0.00750732421875, 0.034912109375, 0.07080078125, 0.0242919921875, 0.004974365234375, -0.044189453125, -0.006805419921875, 0.0034027099609375, 0.006622314453125, 0.0157470703125, 0.032958984375, -0.0179443359375, -0.01080322265625, -0.043212890625, -0.0184326171875, -0.0615234375, -0.01043701171875, -0.0179443359375, -0.0169677734375, 0.003814697265625, -0.0234375, 0.044921875, 0.06640625, 0.01519775390625, 0.0213623046875, -0.00848388671875, 0.0120849609375, 0.051513671875, -0.033203125, 0.00848388671875, 0.043212890625, -0.006927490234375, -0.000934600830078125, 0.00811767578125, -0.01373291015625, -0.056396484375, 0.007598876953125, 0.002593994140625, 0.00970458984375, 0.0087890625, -0.0191650390625, 0.024169921875, 0.0264892578125, -0.0130615234375, -0.0147705078125, 0.0179443359375, 0.0009613037109375, -0.0537109375, -0.024169921875, 0.0128173828125, -0.00927734375, 0.01165771484375, 0.020263671875, 0.04443359375, 0.021240234375, 0.042724609375, 0.033935546875, -0.0625, 0.0128173828125, -0.00927734375, 0.0032958984375, 0.0198974609375, -0.039794921875, -0.0252685546875, -0.00970458984375, -0.02783203125, -0.00750732421875, 0.04345703125, 0.000904083251953125, 0.052978515625, -0.052978515625, 0.0024871826171875, 0.022705078125, 0.001739501953125, 0.056396484375, 0.056396484375, -0.04248046875, 0.0020599365234375, -0.00408935546875, -0.00738525390625, -0.033447265625, 0.00897216796875, -0.017333984375, 0.003631591796875, 0.0264892578125, -0.01611328125, -0.01470947265625, 0.0172119140625, 0.013671875, -0.04052734375, -0.0537109375, -0.0277099609375, -0.02392578125, 0.01513671875, -0.031982421875, -0.0198974609375, -0.0274658203125, 0.0264892578125, 0.0164794921875, 0.00811767578125, 0.06494140625, 0.035888671875, 0.01043701171875, -0.05029296875, -0.02392578125, 0.004547119140625, -0.033203125, 0.01251220703125, 0.004486083984375, -0.0166015625, -0.0274658203125, 0.02783203125, -0.045166015625, 0.0654296875, -0.013916015625, -0.01019287109375, -0.020751953125, 0.0277099609375, 0.021240234375, -0.005889892578125, 0.03369140625, -0.0272216796875, 0.034423828125, -0.009765625, 0.00054168701171875, -0.01220703125, -0.0145263671875, -0.01409912109375, -0.0179443359375, 0.0224609375, 0.0299072265625, 0.001739501953125, -0.01513671875, -0.0255126953125, -0.0556640625, 0.02685546875, -0.0004119873046875, -0.0093994140625, 0.006072998046875, -0.0250244140625, -0.01300048828125, 0.00567626953125, -0.01348876953125, -0.0291748046875, 0.0225830078125, -0.045166015625, -0.017578125, -0.0203857421875, -0.0010833740234375, 0.030517578125, -0.0107421875, 0.003143310546875, 0.01239013671875, -0.019775390625, -0.029052734375, -0.04248046875, -0.0220947265625, -0.0164794921875, 0.03662109375, 0.0027618408203125, 0.01519775390625, 0.00037384033203125, -0.0081787109375, 0.01953125, 0.02734375, 0.030029296875, -0.02783203125, 0.0224609375, 0.00543212890625, -0.0133056640625, 0.00830078125, 0.0303955078125, -0.0013885498046875, 0.007476806640625, -0.0322265625, 0.0242919921875, -0.0022125244140625, -0.03173828125, -0.006103515625, 0.05322265625, -0.031982421875, 0.004486083984375, 0.0458984375, 0.03515625, 0.00640869140625, 0.01055908203125, -0.0311279296875, -0.0341796875, -0.06103515625, -0.03076171875, 0.035888671875, -0.01214599609375, -0.02734375, 0.00048065185546875, 0.006805419921875, -0.00897216796875, 0.002532958984375, -0.00518798828125, 0.0654296875, 0.07177734375, -0.0810546875, -0.044921875, -0.01263427734375, -0.0218505859375, 0.00013637542724609375, -0.04296875, 0.00469970703125, -6.198883056640625e-05, -0.10302734375, 0.0166015625, 0.0260009765625, -0.0244140625, 0.0196533203125, -0.007354736328125, -0.07177734375, 0.02734375, -0.0191650390625, 0.0036163330078125, 0.00457763671875, -0.06982421875, 0.055419921875, -0.024169921875, 0.0167236328125, 0.05615234375, 0.01416015625, 0.04833984375, 0.040283203125, -0.00750732421875, -0.04541015625, -0.002838134765625, -0.0172119140625, 0.021484375, 0.021240234375, -0.00830078125, 0.0159912109375, -0.03125, 0.000560760498046875, 0.01361083984375, -0.01239013671875, 0.032958984375, 0.0224609375, 0.013916015625, -0.061767578125, 0.005462646484375, -0.01318359375, 0.002532958984375, 0.029541015625, 0.0057373046875, 0.0185546875, -0.0247802734375, -0.01483154296875, -0.035888671875, 0.0172119140625, -0.052978515625, -0.031982421875, -0.005859375, 0.005096435546875, -0.046142578125, 0.0164794921875, 0.007415771484375, -0.04296875, 0.00099945068359375, 0.033203125, -0.037353515625, 0.029541015625, 0.003936767578125, -0.034423828125, -0.07666015625, 0.007049560546875, -0.0002346038818359375, 0.0042724609375, -0.0111083984375, -0.00714111328125, -0.0252685546875, -0.0272216796875, 0.0076904296875, 0.01190185546875, 0.03173828125, 0.037109375, 0.0274658203125, 0.0849609375, -0.025634765625, 0.0233154296875, 0.0211181640625, -0.008056640625, -0.0322265625, -0.004119873046875, -0.02392578125, 0.01251220703125, -0.00164794921875, -0.01416015625, 0.003082275390625, 0.022705078125, 0.011474609375, 0.0294189453125, -0.0186767578125, -0.0079345703125, -0.04052734375, 0.0208740234375, 0.002349853515625, 0.004302978515625, 0.044189453125, -0.0322265625, 0.036865234375, 0.0206298828125, 0.059326171875, 0.032470703125, -0.06103515625, -0.0087890625, 0.03125, 0.0005950927734375, -0.004364013671875, 0.03662109375, 0.01556396484375, -0.0017547607421875, -0.0194091796875, 0.003997802734375, -0.042724609375, -0.00616455078125, 0.020263671875, -0.021240234375, -0.004852294921875, -0.028076171875, 0.01556396484375, 0.004425048828125, 0.00885009765625, -0.0242919921875, -0.0673828125, 0.005340576171875, 0.0230712890625, -0.0537109375, 0.00154876708984375, 0.021240234375, -0.0296630859375, -0.0390625, -0.01214599609375, -0.0250244140625, 0.01409912109375, 0.035400390625, 0.01287841796875, 0.052001953125, -0.038330078125, 0.0220947265625, -0.015380859375, 0.01177978515625, -0.0203857421875, -0.054931640625, -0.00897216796875, -0.022216796875, -0.051025390625, 0.020751953125, 0.0198974609375, -0.011962890625, 0.004669189453125, -0.000667572021484375, 0.00075531005859375, 0.0272216796875, -0.01373291015625, -0.031982421875, 0.033203125, 0.003631591796875, -0.057373046875, 0.03271484375, 0.0233154296875, -0.00421142578125, 0.01556396484375, -0.0030975341796875, -0.01519775390625, 0.01434326171875, 0.035888671875, 0.00121307373046875, -0.0233154296875, 0.0220947265625, -0.001190185546875, -0.026611328125, 0.053955078125, 0.00238037109375, 0.0198974609375, -0.01190185546875, 0.0203857421875, -0.0250244140625, -0.019287109375, 0.00665283203125, 0.031982421875, -0.0250244140625, 0.051025390625, 0.0157470703125, 0.0181884765625, 0.0194091796875, -0.031494140625, -0.047607421875, -0.00823974609375, -0.0036468505859375, 0.0133056640625, 0.031494140625, -0.0216064453125, 0.006378173828125, -0.006072998046875, -0.047607421875, -0.01385498046875, 0.0322265625, -0.03759765625, 0.016357421875, 0.018798828125, 0.029541015625, -0.0296630859375, -0.06005859375, 0.0654296875, 0.00098419189453125, 0.0017852783203125, -0.00110626220703125, -0.004913330078125, 0.0020599365234375, 0.0157470703125, -0.021728515625, 0.060791015625, 0.024169921875, -0.01031494140625, 0.020751953125, 0.03369140625, 0.01385498046875, 0.00022983551025390625, 0.01275634765625, 0.00384521484375, 0.020751953125, 0.01275634765625, 0.033203125, -0.078125, -0.005767822265625, -0.021240234375, -0.044189453125, 0.047119140625, 0.048583984375, -0.029541015625, -0.02392578125, 0.041015625, 0.06689453125, -0.02783203125, 0.00189208984375, 0.0311279296875, -0.0098876953125, 0.043701171875, -0.0123291015625, -0.004364013671875, -0.0272216796875, -0.03369140625, -0.00982666015625, -0.0106201171875, -0.025634765625, -0.0003681182861328125, -0.00555419921875, 0.033203125, 0.0213623046875, 0.03076171875, 0.0030975341796875, 0.00067901611328125, 0.0390625, -0.041015625, 0.06005859375, -0.0257568359375, 0.037109375, -0.03955078125, -0.0172119140625, 0.0179443359375, -0.051513671875, -0.07421875, -0.01434326171875, -0.08740234375, 0.01556396484375, -0.046142578125, 0.057861328125, 0.0380859375, -0.01385498046875, -0.0157470703125, -0.006256103515625, -0.0830078125, -0.047119140625, -0.0194091796875, 0.00347900390625, 0.0235595703125, -0.005279541015625, -0.01300048828125, 0.0322265625, -0.0250244140625, 0.03076171875, 0.00830078125, -0.062255859375, -0.03076171875, 0.033935546875, 0.0225830078125, -0.03466796875, -0.04541015625, -0.0164794921875, -0.0206298828125, 0.0220947265625, -0.08544921875, 0.0220947265625, -0.006378173828125, -0.01470947265625, -0.021728515625, 0.039306640625, -0.031494140625, 0.016357421875, 0.0556640625, 0.043212890625, 0.036865234375, -0.047119140625, -0.02783203125, 0.0299072265625, 0.002685546875, 0.01495361328125, -0.02783203125, 0.005523681640625, 0.00897216796875, -0.047119140625, 0.0159912109375, -0.026611328125, -0.01080322265625, -0.003082275390625, -0.02685546875, -0.053955078125, -0.0167236328125, 0.004608154296875, 0.0167236328125, -0.0150146484375, 0.017333984375, -0.01104736328125, 0.01611328125, -0.00081634521484375, 0.004150390625, -0.0024261474609375, 0.01348876953125, -0.0234375, 0.0235595703125, -0.0230712890625, 0.04052734375, 0.022705078125, -0.034912109375, -0.06298828125, 0.00970458984375, -0.0250244140625, -0.006439208984375, 0.0191650390625, 0.036376953125, -0.0703125, -0.0220947265625, 0.0198974609375, -0.042236328125, -0.0390625, 0.026611328125, 0.00616455078125, -0.033203125, 0.04541015625, 0.01214599609375, 0.0263671875, -0.01251220703125, 0.04541015625, -0.01409912109375, -0.0230712890625, 0.02783203125, -0.0172119140625, -0.0023956298828125, 0.00616455078125, 0.026611328125, -0.01153564453125, 0.005523681640625, -0.10009765625, 0.01446533203125, -0.01300048828125, -0.041748046875, -0.0198974609375, 0.006927490234375, -0.02783203125, 0.00186920166015625, -0.035888671875, -0.00112152099609375, -0.0020904541015625, 0.044189453125, 0.018798828125, 0.03857421875, -0.0235595703125, 0.0028839111328125, -0.0247802734375, -0.016357421875, -0.03076171875, 0.0247802734375, 0.0166015625, 0.022705078125, -0.0272216796875, 0.011962890625, 0.021484375, 0.008056640625, 0.044189453125, 0.03173828125, -0.0084228515625, 0.07470703125, -0.036376953125, 0.034912109375, -0.044921875, -0.057373046875, -0.006805419921875, -0.07080078125, 0.01904296875, -0.0057373046875, -0.0150146484375, 0.01324462890625, 0.022705078125, 0.007354736328125, -0.0244140625, -0.048583984375, 0.046875, -0.06591796875, -0.0036773681640625, 0.0277099609375, -0.005523681640625, -0.0283203125, -0.035888671875, -0.042236328125, -0.0206298828125, -0.0286865234375, 0.0120849609375, 0.01611328125, 0.00994873046875, -0.00970458984375, 0.02783203125, -0.0019683837890625, 0.048583984375, 0.005950927734375, 0.0084228515625, -0.03271484375, -0.0966796875, -0.07373046875, 0.031982421875, 0.0166015625, -0.00885009765625, -0.006622314453125, 0.00125885009765625, -0.021240234375, -0.00049591064453125, 0.041259765625, 0.0211181640625, -0.0003376007080078125, -0.00080108642578125, 0.011474609375, -0.031982421875, 0.042236328125, -0.034423828125, -0.022216796875, -0.007171630859375, -0.00714111328125, 0.10009765625, 0.01953125, -0.03125, 0.0179443359375, 0.007476806640625, -0.00933837890625, -0.0103759765625, 0.036865234375, -0.028564453125, -0.006378173828125, -0.06005859375, -0.01080322265625, 0.0162353515625, -0.022705078125, 0.00762939453125, 0.050048828125, 0.0303955078125, 0.031494140625, 0.0311279296875, 0.0211181640625, -0.00185394287109375, -0.004364013671875, -0.005096435546875, 0.060791015625, 0.051025390625, -0.005035400390625, -0.05810546875, -0.040283203125, 0.0303955078125, 0.005401611328125, 0.00927734375, 0.064453125, 0.008056640625, -0.0322265625, 0.035888671875, 0.015380859375, -0.058349609375, -0.018310546875, 0.0380859375, -0.0264892578125, -0.0084228515625, -0.0625, -0.03369140625, -0.016845703125, 0.04931640625, 0.01434326171875, -0.00469970703125, -0.0203857421875, -0.03857421875, 0.0186767578125, -0.02783203125, 0.0233154296875, 0.01708984375, 0.0238037109375, 0.031494140625, 0.01519775390625, -0.02392578125, 0.0002689361572265625, 0.0185546875, 0.0908203125, -0.039306640625, -0.04541015625, 0.04248046875, 0.051513671875, 0.0264892578125, -0.002777099609375, 0.022705078125, -0.020751953125, -0.038330078125, -0.064453125, -0.01177978515625, -0.0107421875, 0.0286865234375, -0.004486083984375, -0.0263671875, -0.006927490234375, 0.02783203125, 0.01214599609375, 0.0040283203125, 0.003204345703125, -0.0302734375, -0.0546875, -0.02294921875, -0.03857421875, -0.052734375, 0.0478515625, 0.028076171875, -0.0084228515625, -0.0027008056640625, 0.000701904296875, -0.0294189453125, 0.048828125, 0.002593994140625, 0.025146484375, -0.0184326171875, 0.015380859375, -0.0205078125, -0.0028228759765625, -0.03662109375, 0.035888671875, -0.036865234375, 0.020751953125, 0.052001953125, -0.03271484375, 0.003204345703125, -0.01239013671875, -0.020751953125, 0.06298828125, -0.0108642578125, 0.0181884765625, -0.033935546875, -0.01361083984375, -0.039794921875, -0.0247802734375, 0.0174560546875, -0.0037994384765625, 0.01318359375, 0.0751953125, -0.01904296875, 0.00982666015625, 0.032958984375, 0.0216064453125, -0.039306640625, -0.04443359375, -0.0022430419921875, -0.0034637451171875, 0.041748046875, 0.008056640625, 0.0294189453125, -0.046142578125, -0.057373046875, -0.03759765625, 0.06640625, -0.0179443359375, -0.022216796875, -0.031982421875, 0.06494140625, 0.028564453125, 0.04150390625, -0.0174560546875, 0.0218505859375, 0.031982421875, 0.055419921875, 0.002532958984375, 0.04443359375, 0.002410888671875, 0.03271484375, -0.03515625, -0.01104736328125, 0.00885009765625, -0.04345703125, 0.09326171875, 0.041259765625, 0.0084228515625, 0.00433349609375, -0.050048828125, 0.0289306640625, 0.01361083984375, 0.004638671875, 0.005828857421875, -0.01300048828125, -0.06884765625, -0.07763671875, -0.00830078125, 0.007598876953125, 0.0556640625, 0.0732421875, 0.054931640625, -0.0294189453125, 0.002685546875, -0.0296630859375, -0.006256103515625, -0.041259765625, -0.0184326171875, 0.009765625, 0.0286865234375, -0.0030364990234375, 0.02783203125, -0.013916015625, 0.044189453125, -0.0322265625, -0.016357421875, 0.0216064453125, -0.00439453125, 0.000949859619140625, -0.00860595703125, 0.06298828125, 0.01190185546875, 0.0023956298828125, 0.00494384765625, 0.005126953125, -0.00063323974609375, -0.022705078125, -0.04296875, -0.0014190673828125, 0.00762939453125, 0.01470947265625, 0.0242919921875, -0.048583984375, -0.0142822265625, -0.0478515625, -0.0106201171875]}, {"key": "data/images/15.png", "width": 1786, "height": 2526, "embedding": [0.037109375, -0.000286102294921875, 0.062255859375, 0.056640625, -0.00518798828125, -0.0269775390625, -0.06103515625, -0.057373046875, -0.0157470703125, 0.0233154296875, -0.0272216796875, 0.0341796875, -0.00069427490234375, -0.0264892578125, 0.0341796875, 0.00933837890625, -0.0252685546875, -0.0291748046875, 0.020751953125, -0.054931640625, 0.03662109375, -0.050048828125, 0.06884765625, -0.057861328125, -0.034912109375, 0.0111083984375, -0.006103515625, -0.0107421875, 0.0010223388671875, -0.0211181640625, -0.00439453125, -0.044189453125, -0.02392578125, 0.00860595703125, -0.021484375, 0.0294189453125, -0.0024566650390625, 0.0242919921875, 0.0172119140625, -0.01220703125, -0.044921875, -0.015869140625, -0.0751953125, 0.00750732421875, 0.01275634765625, 0.0179443359375, -0.05029296875, 0.00506591796875, 0.016845703125, -0.01104736328125, -0.04541015625, -0.0028076171875, -0.048828125, -0.034912109375, -0.032958984375, 0.00042724609375, -0.0299072265625, -0.00189971923828125, 0.0380859375, -0.046142578125, -0.03662109375, 0.0167236328125, -0.0034332275390625, -0.01409912109375, 0.0157470703125, 0.0029754638671875, 0.0703125, -0.035888671875, -0.0177001953125, -0.044189453125, -0.05615234375, 0.005462646484375, 0.040283203125, -0.064453125, 0.057373046875, 0.0263671875, -0.01470947265625, -0.0152587890625, 0.013916015625, -0.00165557861328125, -7.152557373046875e-05, -0.0458984375, 0.01031494140625, 0.00933837890625, -0.004974365234375, 0.0152587890625, 0.0164794921875, -0.050537109375, -0.0087890625, 0.041259765625, -0.0125732421875, 0.0458984375, 0.0260009765625, -0.00970458984375, -0.01251220703125, -0.0283203125, -0.0341796875, -0.0031890869140625, 0.0732421875, 0.0634765625, -0.013671875, -0.0230712890625, 0.048583984375, 0.01416015625, 0.01348876953125, -0.05615234375, 0.09033203125, 0.0022430419921875, -0.056396484375, 0.053955078125, 0.01153564453125, 0.0037841796875, 0.006805419921875, -0.003753662109375, -0.045166015625, -0.015869140625, 0.01513671875, -0.024169921875, 0.0111083984375, -0.007720947265625, -0.0033721923828125, -0.034423828125, 0.00058746337890625, -0.044189453125, 0.030029296875, -0.0003452301025390625, -0.01177978515625, 0.0341796875, -0.01611328125, -0.041015625, -0.0031585693359375, -0.005828857421875, -0.058837890625, 0.001922607421875, -0.037109375, -0.033447265625, 0.05224609375, 0.021240234375, -0.002044677734375, 0.0015106201171875, -0.0179443359375, -0.0242919921875, 0.078125, 0.01177978515625, -0.00439453125, -0.0238037109375, -0.0123291015625, -0.00077056884765625, 0.0732421875, 0.00018596649169921875, -0.026611328125, 0.01953125, -0.01361083984375, -0.01495361328125, 0.000690460205078125, 0.042724609375, -0.05810546875, 0.036865234375, 0.00823974609375, -0.037353515625, -0.01318359375, -0.01190185546875, -0.036865234375, -0.01434326171875, 0.0654296875, -0.0615234375, -0.03076171875, 0.02294921875, -0.04248046875, 0.00043487548828125, 0.0172119140625, -0.0233154296875, 0.03759765625, -0.028076171875, 0.0966796875, 0.0615234375, 0.022705078125, -0.00122833251953125, -0.0167236328125, -0.0164794921875, -0.0191650390625, 0.008544921875, 0.059326171875, -0.00933837890625, 0.0106201171875, -0.036376953125, -0.01043701171875, -0.033447265625, 0.0289306640625, -0.020263671875, -0.0081787109375, -0.006622314453125, -0.054443359375, 0.05810546875, 0.04345703125, 0.03271484375, 0.030029296875, -0.0233154296875, -0.007720947265625, 0.040283203125, -0.0252685546875, 0.0260009765625, 0.04345703125, -0.04541015625, -0.00469970703125, -0.00860595703125, 0.0244140625, -0.0546875, -0.00994873046875, -0.0235595703125, 0.039794921875, -0.00390625, -0.01220703125, 0.049560546875, -0.00958251953125, 0.01470947265625, 0.00396728515625, -0.01123046875, 0.0289306640625, 0.002655029296875, 0.020263671875, 0.038818359375, -0.0078125, -0.01544189453125, 0.050048828125, 0.034423828125, 0.0022430419921875, 0.06591796875, 0.03955078125, -0.03955078125, 0.03271484375, 0.00151824951171875, 0.022705078125, 0.016357421875, -0.04296875, -0.06982421875, -0.0186767578125, -0.031982421875, 0.0037078857421875, -0.008056640625, -0.044189453125, 0.035400390625, -0.0703125, 0.0208740234375, 0.044189453125, 0.00506591796875, 0.016845703125, 0.036376953125, -0.058837890625, -0.0103759765625, 0.0013275146484375, 0.0208740234375, -0.041259765625, -0.03271484375, -0.01092529296875, -0.03271484375, 0.0291748046875, -0.004058837890625, 0.039794921875, -0.003204345703125, 0.04931640625, 0.0042724609375, -0.0031280517578125, -0.033203125, 0.00115203857421875, -0.01220703125, 0.01434326171875, -0.021484375, -0.013916015625, 0.04052734375, 0.01092529296875, -0.01708984375, 0.04296875, 0.03662109375, 0.0186767578125, -0.05322265625, -0.00860595703125, -0.01171875, 0.00183868408203125, 0.01416015625, -0.052978515625, 0.0128173828125, -0.035888671875, 0.035400390625, -0.02783203125, 0.038818359375, -0.0233154296875, 0.0220947265625, 0.017578125, 0.017333984375, 0.0341796875, 0.0296630859375, -0.0264892578125, -0.00750732421875, 0.022216796875, -0.0203857421875, -0.03955078125, -0.06884765625, -0.029541015625, 0.05615234375, -0.01904296875, 0.00787353515625, 0.0184326171875, -0.01177978515625, 0.000415802001953125, 0.0003910064697265625, -0.0198974609375, 0.01373291015625, 0.044921875, -0.00164794921875, -0.004364013671875, -0.0201416015625, -0.0040283203125, -0.0150146484375, -0.0205078125, -0.001983642578125, 0.020263671875, -0.052734375, -0.024658203125, -0.042724609375, 0.00958251953125, 0.0242919921875, -0.0260009765625, 0.007720947265625, 0.0023345947265625, 0.01409912109375, -0.0289306640625, -0.0211181640625, -0.01104736328125, -0.007720947265625, 0.036376953125, 0.0036163330078125, 0.0128173828125, -0.004119873046875, -0.0107421875, -0.00101470947265625, 0.0191650390625, -0.009765625, -0.00714111328125, 0.03515625, -0.00469970703125, 0.035888671875, -0.004974365234375, -0.0269775390625, 0.01300048828125, 0.0196533203125, -0.058837890625, -0.01409912109375, -0.03076171875, -0.0078125, -0.033935546875, 0.048828125, -0.0040283203125, -0.0194091796875, 0.01416015625, 0.0289306640625, 0.04150390625, 0.015380859375, -0.033203125, 0.0277099609375, -0.0615234375, -0.0380859375, 0.03125, -0.0107421875, -0.00787353515625, -0.0084228515625, -0.00872802734375, -0.00860595703125, -0.025634765625, 0.0030364990234375, 0.06982421875, 0.056640625, -0.0230712890625, -0.0341796875, -0.01214599609375, -0.052978515625, -0.04833984375, -0.044921875, -0.002197265625, -0.0037384033203125, -0.037109375, 0.0390625, 0.057861328125, -0.00482177734375, 0.038818359375, -0.0004138946533203125, -0.0556640625, 0.050048828125, -0.01458740234375, 0.0322265625, -0.007293701171875, -0.0322265625, 0.0206298828125, -0.0084228515625, -0.003936767578125, 0.054931640625, 0.0198974609375, 0.01361083984375, 0.00927734375, -0.062255859375, -0.01251220703125, -0.004486083984375, 0.004974365234375, -0.00750732421875, 0.0264892578125, -0.030517578125, 0.0235595703125, -0.035400390625, -0.01556396484375, 0.0615234375, -5.4836273193359375e-05, 0.03857421875, -0.052978515625, 0.0164794921875, -0.0250244140625, 0.0235595703125, -0.015869140625, -0.00347900390625, 0.006622314453125, 0.0294189453125, 0.0191650390625, -0.0289306640625, -0.03955078125, -0.04443359375, 0.04345703125, -0.0230712890625, -0.018798828125, -0.019775390625, 0.046875, -0.0230712890625, -0.0140380859375, 0.01324462890625, -0.0458984375, -0.035400390625, 0.00799560546875, 0.0130615234375, 0.036865234375, 0.003814697265625, -0.0140380859375, -0.1064453125, 0.050048828125, -0.00872802734375, -0.03759765625, -0.0478515625, -0.052001953125, -0.0291748046875, 0.01251220703125, 0.005340576171875, 0.021484375, 0.0035858154296875, 0.0150146484375, 0.056640625, 0.09033203125, -0.06396484375, -0.005889892578125, 0.0150146484375, -0.0242919921875, 0.003753662109375, -0.04541015625, -0.0277099609375, 0.0299072265625, 0.004058837890625, -0.005035400390625, -0.0023345947265625, -0.04931640625, 0.03515625, 0.0181884765625, -0.06884765625, -0.0247802734375, -0.07373046875, -0.034423828125, -0.004486083984375, -0.03369140625, 0.00182342529296875, -0.044189453125, -0.01409912109375, 0.0281982421875, 0.046630859375, 0.044189453125, -0.04931640625, -0.029541015625, 0.04052734375, -0.00811767578125, 0.0233154296875, 0.020263671875, 0.02392578125, 0.01080322265625, -0.034912109375, 0.006195068359375, -0.046875, 0.00799560546875, 0.0264892578125, 0.00567626953125, 0.01361083984375, -0.040283203125, 0.04248046875, -0.0196533203125, 0.0234375, -0.0458984375, -0.03271484375, 0.0201416015625, 0.0205078125, -0.01300048828125, 0.0260009765625, 0.00194549560546875, -0.039306640625, 0.00933837890625, 0.018798828125, -0.022705078125, 0.01318359375, -0.00958251953125, 0.0019989013671875, 0.0159912109375, -0.03662109375, 0.0286865234375, 0.00701904296875, -0.0263671875, -0.047607421875, -0.05810546875, -0.01275634765625, -0.047607421875, -0.04541015625, 0.0218505859375, 0.01177978515625, -0.0169677734375, -0.0167236328125, -0.00506591796875, -0.037109375, -0.018310546875, -0.00128936767578125, -0.026611328125, 0.007171630859375, 0.025146484375, 0.01373291015625, 0.03759765625, 0.039306640625, 0.0205078125, 0.052978515625, 0.01239013671875, -0.00921630859375, 0.0185546875, 0.016845703125, 0.0179443359375, -0.007171630859375, 0.04541015625, -0.0179443359375, -0.0164794921875, 0.01165771484375, -0.005828857421875, 0.022216796875, -0.0250244140625, 0.006622314453125, -0.0218505859375, 0.03515625, 0.0177001953125, 0.0703125, -0.00897216796875, 0.040283203125, 0.0703125, 0.009765625, -0.041748046875, -0.036865234375, -0.01214599609375, 0.0113525390625, -0.0250244140625, -0.051025390625, 0.00156402587890625, 0.007354736328125, 0.0150146484375, 0.0079345703125, -0.013916015625, -0.00860595703125, 0.044189453125, -0.0263671875, 0.016845703125, 0.035888671875, -0.015625, -0.042236328125, 0.00921630859375, 0.05712890625, 0.006622314453125, -0.005218505859375, 0.01434326171875, -0.00146484375, -0.0272216796875, -0.017578125, -0.0234375, 0.0296630859375, 0.031982421875, -0.009765625, 0.041259765625, 0.0294189453125, 0.01220703125, 0.0201416015625, 0.0106201171875, 0.0198974609375, 0.0216064453125, 0.0277099609375, 0.044189453125, -0.05322265625, -0.030029296875, -0.01361083984375, -0.030517578125, 0.006805419921875, 0.038330078125, -0.0272216796875, -0.0194091796875, 0.035400390625, 0.0673828125, -0.0174560546875, 0.0142822265625, 0.002410888671875, -0.01251220703125, 0.016845703125, -0.0235595703125, -0.005615234375, -0.0140380859375, -0.03369140625, 0.013671875, -0.03955078125, -0.058837890625, 0.0235595703125, 0.01263427734375, 0.036865234375, 0.0179443359375, 0.00738525390625, 0.052978515625, 0.031494140625, 0.040771484375, 0.0022430419921875, 0.03076171875, -0.06982421875, -0.0255126953125, -0.009521484375, 0.002197265625, 0.03173828125, -0.05712890625, -0.048583984375, -0.03173828125, -0.048583984375, 0.0203857421875, -0.0233154296875, 0.039794921875, 0.004425048828125, -0.025146484375, -0.0211181640625, 0.032958984375, -0.037109375, -0.043701171875, -0.0238037109375, 0.0025482177734375, 0.04541015625, -0.021484375, -0.0264892578125, 0.0166015625, -0.0252685546875, 0.0264892578125, -0.03076171875, -0.06591796875, -0.007080078125, 0.0274658203125, 0.01287841796875, -0.00194549560546875, -0.031982421875, 0.00093841552734375, -0.006195068359375, -0.0005950927734375, -0.062255859375, -0.024169921875, -0.022705078125, -0.039306640625, -0.03857421875, -0.00390625, -0.006317138671875, 0.044189453125, 0.02294921875, 0.01275634765625, -0.00506591796875, 0.0157470703125, -0.03369140625, 0.0478515625, -0.020751953125, -0.031494140625, 0.004058837890625, 0.0458984375, -0.0272216796875, -0.051025390625, 0.03271484375, -0.0625, -0.0234375, -0.018798828125, -0.037109375, -0.024169921875, -0.0172119140625, -0.0113525390625, -0.0296630859375, -0.0294189453125, 0.0087890625, -0.0205078125, 0.0322265625, 0.0264892578125, 0.00179290771484375, -0.0230712890625, -0.01080322265625, -0.020751953125, 0.08056640625, -0.00051116943359375, 0.01025390625, 0.024658203125, -0.0107421875, -0.042724609375, 0.0081787109375, -0.0021820068359375, -0.0302734375, 0.0184326171875, 0.01373291015625, -0.06396484375, 0.002593994140625, 0.01251220703125, -0.0615234375, -0.0230712890625, -0.005340576171875, 0.002410888671875, -0.00567626953125, 0.0277099609375, -0.03369140625, -0.033935546875, 0.0047607421875, 0.021484375, -0.011962890625, -0.034423828125, 0.0167236328125, -0.015380859375, -0.04150390625, 0.05810546875, 0.00787353515625, -0.03466796875, 0.0230712890625, -0.03076171875, -0.06298828125, -0.01519775390625, -0.01104736328125, -0.0205078125, -0.01434326171875, -0.0546875, -0.00107574462890625, -0.0291748046875, 0.05810546875, -0.004547119140625, 0.0257568359375, 0.0076904296875, 0.040771484375, 0.035888671875, 0.01214599609375, -0.0260009765625, 0.0079345703125, -0.039306640625, -0.0093994140625, -0.01171875, -0.024658203125, -0.036376953125, 0.00136566162109375, 0.060791015625, -0.0157470703125, 0.0230712890625, 0.0179443359375, -0.01190185546875, 0.0869140625, -0.03515625, -0.0174560546875, -0.054443359375, -0.03515625, 0.020263671875, -0.0751953125, 0.00787353515625, 0.01544189453125, -0.0250244140625, -0.017333984375, 0.04296875, 0.01385498046875, -0.00909423828125, -0.0084228515625, 0.0615234375, -0.0286865234375, 0.005889892578125, 0.0196533203125, -0.00738525390625, -0.016845703125, -0.00762939453125, 0.0093994140625, -0.02294921875, -0.01446533203125, 0.0281982421875, 0.00457763671875, 0.0537109375, -0.04345703125, 0.046875, -0.01068115234375, 0.0164794921875, 0.005279541015625, 0.022705078125, -0.017578125, -0.07470703125, -0.0186767578125, 0.0157470703125, -0.01080322265625, -0.004669189453125, 0.01263427734375, -0.000782012939453125, 0.00640869140625, -0.00421142578125, 0.033447265625, 0.01177978515625, 0.042724609375, -0.01068115234375, 0.0458984375, -0.034423828125, -0.00909423828125, -0.029052734375, -0.040771484375, 0.01055908203125, -0.008056640625, 0.06005859375, -0.0004253387451171875, -0.02734375, -0.00070953369140625, 0.0166015625, -0.0087890625, 0.006500244140625, 0.01519775390625, 0.02685546875, -0.01324462890625, -0.059814453125, 0.00994873046875, 0.01177978515625, -0.0029296875, -0.0036773681640625, 0.03369140625, -0.017578125, -0.01043701171875, 0.0272216796875, 0.00177001953125, 0.004119873046875, 0.002166748046875, -0.04248046875, 0.00994873046875, 0.0157470703125, 0.0157470703125, -0.0201416015625, -0.006500244140625, 0.034912109375, 0.0181884765625, 0.0196533203125, 0.04931640625, -0.0286865234375, -0.0264892578125, -0.0211181640625, 0.0235595703125, -0.047119140625, -0.0130615234375, 0.033935546875, 0.0272216796875, 0.01324462890625, -0.037109375, -0.060546875, 0.00726318359375, 0.08447265625, 0.04150390625, -0.03955078125, -0.01177978515625, -0.0238037109375, 0.0233154296875, -0.0220947265625, 0.00897216796875, -0.004180908203125, -0.01458740234375, 0.0303955078125, -0.008056640625, -0.05322265625, 0.0084228515625, 0.021484375, 0.0615234375, -0.0247802734375, -0.0234375, 0.0537109375, 0.03271484375, 0.035888671875, 0.033203125, -0.0269775390625, -0.016845703125, -0.0186767578125, -0.05322265625, -0.054443359375, 0.000705718994140625, 0.0172119140625, 0.0029754638671875, -0.031494140625, -0.00909423828125, 0.03369140625, 0.00994873046875, -0.030517578125, -0.033203125, -0.034423828125, -0.0216064453125, 0.0030975341796875, -0.05615234375, -0.049560546875, 0.03515625, 0.0179443359375, 0.0230712890625, -0.0196533203125, 0.020751953125, -0.030029296875, -0.0028228759765625, -0.0244140625, 0.0179443359375, -0.01556396484375, 0.00714111328125, 0.005126953125, 0.00115966796875, -0.0390625, 0.0264892578125, -0.0084228515625, 0.002532958984375, 0.043212890625, -0.01300048828125, 0.00823974609375, 0.00433349609375, -0.03759765625, 0.03857421875, -0.002410888671875, -0.01361083984375, 0.01348876953125, 0.005859375, -0.0184326171875, -0.0269775390625, -0.0272216796875, -2.5033950805664062e-05, 0.01153564453125, 0.036376953125, -0.043212890625, -0.007598876953125, 0.04443359375, 0.022705078125, 0.0294189453125, -0.0264892578125, 0.002044677734375, 0.00130462646484375, -0.0004520416259765625, -0.0147705078125, -0.0211181640625, -0.03759765625, -0.057373046875, -0.0751953125, 0.04833984375, -0.01104736328125, -0.058837890625, -0.0308837890625, 0.025146484375, 0.02685546875, 0.0294189453125, -0.0390625, 0.022705078125, -0.0186767578125, 0.05322265625, 0.0172119140625, 0.00897216796875, 0.0311279296875, 0.044189453125, -0.030517578125, -0.01318359375, -0.0068359375, -0.0732421875, 0.10009765625, 0.0260009765625, -0.00958251953125, 0.035400390625, -0.0294189453125, 0.0206298828125, 0.01092529296875, 0.01324462890625, 0.03125, 0.015869140625, -0.004150390625, -0.043212890625, 0.009521484375, -0.0201416015625, -0.002716064453125, 0.06640625, 0.0274658203125, 0.0003910064697265625, 0.030029296875, -0.01214599609375, -0.058837890625, 0.00994873046875, -0.01123046875, 0.03173828125, 0.00131988525390625, -0.031982421875, 0.0194091796875, 0.0030975341796875, 0.02685546875, -0.035400390625, -0.0174560546875, -0.006805419921875, 0.01470947265625, -0.0125732421875, 0.0113525390625, 0.07421875, -0.041748046875, 0.01611328125, 0.0230712890625, 0.007598876953125, -0.0004138946533203125, -0.0291748046875, -0.003753662109375, 0.028076171875, -0.035888671875, 0.01165771484375, 0.06298828125, -0.05126953125, -0.00015354156494140625, -0.0203857421875, -0.004913330078125]}, {"key": "data/images/16.png", "width": 1786, "height": 2526, "embedding": [-0.0257568359375, 0.023193359375, 0.04345703125, 0.05859375, -0.0106201171875, -0.01312255859375, -0.062255859375, -0.0302734375, -0.00140380859375, -0.0157470703125, -0.054443359375, 0.00921630859375, 0.0023956298828125, -0.00543212890625, 0.0135498046875, 0.001220703125, -0.020263671875, -0.006866455078125, 0.043701171875, -0.049560546875, 0.026611328125, -0.0279541015625, 0.09130859375, -0.06591796875, 0.0062255859375, 0.038818359375, 0.0118408203125, -0.0089111328125, 0.01220703125, -0.0291748046875, -0.050537109375, -0.039794921875, 0.0308837890625, -0.00180816650390625, -0.06640625, -0.02099609375, -0.0208740234375, 0.03271484375, 0.00075531005859375, -0.00433349609375, -0.05224609375, 0.0029754638671875, -0.07958984375, -0.013427734375, 0.01904296875, -0.024658203125, -0.0322265625, -0.00823974609375, 0.03759765625, -0.022216796875, 0.0003814697265625, 0.036376953125, -0.03271484375, -0.05029296875, -0.0164794921875, -0.0537109375, 0.0016326904296875, -0.0238037109375, 0.0172119140625, -0.0184326171875, -0.010498046875, 0.006103515625, -0.02099609375, -0.0167236328125, 0.04345703125, 0.04736328125, 0.07275390625, -0.052734375, -0.0030975341796875, -0.0184326171875, -0.018798828125, 0.0035858154296875, 0.03955078125, -0.056884765625, 0.0167236328125, -0.0047607421875, 0.005462646484375, -0.010009765625, -0.0023040771484375, 0.03173828125, -0.0576171875, 0.02734375, 0.0281982421875, 0.000640869140625, -0.02587890625, -0.0198974609375, 0.0294189453125, -0.0247802734375, 0.0125732421875, 0.0311279296875, -0.036865234375, 0.01953125, -0.023681640625, -0.02099609375, 0.007415771484375, -0.012451171875, 0.01336669921875, -0.0181884765625, 0.044921875, 0.02880859375, -0.01287841796875, 0.006317138671875, 0.0458984375, 0.021728515625, 0.006103515625, -0.01373291015625, 0.0196533203125, 0.0308837890625, -0.047607421875, 0.08984375, -0.00531005859375, -0.01141357421875, -0.0306396484375, -0.00848388671875, -0.033447265625, 0.0089111328125, 0.01953125, -0.03466796875, -0.0390625, -0.05322265625, -0.0927734375, -0.062255859375, -0.01318359375, -0.06494140625, 0.060302734375, 0.0093994140625, 0.01263427734375, -0.03076171875, -0.003997802734375, 0.017822265625, 0.044921875, 0.02001953125, -0.0179443359375, 0.036376953125, -0.01165771484375, -0.0067138671875, 0.0130615234375, 0.0289306640625, 0.01190185546875, -0.0194091796875, -0.01068115234375, 0.0089111328125, 0.07373046875, 0.06689453125, -0.002716064453125, -0.036376953125, -0.00543212890625, 0.0048828125, 0.0252685546875, -0.0205078125, -0.0035552978515625, -0.021728515625, -0.0252685546875, 0.007476806640625, 0.000568389892578125, 0.03564453125, -0.034912109375, 0.042724609375, 0.029296875, -0.031494140625, -0.0205078125, 0.0191650390625, -0.0189208984375, 0.00469970703125, 0.053466796875, -0.03466796875, -0.03125, 0.006439208984375, -0.0654296875, -0.032470703125, 0.02001953125, -0.0191650390625, 0.0194091796875, 0.020263671875, 0.06787109375, 0.03955078125, 0.010009765625, -0.0186767578125, 0.01336669921875, -0.004180908203125, -0.0238037109375, -0.00091552734375, 0.055908203125, 0.0228271484375, -0.032958984375, -0.03466796875, -0.036865234375, -0.031982421875, 0.04296875, -0.0242919921875, -0.0020751953125, 0.0252685546875, -0.0113525390625, 0.0274658203125, 0.0184326171875, -0.029296875, 0.029296875, -0.00872802734375, 0.00677490234375, 0.021728515625, -0.0341796875, 0.06396484375, 0.038818359375, -0.036376953125, -0.031982421875, 0.00104522705078125, 0.01318359375, -0.01507568359375, 0.0023345947265625, -0.023681640625, 0.03515625, -0.0252685546875, -0.038330078125, 0.01513671875, 0.013671875, -0.027099609375, 0.0101318359375, 0.00836181640625, -0.003326416015625, -0.0712890625, -0.027099609375, 0.0380859375, 0.033447265625, -0.002655029296875, 0.04296875, 0.0267333984375, -0.0224609375, 0.057373046875, 0.06689453125, -0.053466796875, -0.03466796875, -0.00836181640625, -0.0028076171875, -0.0057373046875, 0.0159912109375, -0.05322265625, -0.0186767578125, 0.0087890625, -0.00506591796875, 0.01025390625, -0.04541015625, 0.0048828125, -0.052490234375, -0.0306396484375, 0.0267333984375, -0.02587890625, 0.0106201171875, 0.029296875, -0.054931640625, 0.03564453125, -0.00482177734375, -0.01397705078125, -0.0498046875, -0.0146484375, 0.0157470703125, -0.06396484375, 0.051513671875, -0.020751953125, 0.049560546875, 0.03857421875, 0.02685546875, -0.0164794921875, -0.026123046875, 0.01190185546875, -0.01025390625, 0.06787109375, 0.0286865234375, -0.05078125, -0.02734375, 0.041015625, 0.015625, 0.0133056640625, 0.044677734375, 0.0869140625, -0.035888671875, -0.04541015625, -0.001800537109375, 0.03564453125, 0.02001953125, -0.0020599365234375, -0.0196533203125, 0.01123046875, -0.032470703125, 0.02734375, -0.068359375, 0.035400390625, 0.0341796875, -0.0037689208984375, -0.0035247802734375, 0.004547119140625, 0.0087890625, 0.0308837890625, -0.01556396484375, -0.0157470703125, -0.0013427734375, -0.017578125, -0.037841796875, -0.0189208984375, -0.02392578125, 0.0208740234375, -0.002838134765625, 0.01123046875, -0.0291748046875, -0.0267333984375, -0.039306640625, -0.05322265625, -0.0184326171875, 0.0194091796875, 0.0020294189453125, 0.0125732421875, 0.00933837890625, -0.046875, -0.0224609375, -0.019775390625, -0.013916015625, -0.03955078125, -0.004302978515625, -0.055419921875, 0.0164794921875, -0.0205078125, 0.006866455078125, 0.007598876953125, -0.0166015625, -0.004669189453125, -0.0011138916015625, -0.023193359375, -0.020751953125, -0.0615234375, -0.0006866455078125, 0.031982421875, 0.07958984375, -0.01544189453125, -0.019775390625, 0.0106201171875, 0.0267333984375, 0.024169921875, -0.01446533203125, 0.01544189453125, 0.033935546875, 0.00653076171875, 0.0093994140625, 0.037353515625, 0.0537109375, 0.0299072265625, 0.0196533203125, 0.04345703125, -0.03759765625, 0.00640869140625, 0.00909423828125, -0.0277099609375, 0.0296630859375, 0.047607421875, -0.04638671875, 0.0157470703125, 0.018798828125, -0.010498046875, 0.00787353515625, -0.05322265625, -0.048828125, 0.00604248046875, -0.042724609375, -0.004150390625, 0.020751953125, 0.0223388671875, 0.0157470703125, -0.0167236328125, 0.0169677734375, -0.01312255859375, -0.015380859375, 0.0299072265625, 0.08544921875, 0.0224609375, -0.014404296875, -0.0223388671875, 0.00567626953125, -0.017822265625, -0.052490234375, -0.02099609375, -0.00018215179443359375, 0.0556640625, -0.023681640625, 0.0003719329833984375, 0.0126953125, -0.02001953125, -0.005126953125, 0.04443359375, -0.048583984375, 0.01422119140625, -0.0157470703125, 0.01239013671875, -0.06396484375, -0.03564453125, 0.018798828125, -0.0087890625, -0.017822265625, 0.019775390625, 0.03564453125, 0.0286865234375, 0.01953125, 0.009765625, -0.035888671875, 0.021240234375, 0.00604248046875, 0.0106201171875, 0.02734375, -0.01025390625, 0.052490234375, -0.0064697265625, 0.0228271484375, 0.056396484375, 0.01220703125, 0.08740234375, -0.0279541015625, 0.026611328125, -0.0478515625, -0.036376953125, -0.04638671875, 0.034912109375, -0.0125732421875, 0.060791015625, 0.0191650390625, -0.0164794921875, -0.00933837890625, -0.02978515625, 0.0380859375, 0.033447265625, -0.0106201171875, 0.0101318359375, 0.005706787109375, -0.021240234375, 0.020751953125, 0.046875, -0.0517578125, -0.0196533203125, 0.036376953125, -0.0439453125, -0.02001953125, -0.0419921875, -0.0234375, -0.06884765625, 0.022216796875, 0.01263427734375, -0.01458740234375, -0.02294921875, -0.031982421875, -0.0341796875, -0.0064697265625, 0.01556396484375, 0.0301513671875, 0.02099609375, -0.00011444091796875, 0.041748046875, 0.103515625, -0.02197265625, 0.05029296875, 0.0291748046875, 0.01220703125, -0.035400390625, -0.037353515625, -0.0284423828125, -0.00145721435546875, 0.00823974609375, 0.00799560546875, 0.029296875, -0.0078125, 0.0169677734375, 0.021728515625, -0.007537841796875, -0.01519775390625, -0.044677734375, -0.023681640625, -0.0247802734375, 0.02392578125, 0.014404296875, -0.045654296875, 0.047607421875, 0.005615234375, 0.044921875, 0.0286865234375, -0.04345703125, -0.052490234375, 0.013671875, -0.0228271484375, -0.002716064453125, 0.048828125, 0.0034942626953125, -0.0054931640625, -0.036376953125, -0.001922607421875, -0.04296875, -0.0068359375, -0.01507568359375, -0.0126953125, 0.00994873046875, -0.02197265625, 0.037841796875, 0.0079345703125, 0.01373291015625, -0.044921875, -0.06494140625, -0.03515625, 0.037841796875, -0.03564453125, -0.043701171875, 0.007781982421875, -0.0308837890625, -0.03955078125, -0.004791259765625, -0.0234375, -0.013916015625, 0.00139617919921875, -0.0419921875, 0.01190185546875, -0.0133056640625, 0.01385498046875, -0.0007476806640625, -0.00811767578125, -0.06884765625, -0.041748046875, -0.021728515625, -0.056396484375, -0.0198974609375, -0.0174560546875, 0.00823974609375, -0.023193359375, 0.048828125, 0.0322265625, 0.0072021484375, -0.01434326171875, -0.00946044921875, -0.0244140625, -0.0115966796875, -0.006988525390625, -0.041748046875, 0.0390625, 0.017822265625, -0.0228271484375, 0.021728515625, 0.0224609375, -0.004119873046875, 0.0118408203125, 0.03515625, 0.0283203125, 0.0174560546875, 0.0341796875, 0.0311279296875, -0.0157470703125, 0.036376953125, -0.006317138671875, -0.0034942626953125, -0.020263671875, -0.019287109375, -0.04541015625, -0.0157470703125, 0.0120849609375, 0.03076171875, -0.00445556640625, 0.01507568359375, 0.0272216796875, 0.01708984375, -0.00921630859375, -0.02734375, -0.053466796875, 0.01361083984375, 0.0303955078125, -0.032958984375, 0.00311279296875, -0.0625, -0.033447265625, -0.036376953125, 0.013916015625, -0.004547119140625, -0.0004367828369140625, -0.0078125, 0.01190185546875, 0.021240234375, 0.00543212890625, -0.006988525390625, -0.04736328125, 0.036376953125, -0.0286865234375, -0.02099609375, 0.006439208984375, 0.005615234375, -0.025390625, 0.035888671875, 0.006683349609375, 0.0400390625, 0.04345703125, 0.00823974609375, 0.0205078125, 0.025146484375, 0.0238037109375, 0.0294189453125, 0.00250244140625, 0.007354736328125, 0.03173828125, 0.036376953125, 0.00104522705078125, -0.035400390625, 0.000762939453125, -0.0064697265625, 0.0034027099609375, 0.0380859375, 0.0289306640625, -0.0615234375, -0.022705078125, 0.023193359375, 0.049560546875, -0.0169677734375, -0.051513671875, 0.04150390625, 0.00579833984375, 0.02783203125, -0.041748046875, 0.019287109375, 0.021240234375, -0.0546875, -0.025390625, 0.013916015625, -0.0274658203125, -0.012451171875, -0.0205078125, 0.0419921875, 0.017333984375, 0.033447265625, 0.013916015625, 0.01531982421875, -0.00183868408203125, 0.005126953125, 0.051513671875, -0.031982421875, 0.0615234375, -0.0081787109375, -0.00193023681640625, 0.0242919921875, -0.0301513671875, -0.004547119140625, 0.01409912109375, -0.046630859375, 0.02685546875, -0.0517578125, 0.033935546875, 0.012451171875, -0.0008087158203125, 0.00732421875, 0.01336669921875, -0.06298828125, 0.0038909912109375, 0.02294921875, 0.022705078125, 0.0028076171875, 0.00433349609375, -0.0128173828125, -0.001617431640625, -0.04248046875, 0.007080078125, -0.0233154296875, -0.0291748046875, 0.0024871826171875, -0.01385498046875, 0.0169677734375, -0.022705078125, -0.031982421875, 0.007049560546875, -0.0283203125, 0.0081787109375, -0.03173828125, -0.0191650390625, 0.0181884765625, -0.00360107421875, -0.033447265625, 0.0228271484375, -0.05078125, 0.00099945068359375, 0.044921875, 0.01397705078125, 0.004852294921875, -0.01141357421875, -0.01397705078125, 0.014404296875, -0.0177001953125, -0.053466796875, -0.0128173828125, 0.0108642578125, -0.01165771484375, -0.05322265625, 0.060791015625, -0.036376953125, -0.0194091796875, -0.023193359375, 0.003143310546875, 0.00124359130859375, -0.01434326171875, -0.031982421875, 0.032470703125, -0.00836181640625, 0.03564453125, -0.0252685546875, -0.0096435546875, 0.0024566650390625, -0.005859375, -0.02734375, 0.0174560546875, -0.024169921875, 0.04150390625, -0.0576171875, 0.0224609375, 0.00098419189453125, -0.021728515625, -0.04638671875, -0.007293701171875, -0.021728515625, 0.0184326171875, 0.03857421875, 0.02197265625, -0.02099609375, -0.018798828125, -0.008544921875, -0.053466796875, -0.0164794921875, 0.0037689208984375, -0.00567626953125, 0.0279541015625, 0.0205078125, 0.01434326171875, 0.004241943359375, 0.00164794921875, 0.01116943359375, -0.001068115234375, -0.0238037109375, 0.0233154296875, -0.044921875, 0.0191650390625, 0.0113525390625, 0.044921875, 0.03466796875, -0.018798828125, -0.059814453125, -0.0081787109375, -0.0052490234375, 0.00408935546875, -0.002349853515625, 0.012939453125, -0.01239013671875, 0.005859375, -0.01611328125, 0.0213623046875, -0.00439453125, 0.0035247802734375, 0.0595703125, 0.001678466796875, -0.026611328125, -0.000942230224609375, -0.03271484375, -0.004119873046875, -0.059326171875, -0.0037689208984375, -0.00640869140625, 0.02294921875, -0.009765625, 0.05322265625, -0.0162353515625, 0.036376953125, -0.019287109375, 0.060791015625, 0.006988525390625, 0.0294189453125, -0.03271484375, 0.0252685546875, -0.0546875, -0.0859375, -0.0038299560546875, -0.037353515625, 0.037841796875, 0.006317138671875, -0.0252685546875, -0.02001953125, 0.047607421875, 0.01904296875, -0.0022125244140625, -0.060302734375, 0.06689453125, -0.06689453125, -0.003326416015625, 0.04150390625, 0.01544189453125, 0.00787353515625, -0.0019989013671875, 0.032958984375, 0.0023040771484375, 0.0291748046875, 0.0174560546875, 0.06982421875, -0.002716064453125, -0.047607421875, 0.055908203125, -0.0233154296875, 0.051513671875, -0.0205078125, -0.01513671875, -0.015380859375, -0.06982421875, -0.01519775390625, 0.044921875, -0.038818359375, -0.0068359375, -0.0010986328125, 0.002838134765625, -0.07373046875, -0.006439208984375, 0.0244140625, 0.035888671875, 0.0242919921875, 0.01214599609375, 0.0299072265625, -0.029296875, 0.00341796875, 0.0013580322265625, -0.0162353515625, -0.023681640625, -0.006103515625, 0.08349609375, 0.076171875, -0.0184326171875, -0.0032196044921875, 0.0625, 0.003997802734375, -0.0068359375, -0.0205078125, 0.00634765625, 0.010009765625, -0.057373046875, 0.0146484375, 0.00384521484375, 0.01336669921875, -0.023681640625, 0.0289306640625, 0.00616455078125, 0.055908203125, 0.07470703125, 0.044677734375, 0.046630859375, -0.06787109375, -0.038818359375, 0.0274658203125, -0.004974365234375, 0.00579833984375, -0.0096435546875, -0.04736328125, 0.02587890625, 0.0213623046875, 0.032470703125, 0.061279296875, -0.04345703125, -0.0164794921875, -0.007659912109375, -0.0218505859375, -0.031494140625, 0.0274658203125, 0.057373046875, 0.0301513671875, -0.0006561279296875, -0.032470703125, -0.008544921875, 0.01312255859375, 0.042724609375, 0.0595703125, 0.007171630859375, -0.04833984375, -0.0400390625, 0.019775390625, 0.0126953125, 0.020751953125, -0.036376953125, -0.009765625, 0.031982421875, 0.004669189453125, 0.0021820068359375, 0.0302734375, -0.00958251953125, 0.0157470703125, -0.05322265625, -0.0439453125, 0.048828125, 0.048583984375, -0.010498046875, 0.057373046875, 0.01361083984375, 0.0205078125, -0.0303955078125, -0.0810546875, -0.057373046875, 0.0198974609375, 0.0224609375, -0.0184326171875, -0.0228271484375, -0.026123046875, -0.000606536865234375, -0.007568359375, -0.021484375, 0.0133056640625, -0.0400390625, -0.0157470703125, -0.0048828125, -0.021728515625, -0.053466796875, 0.042724609375, 0.03076171875, -0.0146484375, -0.01422119140625, 0.0028076171875, 0.0224609375, -0.01446533203125, -0.0133056640625, -0.0267333984375, 0.01446533203125, 0.0101318359375, -0.01434326171875, 0.00101470947265625, -0.011474609375, 0.048828125, 0.01116943359375, -0.0146484375, 0.04345703125, -0.038330078125, -0.0233154296875, -0.0002460479736328125, -0.009521484375, 0.04345703125, -0.0213623046875, 0.00262451171875, 0.02197265625, 0.0135498046875, -0.007171630859375, -0.0286865234375, 0.00188446044921875, -0.0126953125, 0.01361083984375, 0.04736328125, -0.0286865234375, 0.020263671875, 0.031494140625, 0.04296875, 0.05419921875, -0.00982666015625, -0.0252685546875, -0.0308837890625, 0.026611328125, -0.0179443359375, -0.0194091796875, -0.01373291015625, -0.03857421875, -0.0693359375, -0.00860595703125, 0.01123046875, -0.046630859375, -0.01458740234375, -0.01422119140625, 0.036376953125, 0.033447265625, -0.01507568359375, 0.00823974609375, -0.00909423828125, 0.060546875, 0.031494140625, 0.00060272216796875, 0.018798828125, 0.041015625, -0.0257568359375, -0.0086669921875, -0.024169921875, -0.005126953125, 0.095703125, 0.033935546875, -0.000499725341796875, -0.0013275146484375, -0.004486083984375, 0.032470703125, 0.0294189453125, 0.0050048828125, 0.0341796875, 0.017333984375, -0.018798828125, -0.055908203125, -0.023193359375, -0.015380859375, 0.03466796875, 0.031494140625, -0.011962890625, 0.021728515625, -0.005462646484375, -0.026611328125, 0.02734375, -0.01422119140625, -0.0111083984375, 0.03271484375, -0.0068359375, -0.02783203125, -0.00872802734375, -0.033935546875, 0.0257568359375, -0.01165771484375, 0.00836181640625, 0.0208740234375, -0.01123046875, -0.0380859375, 0.0037841796875, 0.044677734375, -0.005584716796875, 0.0181884765625, 0.0380859375, 0.01507568359375, -0.0081787109375, -0.05859375, -0.0186767578125, 0.038818359375, -0.032470703125, 0.04150390625, 0.07373046875, -0.0244140625, -0.04541015625, -0.0498046875, -0.00872802734375]}, {"key": "data/images/17.png", "width": 1786, "height": 2526, "embedding": [0.061767578125, 0.005645751953125, 0.03662109375, 0.00640869140625, -0.0299072265625, -0.006988525390625, 0.01214599609375, -0.010986328125, -0.00054931640625, -0.01214599609375, -0.05908203125, 0.0145263671875, 0.0286865234375, -0.00872802734375, -0.00144195556640625, 0.05029296875, -0.046875, 0.054931640625, 0.0111083984375, -0.019775390625, -0.00408935546875, -0.017333984375, 0.0615234375, -0.06396484375, -0.034423828125, 0.005645751953125, -0.0201416015625, -0.025146484375, 0.0576171875, 0.004486083984375, -0.06005859375, -0.046142578125, 0.0015411376953125, -0.002227783203125, -0.08056640625, -0.07177734375, -0.05419921875, -0.01214599609375, 0.00897216796875, -0.03515625, -0.0311279296875, 0.03515625, -0.03515625, -0.0135498046875, 0.08349609375, -0.0235595703125, 0.019775390625, -0.00836181640625, -0.019287109375, 0.010986328125, -0.076171875, 0.024169921875, -0.0400390625, -0.0179443359375, -0.03173828125, -0.0255126953125, -0.0196533203125, 0.0255126953125, 0.04345703125, 0.018310546875, -0.04541015625, -0.022216796875, -0.0703125, 0.01483154296875, 0.031494140625, -0.0157470703125, 0.037109375, -0.0185546875, 0.0186767578125, -0.002410888671875, -0.024658203125, -0.035888671875, 0.06591796875, -0.03466796875, -0.018310546875, -0.0322265625, 0.0211181640625, -0.0179443359375, -0.0157470703125, -0.00084686279296875, 0.007110595703125, 0.0238037109375, -0.03271484375, -0.004302978515625, 0.012939453125, -0.036865234375, -0.0322265625, -0.01043701171875, -0.04443359375, 0.01373291015625, -0.0247802734375, -0.022705078125, -0.0673828125, 0.041259765625, 0.03271484375, 0.0260009765625, -0.046630859375, -0.00567626953125, 0.045166015625, -0.01434326171875, 0.0299072265625, -0.01171875, 0.01190185546875, -0.007415771484375, -0.0206298828125, -0.0250244140625, 0.0140380859375, 0.00457763671875, -0.0194091796875, 0.0146484375, 0.08544921875, -0.00421142578125, -0.01397705078125, -0.004180908203125, -0.0296630859375, -0.027099609375, -0.0120849609375, -0.0203857421875, -0.005645751953125, 0.00634765625, -0.033447265625, -0.047119140625, 0.0263671875, -0.0517578125, 0.007781982421875, -0.0093994140625, -0.01318359375, -0.031982421875, -0.01177978515625, 0.0234375, 0.03125, -0.0157470703125, -0.000522613525390625, 0.0059814453125, -0.052490234375, 0.0186767578125, 0.01165771484375, -0.038818359375, -0.02001953125, 0.0069580078125, 0.015625, 0.0186767578125, 0.06298828125, -0.01190185546875, 0.00860595703125, 0.00848388671875, 0.04248046875, -0.0576171875, -0.025390625, 0.0037078857421875, -0.0010833740234375, 0.018310546875, 0.0167236328125, -0.03076171875, 0.001739501953125, -0.03173828125, -0.0301513671875, 0.0194091796875, -0.076171875, 0.01422119140625, -0.0458984375, -0.045166015625, -0.0126953125, -0.046142578125, 0.020263671875, -0.0230712890625, -0.0125732421875, 0.046875, -0.00616455078125, -0.03369140625, -0.042236328125, 0.03857421875, 0.0006103515625, -0.03759765625, 0.01275634765625, -0.003204345703125, 0.0299072265625, -0.00927734375, 0.01312255859375, 0.04248046875, -0.015625, 0.0108642578125, 0.0284423828125, -0.0164794921875, -0.004241943359375, 0.0234375, 0.039306640625, 0.034912109375, 0.01153564453125, 0.01007080078125, 0.0086669921875, 0.0098876953125, 0.056884765625, 0.03759765625, 0.01226806640625, -0.0162353515625, 0.005645751953125, -0.01043701171875, 0.0556640625, 0.03125, -0.0018768310546875, 0.01129150390625, -0.01483154296875, 0.000274658203125, -0.0164794921875, -0.005828857421875, 0.0037384033203125, -0.09521484375, 0.0279541015625, -0.022705078125, -0.0233154296875, -0.036865234375, 0.0390625, -0.0263671875, -0.010009765625, 0.0084228515625, 0.056884765625, -0.044677734375, 0.01068115234375, -0.01953125, -0.0206298828125, -0.01458740234375, 0.02685546875, -0.007110595703125, 0.060302734375, 0.01116943359375, 0.025146484375, -0.031494140625, 0.01416015625, -0.033935546875, -0.0284423828125, 0.031494140625, 0.00299072265625, -0.01275634765625, 0.01495361328125, 0.0032806396484375, 0.04541015625, -0.0201416015625, 0.024658203125, 0.016845703125, 0.0004367828369140625, 0.025146484375, -0.0150146484375, -0.0091552734375, -0.01422119140625, -0.055908203125, 0.0322265625, -0.0140380859375, 6.008148193359375e-05, -0.003936767578125, -0.0069580078125, -0.042724609375, 0.0390625, -0.031494140625, -0.0213623046875, -0.0211181640625, 0.047119140625, -0.0157470703125, 0.041748046875, 0.01275634765625, 0.037353515625, -0.064453125, 0.005889892578125, 0.00982666015625, -0.05859375, 0.0262451171875, -0.025146484375, -0.0225830078125, 0.0291748046875, 0.0400390625, -0.03564453125, 0.031494140625, -0.0004253387451171875, -0.015625, -0.00013446807861328125, -0.040771484375, -0.0283203125, -0.0206298828125, 0.01519775390625, 0.002227783203125, -0.042236328125, 0.01318359375, -0.0164794921875, -0.0033416748046875, 0.07421875, 0.0322265625, -0.0027618408203125, 0.01043701171875, -0.0078125, -0.0101318359375, -0.01251220703125, 0.0021209716796875, -0.0111083984375, -0.02001953125, 0.026611328125, 0.0260009765625, 0.0169677734375, -0.029296875, -0.000335693359375, -0.040283203125, -0.0172119140625, 0.0615234375, -0.01031494140625, 0.003997802734375, 0.00823974609375, 0.03125, -0.01153564453125, -0.00469970703125, 0.038818359375, 0.0283203125, 0.031494140625, 0.0087890625, -0.021240234375, -0.0030975341796875, -0.0179443359375, 0.0076904296875, -0.007080078125, 0.0286865234375, 0.03955078125, 0.0196533203125, 0.01190185546875, 0.0263671875, 0.00174713134765625, -0.044677734375, 0.02197265625, 0.0185546875, -0.039306640625, 0.01373291015625, 0.00982666015625, -0.00970458984375, 0.0140380859375, 0.0291748046875, 0.02001953125, -0.0120849609375, -0.011962890625, -0.0015716552734375, 0.03369140625, 0.0247802734375, 0.00138092041015625, 0.0966796875, -0.031494140625, 0.003753662109375, 0.0033416748046875, -0.047119140625, -0.06640625, 0.0206298828125, -0.0225830078125, 0.049560546875, -0.05126953125, -0.056884765625, -0.007476806640625, -0.00408935546875, 0.01519775390625, -0.01300048828125, 0.01068115234375, 0.04248046875, 0.01416015625, 0.000820159912109375, -0.0286865234375, -0.007781982421875, -0.027099609375, -0.05419921875, -0.00439453125, -0.00469970703125, 0.032470703125, -0.02783203125, -0.010009765625, 0.048583984375, -0.0087890625, 0.0140380859375, 0.0556640625, 0.1083984375, -0.037109375, -0.03759765625, -0.0096435546875, -0.016845703125, -0.058349609375, -0.01336669921875, 0.049560546875, 0.019287109375, -0.03369140625, 0.0308837890625, 0.025390625, 0.041748046875, -0.0096435546875, -0.029296875, 0.0238037109375, 0.05419921875, -0.037109375, -0.02392578125, -0.0184326171875, -0.0230712890625, 0.002532958984375, -0.035400390625, -0.0150146484375, 0.0181884765625, -0.021240234375, 0.0380859375, -0.0032806396484375, -0.030029296875, -0.019287109375, -0.036865234375, 0.0177001953125, 0.0211181640625, -0.0283203125, 0.076171875, 0.027099609375, -0.04248046875, -0.004364013671875, 0.09326171875, 0.00274658203125, 0.041259765625, 0.0087890625, -0.0084228515625, -0.0247802734375, -0.006256103515625, 0.059814453125, 0.04248046875, 0.0020599365234375, -0.0137939453125, -0.0225830078125, -0.000560760498046875, -0.03857421875, -0.015380859375, 0.009521484375, -0.003753662109375, -0.0089111328125, 0.01239013671875, 0.004180908203125, -0.06689453125, 0.03857421875, 0.00970458984375, 0.0027618408203125, -0.0238037109375, 0.0213623046875, -0.0147705078125, 0.0159912109375, 0.01007080078125, -0.00147247314453125, -0.0308837890625, 0.0625, -0.0283203125, -0.025146484375, -0.06591796875, -0.06298828125, -0.0301513671875, 0.0234375, -0.0037689208984375, -0.031494140625, -0.033447265625, -0.000457763671875, -0.0035858154296875, 0.045166015625, 0.0185546875, -0.0234375, 0.03271484375, -0.022216796875, 0.020263671875, 0.018798828125, -0.01031494140625, -0.033935546875, -0.0005035400390625, -0.06689453125, -0.00170135498046875, -0.0238037109375, 0.0380859375, 0.041748046875, 0.01043701171875, -0.0157470703125, -0.0556640625, 0.07763671875, 0.0233154296875, -0.0145263671875, 0.046142578125, 0.0040283203125, 0.03271484375, 0.005157470703125, 0.061767578125, 0.012939453125, -0.027587890625, -0.04443359375, 0.01043701171875, -0.0301513671875, 0.0128173828125, -0.007537841796875, -0.03076171875, -0.01336669921875, 0.0091552734375, -0.002655029296875, -0.032958984375, 0.007720947265625, 0.08935546875, 0.041259765625, 0.01043701171875, -0.0146484375, -0.00445556640625, -0.0140380859375, 0.017578125, 0.02001953125, -0.0517578125, -0.06640625, 0.01043701171875, -0.053466796875, 0.039306640625, -0.01239013671875, -0.0283203125, -0.05859375, -0.05078125, -0.02783203125, -0.0235595703125, 0.029296875, -0.036865234375, 0.007293701171875, 0.0123291015625, 0.0286865234375, -0.0093994140625, 0.00616455078125, 0.0135498046875, -0.000244140625, 0.0255126953125, 0.0213623046875, -0.05419921875, 0.035888671875, 0.02685546875, -0.017822265625, 0.01611328125, 0.027099609375, -0.02685546875, 0.0279541015625, -0.0146484375, -0.03759765625, 0.0274658203125, 0.05615234375, 0.0255126953125, -0.04296875, 0.0301513671875, -0.00970458984375, 0.031494140625, 0.0181884765625, 0.01214599609375, -0.0029296875, 0.016845703125, -0.0169677734375, -0.0230712890625, -0.0135498046875, 0.10888671875, -0.00193023681640625, 0.04345703125, 0.0181884765625, -0.0262451171875, 0.015380859375, 0.0031280517578125, 0.0223388671875, -0.00347900390625, -0.0201416015625, 0.037353515625, 0.01116943359375, 0.048583984375, 0.032958984375, 0.0211181640625, -0.0654296875, -0.040283203125, 0.01171875, -0.032958984375, -0.0211181640625, 0.007415771484375, -0.017578125, 0.01312255859375, 0.0164794921875, -0.03564453125, -0.030029296875, -0.0152587890625, -0.01019287109375, -0.0150146484375, 0.010986328125, -0.00921630859375, 0.0233154296875, 0.016845703125, 0.0267333984375, 0.041748046875, -0.047607421875, 0.00921630859375, 0.017822265625, -0.05078125, 0.01312255859375, 0.02880859375, 0.0021514892578125, 0.019775390625, 0.0242919921875, -0.0303955078125, -0.0234375, -0.0537109375, 0.0167236328125, 0.00897216796875, -0.046630859375, 7.724761962890625e-05, 0.01507568359375, 0.0230712890625, -0.00799560546875, 0.0206298828125, -0.0169677734375, -0.0247802734375, -0.041748046875, 0.033447265625, 0.054931640625, 0.00885009765625, 0.006988525390625, 0.0159912109375, 0.0263671875, 0.0308837890625, 0.00738525390625, 0.005645751953125, -0.0093994140625, -0.01336669921875, -0.0111083984375, -0.01556396484375, -0.006988525390625, 0.0213623046875, -0.0274658203125, 0.0262451171875, -0.02197265625, -0.027099609375, 0.0030975341796875, 0.0123291015625, 0.047607421875, 0.00445556640625, -0.004302978515625, 0.001220703125, -0.0206298828125, -0.041259765625, -0.0120849609375, -0.008544921875, -0.029296875, -0.07275390625, 0.0147705078125, -0.002532958984375, -0.0196533203125, -0.09326171875, -0.022705078125, 0.0233154296875, -0.003448486328125, 0.0274658203125, -0.061767578125, -0.005157470703125, -0.027099609375, 0.045166015625, -0.0113525390625, -0.07763671875, -0.034912109375, -0.0322265625, -0.021484375, 0.014404296875, -0.0238037109375, 0.008544921875, 0.038818359375, -0.0133056640625, -0.021240234375, 0.0201416015625, -0.001953125, -0.047119140625, -0.01312255859375, -0.012939453125, 0.0146484375, -0.021728515625, -0.041748046875, 0.0196533203125, -0.0458984375, -0.041748046875, 0.0023345947265625, -0.021728515625, 0.01953125, 0.02001953125, -0.007110595703125, -0.05419921875, -0.0247802734375, -0.006256103515625, 0.018798828125, 0.004638671875, -0.00115203857421875, -0.0023040771484375, 0.00933837890625, -0.0301513671875, 0.0206298828125, -0.0005950927734375, 0.0181884765625, -0.0013427734375, -0.0291748046875, -0.0179443359375, -0.018310546875, -0.05615234375, 0.01129150390625, -0.041259765625, 0.01116943359375, 0.048583984375, 0.0673828125, -0.017822265625, 0.0693359375, -0.037353515625, 0.033447265625, 0.026611328125, 0.038818359375, 0.00750732421875, 0.004119873046875, -0.03759765625, 0.027099609375, 0.01275634765625, -0.0291748046875, 0.0208740234375, -0.01556396484375, 0.022216796875, -0.0556640625, 0.000583648681640625, -0.034912109375, -0.0203857421875, 0.030029296875, 0.0120849609375, 0.00421142578125, -0.08056640625, -0.010986328125, 0.006561279296875, 0.0615234375, -0.0050048828125, 0.01904296875, -0.05126953125, 0.0478515625, 0.039306640625, 0.044677734375, 0.00201416015625, -0.029296875, 0.04052734375, -0.00811767578125, 0.0966796875, -0.0107421875, -0.0167236328125, -0.0076904296875, 0.06689453125, -0.044189453125, -0.02587890625, -0.00750732421875, -0.0478515625, 0.059326171875, 0.02392578125, 0.01611328125, -0.004547119140625, -0.0069580078125, -0.0234375, 0.00439453125, 0.002655029296875, 0.0296630859375, 0.047119140625, 0.007720947265625, 0.029296875, -0.01007080078125, 0.027099609375, -0.004364013671875, -0.007171630859375, -4.57763671875e-05, 0.013916015625, -0.0030975341796875, -0.0087890625, -0.0220947265625, 0.020263671875, 0.0255126953125, 0.0267333984375, -0.05126953125, 0.00634765625, 0.047119140625, 0.024169921875, -0.009765625, 0.00799560546875, -0.033203125, -0.0291748046875, 0.0150146484375, -0.087890625, 0.027099609375, -0.00179290771484375, -0.0322265625, 0.006072998046875, -0.0035552978515625, -0.009521484375, -0.04833984375, -0.0185546875, 0.01336669921875, -0.041748046875, -0.025634765625, 0.0029144287109375, 0.0206298828125, -0.0223388671875, 0.041748046875, 0.0093994140625, -0.0234375, -0.00616455078125, -0.0225830078125, 0.02587890625, -0.00384521484375, -0.03759765625, 0.078125, -0.017578125, 0.042236328125, 0.040771484375, -0.02783203125, -0.009521484375, -0.0615234375, -0.02685546875, 0.02587890625, -0.01043701171875, -0.0576171875, -0.038818359375, 0.03076171875, 0.041259765625, -0.01275634765625, -0.00897216796875, -0.0458984375, -0.01031494140625, 0.01153564453125, 0.033203125, -0.00555419921875, 0.0125732421875, -0.01507568359375, 0.00982666015625, 0.01068115234375, 0.046142578125, 0.0311279296875, 0.002716064453125, -0.029541015625, -0.017578125, -0.01031494140625, -0.0208740234375, 0.051025390625, 0.0089111328125, -0.021240234375, -0.0654296875, -0.0279541015625, 0.008056640625, 0.0341796875, 0.034423828125, -0.041748046875, 0.06005859375, 0.00010633468627929688, 0.048583984375, 0.06494140625, 0.007110595703125, -0.0174560546875, -0.006591796875, -0.035888671875, 0.0059814453125, -0.01068115234375, 0.0234375, 0.0208740234375, -0.08251953125, -0.0220947265625, 0.00848388671875, -0.024169921875, 0.037109375, -0.01055908203125, 0.016845703125, -0.0086669921875, -0.0006103515625, -0.07177734375, -0.05517578125, 0.0751953125, 0.005645751953125, 0.00469970703125, -0.02587890625, -0.017578125, 0.0001583099365234375, 0.051025390625, 0.041259765625, -0.00494384765625, 0.00836181640625, 0.004486083984375, 0.00145721435546875, 0.0247802734375, 0.01611328125, 0.00970458984375, 0.0400390625, 0.042724609375, -0.00543212890625, -0.0380859375, 0.056640625, -0.03369140625, 0.03955078125, -0.020263671875, -0.004913330078125, -0.0203857421875, 0.0018157958984375, -0.01171875, -0.05517578125, 0.007110595703125, 0.01458740234375, -0.0250244140625, -0.0380859375, -0.003448486328125, -0.010986328125, 0.0133056640625, 0.051025390625, -0.034423828125, 0.042236328125, -0.0234375, -0.01495361328125, 0.06005859375, 0.0004444122314453125, -0.0301513671875, -0.051025390625, -0.01953125, -0.07373046875, 0.0150146484375, 0.0059814453125, -0.01153564453125, 0.033203125, -0.0390625, 0.025146484375, -0.0556640625, -0.003997802734375, 0.0311279296875, -0.004608154296875, 0.0174560546875, -0.004150390625, -0.02197265625, -0.01043701171875, -0.0233154296875, -0.0223388671875, -0.01165771484375, -0.0172119140625, 0.0096435546875, 0.0146484375, -0.01019287109375, -0.0234375, 0.041259765625, 0.00043487548828125, -0.030517578125, 0.029296875, 0.044189453125, -0.05859375, -0.02783203125, -0.01544189453125, 0.056640625, -0.051025390625, 0.0517578125, 0.01458740234375, -0.025390625, 0.07763671875, -0.005218505859375, 0.027587890625, -0.007537841796875, -0.01458740234375, 0.0233154296875, -0.0125732421875, -0.00848388671875, -0.0027923583984375, 0.00982666015625, 0.0203857421875, 0.040771484375, -0.0250244140625, 0.0712890625, 0.034423828125, 0.0238037109375, -0.0108642578125, -0.005645751953125, 0.021240234375, 0.01275634765625, -0.0235595703125, -0.0311279296875, 0.0024566650390625, -0.03369140625, 0.00274658203125, 0.011962890625, 0.035400390625, 0.03564453125, -0.07470703125, -0.00848388671875, 0.0208740234375, -0.022216796875, 0.000637054443359375, 0.006195068359375, -0.0019989013671875, 0.0576171875, -0.03173828125, 0.054931640625, 0.046630859375, -0.010009765625, 0.01904296875, 0.0150146484375, -0.00408935546875, 0.0125732421875, -0.0693359375, -0.0008087158203125, -0.004302978515625, 0.031982421875, -0.037353515625, -0.036376953125, -0.0076904296875, 0.033935546875, 0.030517578125, 0.006561279296875, 0.004638671875, 0.0284423828125, 0.00921630859375, -0.0016937255859375, -0.005340576171875, 0.0098876953125, -0.05029296875, -0.0023345947265625, 0.003936767578125, -0.0517578125, 0.0076904296875, 0.007110595703125, 0.006134033203125, 0.0576171875, 0.0260009765625, -0.0186767578125, -0.0037994384765625, -0.025390625, 0.0238037109375, -0.0181884765625, -0.0255126953125, -0.028076171875, 0.0042724609375, 0.049072265625, 0.0260009765625, -0.030029296875, 0.021484375, -0.01165771484375, -0.0123291015625]}, {"key": "data/images/18.png", "width": 1786, "height": 2526, "embedding": [0.07958984375, 0.008056640625, 0.04931640625, -0.003143310546875, -0.0174560546875, -0.0218505859375, 0.049560546875, 0.00139617919921875, 0.0167236328125, 0.0087890625, -0.0250244140625, 0.050048828125, -0.021240234375, -0.0196533203125, 0.0272216796875, 0.054931640625, -0.003814697265625, 0.025634765625, -0.0045166015625, -0.0712890625, 0.052490234375, -0.0106201171875, 0.046875, -0.06298828125, 0.01312255859375, 0.0341796875, -0.045654296875, 0.003997802734375, 0.037841796875, -0.0020751953125, -0.033447265625, -0.046875, 0.0089111328125, 0.0234375, -0.06689453125, -0.0098876953125, -0.046875, 0.00017547607421875, 0.00154876708984375, -0.05908203125, -0.0419921875, 0.043701171875, -0.07666015625, -0.017578125, 0.0184326171875, -0.000682830810546875, -0.0147705078125, -0.0242919921875, 0.0206298828125, -0.0419921875, -0.003692626953125, 0.01177978515625, -0.0203857421875, -0.0255126953125, -0.045654296875, -0.048583984375, 0.0220947265625, 0.0400390625, 0.033447265625, -0.0034027099609375, -0.09521484375, -0.01116943359375, -0.06689453125, -0.00159454345703125, -0.00421142578125, -0.004241943359375, 0.0230712890625, -0.0322265625, 0.060791015625, -0.017333984375, 0.00958251953125, -0.0238037109375, 0.080078125, -0.022216796875, 0.0123291015625, -0.061767578125, -0.0286865234375, 0.01202392578125, 0.025634765625, 0.0012359619140625, 0.0035552978515625, 0.035400390625, -0.031494140625, -0.0390625, 0.0034637451171875, -0.0419921875, -0.006072998046875, -0.001220703125, 0.01385498046875, 0.0283203125, -0.03271484375, 0.009033203125, -0.047607421875, 0.01092529296875, 0.0128173828125, -0.0223388671875, -0.03564453125, 0.041259765625, 0.06787109375, 0.0218505859375, 0.03173828125, -0.01611328125, -0.01556396484375, -0.043701171875, -0.013427734375, -0.033203125, 0.035400390625, 0.023193359375, -0.028076171875, 0.0252685546875, 0.044921875, 0.0284423828125, -0.0189208984375, 0.0128173828125, -0.00616455078125, -0.01507568359375, -0.00762939453125, -0.008544921875, -0.0283203125, -0.007293701171875, -0.064453125, -0.030029296875, 0.047119140625, -0.01251220703125, 0.0185546875, -0.0203857421875, 0.025634765625, -0.01434326171875, -0.0115966796875, -0.0303955078125, 0.0272216796875, -0.0034332275390625, 0.0196533203125, 0.031494140625, -0.0322265625, 0.0291748046875, 0.07080078125, 0.00958251953125, 0.0032958984375, 0.01373291015625, -0.043701171875, -0.020263671875, 0.04541015625, 0.0087890625, -0.0244140625, 0.00494384765625, 0.01068115234375, -0.032470703125, -0.01708984375, 0.021240234375, 0.02685546875, 0.0048828125, 0.023193359375, -0.0018310546875, 0.008056640625, -0.00982666015625, -0.03271484375, 0.0238037109375, -0.01312255859375, 0.04638671875, -0.04052734375, 0.044921875, -0.025146484375, 0.0086669921875, 0.01251220703125, -0.0037994384765625, -0.0361328125, 0.00848388671875, -0.0263671875, -0.0361328125, -0.00408935546875, 0.0250244140625, 0.01611328125, -0.01324462890625, 0.0027923583984375, -0.010498046875, 0.031494140625, -0.003814697265625, 0.04443359375, -0.00186920166015625, -0.036376953125, -0.017333984375, -0.01214599609375, -0.054443359375, -0.0228271484375, -0.0174560546875, 0.0157470703125, 0.06298828125, 0.00174713134765625, -0.0693359375, -0.0203857421875, 0.037353515625, 0.0361328125, 0.022705078125, 0.044921875, 0.0272216796875, 0.006805419921875, -0.01068115234375, 0.09228515625, 0.052001953125, -0.0255126953125, -0.0228271484375, 0.00738525390625, -0.01422119140625, -0.00439453125, -0.00201416015625, 0.021484375, -0.034912109375, 0.0020599365234375, -0.029541015625, 0.029296875, -0.0103759765625, 0.0206298828125, -0.01953125, 0.01171875, 0.01177978515625, 0.061767578125, -0.033203125, 0.05517578125, -0.0147705078125, -0.0272216796875, 0.0177001953125, -0.01318359375, 0.0052490234375, 0.042724609375, 0.034912109375, -0.004058837890625, 0.00408935546875, 0.014404296875, -0.00225830078125, -0.07275390625, 0.01483154296875, 0.048828125, -0.0341796875, 0.000316619873046875, -0.0400390625, 0.01806640625, 0.01177978515625, 0.0240478515625, -0.00787353515625, -0.004791259765625, 0.046142578125, -0.039794921875, -0.0106201171875, 0.050048828125, -0.0084228515625, 0.06494140625, 0.00115203857421875, -0.0162353515625, 0.044921875, -0.000530242919921875, 0.01123046875, -0.025634765625, -0.0419921875, -0.0084228515625, 0.01177978515625, 0.01324462890625, 0.0322265625, -0.0023651123046875, 0.00640869140625, 0.05615234375, -0.0140380859375, 0.022216796875, -0.04541015625, -0.044921875, -0.016357421875, 0.006988525390625, -0.0052490234375, 0.006378173828125, 0.03759765625, -0.0286865234375, 0.037841796875, 0.04931640625, 0.005950927734375, 0.0322265625, -0.06298828125, -0.0419921875, 0.00872802734375, 0.0206298828125, 0.00640869140625, -0.01361083984375, -0.0023345947265625, -0.04931640625, 0.01251220703125, 0.039794921875, 0.06298828125, 0.01434326171875, -0.0198974609375, 0.01953125, 0.0625, 0.0157470703125, 0.00970458984375, -0.0223388671875, -0.0152587890625, 0.032958984375, 0.0196533203125, -0.033935546875, -0.01251220703125, -0.0242919921875, -0.06298828125, -0.03759765625, 0.03515625, 0.006378173828125, -0.044921875, 0.031982421875, 0.005889892578125, 0.007171630859375, -0.0230712890625, 0.00023174285888671875, 0.01495361328125, -0.01458740234375, -0.010498046875, -0.046875, -0.031494140625, -0.033203125, -0.033447265625, 0.00531005859375, -0.0205078125, -0.0264892578125, -0.03759765625, 0.048583984375, 0.01544189453125, -0.0220947265625, -0.0101318359375, 0.0400390625, 0.01019287109375, -0.028076171875, -0.0098876953125, 0.00193023681640625, 0.01507568359375, 0.044921875, -0.0035858154296875, 0.02587890625, 0.010009765625, -0.012939453125, -0.00518798828125, 0.0301513671875, 0.0263671875, -0.02099609375, 0.041259765625, -0.00147247314453125, 0.01019287109375, 0.0250244140625, -0.033203125, -0.052734375, -0.00701904296875, -0.00970458984375, 0.051025390625, -0.044189453125, -0.01507568359375, 0.0157470703125, 0.000576019287109375, -0.010498046875, -0.03955078125, 0.0198974609375, 0.0289306640625, 0.0015716552734375, -0.03515625, -0.01708984375, -0.02880859375, -0.039306640625, 0.006072998046875, -0.01422119140625, 0.0152587890625, -0.004669189453125, 0.0128173828125, -0.00750732421875, 0.0076904296875, 0.033203125, 0.01019287109375, -0.0179443359375, 0.06640625, -0.0322265625, -0.06494140625, 0.0194091796875, -0.0177001953125, -0.0634765625, -0.025634765625, -0.01507568359375, 0.0235595703125, -0.036376953125, 0.0172119140625, 0.0301513671875, 0.0020904541015625, 0.025634765625, 0.022705078125, 0.015625, 0.05908203125, -0.006500244140625, -0.005859375, 0.033935546875, -0.0186767578125, 0.01544189453125, -0.0238037109375, -0.0311279296875, 0.0361328125, 0.0002593994140625, 0.031494140625, 0.040771484375, -0.002349853515625, -0.037353515625, -0.0419921875, 0.0084228515625, 0.0267333984375, -0.029541015625, 0.048583984375, 0.00897216796875, -0.0576171875, -0.0103759765625, 0.057861328125, 0.0081787109375, 0.0152587890625, -0.010498046875, -0.036376953125, -0.033935546875, -0.01202392578125, 0.0146484375, 0.0267333984375, 0.03271484375, -0.020263671875, -0.050048828125, -0.0242919921875, -0.034912109375, -0.01214599609375, 0.061767578125, -0.04052734375, 0.01251220703125, 0.01556396484375, 0.040771484375, -0.0174560546875, 0.049560546875, 0.05029296875, -0.033203125, -0.041015625, 0.033203125, -0.01361083984375, 0.0390625, 0.007598876953125, -0.0286865234375, -0.047607421875, 0.048583984375, -0.056640625, -0.0517578125, -0.039794921875, -0.037353515625, -0.0234375, -0.01068115234375, 0.0196533203125, -0.011962890625, -0.0240478515625, -0.01458740234375, 0.035400390625, 0.04541015625, -0.01507568359375, -0.01104736328125, 0.0247802734375, -0.05126953125, 0.03271484375, 0.0191650390625, -0.020263671875, -0.0308837890625, -0.01092529296875, -0.0242919921875, 0.0283203125, 0.01116943359375, 0.01519775390625, 0.0169677734375, 0.034912109375, -0.01611328125, -0.033935546875, 0.041015625, 0.0177001953125, -0.0166015625, 0.0301513671875, -0.0167236328125, 0.0260009765625, 0.001312255859375, 0.04150390625, 0.06982421875, -0.033447265625, 0.0111083984375, 0.032470703125, -0.052734375, 0.0081787109375, 0.043701171875, 0.040771484375, 0.025634765625, 0.033935546875, 0.01544189453125, -0.057373046875, -0.030029296875, 0.03955078125, 0.00848388671875, -0.0274658203125, -0.00156402587890625, -0.0234375, -0.033935546875, 0.03515625, -0.0157470703125, -0.0673828125, -0.0185546875, 0.068359375, -0.10107421875, 0.047607421875, -0.004791259765625, -0.041259765625, -0.050048828125, -0.06005859375, -0.006866455078125, -0.021484375, -0.025634765625, 0.0166015625, 0.00177001953125, -0.04296875, -0.00139617919921875, 0.03369140625, 0.0111083984375, -0.01263427734375, 0.0218505859375, 0.0093994140625, -0.0191650390625, -0.09375, 0.037109375, 0.060302734375, 0.005462646484375, 0.0147705078125, 0.0189208984375, -0.0390625, -0.003692626953125, -0.038330078125, -0.0223388671875, -0.008056640625, 0.01092529296875, -0.0179443359375, 0.00787353515625, 0.0189208984375, -0.043701171875, 0.06298828125, 0.0128173828125, 0.01092529296875, -0.020263671875, 0.060302734375, -0.0159912109375, -0.02001953125, -0.0009002685546875, 0.035400390625, -0.0286865234375, -0.00439453125, -0.01544189453125, -0.0242919921875, 0.0277099609375, -0.0400390625, 0.01025390625, 0.00262451171875, -0.0020294189453125, 0.055908203125, 0.014404296875, 0.0517578125, 0.0308837890625, 0.028076171875, 0.02001953125, -0.0341796875, -0.0157470703125, -0.029541015625, 0.004974365234375, -0.03955078125, -0.005523681640625, 0.05419921875, -0.0189208984375, -0.025634765625, -0.00811767578125, -0.01019287109375, 1.601874828338623e-06, -0.03173828125, 0.01434326171875, 0.016357421875, -0.0103759765625, 0.005859375, 0.0137939453125, 0.0308837890625, 0.02587890625, 0.036376953125, -0.01556396484375, -0.0286865234375, -0.01397705078125, 0.0267333984375, -0.00138092041015625, 0.0113525390625, 0.0033416748046875, -0.048828125, -0.0260009765625, -0.0189208984375, 0.00970458984375, -0.017822265625, -0.022216796875, -0.05029296875, 0.00408935546875, 0.01373291015625, 0.039794921875, -0.028076171875, 0.00848388671875, -0.01214599609375, -0.01153564453125, 0.0322265625, 0.038330078125, -0.0390625, 0.004608154296875, -0.0147705078125, 0.036376953125, -0.031494140625, -0.047607421875, -0.0283203125, 0.03076171875, 0.018798828125, -0.0517578125, -0.0169677734375, 0.007293701171875, -0.0111083984375, 0.0223388671875, 0.01544189453125, -0.042724609375, -0.0240478515625, 0.00299072265625, 0.00823974609375, 0.028076171875, 0.0260009765625, 0.01434326171875, 0.02099609375, -0.0419921875, -0.0625, 0.01324462890625, -0.01171875, -0.03271484375, -0.058349609375, 0.032958984375, -0.0206298828125, -0.050048828125, -0.06298828125, -0.0537109375, -0.0289306640625, -0.04296875, 0.00072479248046875, -0.008056640625, -0.0198974609375, 0.00162506103515625, 0.0059814453125, -0.0264892578125, -0.08154296875, -0.042724609375, -0.037353515625, -0.0034942626953125, 0.0419921875, -0.052978515625, -0.001922607421875, 0.043212890625, -0.045654296875, 0.038330078125, 0.037841796875, -0.0308837890625, -0.036376953125, -0.0279541015625, 0.008056640625, 0.02099609375, 0.01171875, -0.002044677734375, -0.017822265625, -0.03173828125, -0.083984375, -0.022216796875, -0.0262451171875, 0.029296875, -0.0181884765625, 0.0247802734375, -0.042724609375, -0.015625, 0.0286865234375, -0.0103759765625, 0.0125732421875, -0.0186767578125, 0.0023193359375, -0.0218505859375, -0.004669189453125, 0.005523681640625, -0.0361328125, 0.0016021728515625, 0.05029296875, -0.04541015625, -0.0162353515625, -0.04931640625, -0.0888671875, -0.048828125, -0.04638671875, 0.042724609375, -0.00445556640625, 0.020751953125, 0.02099609375, 0.004486083984375, 0.041259765625, 0.035400390625, 0.0203857421875, 0.0299072265625, 0.038818359375, -0.010498046875, 0.010498046875, 0.0299072265625, 0.0279541015625, -0.03271484375, -0.01025390625, -0.01239013671875, -0.004852294921875, -0.033447265625, -0.0089111328125, 0.00927734375, -0.0159912109375, 0.0218505859375, 0.0093994140625, -0.002197265625, -0.09423828125, -0.0279541015625, -0.038330078125, -0.0111083984375, 0.0012359619140625, 0.047119140625, -0.0260009765625, 0.031494140625, -0.01416015625, -0.0198974609375, 0.0240478515625, -0.0185546875, 0.00020885467529296875, 0.033447265625, 0.062255859375, -0.03564453125, -0.01361083984375, -0.005859375, 0.034423828125, -0.06494140625, -0.0206298828125, -0.0150146484375, -0.01171875, 0.0400390625, 0.006195068359375, 0.0179443359375, 0.006256103515625, 0.02099609375, 0.0181884765625, -0.01611328125, -0.021240234375, -0.0220947265625, 0.054443359375, 0.0184326171875, 0.04931640625, 0.0029296875, -0.019775390625, -0.0240478515625, -0.014404296875, -0.038330078125, 0.0419921875, -0.0147705078125, -0.004638671875, -0.0299072265625, 0.052978515625, -0.005157470703125, 0.03271484375, -0.0128173828125, 0.0128173828125, 0.027587890625, 0.032958984375, -0.0284423828125, 0.01519775390625, -0.048828125, 0.035888671875, 0.031494140625, -0.09619140625, -0.050537109375, 0.0228271484375, -0.01031494140625, 0.035888671875, -0.00103759765625, -0.00017070770263671875, -0.035888671875, -0.00058746337890625, 0.04248046875, -0.035888671875, 0.0250244140625, 0.0185546875, 0.0654296875, 0.0032501220703125, -0.00970458984375, 0.01171875, -0.003662109375, -0.01446533203125, -0.034423828125, 0.0274658203125, 0.05517578125, -0.04296875, 0.061767578125, -0.05126953125, 0.01220703125, 0.050537109375, 0.0189208984375, -0.01434326171875, -0.055419921875, -0.002197265625, 0.0191650390625, 0.00037384033203125, -0.0242919921875, -0.044677734375, -0.03466796875, 0.00830078125, 0.03125, 0.005096435546875, 0.0014495849609375, -1.609325408935547e-05, 0.0157470703125, -0.01220703125, 0.000896453857421875, 0.0036163330078125, -0.022216796875, -0.0308837890625, -0.0322265625, 0.0234375, 0.05126953125, 0.0106201171875, -0.04150390625, -0.02001953125, 0.01019287109375, -0.07666015625, 0.0263671875, 0.00439453125, -0.01519775390625, -0.0203857421875, -0.00830078125, 0.0263671875, 0.0052490234375, 0.0301513671875, 0.005859375, 0.00142669677734375, -0.021240234375, 0.058349609375, 0.0419921875, -0.020263671875, -0.033447265625, -0.0194091796875, 0.00177764892578125, -0.0291748046875, -0.0224609375, 0.0147705078125, 0.00970458984375, -0.03759765625, -0.035888671875, 0.053466796875, -0.0272216796875, -0.004791259765625, -0.025146484375, -0.038330078125, 0.033935546875, -0.01251220703125, -0.0093994140625, -0.0625, 0.053466796875, 0.0277099609375, -0.00994873046875, 0.0027313232421875, -0.0213623046875, -0.022705078125, 0.0791015625, 0.07275390625, -0.0303955078125, -0.0198974609375, 0.030517578125, -0.007415771484375, -0.033447265625, -0.009765625, 0.01495361328125, 0.00689697265625, 0.0123291015625, 0.017333984375, -0.01416015625, 0.02880859375, -0.0240478515625, 0.010009765625, 0.0045166015625, -0.044677734375, 0.036376953125, 0.0196533203125, -0.00921630859375, -0.03369140625, 0.01422119140625, 0.03271484375, -0.041015625, -0.01611328125, -0.053466796875, -0.005462646484375, 0.006805419921875, 0.0252685546875, -0.0262451171875, 0.036865234375, -0.0146484375, -0.00567626953125, 0.0157470703125, -0.017578125, -0.0147705078125, -0.0703125, -0.0027618408203125, -0.0859375, -0.04248046875, 0.0419921875, -0.01422119140625, -0.0015411376953125, 0.0284423828125, 0.0101318359375, -0.0196533203125, 0.01318359375, -0.0086669921875, 0.00946044921875, -0.004241943359375, -0.01214599609375, -0.031494140625, -0.0252685546875, -0.03515625, 0.0146484375, -0.0272216796875, -0.035888671875, 0.0203857421875, 0.00099945068359375, -0.04052734375, -0.050048828125, 0.0135498046875, -0.008544921875, 0.004669189453125, 0.0198974609375, 0.0234375, -0.043701171875, -0.0234375, -0.04638671875, 0.0135498046875, -0.010009765625, 0.056640625, 0.052734375, -0.0045166015625, 0.04443359375, -0.00170135498046875, 0.0179443359375, 0.042724609375, -0.0128173828125, 0.038330078125, -0.01544189453125, 0.003692626953125, 0.0235595703125, 0.0159912109375, 0.006072998046875, -0.01123046875, -0.039306640625, 0.056640625, -0.00927734375, -0.029541015625, -0.0228271484375, -0.0247802734375, 0.02099609375, 0.01483154296875, -0.040771484375, 0.0025787353515625, 0.00921630859375, -0.01202392578125, -0.017333984375, -0.027587890625, -0.0103759765625, 0.04150390625, -0.0654296875, 0.0218505859375, -0.005462646484375, 0.04541015625, 0.049560546875, -0.01318359375, 0.02587890625, 0.033203125, -0.04541015625, 0.01434326171875, 0.0184326171875, 0.0113525390625, 0.037353515625, -0.01031494140625, -0.0286865234375, -0.004425048828125, -0.031494140625, 0.00836181640625, -0.038330078125, 0.0196533203125, -0.06298828125, -0.0169677734375, 0.0157470703125, 0.0286865234375, 0.035888671875, 0.0064697265625, -0.0390625, 0.0164794921875, -0.021484375, -0.050048828125, 0.01416015625, -0.0272216796875, 0.02099609375, 0.002593994140625, -0.0250244140625, 0.013427734375, -0.0203857421875, 0.039794921875, -0.02587890625, 0.05908203125, -0.0264892578125, 0.003692626953125, -0.0179443359375, 0.006195068359375, 0.049560546875, -0.0101318359375, -0.0234375, 0.0021209716796875, 0.007415771484375, 0.0301513671875, -0.0159912109375, 0.018798828125, 0.0286865234375, -0.01171875, -0.0072021484375]}, {"key": "data/images/19.png", "width": 1786, "height": 2526, "embedding": [0.03173828125, 0.023681640625, 0.01031494140625, 0.0242919921875, -0.011962890625, -0.029052734375, 0.03759765625, 0.032470703125, 0.01507568359375, 0.0019683837890625, -0.035400390625, 0.0240478515625, 0.004302978515625, -0.01104736328125, -0.01275634765625, 0.002044677734375, -0.01397705078125, 0.003631591796875, -0.038330078125, -0.0458984375, 0.05615234375, -0.056640625, 0.0517578125, -0.08447265625, 0.0264892578125, 0.029541015625, -0.033203125, -0.050048828125, 0.055419921875, 0.0284423828125, -0.0108642578125, -0.031982421875, 0.03564453125, 0.002227783203125, -0.095703125, -0.048583984375, -0.033203125, -0.0086669921875, 0.04052734375, -0.01708984375, -0.0458984375, 0.068359375, -0.0927734375, 0.01202392578125, 0.0250244140625, -0.0079345703125, -0.0101318359375, -0.0004596710205078125, 0.044921875, -0.0177001953125, -0.026611328125, 0.00982666015625, 0.01507568359375, 0.0272216796875, -0.0181884765625, -0.0257568359375, -0.000919342041015625, 0.020263671875, 0.025146484375, 0.0032806396484375, -0.07080078125, -0.01031494140625, -0.0478515625, 0.000865936279296875, -0.01904296875, 0.033447265625, 0.06982421875, -0.0220947265625, 0.05908203125, -0.0269775390625, 0.0224609375, -0.033203125, 0.044189453125, -0.044189453125, 0.007171630859375, -0.05615234375, 0.034423828125, -0.00193023681640625, 0.0211181640625, 0.0162353515625, -0.049560546875, 0.0390625, -0.00799560546875, -0.033935546875, 0.005157470703125, -0.07763671875, 0.0654296875, -0.0247802734375, 0.005584716796875, 0.0005035400390625, -0.036376953125, 0.02685546875, -0.006561279296875, 0.031005859375, -0.01324462890625, -0.017333984375, -0.06689453125, -0.00182342529296875, 0.0166015625, 0.03466796875, 0.064453125, 0.0005950927734375, 0.0010833740234375, -0.0045166015625, -0.051025390625, -0.0291748046875, 0.0247802734375, 0.01422119140625, -0.0341796875, 0.026611328125, 0.044189453125, -0.0198974609375, -0.036865234375, -0.02392578125, -0.017333984375, -0.00177764892578125, -0.0244140625, -0.052978515625, -0.041259765625, -0.01068115234375, -0.078125, -0.01123046875, 0.0027008056640625, -0.03466796875, 0.048828125, 0.01123046875, 0.003509521484375, 0.021728515625, -0.05810546875, -0.0030059814453125, -0.0233154296875, -0.050048828125, 0.0169677734375, 0.033935546875, 0.0018463134765625, 0.0255126953125, 0.025146484375, 0.01397705078125, 0.00927734375, 0.034912109375, -0.0216064453125, -0.000484466552734375, 0.07177734375, -0.02734375, -0.011962890625, -0.0137939453125, 0.035400390625, -0.04052734375, -0.002166748046875, 0.01068115234375, 0.011474609375, -0.0255126953125, -0.0191650390625, 0.0225830078125, 0.0169677734375, 0.0162353515625, 0.018798828125, 0.038818359375, -0.01348876953125, 0.036376953125, -0.045654296875, 0.041748046875, 0.00396728515625, -0.028076171875, 0.06640625, -0.00579833984375, -0.0166015625, -3.5762786865234375e-05, -0.051025390625, -0.039794921875, -0.03564453125, 0.00168609619140625, -0.014892578125, 0.0291748046875, 0.030517578125, 0.0126953125, 0.0184326171875, 0.01251220703125, 0.052490234375, -0.009765625, -0.048583984375, -0.0126953125, 0.0286865234375, -0.024658203125, -0.0269775390625, -0.0177001953125, 0.01904296875, 0.051025390625, 0.0230712890625, -0.0211181640625, -0.01531982421875, 0.04052734375, 0.026123046875, 0.0478515625, 0.044677734375, 0.047119140625, -0.01434326171875, 0.00628662109375, 0.047119140625, 0.02587890625, -0.00982666015625, -0.005706787109375, 0.01019287109375, -0.033203125, -0.0196533203125, -0.0301513671875, -0.0301513671875, -0.03173828125, 0.0223388671875, -0.0299072265625, 0.024658203125, -0.036865234375, 0.0308837890625, -0.008056640625, -0.01251220703125, 0.0030975341796875, 0.0625, -0.06298828125, 0.0164794921875, -0.0203857421875, -0.031982421875, 0.0181884765625, 0.00921630859375, 0.0155029296875, 0.036865234375, 0.0224609375, -0.0033721923828125, -0.01141357421875, 0.0064697265625, -0.033203125, -0.02392578125, -0.0255126953125, -0.00433349609375, 0.00032806396484375, 0.01312255859375, -0.04736328125, -0.00014209747314453125, -0.0025787353515625, 0.0257568359375, 0.01507568359375, -0.0177001953125, -0.0016632080078125, 0.004364013671875, 0.0123291015625, 0.0302734375, -0.0235595703125, 0.06201171875, -0.05517578125, -0.0277099609375, 0.05322265625, -0.0118408203125, 0.0262451171875, -0.0162353515625, -0.0301513671875, 0.03125, -0.01361083984375, 0.01116943359375, 0.0218505859375, 0.0045166015625, 0.002960205078125, 0.0235595703125, -0.0810546875, 0.054443359375, -0.037841796875, -0.0211181640625, 0.005218505859375, -0.0098876953125, 0.004058837890625, 0.0174560546875, 0.0213623046875, -0.047119140625, 0.0216064453125, 0.0294189453125, 0.08984375, 0.0294189453125, -0.02978515625, -0.035400390625, 0.048095703125, 0.0052490234375, 0.0233154296875, -0.01806640625, -0.01214599609375, -0.01470947265625, 0.0093994140625, 0.031005859375, 0.033203125, 0.004364013671875, -0.005096435546875, 0.033447265625, 0.00830078125, 0.025390625, 0.007354736328125, -0.014404296875, -0.02392578125, 0.0299072265625, -0.00970458984375, -0.0001277923583984375, 0.009521484375, -0.000507354736328125, -0.0634765625, -0.01611328125, 0.031982421875, 0.01397705078125, -0.01068115234375, 0.00150299072265625, 0.03466796875, 0.00787353515625, -0.027587890625, 0.0272216796875, 0.000804901123046875, 0.01165771484375, -0.01141357421875, -0.04345703125, -0.04052734375, -0.0186767578125, -0.01031494140625, 0.0166015625, -0.019775390625, -0.0198974609375, -0.035400390625, 0.043701171875, 0.013427734375, -0.01397705078125, -0.0299072265625, 0.0242919921875, 0.032470703125, -0.0010833740234375, -0.00811767578125, 0.0166015625, 0.024658203125, 0.032470703125, -0.037353515625, 0.053955078125, -0.0036773681640625, -0.0242919921875, 0.01458740234375, 0.01177978515625, -0.000820159912109375, 0.0029449462890625, 0.033935546875, -0.005462646484375, -0.0010833740234375, -0.0001354217529296875, -0.057373046875, -0.032470703125, 0.00049591064453125, -0.020263671875, 0.0301513671875, -0.060302734375, -0.0130615234375, -0.0023345947265625, 0.01611328125, -0.0213623046875, -0.00933837890625, 0.040771484375, 0.00494384765625, 0.0206298828125, 0.01385498046875, -0.007110595703125, -0.0185546875, 0.00168609619140625, -0.020263671875, -0.006561279296875, 0.0301513671875, 0.050048828125, -0.0009307861328125, -0.01080322265625, -0.0213623046875, 0.044189453125, 0.015869140625, 0.0074462890625, 0.07470703125, 0.0007171630859375, -0.0478515625, 0.0228271484375, -0.0220947265625, -0.0157470703125, -0.0206298828125, -0.00225830078125, 0.0262451171875, -0.053955078125, 0.0184326171875, 0.01123046875, 0.03759765625, -0.0211181640625, -0.043701171875, 0.0019989013671875, 0.06787109375, -0.016845703125, 0.0361328125, -0.01507568359375, -0.00665283203125, 0.0036468505859375, -0.029052734375, -0.01806640625, 0.02099609375, -0.00014400482177734375, -0.011962890625, 0.041259765625, -0.034423828125, -0.052978515625, -0.037109375, 0.01324462890625, 0.00872802734375, -0.046630859375, 0.049560546875, 0.017822265625, -0.052490234375, -0.01904296875, 0.0458984375, -0.01031494140625, 0.0301513671875, 0.00170135498046875, 0.025146484375, -0.037353515625, 0.036865234375, -0.011962890625, 0.023193359375, 0.00885009765625, -0.01904296875, -0.0262451171875, -0.01348876953125, -0.038818359375, 0.01544189453125, 0.0286865234375, -0.007293701171875, -0.0218505859375, 0.0269775390625, 0.032958984375, -0.035400390625, 0.060302734375, -0.00225830078125, -0.01422119140625, -0.033447265625, 0.045654296875, 0.03125, -0.017333984375, 0.047119140625, -0.033935546875, -0.064453125, 0.03515625, -0.01348876953125, -0.02685546875, -0.06982421875, 0.015625, -0.01904296875, 0.0269775390625, 0.01141357421875, -0.016357421875, -0.0244140625, 0.0184326171875, 0.0115966796875, 0.0634765625, 0.033203125, -0.0264892578125, 0.0283203125, -0.033203125, 0.00469970703125, 0.0064697265625, -0.01806640625, -0.01904296875, 0.005523681640625, -0.014404296875, 0.02880859375, 0.01141357421875, 0.05078125, -0.0003070831298828125, 0.034423828125, -0.033935546875, -0.0294189453125, 0.048828125, 0.0341796875, -0.016357421875, 0.0257568359375, -0.0145263671875, 0.025390625, 0.005096435546875, 0.03173828125, 0.015869140625, -0.029052734375, 0.0034637451171875, -0.0244140625, -0.072265625, 0.01904296875, 0.01251220703125, -0.005523681640625, -0.0257568359375, 0.03466796875, 0.01611328125, -0.00811767578125, -0.034912109375, -0.005523681640625, 0.06201171875, -0.01055908203125, -0.01275634765625, 0.0037689208984375, -0.042724609375, 0.02587890625, 0.023681640625, -0.044189453125, -0.029541015625, 0.041259765625, -0.053955078125, 0.034423828125, -0.00775146484375, -0.042236328125, -0.0308837890625, -0.055419921875, 0.017333984375, -0.031005859375, 0.00994873046875, 0.01104736328125, 0.031494140625, -0.041259765625, 0.002716064453125, 0.041259765625, -0.0380859375, -0.02587890625, 0.00628662109375, 0.01904296875, -0.0035552978515625, -0.0673828125, 0.052490234375, 0.06103515625, 0.044189453125, 0.004150390625, -0.0147705078125, -0.057373046875, 0.031982421875, -0.037841796875, -0.056884765625, 0.019775390625, 0.0537109375, -0.005615234375, -0.0022735595703125, 0.0269775390625, -0.003143310546875, 0.01470947265625, 0.016845703125, 0.011962890625, 0.034423828125, 0.033203125, -0.053955078125, -0.0220947265625, -0.006072998046875, 0.07666015625, -0.036865234375, 0.0086669921875, 0.0262451171875, 0.01513671875, -0.0269775390625, -0.047119140625, 0.024658203125, -0.01348876953125, -0.0264892578125, 0.0255126953125, 0.038330078125, 0.072265625, -0.013671875, 0.0458984375, -0.0703125, -0.02392578125, -0.04736328125, -0.034912109375, 0.017822265625, -0.007354736328125, -0.01092529296875, 0.031005859375, -0.0026092529296875, -0.0172119140625, 0.01007080078125, -0.0286865234375, -0.01806640625, -0.01348876953125, 0.006378173828125, 0.0181884765625, 0.0108642578125, -0.0133056640625, -0.019775390625, 0.0712890625, -0.0625, 0.04638671875, -0.0177001953125, -0.033935546875, 0.031005859375, 0.02734375, -0.045166015625, 0.0224609375, 0.03564453125, -0.0595703125, -0.017822265625, 0.0123291015625, -0.029541015625, 0.005584716796875, -0.0057373046875, -0.0269775390625, 0.0220947265625, 0.00323486328125, 0.041748046875, -0.041259765625, -0.0277099609375, -0.0164794921875, 0.0478515625, 0.02880859375, 0.044189453125, -0.03564453125, 0.0546875, 0.0029449462890625, 0.051025390625, 0.005706787109375, -0.044189453125, -0.0308837890625, 0.0004329681396484375, 0.00238037109375, -0.03955078125, 0.01202392578125, -0.011962890625, -0.056640625, 0.06591796875, -0.00579833984375, -0.00179290771484375, -0.034912109375, 0.006378173828125, -8.916854858398438e-05, 0.003509521484375, 0.024658203125, 0.01104736328125, -0.00113677978515625, -0.03173828125, -0.032470703125, 0.00299072265625, 0.014892578125, -0.04052734375, -0.036376953125, 0.01177978515625, -0.007354736328125, -0.08154296875, -0.042724609375, -0.031005859375, -0.0216064453125, -0.0108642578125, -0.0002880096435546875, -0.001190185546875, -4.351139068603516e-06, 0.00494384765625, -0.0108642578125, -0.0291748046875, -0.0390625, -0.0220947265625, -0.00030517578125, 0.051025390625, 0.013671875, -0.032958984375, -0.01031494140625, 0.06787109375, 0.004730224609375, 0.021728515625, 0.005340576171875, 0.004730224609375, -0.044189453125, -0.036865234375, 0.017333984375, -0.0262451171875, 0.01904296875, -0.0028839111328125, -0.0028228759765625, -0.048583984375, -0.07958984375, -0.003875732421875, -0.011962890625, 0.04638671875, -0.04638671875, -0.0206298828125, -0.072265625, 0.004791259765625, -0.0098876953125, 0.029052734375, 0.029541015625, 0.00011491775512695312, 0.00213623046875, 5.459785461425781e-05, -0.025146484375, -0.01214599609375, -0.002471923828125, -0.015869140625, 0.014892578125, -0.0595703125, -0.00982666015625, -0.047119140625, -0.08154296875, -0.053955078125, -0.0380859375, -0.00897216796875, -0.005615234375, 0.0079345703125, 0.034423828125, 0.033203125, 0.03173828125, -0.01544189453125, 0.04052734375, 0.0223388671875, 0.041259765625, -0.0537109375, 0.012939453125, 0.003814697265625, 0.0361328125, -0.037109375, 0.036376953125, -0.0101318359375, -0.025146484375, -0.01312255859375, -0.01275634765625, -0.0028076171875, -0.018798828125, 0.038818359375, 0.032958984375, -0.0517578125, -0.0791015625, -0.005706787109375, -0.041259765625, -0.0201416015625, -0.008056640625, 0.048583984375, -0.034912109375, 0.01031494140625, 0.03759765625, -0.0198974609375, 0.0228271484375, 0.005340576171875, 0.026611328125, 0.004608154296875, 0.052490234375, -0.02685546875, 0.0213623046875, -0.0084228515625, 0.0224609375, -0.0712890625, 0.0123291015625, 0.042724609375, -0.0024871826171875, 0.0059814453125, 0.01531982421875, 0.0108642578125, -0.008544921875, 0.01495361328125, 0.0458984375, -0.01416015625, -0.01177978515625, -0.017333984375, -0.005828857421875, 0.0262451171875, 0.0322265625, -0.0108642578125, 0.0125732421875, -0.0625, 0.02880859375, -0.035400390625, 0.005340576171875, -0.01904296875, -0.011474609375, -0.03466796875, 0.0380859375, -0.0157470703125, 0.041259765625, 0.00469970703125, 0.001983642578125, 0.034423828125, 0.052978515625, -0.01507568359375, -0.043701171875, 0.00927734375, 0.0030059814453125, -0.00494384765625, -0.058837890625, -0.0291748046875, 0.013671875, -0.042724609375, 0.017578125, -0.011962890625, 0.027587890625, -0.0206298828125, -0.0277099609375, 0.051513671875, -0.036376953125, -0.0059814453125, 0.044921875, 0.0299072265625, -0.007659912109375, 0.03173828125, 0.032470703125, -0.01104736328125, -0.00909423828125, -0.01312255859375, 0.0035858154296875, 0.07470703125, -0.09765625, 0.0361328125, 0.007720947265625, -0.0181884765625, 0.0306396484375, 0.004241943359375, -0.0380859375, -0.055419921875, 0.01470947265625, 0.0015411376953125, -0.017333984375, -0.0166015625, -0.0072021484375, -0.037841796875, 0.00811767578125, -0.003875732421875, -0.0164794921875, -0.033935546875, -0.0213623046875, 0.018310546875, -0.01080322265625, 0.0152587890625, -0.0201416015625, -0.01385498046875, 0.0224609375, -0.02734375, 0.0089111328125, 0.0118408203125, 0.028076171875, -0.0184326171875, -0.058349609375, -0.0067138671875, -0.01348876953125, 0.01904296875, 0.00653076171875, -0.01007080078125, -0.01904296875, 0.0255126953125, 0.03173828125, 0.00396728515625, 0.043212890625, 0.0162353515625, -0.045654296875, -0.011962890625, 0.048583984375, 0.083984375, -0.05908203125, -0.0294189453125, -0.0167236328125, -0.0242919921875, 0.014892578125, -0.0137939453125, -0.00130462646484375, -0.0220947265625, -0.058837890625, -0.0277099609375, -0.0017242431640625, 0.0233154296875, -0.005523681640625, -0.025390625, -0.02294921875, 0.00982666015625, -0.0201416015625, -0.02099609375, -0.03515625, 0.08984375, 0.07666015625, 0.01275634765625, 0.006256103515625, -0.0037841796875, -0.033935546875, 0.0302734375, 0.028076171875, -0.02880859375, -0.02294921875, 0.01708984375, -0.0277099609375, -0.031005859375, -0.0257568359375, -0.030517578125, 0.0162353515625, 0.0198974609375, 0.01007080078125, 0.004119873046875, 0.046630859375, -0.01275634765625, -0.0213623046875, -0.009033203125, 0.0240478515625, 0.01055908203125, 0.06884765625, 0.01507568359375, -0.006561279296875, 0.0213623046875, 0.046630859375, -0.01953125, -0.040771484375, -0.0380859375, -0.01348876953125, 0.0203857421875, 0.029541015625, -0.029052734375, 0.0198974609375, -0.0233154296875, -0.000247955322265625, 0.061767578125, -0.0089111328125, -0.0224609375, -0.0361328125, 0.01416015625, -0.060302734375, -0.01019287109375, 0.031005859375, 0.00872802734375, 0.01361083984375, 0.0380859375, 0.01123046875, -0.0174560546875, 0.00183868408203125, -0.029541015625, -0.0162353515625, 0.042724609375, -0.01019287109375, -0.00958251953125, -0.00762939453125, -0.03564453125, -0.0029144287109375, -0.023681640625, -0.01611328125, 0.038818359375, -0.01007080078125, -0.0164794921875, -0.01611328125, -0.0169677734375, 0.01708984375, -0.01422119140625, 0.0218505859375, 0.01397705078125, 0.025146484375, -0.0390625, -0.061279296875, 0.03564453125, -0.003509521484375, 0.061279296875, 0.068359375, -0.006622314453125, 0.0693359375, -0.0233154296875, 0.044921875, -0.00433349609375, -0.037109375, -0.0089111328125, -0.0228271484375, -0.0286865234375, -0.0218505859375, -0.0035552978515625, -0.003326416015625, 0.0177001953125, -0.005615234375, 0.0673828125, 0.04931640625, -0.01495361328125, 0.0036468505859375, 0.0089111328125, 0.02880859375, 0.043212890625, -0.0101318359375, -0.035400390625, 0.0079345703125, -0.0025787353515625, -0.0380859375, -0.031982421875, 0.0255126953125, 0.04052734375, -0.08251953125, 0.004150390625, 0.00616455078125, 0.01531982421875, 0.0123291015625, 0.01416015625, -0.0125732421875, 0.0220947265625, -0.08251953125, 0.0169677734375, 0.012939453125, 0.0230712890625, 0.0137939453125, 0.005889892578125, 0.0045166015625, 0.038330078125, -0.031005859375, 0.0093994140625, -0.035400390625, -0.007476806640625, -0.01312255859375, 0.001190185546875, -0.009033203125, 0.0244140625, 0.007080078125, -0.03173828125, -0.00982666015625, 0.058837890625, -0.02978515625, -4.267692565917969e-05, 0.019775390625, -0.058837890625, 0.031005859375, 0.01116943359375, -0.03173828125, -0.003692626953125, -0.0220947265625, 0.02392578125, -0.03466796875, 0.0693359375, 0.0034637451171875, 0.031005859375, 0.0038299560546875, -0.0037689208984375, 0.057373046875, -0.006378173828125, -0.0269775390625, -0.013427734375, 0.00011491775512695312, 0.02392578125, -0.0010986328125, 0.004913330078125, 0.0283203125, 0.0208740234375, 0.0011138916015625]}, {"key": "data/images/20.png", "width": 1786, "height": 2526, "embedding": [0.03662109375, 0.050048828125, 0.022216796875, 0.006134033203125, -0.01092529296875, 0.004241943359375, -0.03515625, -0.0269775390625, 0.021240234375, 0.0033416748046875, 0.002349853515625, 0.01287841796875, 0.046875, 0.0155029296875, -0.0341796875, 0.01190185546875, 0.00555419921875, 0.0040283203125, -0.025634765625, -0.00433349609375, -0.01708984375, 0.0263671875, -0.0030517578125, 0.006927490234375, 0.01434326171875, 0.01104736328125, -0.00372314453125, -0.0203857421875, 0.0078125, 0.07275390625, -0.0177001953125, -0.044921875, 0.0203857421875, 0.01904296875, -0.055908203125, -0.0322265625, -0.0498046875, 0.0203857421875, -0.01220703125, 0.01409912109375, -0.05712890625, 0.0106201171875, 0.01348876953125, 0.01165771484375, 0.06103515625, -0.0064697265625, 0.052978515625, -0.01092529296875, -0.0167236328125, 0.04638671875, -0.01611328125, 0.07177734375, 0.01953125, -0.028076171875, -0.0693359375, 0.03515625, -0.0157470703125, 0.052734375, 0.00579833984375, 0.01220703125, 0.0213623046875, 0.0177001953125, -0.0031890869140625, -0.0106201171875, -0.01708984375, 0.031494140625, -0.0269775390625, -0.043701171875, 0.0074462890625, -0.0322265625, 0.0135498046875, -0.043212890625, 0.050048828125, -0.04296875, -0.044921875, 0.03955078125, 0.0111083984375, -0.018310546875, 0.0048828125, -0.0213623046875, 0.007171630859375, 0.03662109375, -0.03955078125, -0.0439453125, 0.05224609375, -0.06298828125, 0.027099609375, 0.002899169921875, 0.027587890625, -0.00183868408203125, 0.007171630859375, -0.01409912109375, -0.04150390625, 0.0537109375, 0.003936767578125, -0.020751953125, -0.0341796875, -0.0025482177734375, 0.01251220703125, 0.0101318359375, 0.01104736328125, 0.0101318359375, -0.005767822265625, -0.01708984375, -0.0615234375, -0.06201171875, -0.0279541015625, 0.028564453125, -0.03271484375, 0.01251220703125, -0.0169677734375, -0.0289306640625, -0.03662109375, 0.01275634765625, -0.01904296875, -0.02587890625, 0.0245361328125, 0.060791015625, -0.00012302398681640625, 0.0179443359375, -0.018310546875, 0.035888671875, 0.0283203125, -0.0040283203125, -0.0169677734375, 0.0010223388671875, 0.037109375, 0.03466796875, 0.0250244140625, -0.0208740234375, 0.0228271484375, 0.0263671875, 0.04248046875, 0.0087890625, -0.03466796875, -0.01556396484375, -0.0167236328125, 0.0050048828125, -0.017333984375, 0.00201416015625, -0.0311279296875, -0.044921875, 0.0032958984375, 0.03466796875, 0.01507568359375, -0.03662109375, 0.013671875, -0.0035400390625, -0.06298828125, -0.01214599609375, 0.078125, -0.0230712890625, -0.0274658203125, -0.0301513671875, 0.00750732421875, -0.07421875, 0.020751953125, -0.0283203125, -0.0274658203125, 0.04541015625, -0.03173828125, 0.050048828125, -0.0301513671875, -0.035400390625, -0.00775146484375, 0.0771484375, -0.020751953125, 0.064453125, -0.009765625, -0.0032806396484375, -0.0030670166015625, -0.0103759765625, -0.031494140625, 0.000762939453125, -0.0220947265625, 0.0106201171875, 0.00396728515625, -0.00787353515625, 0.0216064453125, -0.060302734375, 0.019287109375, 0.02587890625, 0.050048828125, -0.0019073486328125, 0.01153564453125, 0.0203857421875, -0.03466796875, -0.006011962890625, -0.01708984375, 0.060302734375, -0.0250244140625, -0.0286865234375, 0.04248046875, 0.05908203125, 0.048583984375, -0.004730224609375, -0.0269775390625, 0.00775146484375, 0.00933837890625, -0.0439453125, -0.052978515625, 0.00531005859375, 0.0064697265625, -0.0045166015625, -0.015625, 0.0107421875, -0.01434326171875, 0.001373291015625, 0.027099609375, -0.00156402587890625, -0.017578125, -0.021484375, -0.02001953125, -0.023193359375, -0.0537109375, -0.032958984375, 0.021484375, -0.0137939453125, -0.050537109375, 0.046142578125, 0.01397705078125, 0.045166015625, 0.0283203125, 0.0107421875, 0.050048828125, -0.016357421875, 0.006927490234375, 0.0137939453125, 0.05517578125, -0.0341796875, 0.03466796875, 0.010986328125, -0.0274658203125, 0.006256103515625, -0.030517578125, -0.0341796875, 0.05517578125, 0.006256103515625, 0.064453125, -0.00191497802734375, 0.0194091796875, -0.0155029296875, 0.00579833984375, 0.0703125, -0.005096435546875, -0.0250244140625, 0.0213623046875, -0.03662109375, -0.0274658203125, -0.0281982421875, -0.056640625, -0.01190185546875, 0.01202392578125, 0.01708984375, -0.019775390625, -0.0262451171875, -0.005096435546875, 0.004852294921875, -0.0341796875, 0.016357421875, -0.0169677734375, -0.0164794921875, 0.03662109375, -0.0186767578125, -0.01263427734375, -0.0179443359375, -0.01806640625, -0.01123046875, 3.8623809814453125e-05, -0.046875, 0.01220703125, -0.0147705078125, -0.008544921875, 0.033447265625, 0.031494140625, -0.059814453125, -0.053466796875, 0.038330078125, -0.006591796875, -0.01495361328125, -0.014404296875, 0.048828125, 0.000675201416015625, -0.04443359375, 0.003662109375, 0.0245361328125, 0.00628662109375, -0.0244140625, -0.00836181640625, -0.0128173828125, 0.0045166015625, 0.0048828125, -0.0322265625, 0.03466796875, -0.00750732421875, -0.028076171875, -0.00173187255859375, 0.0277099609375, 0.017333984375, -0.01287841796875, -0.00775146484375, 0.03662109375, -0.0022735595703125, -0.0341796875, 0.04443359375, 0.03857421875, 0.0517578125, -0.0091552734375, 0.000606536865234375, 0.0230712890625, -0.004852294921875, -0.029296875, -0.00738525390625, -0.02197265625, -0.0257568359375, -0.0157470703125, -0.035888671875, -0.018310546875, -0.0238037109375, 0.03955078125, 0.039306640625, -0.017333984375, 0.0263671875, -0.002532958984375, -0.00787353515625, 0.055419921875, 0.00897216796875, 0.03955078125, -0.040283203125, -0.048828125, 0.00927734375, -0.0216064453125, -0.033447265625, -0.002960205078125, -0.072265625, -0.0263671875, -0.0546875, 0.018798828125, 0.04541015625, 0.0157470703125, -0.0062255859375, -0.0023193359375, -0.0242919921875, -0.03857421875, 0.053955078125, -0.00927734375, 0.01904296875, -0.01092529296875, 0.08642578125, -0.031494140625, -0.019287109375, 0.02587890625, 0.0086669921875, 0.01318359375, 0.01220703125, -0.02099609375, -0.050048828125, 0.019775390625, -0.05615234375, -0.01708984375, 0.025146484375, -0.0294189453125, -0.01202392578125, -0.0098876953125, 0.009765625, -0.000301361083984375, 0.005706787109375, -0.01171875, -0.0244140625, 0.03955078125, -0.00433349609375, 0.002288818359375, 0.0203857421875, 0.037109375, -0.00482177734375, 0.0177001953125, -0.0849609375, -0.024658203125, -0.01171875, 0.00823974609375, 0.01409912109375, 0.03857421875, 0.004638671875, 0.06298828125, -0.0050048828125, -0.039306640625, 0.0167236328125, 0.0234375, 0.040771484375, -0.040771484375, -0.004669189453125, 0.0264892578125, -0.009033203125, -0.053466796875, -0.01153564453125, -3.528594970703125e-05, 0.006591796875, 0.03076171875, 0.060302734375, 0.00177001953125, 0.07275390625, -0.039306640625, 0.00051116943359375, 0.01708984375, -0.052978515625, -0.04638671875, 0.05419921875, 0.0186767578125, 0.043212890625, 0.041748046875, -0.078125, 0.0164794921875, -0.06689453125, -0.01953125, 0.00433349609375, -0.018310546875, 0.048828125, 0.007781982421875, -0.036376953125, 0.00180816650390625, -0.033447265625, 0.021240234375, 0.0006561279296875, -0.0135498046875, 0.006256103515625, 0.0242919921875, -0.0203857421875, -0.048095703125, -0.00732421875, -0.0218505859375, 0.048828125, 0.00927734375, -0.01141357421875, 0.0150146484375, 0.042724609375, -0.043212890625, 0.028076171875, -0.0002384185791015625, -0.0098876953125, 0.0067138671875, 0.03515625, 0.046875, 0.0245361328125, -0.004638671875, -0.08984375, -0.01507568359375, 0.007080078125, -0.0118408203125, 0.000934600830078125, 0.04443359375, 0.021240234375, -0.0257568359375, 0.048828125, -0.005767822265625, 0.0244140625, -0.00022602081298828125, -0.043212890625, 0.0048828125, -0.02001953125, -0.0245361328125, -0.03466796875, 0.0137939453125, -0.00011539459228515625, -0.068359375, 0.017333984375, 0.031005859375, 0.0322265625, -0.07861328125, -0.0283203125, -0.027099609375, -0.0031280517578125, -0.00152587890625, 0.0026702880859375, 0.0224609375, -0.0341796875, 0.0022125244140625, -0.00946044921875, -0.005615234375, 0.02880859375, 0.000102996826171875, -0.01373291015625, -0.021240234375, -0.00095367431640625, 0.031005859375, -0.046142578125, -0.030517578125, -0.043701171875, -0.015380859375, -0.0286865234375, -0.0269775390625, 0.058837890625, 0.009765625, -0.0206298828125, -0.0634765625, 0.004791259765625, 0.00506591796875, -0.033447265625, 0.03173828125, 0.033447265625, -0.0230712890625, 0.00201416015625, -0.0186767578125, 0.0213623046875, -0.0262451171875, 0.0238037109375, -0.038818359375, -0.05224609375, -0.00628662109375, -0.0213623046875, -0.01092529296875, 0.015869140625, -0.04248046875, 0.0654296875, 0.03125, 0.044921875, 0.0269775390625, -0.018310546875, 0.008056640625, 0.04248046875, 0.0262451171875, -0.0146484375, -0.02392578125, -0.00885009765625, 0.0693359375, 0.056640625, 0.057861328125, 0.0027313232421875, -0.037841796875, 0.003570556640625, -0.03662109375, -0.0654296875, -0.0439453125, 0.00823974609375, 0.00823974609375, -0.015625, -0.01318359375, 0.026123046875, 0.041748046875, -0.0400390625, -0.0167236328125, -0.03955078125, -0.028076171875, -0.005035400390625, -0.015625, -0.035400390625, 0.03955078125, -0.031494140625, 0.038330078125, -0.00506591796875, 0.01470947265625, -0.002044677734375, -0.0194091796875, -0.039306640625, 0.0322265625, -0.0299072265625, 0.0257568359375, 0.00396728515625, 0.033447265625, -0.053955078125, 0.036376953125, -0.006561279296875, -0.00885009765625, -0.05908203125, 0.0908203125, -0.0028076171875, -0.007232666015625, -0.0250244140625, 0.010498046875, -0.0361328125, -0.006927490234375, -0.0087890625, 0.000751495361328125, 0.0147705078125, -0.0301513671875, -0.00408935546875, -0.007080078125, 0.01348876953125, -0.0267333984375, -0.051513671875, -0.0086669921875, -0.020263671875, -0.0086669921875, 0.003265380859375, 0.021240234375, -0.01287841796875, -0.0072021484375, 0.0028228759765625, -0.01348876953125, 0.052734375, -0.0157470703125, -0.0498046875, -0.033447265625, -0.02001953125, -0.03271484375, -0.040283203125, -0.030029296875, 0.08740234375, 0.0181884765625, 0.0087890625, 0.0240478515625, -0.0262451171875, -0.0281982421875, -0.00640869140625, 0.017333984375, -0.004547119140625, 0.03955078125, 0.0001468658447265625, -0.0032806396484375, 0.0311279296875, 0.030029296875, 0.01611328125, -0.0322265625, 0.01092529296875, -0.0218505859375, 0.05859375, -0.001251220703125, 0.02685546875, -0.0213623046875, 0.026123046875, 0.05615234375, -0.05517578125, -0.0257568359375, -0.00164794921875, 0.04541015625, 0.01458740234375, -0.01165771484375, 0.017333984375, 0.0244140625, -0.01007080078125, 0.025146484375, 0.0228271484375, -0.06103515625, -0.0257568359375, 0.0074462890625, -0.00885009765625, -0.00970458984375, 0.0177001953125, 0.00836181640625, -0.0067138671875, -0.015869140625, -0.045654296875, 0.05712890625, -0.019775390625, -0.0301513671875, -0.01953125, 0.0654296875, -0.03857421875, -0.01019287109375, 0.04296875, 0.007354736328125, -0.0250244140625, 0.035888671875, 0.02001953125, -0.051513671875, 0.068359375, 0.006927490234375, -0.01043701171875, -0.0101318359375, 0.002288818359375, -0.01446533203125, 0.0079345703125, -0.0478515625, -0.01220703125, -0.056640625, 5.1021575927734375e-05, 0.01220703125, -0.048828125, 0.0277099609375, -0.05615234375, 0.0294189453125, 0.04248046875, 0.0036773681640625, -0.0155029296875, -0.01470947265625, -0.036376953125, 0.037109375, 0.029541015625, -0.046142578125, 0.025146484375, -0.01165771484375, 0.056640625, -0.0245361328125, -0.000644683837890625, 0.03955078125, 0.01190185546875, 0.0118408203125, 0.005859375, -0.048583984375, 0.02734375, 0.0245361328125, -0.0164794921875, -0.038330078125, 0.0498046875, 0.024658203125, 0.0267333984375, 0.00144195556640625, 0.0167236328125, -0.04638671875, -0.03515625, -0.046142578125, -0.04248046875, 0.05859375, -0.021240234375, -0.021240234375, 0.05517578125, 0.0068359375, 0.01324462890625, -0.022216796875, 0.0137939453125, 0.01953125, -0.03759765625, -0.048828125, -0.003662109375, -0.046142578125, 0.05859375, -0.0026092529296875, -0.01031494140625, -0.03857421875, 0.0034332275390625, -0.001007080078125, 0.02197265625, -0.01263427734375, -0.018798828125, 0.018798828125, 0.035400390625, -0.0238037109375, 0.0230712890625, -0.00897216796875, 0.0023345947265625, -0.005096435546875, -0.02685546875, 0.0177001953125, 0.023681640625, 0.004791259765625, 0.020263671875, 0.00836181640625, -0.01611328125, -0.02001953125, 0.01153564453125, -0.0096435546875, 0.01348876953125, -0.0179443359375, -0.03857421875, -0.0286865234375, -0.027587890625, -0.005950927734375, -0.03125, 0.078125, 0.0048828125, -0.041748046875, -0.0002613067626953125, -0.028564453125, 0.010009765625, 0.0067138671875, -0.031005859375, -0.035400390625, 0.0115966796875, 0.00063323974609375, -0.0072021484375, 0.064453125, -0.005615234375, -0.0341796875, 0.023193359375, 0.03857421875, -0.04248046875, 0.0234375, -0.003936767578125, 0.01416015625, -0.052734375, 0.0189208984375, -0.0322265625, -0.037353515625, 0.03955078125, -0.0341796875, 0.01171875, -0.00168609619140625, -0.0322265625, -0.02734375, 0.0216064453125, -0.018798828125, -0.0654296875, -0.04296875, 0.035888671875, -0.033935546875, -0.0341796875, 0.076171875, -0.048583984375, 0.004180908203125, 0.00408935546875, 0.0076904296875, 0.01068115234375, 0.0208740234375, -0.01336669921875, -0.01611328125, 0.002288818359375, -0.01416015625, -0.0201416015625, -0.0013427734375, 0.031494140625, 0.060302734375, 0.03173828125, -0.0137939453125, -0.028564453125, 0.064453125, 0.052490234375, -0.00592041015625, 0.00433349609375, -0.046142578125, 0.03466796875, 0.087890625, 0.0341796875, -0.00188446044921875, -0.03857421875, -0.04931640625, -0.0286865234375, 0.050048828125, -0.002288818359375, -0.02734375, 0.0257568359375, 0.00138092041015625, 0.0196533203125, -0.00732421875, 0.02001953125, -0.03076171875, -0.0263671875, -0.0191650390625, -0.035400390625, 0.01019287109375, 0.033935546875, -0.0208740234375, -0.052734375, -0.06103515625, -0.006927490234375, -0.0017852783203125, 0.012451171875, 0.0115966796875, 0.0128173828125, -0.051025390625, 0.00457763671875, 0.03759765625, -0.072265625, -0.051025390625, -0.0167236328125, -0.0177001953125, -0.0035400390625, 0.0031280517578125, -0.01385498046875, 0.017333984375, 0.06298828125, -0.021240234375, 0.01123046875, 0.0341796875, -0.037353515625, -0.019775390625, -0.0289306640625, -0.0194091796875, -0.0177001953125, 0.01458740234375, -0.0283203125, -0.0341796875, 0.0208740234375, -0.0011444091796875, 0.0011749267578125, 0.031005859375, -0.03076171875, -0.002349853515625, 0.046875, -0.00836181640625, -0.0034332275390625, -0.052734375, 0.09033203125, 0.003143310546875, 0.00164794921875, -0.003509521484375, -0.0263671875, -0.02392578125, 0.0250244140625, 0.037353515625, 0.0033721923828125, 0.06689453125, -0.0086669921875, 0.00173187255859375, 0.05859375, 0.04541015625, 0.0250244140625, -0.033447265625, 0.01220703125, -0.01153564453125, -0.033447265625, 0.004119873046875, -0.03466796875, -0.053466796875, 0.0240478515625, 0.064453125, 0.01019287109375, 0.01214599609375, 0.0218505859375, -0.016357421875, -0.03955078125, 0.041259765625, 0.0128173828125, -0.056640625, 0.0113525390625, 0.04931640625, -0.00909423828125, 0.000579833984375, 0.018798828125, 0.0167236328125, -0.0595703125, 0.06689453125, 0.054931640625, -0.0115966796875, -0.0042724609375, -0.03076171875, 0.04052734375, 0.03955078125, 0.0142822265625, -0.0218505859375, 0.0252685546875, -0.033447265625, 0.00506591796875, -0.00439453125, 0.0208740234375, 0.029541015625, 0.0032958984375, 0.015625, 0.0252685546875, -0.0179443359375, 0.01141357421875, 0.00775146484375, 0.0179443359375, 0.0771484375, 0.019775390625, -0.0230712890625, 0.028564453125, -0.050048828125, 0.00531005859375, 0.0294189453125, 0.012939453125, 0.0286865234375, -0.0303955078125, 0.046875, 0.0086669921875, 0.007232666015625, -0.005950927734375, -0.0238037109375, -0.01275634765625, 0.038330078125, 0.00701904296875, -0.04296875, -0.00567626953125, -0.00457763671875, 0.064453125, 0.0361328125, -0.01141357421875, 0.035888671875, 0.013671875, 0.020263671875, -0.03125, 0.001861572265625, 0.0181884765625, 0.002777099609375, -0.0245361328125, -0.0255126953125, -0.009521484375, -0.08740234375, -0.0086669921875, -0.0303955078125, 0.00360107421875, 0.00142669677734375, -0.035888671875, 0.03662109375, -0.00238037109375, 0.018310546875, 0.0036163330078125, 0.0186767578125, 0.00396728515625, -0.0283203125, 0.02197265625, -0.037109375, -0.0240478515625, -0.010009765625, -0.028076171875, -0.03515625, 0.028564453125, -0.046875, -0.0218505859375, -0.0400390625, 0.01708984375, 0.040771484375, -0.05224609375, 0.0230712890625, 0.06591796875, -0.04296875, -0.0274658203125, -0.06591796875, -0.0098876953125, 0.005950927734375, 0.004913330078125, 0.0771484375, -0.033447265625, -0.0267333984375, 0.0224609375, -0.052978515625, 0.0040283203125, 0.0038299560546875, -0.00531005859375, 0.00408935546875, -0.051513671875, -0.01324462890625, -0.046142578125, -0.039306640625, 0.00567626953125, -0.056640625, 0.015625, -0.00836181640625, -0.01336669921875, -0.021240234375, -0.039306640625, 0.025634765625, 0.00433349609375, -0.021484375, 0.0250244140625, -0.001617431640625]}, {"key": "data/images/21.png", "width": 1786, "height": 2526, "embedding": [0.0380859375, 0.01336669921875, 0.037109375, -0.0022735595703125, -0.032958984375, 0.017333984375, 0.055908203125, -0.004058837890625, 0.03759765625, -0.0264892578125, 0.02197265625, 0.0177001953125, 0.0238037109375, 0.0120849609375, -0.03271484375, -0.0247802734375, 0.03271484375, 0.019287109375, -0.010498046875, -0.0286865234375, -0.0115966796875, 0.050537109375, -0.029052734375, 0.0076904296875, 0.050537109375, 0.0205078125, -0.0439453125, -0.0113525390625, -0.00946044921875, 0.041015625, 0.003509521484375, -0.058349609375, -0.024658203125, 0.037841796875, -0.021484375, 0.046630859375, -0.036376953125, 0.01300048828125, 0.02587890625, -0.0225830078125, -0.033447265625, -0.03955078125, -0.006317138671875, 0.06396484375, 0.0498046875, 0.00151824951171875, 0.032470703125, 0.003753662109375, -0.02685546875, 0.037841796875, -0.00732421875, 0.0419921875, 0.06396484375, 0.0108642578125, -0.06640625, -0.018310546875, -0.048828125, 0.05810546875, 0.004486083984375, 0.019775390625, 0.00188446044921875, -0.01025390625, -0.01336669921875, 0.01483154296875, -0.031982421875, 0.019775390625, -0.02001953125, -0.046142578125, 0.0341796875, -0.10302734375, -0.0216064453125, -0.0439453125, 0.05615234375, -0.0301513671875, -0.01202392578125, -0.025146484375, 0.01324462890625, -0.013916015625, -0.01483154296875, -0.044921875, -0.0341796875, 0.0517578125, -0.037841796875, -0.038818359375, -0.0238037109375, -0.1083984375, 0.015380859375, -0.02978515625, -0.0030517578125, -0.0439453125, 0.012939453125, -0.0167236328125, -0.009521484375, 0.03759765625, 0.029296875, 0.00086212158203125, -0.0111083984375, -0.03271484375, 0.0216064453125, -0.00738525390625, 0.0108642578125, 0.050537109375, 0.017333984375, -0.009765625, -0.076171875, 0.00750732421875, -0.0113525390625, 0.01007080078125, 0.010498046875, -0.0111083984375, 0.033447265625, -0.05419921875, 0.0024261474609375, 0.0263671875, -0.058349609375, 0.00927734375, 0.000701904296875, 0.07177734375, -0.01153564453125, 0.008544921875, -0.021484375, 0.044189453125, -0.0050048828125, -0.0263671875, -0.03125, 0.0137939453125, 0.0439453125, 0.0213623046875, -0.01953125, -0.05029296875, -0.0004062652587890625, -0.01904296875, 0.053466796875, -0.055908203125, -0.057373046875, -0.006317138671875, -0.0255126953125, 0.0322265625, -0.0380859375, -0.044921875, 0.0164794921875, -0.032470703125, -0.01904296875, -0.017333984375, 0.0023193359375, 0.01507568359375, 0.02197265625, -0.0791015625, -0.05810546875, 0.037841796875, 0.07568359375, -0.038330078125, -0.00799560546875, -0.037353515625, 0.01446533203125, -0.0546875, 0.083984375, -0.00897216796875, -0.0135498046875, 0.05859375, 0.005218505859375, 0.0556640625, 0.009521484375, -0.0264892578125, -0.025146484375, 0.0201416015625, -0.0185546875, 0.07568359375, 0.0025787353515625, 0.0185546875, 0.046630859375, 0.0308837890625, -0.017578125, 0.006317138671875, -0.037841796875, 0.0002269744873046875, 0.0052490234375, 0.0216064453125, 0.06005859375, -0.03125, 0.0269775390625, 0.005950927734375, 0.0260009765625, -0.0194091796875, -0.0181884765625, 0.05029296875, -0.029052734375, -0.00042724609375, 0.042724609375, 0.03466796875, 0.0086669921875, -0.043212890625, 0.012451171875, 0.046630859375, 0.05029296875, -0.002349853515625, 0.00946044921875, 0.033447265625, 0.062255859375, 0.033447265625, -0.01336669921875, -0.00830078125, 0.012451171875, 0.003753662109375, -0.006988525390625, 0.016357421875, -0.033447265625, 0.0211181640625, 0.0074462890625, 0.016357421875, -0.010009765625, -0.0179443359375, 0.041259765625, -0.013916015625, -0.042724609375, -0.03515625, 0.044189453125, 0.00433349609375, 0.0054931640625, 0.044921875, 0.050537109375, 0.01129150390625, 0.045166015625, -0.001708984375, 0.0225830078125, -0.015625, -0.0115966796875, 0.000888824462890625, 0.008544921875, -0.02734375, -0.0145263671875, 0.02001953125, -0.0201416015625, 0.00160980224609375, 0.02001953125, -0.005706787109375, 0.01239013671875, -0.02978515625, 0.024658203125, -0.021484375, 0.03515625, 0.0004520416259765625, 0.024169921875, 0.0537109375, -0.032958984375, 0.01300048828125, 0.0194091796875, -0.04345703125, 0.0004825592041015625, 0.00115966796875, -0.029296875, -0.00811767578125, 0.00836181640625, 0.0242919921875, -0.01708984375, -0.044921875, 0.0108642578125, 0.0159912109375, -0.0186767578125, 0.0255126953125, 0.02099609375, -0.0625, 0.06298828125, -0.0186767578125, -0.00323486328125, -0.01055908203125, -0.01202392578125, 0.046630859375, 0.06494140625, 0.01324462890625, 0.008544921875, -0.04931640625, -0.029052734375, 0.054931640625, 0.0208740234375, -0.0267333984375, -0.029052734375, -0.0022125244140625, -0.0203857421875, 0.004150390625, -0.02587890625, 0.01336669921875, -0.01202392578125, 0.0086669921875, -0.0263671875, 0.0257568359375, -0.0264892578125, -0.0087890625, 0.02197265625, -0.0074462890625, 0.019775390625, 0.033935546875, -0.0019989013671875, 0.047119140625, -0.024658203125, 0.005950927734375, 0.030517578125, 0.025146484375, 0.01904296875, -0.055908203125, 0.006744384765625, 0.0732421875, 0.00014400482177734375, 0.01055908203125, 0.02734375, -0.01153564453125, -0.01019287109375, 0.004425048828125, -0.02587890625, -0.03271484375, 0.036865234375, 0.007781982421875, -0.0177001953125, -0.01531982421875, -0.042724609375, 0.0167236328125, -0.04931640625, 0.002410888671875, 0.0260009765625, 0.0269775390625, 0.025390625, 0.01373291015625, 0.0086669921875, 0.005645751953125, -0.0255126953125, 0.0205078125, 0.008544921875, 0.0108642578125, -0.0211181640625, -0.023681640625, -0.0194091796875, -0.0230712890625, -0.022216796875, -0.003753662109375, -0.040283203125, -0.0308837890625, -0.0238037109375, 0.004852294921875, 0.0150146484375, 0.033935546875, -0.00093841552734375, -0.00714111328125, -0.0262451171875, -0.032470703125, -0.01153564453125, -0.06689453125, 0.02001953125, 0.0201416015625, 0.078125, -0.0098876953125, 0.0240478515625, 0.06689453125, 0.01513671875, -0.0013885498046875, 0.0625, -0.0546875, -0.04931640625, 0.02734375, 0.0032196044921875, -0.010986328125, -0.0035247802734375, 0.0004367828369140625, 0.00040435791015625, -0.024169921875, -0.02587890625, 0.00848388671875, 0.023193359375, -0.0263671875, -0.035400390625, 0.052734375, -0.037353515625, 0.01904296875, -0.053466796875, 0.032958984375, 0.00836181640625, 0.0179443359375, -0.03955078125, -0.005950927734375, 0.01458740234375, 0.019775390625, -0.053466796875, 0.00555419921875, -0.01312255859375, 0.06396484375, -0.00909423828125, -0.027099609375, 0.09619140625, 0.053955078125, 0.005157470703125, -0.0125732421875, -0.0017547607421875, 0.02734375, -0.0205078125, -0.041748046875, 0.0159912109375, 0.01708984375, -0.005126953125, 0.022705078125, 0.05712890625, 0.02099609375, 0.042724609375, -0.0284423828125, 0.05615234375, -0.0159912109375, -0.037353515625, -0.033447265625, 0.03369140625, 0.0537109375, 0.006317138671875, 0.0341796875, -0.037841796875, 0.0439453125, -0.036865234375, -0.0255126953125, 0.001220703125, -0.005615234375, 0.04931640625, 0.01397705078125, -0.01123046875, 0.01397705078125, 0.01080322265625, 0.0098876953125, 0.005279541015625, 0.04345703125, 0.01019287109375, 0.0267333984375, 0.00714111328125, 1.5974044799804688e-05, -0.004058837890625, 0.007049560546875, 0.01129150390625, -0.0068359375, -0.0098876953125, 0.05712890625, -0.005889892578125, -0.0247802734375, 0.023193359375, 0.03369140625, -0.0191650390625, -0.00262451171875, 0.015380859375, 0.010986328125, 0.0289306640625, 0.00885009765625, -0.025390625, -0.028564453125, -0.0142822265625, -0.005767822265625, 0.017578125, 0.031494140625, 0.03955078125, -0.0169677734375, 0.0211181640625, 0.049560546875, 0.0064697265625, 0.03662109375, -0.05859375, -0.0167236328125, 0.005828857421875, -0.0233154296875, -0.056884765625, 0.003997802734375, 0.0191650390625, -0.0126953125, 0.021728515625, 0.0093994140625, -0.01458740234375, -0.040771484375, -0.0205078125, -0.0086669921875, 0.0031585693359375, -0.025390625, 0.04931640625, 0.01483154296875, -0.0002384185791015625, 0.013427734375, 0.01556396484375, -0.0693359375, -0.0225830078125, -0.0341796875, -0.0025482177734375, 0.0013427734375, -0.007659912109375, 0.04736328125, -0.06591796875, 0.0054931640625, -0.010986328125, -0.0031585693359375, 0.0439453125, -0.01055908203125, 0.0267333984375, -0.022216796875, -0.0191650390625, -0.07177734375, 0.004486083984375, -0.0230712890625, 0.00384521484375, -0.0010223388671875, 0.038818359375, 0.007568359375, 0.0002574920654296875, -0.003753662109375, 0.0025177001953125, 0.00885009765625, -0.0005950927734375, -0.05859375, -0.053955078125, 0.007171630859375, -0.01336669921875, -0.054931640625, 0.0247802734375, -0.061767578125, 0.0166015625, -0.021484375, 0.028564453125, -0.01348876953125, -0.01141357421875, -0.003570556640625, 0.043212890625, 0.0262451171875, -0.0216064453125, -0.019775390625, 0.0274658203125, 0.0211181640625, 0.03955078125, 0.08349609375, -0.004730224609375, 0.0023956298828125, -0.0400390625, -0.04638671875, -0.029052734375, 0.01025390625, 0.041748046875, 0.0022430419921875, 0.00787353515625, -0.01904296875, 0.005706787109375, -0.0111083984375, -0.047607421875, 0.0047607421875, -0.0244140625, 0.0115966796875, -0.047607421875, -0.050537109375, -0.0230712890625, 0.038330078125, -0.04736328125, 0.0673828125, -0.0205078125, -0.00811767578125, 0.01708984375, -0.00811767578125, -0.0257568359375, 0.030517578125, 0.0032806396484375, 0.03466796875, 0.005279541015625, 0.0400390625, -0.0289306640625, 0.027099609375, -0.0537109375, 0.03125, -0.0439453125, 0.032958984375, 0.005706787109375, 0.0142822265625, -0.01129150390625, -0.0084228515625, -0.012939453125, 0.007781982421875, 0.017578125, -0.016845703125, -0.0028228759765625, -0.02734375, 0.008056640625, 0.010498046875, -0.02001953125, -0.01708984375, 0.002838134765625, -0.042724609375, -0.01544189453125, 0.0238037109375, -0.0341796875, 0.005126953125, -0.047119140625, 0.0703125, 0.007568359375, 0.0252685546875, 0.0220947265625, -0.031982421875, -0.00433349609375, -0.0164794921875, 0.021484375, -0.0038604736328125, -0.0126953125, -0.0126953125, 0.045166015625, -0.0205078125, 0.008056640625, 0.05712890625, -0.01129150390625, -0.06640625, 0.033203125, 0.0067138671875, 0.01611328125, 0.033447265625, 0.0025634765625, 0.0255126953125, 0.041015625, 0.053466796875, 0.052490234375, -0.03271484375, -0.031494140625, 0.00933837890625, 0.0201416015625, 0.0146484375, -0.014892578125, -0.00250244140625, 0.00799560546875, 0.0703125, -0.057861328125, -0.0279541015625, 0.0257568359375, 0.04638671875, -0.0162353515625, -0.022216796875, -0.0003376007080078125, -0.01953125, -0.042724609375, -0.032470703125, 0.00141143798828125, -0.0341796875, -0.005828857421875, -0.0203857421875, -0.0167236328125, -0.0211181640625, 0.01336669921875, -0.0177001953125, -0.017333984375, 0.006317138671875, -0.07177734375, 0.030029296875, -0.037109375, 0.051025390625, 0.00958251953125, 0.0206298828125, -0.0244140625, 0.01434326171875, 0.003387451171875, 0.003662109375, -0.037353515625, 0.009521484375, -0.0205078125, -0.0152587890625, 0.05712890625, 0.005279541015625, 0.00112152099609375, -0.025146484375, 0.0036163330078125, 0.0026397705078125, -0.0001201629638671875, -0.0167236328125, -0.0244140625, -0.0211181640625, -8.678436279296875e-05, -0.0169677734375, -0.0311279296875, -0.0054931640625, -0.09765625, 0.035400390625, 0.0693359375, -0.050537109375, 0.004180908203125, -0.006683349609375, 0.0033111572265625, 0.06005859375, 0.0014495849609375, -0.0439453125, -0.031494140625, -0.013671875, 0.043212890625, 0.01300048828125, 0.01348876953125, 0.00579833984375, -0.0179443359375, -0.007415771484375, -0.0118408203125, -0.015625, 0.046630859375, 0.04541015625, -0.002044677734375, -0.03662109375, 0.0032196044921875, 0.042236328125, 0.052978515625, 0.029541015625, 0.005828857421875, -0.0380859375, -0.015625, -0.06494140625, -0.035400390625, 0.00946044921875, -0.033203125, 0.028564453125, 0.0498046875, -0.0279541015625, -0.0184326171875, 0.037841796875, 0.017333984375, -0.0281982421875, -0.037109375, -0.0186767578125, -0.0054931640625, -0.02197265625, 0.01397705078125, -0.015625, -0.00274658203125, -0.0179443359375, -0.059326171875, 0.019775390625, -0.00579833984375, -0.01190185546875, 0.01422119140625, -0.005950927734375, 0.03271484375, -0.0498046875, -0.0267333984375, -0.006103515625, -0.035400390625, 0.01080322265625, -0.0306396484375, 0.024169921875, 0.05078125, 0.013671875, 0.0308837890625, 0.00885009765625, -0.033203125, -0.02734375, 0.01141357421875, -0.002166748046875, -0.010498046875, 0.006988525390625, 0.0107421875, -0.02587890625, 0.00897216796875, -0.036865234375, -0.038818359375, -0.01318359375, 0.0086669921875, 0.01019287109375, -0.0084228515625, 0.0179443359375, -0.037109375, 0.0042724609375, -0.0296630859375, -0.02197265625, 0.035888671875, 0.037353515625, -0.01104736328125, -0.023681640625, 0.014892578125, -0.0022125244140625, 0.02685546875, 0.0203857421875, -0.05908203125, 0.03369140625, 0.000858306884765625, 0.010986328125, -0.03955078125, 0.03125, -0.08154296875, -0.0162353515625, 0.022705078125, -0.057373046875, -0.01312255859375, 0.0252685546875, -0.021484375, 0.0181884765625, 0.0279541015625, 0.03857421875, -0.03662109375, -0.004180908203125, 0.0400390625, -0.00341796875, -0.056884765625, 0.045654296875, -0.06494140625, 0.0263671875, 0.00177764892578125, 0.03759765625, -0.007537841796875, -0.00069427490234375, 0.006195068359375, -0.005615234375, 0.052734375, 0.0028228759765625, -0.0126953125, -0.0010986328125, 0.00244140625, 0.0537109375, 0.019775390625, -0.00250244140625, -0.037109375, 0.0419921875, 0.051025390625, -0.0026702880859375, -0.036865234375, -0.0308837890625, 0.0017852783203125, 0.09228515625, 0.022705078125, -0.0186767578125, -0.06396484375, -0.05029296875, -0.04541015625, -0.0135498046875, -0.0257568359375, 0.0284423828125, 0.02734375, -0.02783203125, 0.0311279296875, 0.052001953125, 0.05712890625, -0.038330078125, -0.00144195556640625, -0.03955078125, -0.0211181640625, -0.035888671875, 0.00885009765625, -0.05615234375, -0.0301513671875, -0.07421875, -0.00390625, 0.047119140625, -0.01904296875, 0.032470703125, 0.0240478515625, -0.025146484375, 0.01904296875, 0.0238037109375, -0.005828857421875, -0.01239013671875, -0.0186767578125, -0.01123046875, -0.01080322265625, 0.030517578125, -0.007781982421875, -0.01397705078125, 0.04443359375, -0.0693359375, 0.0126953125, 0.027587890625, -0.0028076171875, -0.019775390625, -0.00933837890625, -0.0194091796875, -0.0595703125, 0.0113525390625, 0.0184326171875, 0.00616455078125, 0.032958984375, -0.01080322265625, 0.01446533203125, 0.015625, 0.00799560546875, -0.041015625, 0.053466796875, 0.01397705078125, 0.01214599609375, -0.0142822265625, 0.0439453125, -0.0439453125, -0.010986328125, 0.028076171875, -0.031982421875, -0.006866455078125, 0.033935546875, 0.0111083984375, 0.04736328125, 0.06396484375, 0.00933837890625, -0.01708984375, 0.06640625, 0.07177734375, 0.033935546875, -0.0439453125, 0.0262451171875, -0.0233154296875, -0.0498046875, 0.01458740234375, 0.027587890625, -0.01043701171875, 0.00909423828125, 0.06298828125, 0.0126953125, 0.01055908203125, 0.03173828125, -0.003997802734375, -0.0537109375, 0.050537109375, -0.01129150390625, -0.0126953125, 0.00799560546875, 0.005706787109375, 0.0185546875, -0.0419921875, 0.003662109375, -0.024658203125, -0.06005859375, 0.0673828125, 0.023193359375, -0.000659942626953125, -0.01446533203125, -0.057373046875, 0.01165771484375, 0.010009765625, 0.00274658203125, -0.0262451171875, 0.014892578125, -0.0189208984375, -0.043212890625, -0.0018768310546875, -0.01043701171875, 0.01055908203125, 0.0029754638671875, 0.021484375, -0.005279541015625, -0.0216064453125, 0.008544921875, -0.00848388671875, -0.00830078125, -0.006317138671875, 0.00787353515625, -0.022216796875, 0.00885009765625, -0.047119140625, -0.0291748046875, 0.07080078125, 0.04736328125, 0.00958251953125, 0.024658203125, -0.007171630859375, -0.05712890625, 0.00726318359375, -0.0038299560546875, 0.0166015625, 0.045166015625, 0.0150146484375, -0.057861328125, -0.00016307830810546875, 0.031982421875, -0.056884765625, 0.0064697265625, 0.0205078125, -0.0038299560546875, 0.03466796875, 0.0224609375, 0.01129150390625, -0.007568359375, 0.0194091796875, 0.03466796875, -0.031494140625, -0.018310546875, -0.01708984375, 0.0087890625, -0.0179443359375, -0.0240478515625, -0.033935546875, -0.02587890625, -0.047607421875, -0.0306396484375, -0.0108642578125, -0.008544921875, -0.017333984375, 0.010009765625, 0.0091552734375, -0.041259765625, 0.02001953125, 0.01263427734375, 0.0098876953125, -0.013916015625, -0.0279541015625, -0.01513671875, -0.01177978515625, 0.003997802734375, -0.035400390625, -0.0096435546875, -0.053466796875, -0.000377655029296875, 0.0007781982421875, -0.0203857421875, 0.007659912109375, 0.042724609375, -0.08349609375, -0.052001953125, -0.0189208984375, -0.01239013671875, 0.0189208984375, -0.06494140625, 0.03955078125, -0.047119140625, -0.030029296875, 0.01507568359375, -0.06640625, 0.018798828125, -0.00921630859375, -0.0230712890625, -0.00634765625, 0.0113525390625, -0.047607421875, 0.031982421875, 0.0068359375, -0.0017242431640625, -0.01165771484375, 0.01300048828125, -0.032958984375, 0.0033416748046875, -0.01239013671875, 0.03466796875, 0.0615234375, 0.0291748046875, 0.0341796875, 0.005126953125, 0.00616455078125]}, {"key": "data/images/22.png", "width": 1786, "height": 2526, "embedding": [0.0059814453125, 0.0035552978515625, 0.06689453125, -0.0439453125, -0.01953125, 0.001007080078125, -0.0074462890625, -0.041259765625, -0.01165771484375, -0.0244140625, 0.0133056640625, -0.00604248046875, -0.00811767578125, -0.0218505859375, -0.00299072265625, -0.017822265625, -0.0133056640625, 0.03271484375, 0.01263427734375, -0.0216064453125, -0.014404296875, 0.0220947265625, -0.022705078125, 0.00860595703125, 0.031494140625, 0.0096435546875, 0.0074462890625, -0.0238037109375, 0.032958984375, 0.07421875, -0.02587890625, -0.036376953125, 0.00860595703125, 0.0286865234375, -0.049072265625, -0.01519775390625, -0.0067138671875, 0.02587890625, 0.0228271484375, 0.054443359375, -0.025146484375, -0.0634765625, 0.009033203125, 0.0625, 0.024658203125, -0.0272216796875, 0.006072998046875, -0.000804901123046875, -0.0137939453125, -0.01190185546875, 0.00567626953125, 0.036865234375, 0.01300048828125, 0.0235595703125, -0.031494140625, 0.037841796875, -0.0235595703125, 0.034423828125, -0.0213623046875, 0.0118408203125, -0.0390625, 0.010986328125, -0.0458984375, 0.03125, -0.022216796875, 0.0174560546875, 0.0166015625, -0.06005859375, 0.0198974609375, -0.07568359375, 0.00653076171875, -0.037841796875, 0.06982421875, -0.035400390625, -0.0169677734375, 0.0281982421875, 0.03564453125, -0.037841796875, -0.037841796875, -0.007110595703125, -0.007293701171875, 0.01434326171875, -0.0162353515625, -0.05078125, -0.01019287109375, -0.06982421875, 0.01318359375, -0.000568389892578125, 0.036865234375, -0.0390625, 0.001617431640625, 0.0012664794921875, -0.0223388671875, 0.0213623046875, 0.03125, -0.00360107421875, -0.0064697265625, -0.0235595703125, 0.01092529296875, -0.00274658203125, 0.01153564453125, 0.0303955078125, 0.0013885498046875, 0.006500244140625, -0.0693359375, -0.07421875, -0.0286865234375, -0.0089111328125, -0.036376953125, 0.0057373046875, -0.003753662109375, -0.036865234375, -0.006439208984375, 0.0033416748046875, -0.0277099609375, -0.046630859375, -0.027587890625, 0.0267333984375, -0.000728607177734375, -0.0081787109375, -0.03564453125, 0.051513671875, 0.0235595703125, -0.0284423828125, -0.03076171875, -0.002838134765625, 0.03076171875, -0.00022029876708984375, -0.050048828125, -0.004302978515625, 0.0196533203125, -0.00299072265625, 0.048583984375, -0.00048828125, -0.043212890625, 0.01055908203125, -0.0322265625, -0.034912109375, -0.03955078125, -0.007476806640625, -0.001220703125, -0.0184326171875, 0.028076171875, -0.02294921875, -0.0137939453125, 0.05224609375, 0.04833984375, -0.0303955078125, -0.036865234375, 0.0184326171875, 0.0751953125, -0.034912109375, -0.0233154296875, -0.00139617919921875, -0.0181884765625, -0.044677734375, 0.055419921875, 0.0023956298828125, -0.01397705078125, 0.046630859375, 0.004730224609375, 0.05322265625, -0.03271484375, -0.0289306640625, 0.00921630859375, 0.019287109375, 0.00860595703125, 0.064453125, 0.047119140625, -0.005340576171875, 0.02880859375, -0.005401611328125, -0.003448486328125, 0.03271484375, -0.025634765625, -0.015380859375, -0.0137939453125, 0.007293701171875, 0.0036163330078125, -0.0072021484375, -0.01129150390625, 0.0169677734375, 0.039306640625, -0.0021514892578125, -0.0169677734375, 0.00872802734375, -0.01287841796875, 0.020751953125, 0.0277099609375, 0.056640625, 0.037109375, -0.0233154296875, -0.0198974609375, 0.054443359375, 0.0830078125, 0.0281982421875, -0.004180908203125, -0.0047607421875, 0.00994873046875, 0.06005859375, -0.052978515625, -0.01495361328125, -0.0205078125, 0.015869140625, -0.05322265625, -0.02880859375, -0.0162353515625, 0.0211181640625, 0.0341796875, -0.032958984375, -0.037841796875, -0.002166748046875, 0.064453125, 0.001678466796875, -0.0966796875, -0.087890625, 0.0238037109375, -0.009033203125, -0.020263671875, 0.07275390625, 0.039306640625, 0.004638671875, 0.032470703125, 0.0205078125, 0.0537109375, -0.0181884765625, -0.004058837890625, 0.0162353515625, 0.042724609375, -0.04052734375, 0.020751953125, 0.0198974609375, 0.0059814453125, -0.007293701171875, -0.01611328125, -0.003326416015625, 0.0216064453125, -0.0012664794921875, 0.0137939453125, 0.0022125244140625, 0.017822265625, -0.030029296875, -0.005401611328125, -0.0101318359375, 0.004547119140625, 0.037841796875, 0.020263671875, -0.03955078125, -0.0033721923828125, -0.01373291015625, -0.0322265625, 0.00518798828125, 0.006134033203125, 0.06005859375, 0.0181884765625, -0.03271484375, -0.003509521484375, 0.042724609375, -0.0126953125, 0.00031280517578125, -0.025146484375, -0.0147705078125, 0.0181884765625, -0.00567626953125, -0.00225830078125, 0.004547119140625, 0.0233154296875, 0.02490234375, 0.0162353515625, 0.030029296875, 0.0272216796875, -0.07275390625, -0.0238037109375, 0.0157470703125, -0.01318359375, -0.055419921875, -0.011474609375, 0.0164794921875, -0.00025177001953125, 0.0174560546875, -0.0159912109375, 0.012939453125, 0.000244140625, 0.0089111328125, -0.0050048828125, 0.0230712890625, -0.0076904296875, -0.0140380859375, 0.005126953125, -0.007110595703125, 0.026123046875, -0.0286865234375, -0.005645751953125, 0.042724609375, 0.003448486328125, -0.052734375, 0.01324462890625, 0.06689453125, 0.01226806640625, -0.06494140625, -0.007110595703125, 0.043701171875, 0.0751953125, 0.022705078125, 0.0174560546875, 0.03173828125, 0.0233154296875, -0.00185394287109375, -0.039306640625, -0.022705078125, 0.040771484375, -0.041259765625, -0.0257568359375, -0.014404296875, -0.00109100341796875, 0.0196533203125, -0.04736328125, -0.020751953125, 0.0218505859375, 0.0380859375, 0.057373046875, -0.00823974609375, 0.0230712890625, 0.0208740234375, 0.004730224609375, 0.034912109375, -0.01129150390625, 0.045654296875, -0.025146484375, -0.00872802734375, -0.022705078125, -0.049072265625, 0.0067138671875, -0.006622314453125, -0.007476806640625, 0.012939453125, -0.0322265625, -0.0291748046875, 0.0234375, 0.0615234375, 0.00341796875, 0.01287841796875, 6.008148193359375e-05, -0.052001953125, 0.0296630859375, -0.061279296875, 0.01434326171875, 0.0260009765625, 0.08447265625, 0.03369140625, 0.0130615234375, 0.026611328125, 0.010986328125, -0.014892578125, 0.0751953125, -0.02392578125, -0.031982421875, 0.058349609375, 0.007415771484375, -0.033935546875, 0.0234375, 0.0035247802734375, -0.0089111328125, -0.03759765625, -0.07275390625, -0.00628662109375, -0.00144195556640625, -0.03466796875, -0.050048828125, 0.01806640625, 0.031494140625, 0.0029449462890625, -0.034912109375, 0.006317138671875, 0.006927490234375, -0.001190185546875, -0.040771484375, -0.0303955078125, -0.005462646484375, -0.0189208984375, -0.033203125, 0.0089111328125, 0.047607421875, 0.0341796875, -0.0257568359375, -0.0296630859375, 0.05908203125, 0.004638671875, 0.037841796875, 0.005767822265625, -0.0281982421875, 0.0233154296875, -0.026611328125, -0.056396484375, 0.006134033203125, -0.03271484375, 0.03125, 0.001678466796875, 0.01251220703125, 0.02197265625, 0.02197265625, -0.0478515625, 0.034912109375, 0.0062255859375, -0.00830078125, -0.0361328125, 0.0439453125, 0.00848388671875, -0.02197265625, 0.00408935546875, -0.0390625, 0.046142578125, -0.0966796875, 0.0260009765625, -0.006072998046875, 0.00921630859375, 0.0281982421875, 0.0272216796875, -0.02001953125, -0.01104736328125, 0.035400390625, -0.0032501220703125, 0.0164794921875, 0.01068115234375, -0.0120849609375, -0.01287841796875, -0.0311279296875, 0.0233154296875, 0.04150390625, -0.0234375, 0.032958984375, 0.0003719329833984375, 0.045166015625, 0.055908203125, 0.03564453125, -0.059326171875, 0.0050048828125, 0.0169677734375, -0.0252685546875, 0.022216796875, -0.034912109375, 0.0164794921875, 0.011962890625, 0.017333984375, -0.061279296875, -0.018798828125, -0.00787353515625, 0.00066375732421875, 0.0213623046875, 0.09326171875, 0.034912109375, 0.0068359375, 0.02490234375, -0.015625, 0.0286865234375, 0.01348876953125, -0.0439453125, -0.06982421875, -0.03076171875, 0.01226806640625, -0.0089111328125, 0.033447265625, 0.0191650390625, -0.00738525390625, 0.03076171875, 0.015380859375, 0.02392578125, -0.04150390625, 0.030029296875, -0.003173828125, 0.039306640625, -0.024169921875, 0.047607421875, -0.0140380859375, -0.03759765625, -0.01361083984375, 0.0031280517578125, -0.0208740234375, -0.0211181640625, 0.0223388671875, 0.05224609375, -0.0010833740234375, -0.0269775390625, 0.006927490234375, -0.05029296875, -0.0230712890625, 0.005279541015625, 0.00799560546875, 0.0230712890625, -0.016357421875, 0.05126953125, 0.00165557861328125, -0.01019287109375, -0.054443359375, 0.00010061264038085938, 0.03125, 0.006256103515625, 0.051513671875, 0.045166015625, -0.0048828125, -0.0133056640625, 0.00567626953125, 0.053955078125, 0.03076171875, 0.020263671875, -0.0537109375, -0.072265625, 0.04052734375, -0.02392578125, -0.0220947265625, 0.0238037109375, -0.0439453125, 0.01495361328125, 0.0439453125, 0.0174560546875, -0.033447265625, -0.012451171875, 0.01470947265625, 0.044677734375, 0.061279296875, -0.02880859375, 0.0137939453125, 0.025390625, 0.00811767578125, 0.05078125, 0.049072265625, -0.0174560546875, -0.037109375, 0.0177001953125, -0.04150390625, -0.01556396484375, -0.0089111328125, 0.0147705078125, 0.00078582763671875, -0.022705078125, -0.03466796875, -0.0037994384765625, 0.0380859375, -0.0089111328125, -0.0103759765625, -0.030029296875, 0.0034027099609375, -0.004608154296875, 0.006927490234375, 0.01904296875, -0.0037078857421875, -0.037109375, 0.054931640625, 0.01129150390625, 0.0030517578125, 0.03125, -0.0264892578125, -0.048828125, 0.01129150390625, -0.031982421875, 0.017822265625, -0.00848388671875, 0.0225830078125, -0.09521484375, 0.035400390625, -0.045166015625, 0.0306396484375, -0.04150390625, 0.0123291015625, 0.02490234375, -0.006591796875, 0.0101318359375, -0.01904296875, -0.03759765625, 0.0029754638671875, -0.0137939453125, -0.006072998046875, 0.0137939453125, -0.004608154296875, 0.016357421875, -0.0294189453125, 0.005645751953125, 0.01446533203125, 0.016357421875, -0.014404296875, -0.02880859375, 0.033447265625, 0.0289306640625, 0.0147705078125, -0.0252685546875, 0.0712890625, -0.00921630859375, -0.01019287109375, 0.0007476806640625, 0.0162353515625, 0.00162506103515625, -0.01251220703125, -0.0125732421875, -0.044189453125, -0.029541015625, -0.001007080078125, 0.04931640625, -0.01806640625, 0.03564453125, 0.039306640625, 0.00506591796875, -0.039794921875, -0.005859375, 0.0400390625, -0.006988525390625, 0.0184326171875, 0.050048828125, -0.004119873046875, 0.0233154296875, 0.047607421875, 0.00787353515625, -0.0517578125, -0.017822265625, -0.00396728515625, 0.0225830078125, 0.0228271484375, 0.00518798828125, -0.01300048828125, 0.0125732421875, 0.09521484375, -0.02880859375, -0.00726318359375, -0.0019989013671875, 0.07568359375, 0.0089111328125, -0.0264892578125, -0.04052734375, -0.0174560546875, -0.0177001953125, -0.0281982421875, 0.00107574462890625, -0.05517578125, -0.007293701171875, -0.00946044921875, 0.01416015625, -0.00040435791015625, -0.00173187255859375, 0.03466796875, -0.03369140625, 0.0150146484375, -0.0361328125, 0.061279296875, -0.031982421875, 0.025634765625, -0.047119140625, -0.0002307891845703125, -0.0233154296875, -0.0225830078125, 0.005218505859375, -0.01348876953125, -0.045166015625, 0.07275390625, -0.018798828125, -0.03564453125, 0.04541015625, 0.01220703125, -0.01708984375, -0.031494140625, 0.022705078125, 0.0203857421875, 0.0218505859375, -0.00958251953125, -0.01141357421875, -0.045166015625, 0.0189208984375, 0.00799560546875, -0.0233154296875, 0.01318359375, -0.05224609375, 0.0888671875, 0.01190185546875, -0.014404296875, -0.0283203125, -0.010986328125, -0.0269775390625, 0.04931640625, -0.01214599609375, -0.03857421875, -0.01318359375, -0.0250244140625, 0.053955078125, 0.032958984375, 0.015869140625, 0.056396484375, -0.020263671875, 0.01031494140625, -0.01251220703125, -0.0196533203125, -0.004547119140625, 0.062255859375, -0.048828125, 0.0111083984375, 0.042724609375, 0.056396484375, 0.08349609375, -0.003997802734375, 0.025634765625, -0.036865234375, -0.02587890625, -0.05029296875, -0.061279296875, 0.0311279296875, -0.005218505859375, 0.007781982421875, 0.0184326171875, -0.003936767578125, 0.012939453125, 0.011474609375, 0.01531982421875, -0.015625, -0.0164794921875, -0.034912109375, -0.00567626953125, -0.05615234375, -0.0032196044921875, -0.0140380859375, -0.01324462890625, -0.053955078125, -0.01409912109375, 0.046630859375, 0.05029296875, 0.0015411376953125, -0.0303955078125, 0.00165557861328125, 0.04052734375, -0.01531982421875, 0.003692626953125, -0.047607421875, -0.0167236328125, 0.00946044921875, -0.046630859375, 0.0198974609375, 0.0174560546875, 0.0208740234375, -0.001434326171875, 0.029541015625, -0.049072265625, -0.0299072265625, 0.0269775390625, -0.01953125, 0.007354736328125, 0.016357421875, -0.00848388671875, -0.022216796875, 0.006927490234375, -0.0184326171875, 0.0137939453125, -0.0189208984375, -0.01373291015625, -0.062255859375, 0.004302978515625, 0.00848388671875, -0.06005859375, -0.0166015625, 0.00141143798828125, -0.036865234375, 0.0269775390625, -0.0235595703125, -0.0517578125, 0.0166015625, 0.058349609375, 0.0234375, 0.05078125, 0.009033203125, -0.034912109375, 0.020263671875, -0.032958984375, 0.0244140625, -0.0291748046875, 0.068359375, -0.059326171875, -0.019775390625, 0.03271484375, -0.068359375, 0.014892578125, 0.00567626953125, -0.0203857421875, -0.01531982421875, 0.037841796875, 0.026123046875, -0.03759765625, 0.0023651123046875, 0.020751953125, -0.041015625, -0.041748046875, 0.021484375, -0.06982421875, -0.01953125, 0.0029754638671875, -0.047119140625, -0.0029144287109375, -0.015625, -0.0021820068359375, -0.001861572265625, 0.0189208984375, -0.003143310546875, 0.0037994384765625, 0.005462646484375, 0.07275390625, 0.025634765625, 0.0098876953125, -0.00165557861328125, -0.0159912109375, -0.0225830078125, -0.0064697265625, -0.00628662109375, -0.00103759765625, -0.01953125, 0.02880859375, 0.03369140625, 0.01611328125, -0.056396484375, -0.041015625, -0.0311279296875, -0.055419921875, 0.0322265625, 0.0311279296875, -0.01177978515625, 0.036865234375, -0.0159912109375, 0.00128936767578125, 0.03466796875, 0.047607421875, -0.0185546875, -0.007049560546875, -0.018798828125, -0.0137939453125, 0.0034942626953125, -0.0059814453125, -0.004058837890625, -0.0150146484375, -0.036865234375, -0.0133056640625, -0.006591796875, -0.015869140625, 0.00113677978515625, 0.037109375, -0.0150146484375, 0.00335693359375, 0.04052734375, -0.062255859375, -0.0220947265625, 0.00191497802734375, -0.0267333984375, -0.00799560546875, 0.018798828125, 0.0050048828125, -0.029052734375, 0.036865234375, -0.0517578125, -0.014404296875, 0.04541015625, 0.006134033203125, -0.0140380859375, -0.019287109375, -0.01153564453125, -0.05810546875, 0.052001953125, -0.0189208984375, -0.0223388671875, -0.00958251953125, -0.033203125, 0.0277099609375, 0.033203125, -0.0279541015625, -0.01904296875, 0.01068115234375, 0.0101318359375, -0.032470703125, 0.01153564453125, 0.0810546875, -0.0166015625, 0.04248046875, -0.0150146484375, -0.039794921875, -0.0189208984375, 0.018798828125, 0.0126953125, 0.00701904296875, 0.06689453125, 0.01287841796875, -0.0234375, 0.03076171875, 0.0439453125, 0.01318359375, -0.01611328125, -0.02734375, -0.006439208984375, 0.004425048828125, 0.052001953125, -0.0203857421875, -0.044677734375, 0.03076171875, 0.052978515625, -0.03125, 0.029052734375, 0.02685546875, -0.03955078125, -0.047607421875, 0.0047607421875, 0.0020751953125, -0.0167236328125, -8.869171142578125e-05, 0.009521484375, 0.0174560546875, 0.0074462890625, -0.003265380859375, 0.01324462890625, -0.09326171875, 0.0654296875, -0.00090789794921875, 0.0245361328125, 0.004974365234375, 0.01556396484375, 0.07568359375, 0.001617431640625, 0.0032196044921875, -0.046630859375, 0.003753662109375, -0.03076171875, 0.009765625, -0.027587890625, 0.018798828125, 0.006439208984375, -0.0162353515625, 0.043701171875, 0.01953125, -0.02294921875, 0.01416015625, 0.00909423828125, 0.009765625, 0.0205078125, 0.006744384765625, -0.036376953125, 0.00921630859375, -0.0234375, 0.03076171875, 0.0238037109375, 0.01708984375, -0.01287841796875, 0.005462646484375, 0.06005859375, 0.0322265625, 0.004608154296875, -0.03857421875, 0.02880859375, -0.00665283203125, 0.02978515625, 0.006439208984375, 0.02685546875, 0.00244140625, -0.017822265625, -0.0012969970703125, -0.0024566650390625, -0.01171875, 0.0791015625, 0.025146484375, 0.061279296875, 0.0263671875, 0.0084228515625, 0.037841796875, -0.036376953125, 0.004425048828125, -0.043701171875, -0.0233154296875, -0.042236328125, -0.031494140625, -0.03076171875, -0.04541015625, -0.00107574462890625, -0.0218505859375, 0.0283203125, -0.034423828125, 0.00102996826171875, 0.043701171875, -0.034912109375, -0.01220703125, -0.0032958984375, -0.029052734375, -0.0260009765625, -0.005401611328125, -0.0169677734375, 0.00640869140625, -0.0086669921875, 0.0274658203125, -0.03466796875, -0.033447265625, -0.056884765625, -0.004119873046875, 0.0277099609375, -0.01483154296875, 0.0167236328125, 0.03564453125, -0.0712890625, 0.00170135498046875, -0.033935546875, 0.043701171875, -0.0011138916015625, -0.03369140625, 0.03369140625, -0.02001953125, -0.01409912109375, -0.025634765625, -0.07861328125, 0.034912109375, -0.01287841796875, -0.040771484375, -0.01483154296875, -0.000637054443359375, -0.0322265625, 0.00640869140625, -0.00177001953125, 0.006988525390625, -0.05322265625, 0.05908203125, -0.00020599365234375, -0.02197265625, -0.0279541015625, 0.009765625, 0.0159912109375, -0.0181884765625, -0.0169677734375, 0.00518798828125, 0.0238037109375]}]
```

# static/notebooks/multimodal_agents_lab_original/devcontainer.json

```json
{
    "name": "Jupyter Notebook with MongoDB",
    "dockerComposeFile": "docker-compose.yml",
    "service": "lab-runner",
    "workspaceFolder": "/workspaces/${localWorkspaceFolderBasename}",
    "forwardPorts": [
        8888,
        27017
    ],
    "hostRequirements": {
        "cpus": 4
    },
    "containerEnv": {
        "SERVERLESS_URL": "https://5bzwmpf3kydzcy2kbz4rtn4z7i0crxoh.lambda-url.us-west-2.on.aws/",
        "MONGODB_URI": "mongodb://admin:mongodb@mongodb:27017/"
    },
    "updateContentCommand": "pip install --user -r requirements.txt && pip install --user --pre pymongo-voyageai-multimodal",
    "postCreateCommand": "bash -c 'python -m ipykernel install --user --name=python3 --display-name=\"Python 3\" && jupyter kernelspec list'",
    "postStartCommand": "jupyter kernelspec list",
    "customizations": {
        "codespaces": {
            "openFiles": []
        },
        "vscode": {
            "extensions": [
                "ms-python.python",
                "ms-toolsai.jupyter",
                "ms-tools.vscode-jupyter",
                "mongodb.mongodb-vscode"
            ]
        }
    }
}
```

# static/notebooks/multimodal_agents_lab_original/docker-compose.yml

```yml
services:
  lab-runner:
    build:
      context: .
      dockerfile: Dockerfile
    volumes:
      - ..:/workspaces/multimodal-agents-lab:cached
    depends_on:
      - mongodb

    # Overrides default command so things don't shut down after the process ends.
    command: sleep infinity

    # Runs app on the same network as the database container, allows "forwardPorts" in devcontainer.json function.
    network_mode: service:mongodb

  mongodb:
    image: mongodb/mongodb-atlas-local:latest
    restart: unless-stopped
    volumes:
      - mongodb_data:/data/db
    environment:
      - MONGODB_INITDB_ROOT_USERNAME=admin
      - MONGODB_INITDB_ROOT_PASSWORD=mongodb
    ports:
      - "27017:27017"

volumes:
  mongodb_data:
```

# static/notebooks/multimodal_agents_lab_original/Dockerfile

```
# Use a lighter Python base image
FROM python:3.11-slim-bullseye

# Install system dependencies
RUN apt-get update && apt-get install -y \
    git \
    curl \
    build-essential \
    && rm -rf /var/lib/apt/lists/*

# Create a non-root user
RUN useradd -m -s /bin/bash vscode && \
    mkdir -p /home/vscode/.local/bin /home/vscode/.jupyter && \
    chown -R vscode:vscode /home/vscode

# Set up Python environment
USER vscode
ENV PATH="/home/vscode/.local/bin:${PATH}"

# Install Jupyter and ipykernel first
RUN pip install --user --no-cache-dir \
    jupyter \
    jupyterlab \
    notebook \
    ipykernel

# Set working directory
WORKDIR /workspaces

# Install and register the kernel
RUN python -m ipykernel install --user --name=python3 --display-name="Python 3"

# Create a startup script to ensure kernel is available
RUN echo '#!/bin/bash\npython -m ipykernel install --user --name=python3 --display-name="Python 3"\nexec "$@"' > /home/vscode/startup.sh && \
    chmod +x /home/vscode/startup.sh

ENTRYPOINT ["/home/vscode/startup.sh"]
CMD ["sleep", "infinity"]
```

# static/notebooks/multimodal_agents_lab_original/multimodal_agents_lab_enhanced.ipynb

```ipynb
{
 "cells": [
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "# Multimodal Agents Workshop with Progress Tracking\n",
    "\n",
    "This enhanced version of the multimodal agents workshop includes comprehensive progress tracking, validation, and interactive guidance using the `jupyter-lab-progress` library.\n",
    "\n",
    "**Workshop Overview:**\n",
    "- Build a multimodal AI agent that can analyze documents and images\n",
    "- Use MongoDB Atlas Vector Search for retrieval\n",
    "- Implement function calling with Gemini 2.0 Flash\n",
    "- Add memory and ReAct reasoning capabilities\n",
    "\n",
    "## üéØ Learning Objectives\n",
    "By the end of this workshop, you will be able to:\n",
    "- Process PDFs and extract images for multimodal search\n",
    "- Set up MongoDB Atlas vector search indexes\n",
    "- Build an AI agent with tool calling capabilities\n",
    "- Implement session-based memory for conversational agents\n",
    "- Create a ReAct (Reasoning + Acting) agent architecture"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": "# Initialize progress tracking and lab utilities\nimport sys\nimport os\n\n# Force load from development source if available\ndev_path = \"/Users/michael.lynn/code/mongodb/developer-days/jupyter-utils/jupyter-lab-progress\"\nif os.path.exists(dev_path) and dev_path not in sys.path:\n    sys.path.insert(0, dev_path)\n\n# Remove any cached modules\nmodules_to_remove = [key for key in sys.modules.keys() if key.startswith('jupyter_lab_progress')]\nfor module in modules_to_remove:\n    del sys.modules[module]\n\ntry:\n    from jupyter_lab_progress import (\n        LabProgress, LabValidator, show_info, show_warning, \n        show_success, show_error, show_hint\n    )\n    show_success(\"Progress tracking libraries loaded successfully! üéâ\")\nexcept ImportError as e:\n    print(f\"Warning: Could not import progress tracking: {e}\")\n    print(\"Installing basic fallbacks...\")\n    def show_info(msg, title=None): print(f\"‚ÑπÔ∏è {title or 'Info'}: {msg}\")\n    def show_warning(msg, title=None): print(f\"‚ö†Ô∏è {title or 'Warning'}: {msg}\")\n    def show_success(msg, title=None): print(f\"‚úÖ {title or 'Success'}: {msg}\")\n    def show_error(msg, title=None): print(f\"‚ùå {title or 'Error'}: {msg}\")\n    def show_hint(msg, title=None): print(f\"üí° {title or 'Hint'}: {msg}\")"
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": "# Set up comprehensive lab progress tracking\ntry:\n    progress = LabProgress(\n        steps=[\n            \"Environment Setup\",\n            \"PDF Processing\", \n            \"Data Ingestion\",\n            \"Vector Index Creation\",\n            \"Agent Tools Setup\",\n            \"LLM Integration\",\n            \"Basic Agent Testing\",\n            \"Memory Implementation\",\n            \"ReAct Agent Enhancement\"\n        ],\n        lab_name=\"Multimodal Agents Workshop\",\n        persist=True\n    )\n    \n    # Set up validation\n    validator = LabValidator(progress_tracker=progress)\n    \n    show_success(\"Lab progress tracking initialized!\")\n    show_info(f\"Workshop: {progress.lab_name}\")\n    show_info(f\"Total steps: {len(progress.steps)}\")\n    \nexcept NameError:\n    show_info(\"Running without progress tracking\")"
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "# Step 1: Environment Setup\n",
    "\n",
    "Let's start by setting up our environment and connecting to MongoDB Atlas."
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": "# Show step guidance\ntry:\n    progress.show_step_tips(\"Environment Setup\")\nexcept (NameError, AttributeError):\n    show_info(\"Setting up environment and connections...\")"
  },
  {
   "cell_type": "code",
   "execution_count": 4,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/html": [
       "\n",
       "    <div style='background-color: #ffebee; border-left: 6px solid #f44336; \n",
       "                padding: 10px; margin: 10px 0; border-radius: 5px;'>\n",
       "        <span style='font-size: 16px; margin-right: 8px;'>‚ùå</span>\n",
       "        Missing environment variables: ['MONGODB_URI', 'SERVERLESS_URL']\n",
       "    </div>\n",
       "    "
      ],
      "text/plain": [
       "<IPython.core.display.HTML object>"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "\n",
       "        <div style='background-color: #e7f3ff; border-left: 6px solid #2196F3; \n",
       "                    padding: 10px; margin: 10px 0; border-radius: 5px;'>\n",
       "            <span style='font-size: 16px; margin-right: 8px;'>‚ÑπÔ∏è</span>\n",
       "            Please set the required environment variables before proceeding\n",
       "            \n",
       "        </div>\n",
       "        "
      ],
      "text/plain": [
       "<IPython.core.display.HTML object>"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "\n",
       "        <div style='background-color: #ffebee; border-left: 4px solid #f44336; \n",
       "                    padding: 10px; margin: 10px 0; border-radius: 5px;'>\n",
       "            <span style='font-size: 20px; margin-right: 10px;'>‚ùå</span>\n",
       "            <strong style='color: #f44336;'>Type mismatch for 'MONGODB_URI'</strong>\n",
       "            <br><small style='color: #666;'>Expected str, got NoneType</small>\n",
       "        </div>\n",
       "        "
      ],
      "text/plain": [
       "<IPython.core.display.HTML object>"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "\n",
       "        <div style='background-color: #ffebee; border-left: 4px solid #f44336; \n",
       "                    padding: 10px; margin: 10px 0; border-radius: 5px;'>\n",
       "            <span style='font-size: 20px; margin-right: 10px;'>‚ùå</span>\n",
       "            <strong style='color: #f44336;'>Type mismatch for 'SERVERLESS_URL'</strong>\n",
       "            <br><small style='color: #666;'>Expected str, got NoneType</small>\n",
       "        </div>\n",
       "        "
      ],
      "text/plain": [
       "<IPython.core.display.HTML object>"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    }
   ],
   "source": [
    "import os\n",
    "from pymongo import MongoClient\n",
    "\n",
    "# Check environment variables\n",
    "required_vars = [\"MONGODB_URI\", \"SERVERLESS_URL\"]\n",
    "missing_vars = [var for var in required_vars if not os.getenv(var)]\n",
    "\n",
    "if missing_vars:\n",
    "    show_error(f\"Missing environment variables: {missing_vars}\")\n",
    "    show_info(\"Please set the required environment variables before proceeding\")\n",
    "else:\n",
    "    show_success(\"All required environment variables are set!\")\n",
    "\n",
    "# Validate connection variables\n",
    "try:\n",
    "    validator.validate_variable_exists(\"MONGODB_URI\", {\"MONGODB_URI\": os.getenv(\"MONGODB_URI\")}, str)\n",
    "    validator.validate_variable_exists(\"SERVERLESS_URL\", {\"SERVERLESS_URL\": os.getenv(\"SERVERLESS_URL\")}, str)\n",
    "except NameError:\n",
    "    pass"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": [
    "# Connect to MongoDB Atlas\n",
    "MONGODB_URI = os.getenv(\"MONGODB_URI\")\n",
    "SERVERLESS_URL = os.getenv(\"SERVERLESS_URL\")\n",
    "LLM_PROVIDER = \"google\"\n",
    "\n",
    "# Initialize MongoDB client\n",
    "try:\n",
    "    mongodb_client = MongoClient(MONGODB_URI)\n",
    "    # Test the connection\n",
    "    result = mongodb_client.admin.command(\"ping\")\n",
    "    \n",
    "    if result.get(\"ok\") == 1:\n",
    "        show_success(\"Successfully connected to MongoDB Atlas! üéâ\")\n",
    "        \n",
    "        # Mark step as complete\n",
    "        try:\n",
    "            progress.mark_done(\"Environment Setup\", score=100, notes=\"MongoDB connection successful\")\n",
    "        except NameError:\n",
    "            pass\n",
    "    else:\n",
    "        show_error(\"MongoDB connection failed\")\n",
    "        \n",
    "except Exception as e:\n",
    "    show_error(f\"Connection error: {e}\")\n",
    "    show_hint(\"Check your connection string and network access settings\", \n",
    "             \"Connection Troubleshooting\")"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "# Step 2: PDF Processing\n",
    "\n",
    "Download a research paper and extract pages as images for multimodal processing."
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": "# Show step guidance\ntry:\n    progress.show_step_tips(\"PDF Processing\")\nexcept (NameError, AttributeError):\n    show_info(\"Processing PDF and extracting images...\")"
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": [
    "import pymupdf\n",
    "import requests\n",
    "from pathlib import Path\n",
    "\n",
    "# Create directory for images\n",
    "Path(\"data/images\").mkdir(parents=True, exist_ok=True)\n",
    "\n",
    "show_info(\"üìö Reference: https://pymupdf.readthedocs.io/en/latest/how-to-open-a-file.html#opening-remote-files\")"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": [
    "# Download the DeepSeek paper\n",
    "try:\n",
    "    show_info(\"Downloading DeepSeek R1 research paper...\")\n",
    "    response = requests.get(\"https://arxiv.org/pdf/2501.12948\")\n",
    "    \n",
    "    if response.status_code != 200:\n",
    "        raise ValueError(f\"Failed to download PDF. Status code: {response.status_code}\")\n",
    "    \n",
    "    # Get the content of the response\n",
    "    pdf_stream = response.content\n",
    "    show_success(f\"PDF downloaded successfully! Size: {len(pdf_stream)} bytes\")\n",
    "    \n",
    "    # TODO: Open the data in `pdf_stream` as a PDF document\n",
    "    # HINT: Set the `filetype` argument to \"pdf\"\n",
    "    pdf = pymupdf.Document(stream=pdf_stream, filetype=\"pdf\")\n",
    "    \n",
    "    show_success(f\"PDF loaded! Pages: {pdf.page_count}\")\n",
    "    \n",
    "    # Validate PDF processing\n",
    "    try:\n",
    "        validator.validate_variable_exists('pdf', locals(), pymupdf.Document)\n",
    "        validator.validate_custom(\n",
    "            pdf.page_count > 0,\n",
    "            \"PDF has valid page count\",\n",
    "            \"PDF appears to be empty or corrupted\"\n",
    "        )\n",
    "    except NameError:\n",
    "        pass\n",
    "        \n",
    "except Exception as e:\n",
    "    show_error(f\"PDF processing failed: {e}\")\n",
    "    show_hint(\"Check your internet connection and try again\", \"Download Issue\")"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": "# Extract pages as images\nfrom tqdm import tqdm\n\ndocs = []\nzoom = 3.0\n\nshow_info(\"üìö Reference: https://pymupdf.readthedocs.io/en/latest/page.html#Page.get_pixmap\")\n\ntry:\n    # Set image matrix dimensions\n    mat = pymupdf.Matrix(zoom, zoom)\n    \n    show_info(f\"Extracting {pdf.page_count} pages as images...\")\n    \n    # Track partial progress\n    total_pages = pdf.page_count\n    \n    # Iterate through the pages of the PDF\n    for n in tqdm(range(pdf.page_count), desc=\"Extracting pages\"):\n        temp = {}\n        \n        # TODO: Use the `get_pixmap` method to render the PDF page\n        # HINT: Access the PDF page as pdf[n]\n        pix = pdf[n].get_pixmap(matrix=mat)\n        \n        # Store image locally\n        key = f\"data/images/{n+1}.png\"\n        pix.save(key)\n        \n        # Extract image metadata\n        temp[\"key\"] = key\n        temp[\"width\"] = pix.width\n        temp[\"height\"] = pix.height\n        temp[\"page_number\"] = n + 1\n        docs.append(temp)\n    \n    show_success(f\"Successfully extracted {len(docs)} pages as images!\")\n    show_info(f\"Images saved to: data/images/\")\n    \n    # Mark step complete\n    try:\n        progress.mark_done(\"PDF Processing\", score=95, \n                          notes=f\"Extracted {len(docs)} pages\")\n    except (NameError, AttributeError):\n        pass\n        \nexcept Exception as e:\n    show_error(f\"Image extraction failed: {e}\")\n    show_hint(\"Ensure the data/images directory exists and is writable\", \"File Access\")"
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "# Step 3: Data Ingestion\n",
    "\n",
    "Load pre-generated embeddings and ingest them into MongoDB Atlas."
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": [
    "# Optional: Generate embeddings (requires Voyage AI API key)\n",
    "show_info(\"‚ÑπÔ∏è Embedding Generation\", \"Optional Step\")\n",
    "show_info(\"\"\"\n",
    "For this workshop, we'll use pre-generated embeddings to save time.\n",
    "If you want to generate your own embeddings, uncomment the code below \n",
    "and add your Voyage AI API key.\n",
    "\n",
    "Follow these steps to get an API key:\n",
    "https://docs.voyageai.com/docs/api-key-and-installation#authentication-with-api-keys\n",
    "\"\"\")\n",
    "\n",
    "# Uncomment this section if you have a Voyage AI API key\n",
    "# from voyageai import Client\n",
    "# from PIL import Image\n",
    "# \n",
    "# os.environ[\"VOYAGE_API_KEY\"] = \"your-api-key-here\"\n",
    "# voyageai_client = Client()\n",
    "# \n",
    "# def get_embedding(data, input_type):\n",
    "#     \"\"\"Get Voyage AI embeddings for images and text.\"\"\"\n",
    "#     embedding = voyageai_client.multimodal_embed(\n",
    "#         inputs=[[data]], model=\"voyage-multimodal-3\", input_type=input_type\n",
    "#     ).embeddings[0]\n",
    "#     return embedding\n",
    "# \n",
    "# embedded_docs = []\n",
    "# for doc in tqdm(docs, desc=\"Generating embeddings\"):\n",
    "#     img = Image.open(doc['key'])\n",
    "#     doc[\"embedding\"] = get_embedding(img, \"document\")\n",
    "#     embedded_docs.append(doc)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": [
    "import json\n",
    "\n",
    "# Database configuration\n",
    "DB_NAME = \"mongodb_aiewf\"\n",
    "COLLECTION_NAME = \"multimodal_workshop\"\n",
    "\n",
    "# Connect to the collection\n",
    "collection = mongodb_client[DB_NAME][COLLECTION_NAME]\n",
    "\n",
    "show_info(f\"Connected to database: {DB_NAME}\")\n",
    "show_info(f\"Using collection: {COLLECTION_NAME}\")"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": [
    "# Load pre-generated embeddings\n",
    "try:\n",
    "    show_info(\"Loading pre-generated embeddings...\")\n",
    "    \n",
    "    with open(\"data/embeddings.json\", \"r\") as data_file:\n",
    "        json_data = data_file.read()\n",
    "    data = json.loads(json_data)\n",
    "    \n",
    "    show_success(f\"Loaded {len(data)} documents with embeddings\")\n",
    "    \n",
    "    # Validate data structure\n",
    "    try:\n",
    "        validator.validate_custom(\n",
    "            len(data) > 0,\n",
    "            \"Embeddings data loaded successfully\",\n",
    "            \"Embeddings file is empty or invalid\"\n",
    "        )\n",
    "        \n",
    "        # Check if first document has required fields\n",
    "        if data:\n",
    "            required_fields = ['embedding', 'key']\n",
    "            missing_fields = [field for field in required_fields if field not in data[0]]\n",
    "            \n",
    "            validator.validate_custom(\n",
    "                len(missing_fields) == 0,\n",
    "                \"Document structure validation passed\",\n",
    "                f\"Missing required fields: {missing_fields}\"\n",
    "            )\n",
    "    except NameError:\n",
    "        pass\n",
    "        \n",
    "except FileNotFoundError:\n",
    "    show_error(\"Embeddings file not found: data/embeddings.json\")\n",
    "    show_hint(\"Make sure the data/embeddings.json file exists in your working directory\", \n",
    "             \"File Missing\")\n",
    "except Exception as e:\n",
    "    show_error(f\"Failed to load embeddings: {e}\")"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": [
    "# Ingest data into MongoDB\n",
    "show_info(\"üìö Reference: https://pymongo.readthedocs.io/en/stable/api/pymongo/collection.html#pymongo.collection.Collection.insert_many\")\n",
    "\n",
    "try:\n",
    "    # Clear existing documents\n",
    "    delete_result = collection.delete_many({})\n",
    "    show_info(f\"Deleted {delete_result.deleted_count} existing documents\")\n",
    "    \n",
    "    # TODO: Bulk insert documents into the collection\n",
    "    insert_result = collection.insert_many(data)\n",
    "    \n",
    "    # Verify insertion\n",
    "    doc_count = collection.count_documents({})\n",
    "    \n",
    "    show_success(f\"Successfully ingested {doc_count} documents into {COLLECTION_NAME}! üéâ\")\n",
    "    \n",
    "    # Validate ingestion\n",
    "    try:\n",
    "        validator.validate_custom(\n",
    "            doc_count == len(data),\n",
    "            \"All documents ingested successfully\",\n",
    "            f\"Document count mismatch: expected {len(data)}, got {doc_count}\"\n",
    "        )\n",
    "        \n",
    "        progress.mark_done(\"Data Ingestion\", score=100, \n",
    "                          notes=f\"Ingested {doc_count} documents\")\n",
    "    except NameError:\n",
    "        pass\n",
    "        \n",
    "except Exception as e:\n",
    "    show_error(f\"Data ingestion failed: {e}\")\n",
    "    show_hint(\"Check your MongoDB connection and permissions\", \"Database Error\")"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "# Step 4: Vector Search Index Creation\n",
    "\n",
    "Create a vector search index to enable similarity search on our multimodal embeddings."
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": "# Show step guidance\ntry:\n    progress.show_step_tips(\"Vector Index Creation\")\nexcept (NameError, AttributeError):\n    show_info(\"Creating vector search index...\")"
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": [
    "VS_INDEX_NAME = \"vector_index\"\n",
    "\n",
    "# Define vector index configuration\n",
    "model = {\n",
    "    \"name\": VS_INDEX_NAME,\n",
    "    \"type\": \"vectorSearch\",\n",
    "    \"definition\": {\n",
    "        \"fields\": [\n",
    "            {\n",
    "                \"type\": \"vector\",\n",
    "                \"path\": \"embedding\",\n",
    "                \"numDimensions\": 1024,\n",
    "                \"similarity\": \"cosine\",\n",
    "            }\n",
    "        ]\n",
    "    },\n",
    "}\n",
    "\n",
    "show_info(f\"Index configuration: {VS_INDEX_NAME}\")\n",
    "show_info(\"Vector field: embedding\")\n",
    "show_info(\"Dimensions: 1024 (Voyage multimodal)\")\n",
    "show_info(\"Similarity metric: cosine\")"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": [
    "# Create the vector search index\n",
    "show_info(\"üìö Reference: https://pymongo.readthedocs.io/en/stable/api/pymongo/collection.html#pymongo.collection.Collection.create_search_index\")\n",
    "\n",
    "try:\n",
    "    # Check if index already exists\n",
    "    existing_indexes = list(collection.list_search_indexes())\n",
    "    index_exists = any(idx.get('name') == VS_INDEX_NAME for idx in existing_indexes)\n",
    "    \n",
    "    if index_exists:\n",
    "        show_info(f\"Index '{VS_INDEX_NAME}' already exists\")\n",
    "    else:\n",
    "        show_info(\"Creating vector search index...\")\n",
    "        \n",
    "        # TODO: Create the vector search index\n",
    "        collection.create_search_index(model=model)\n",
    "        \n",
    "        show_success(f\"Vector search index '{VS_INDEX_NAME}' created successfully! üéâ\")\n",
    "    \n",
    "    # Mark step complete\n",
    "    try:\n",
    "        progress.mark_done(\"Vector Index Creation\", score=100, \n",
    "                          notes=f\"Index '{VS_INDEX_NAME}' ready\")\n",
    "    except NameError:\n",
    "        pass\n",
    "        \n",
    "except Exception as e:\n",
    "    show_error(f\"Index creation failed: {e}\")\n",
    "    show_hint(\"Index creation may take a few minutes. Check Atlas UI to monitor progress\", \n",
    "             \"Index Status\")"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": [
    "# Verify index status\n",
    "try:\n",
    "    indexes = list(collection.list_search_indexes())\n",
    "    \n",
    "    show_info(\"Current search indexes:\")\n",
    "    for idx in indexes:\n",
    "        name = idx.get('name', 'Unknown')\n",
    "        status = idx.get('status', 'Unknown')\n",
    "        \n",
    "        if status == 'READY':\n",
    "            show_success(f\"‚úÖ {name}: {status}\")\n",
    "        else:\n",
    "            show_warning(f\"‚è≥ {name}: {status}\")\n",
    "    \n",
    "    # Check if our index is ready\n",
    "    our_index = next((idx for idx in indexes if idx.get('name') == VS_INDEX_NAME), None)\n",
    "    \n",
    "    if our_index and our_index.get('status') == 'READY':\n",
    "        show_success(f\"Index '{VS_INDEX_NAME}' is ready for vector search! üöÄ\")\n",
    "    else:\n",
    "        show_warning(f\"Index '{VS_INDEX_NAME}' is still building. Please wait...\")\n",
    "        show_hint(\"Index creation can take several minutes. Check the Atlas UI for progress.\", \n",
    "                 \"Index Building\")\n",
    "        \n",
    "except Exception as e:\n",
    "    show_error(f\"Failed to check index status: {e}\")"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "# Step 5: Agent Tools Setup\n",
    "\n",
    "Create the vector search tool that our AI agent will use to retrieve relevant information."
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": [
    "from typing import List\n",
    "\n",
    "show_info(\"üìö Reference: https://www.mongodb.com/docs/atlas/atlas-vector-search/vector-search-stage/#ann-examples\")"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": [
    "def get_information_for_question_answering(user_query: str) -> List[str]:\n",
    "    \"\"\"\n",
    "    Retrieve information using vector search to answer a user query.\n",
    "\n",
    "    Args:\n",
    "        user_query (str): The user's query string.\n",
    "\n",
    "    Returns:\n",
    "        List[str]: List of image file paths retrieved from vector search.\n",
    "    \"\"\"\n",
    "    try:\n",
    "        show_info(f\"üîç Searching for: {user_query}\")\n",
    "        \n",
    "        # Embed the user query using our serverless endpoint\n",
    "        response = requests.post(\n",
    "            url=SERVERLESS_URL,\n",
    "            json={\n",
    "                \"task\": \"get_embedding\",\n",
    "                \"data\": {\"input\": user_query, \"input_type\": \"query\"},\n",
    "            },\n",
    "        )\n",
    "        \n",
    "        if response.status_code != 200:\n",
    "            show_error(f\"Embedding API failed: {response.status_code}\")\n",
    "            return []\n",
    "        \n",
    "        # Extract the embedding from the response\n",
    "        query_embedding = response.json()[\"embedding\"]\n",
    "        show_success(f\"Generated query embedding: {len(query_embedding)} dimensions\")\n",
    "\n",
    "        # TODO: Define aggregation pipeline with $vectorSearch and $project stages\n",
    "        pipeline = [\n",
    "            {\n",
    "                \"$vectorSearch\": {\n",
    "                    \"index\": VS_INDEX_NAME,\n",
    "                    \"path\": \"embedding\",\n",
    "                    \"queryVector\": query_embedding,\n",
    "                    \"numCandidates\": 150,\n",
    "                    \"limit\": 2,\n",
    "                }\n",
    "            },\n",
    "            {\n",
    "                \"$project\": {\n",
    "                    \"_id\": 0,\n",
    "                    \"key\": 1,\n",
    "                    \"width\": 1,\n",
    "                    \"height\": 1,\n",
    "                    \"score\": {\"$meta\": \"vectorSearchScore\"},\n",
    "                }\n",
    "            },\n",
    "        ]\n",
    "\n",
    "        # TODO: Execute the aggregation pipeline\n",
    "        results = list(collection.aggregate(pipeline))\n",
    "        \n",
    "        # Extract image keys\n",
    "        keys = [result[\"key\"] for result in results]\n",
    "        scores = [result[\"score\"] for result in results]\n",
    "        \n",
    "        show_success(f\"Found {len(keys)} relevant images\")\n",
    "        for i, (key, score) in enumerate(zip(keys, scores)):\n",
    "            show_info(f\"  {i+1}. {key} (score: {score:.4f})\")\n",
    "        \n",
    "        return keys\n",
    "        \n",
    "    except Exception as e:\n",
    "        show_error(f\"Vector search failed: {e}\")\n",
    "        return []"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": [
    "# Define function declaration for Gemini function calling\n",
    "show_info(\"üìö Reference: https://ai.google.dev/gemini-api/docs/function-calling#step_1_define_function_declaration\")\n",
    "\n",
    "# TODO: Define the function declaration\n",
    "get_information_for_question_answering_declaration = {\n",
    "    \"name\": \"get_information_for_question_answering\",\n",
    "    \"description\": \"Retrieve information using vector search to answer a user query.\",\n",
    "    \"parameters\": {\n",
    "        \"type\": \"object\",\n",
    "        \"properties\": {\n",
    "            \"user_query\": {\n",
    "                \"type\": \"string\",\n",
    "                \"description\": \"Query string to use for vector search\",\n",
    "            }\n",
    "        },\n",
    "        \"required\": [\"user_query\"],\n",
    "    },\n",
    "}\n",
    "\n",
    "show_success(\"Function declaration created for Gemini integration!\")\n",
    "\n",
    "# Mark step complete\n",
    "try:\n",
    "    progress.mark_done(\"Agent Tools Setup\", score=100, \n",
    "                      notes=\"Vector search tool and function declaration ready\")\n",
    "except NameError:\n",
    "    pass"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "# Step 6: LLM Integration\n",
    "\n",
    "Set up Gemini 2.0 Flash with function calling capabilities."
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": [
    "from google import genai\n",
    "from google.genai import types\n",
    "from google.genai.types import FunctionCall\n",
    "\n",
    "LLM = \"gemini-2.0-flash\"\n",
    "\n",
    "try:\n",
    "    # Get API key from serverless endpoint\n",
    "    show_info(\"Obtaining Gemini API key...\")\n",
    "    \n",
    "    api_response = requests.post(\n",
    "        url=SERVERLESS_URL, \n",
    "        json={\"task\": \"get_api_key\", \"data\": LLM_PROVIDER}\n",
    "    )\n",
    "    \n",
    "    if api_response.status_code == 200:\n",
    "        api_key = api_response.json()[\"api_key\"]\n",
    "        \n",
    "        # Initialize Gemini client\n",
    "        gemini_client = genai.Client(api_key=api_key)\n",
    "        \n",
    "        show_success(f\"Gemini client initialized with model: {LLM}\")\n",
    "        \n",
    "        # Validate client setup\n",
    "        try:\n",
    "            validator.validate_variable_exists('gemini_client', locals(), genai.Client)\n",
    "        except NameError:\n",
    "            pass\n",
    "    else:\n",
    "        show_error(f\"Failed to get API key: {api_response.status_code}\")\n",
    "        \n",
    "except Exception as e:\n",
    "    show_error(f\"LLM setup failed: {e}\")\n",
    "    show_hint(\"Check your SERVERLESS_URL and network connection\", \"API Key Error\")"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": [
    "# Create generation configuration\n",
    "try:\n",
    "    tools = types.Tool(\n",
    "        function_declarations=[get_information_for_question_answering_declaration]\n",
    "    )\n",
    "    tools_config = types.GenerateContentConfig(tools=[tools], temperature=0.0)\n",
    "    \n",
    "    show_success(\"Generation configuration created with function calling enabled!\")\n",
    "    show_info(\"Temperature: 0.0 (deterministic responses)\")\n",
    "    show_info(\"Available tools: get_information_for_question_answering\")\n",
    "    \n",
    "    # Mark step complete\n",
    "    try:\n",
    "        progress.mark_done(\"LLM Integration\", score=100, \n",
    "                          notes=\"Gemini 2.0 Flash configured with function calling\")\n",
    "    except NameError:\n",
    "        pass\n",
    "        \n",
    "except Exception as e:\n",
    "    show_error(f\"Configuration failed: {e}\")"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "# Step 7: Basic Agent Implementation\n",
    "\n",
    "Create the core agent functions for tool selection and response generation."
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": [
    "from PIL import Image\n",
    "\n",
    "show_info(\"üìö Reference: https://ai.google.dev/gemini-api/docs/function-calling#step_4_create_user_friendly_response\")"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": [
    "def select_tool(messages: List) -> FunctionCall | None:\n",
    "    \"\"\"\n",
    "    Use an LLM to decide which tool to call.\n",
    "\n",
    "    Args:\n",
    "        messages (List): Messages as a list\n",
    "\n",
    "    Returns:\n",
    "        FunctionCall: Function call object or None\n",
    "    \"\"\"\n",
    "    try:\n",
    "        system_prompt = [\n",
    "            (\n",
    "                \"You're an AI assistant. Based on the given information, decide which tool to use. \"\n",
    "                \"If the user is asking to explain an image, don't call any tools unless that would help you better explain the image. \"\n",
    "                \"Here is the provided information:\\n\"\n",
    "            )\n",
    "        ]\n",
    "        \n",
    "        # Input to the LLM\n",
    "        contents = system_prompt + messages\n",
    "        \n",
    "        # TODO: Generate response using Gemini\n",
    "        response = gemini_client.models.generate_content(\n",
    "            model=LLM, contents=contents, config=tools_config\n",
    "        )\n",
    "        \n",
    "        # Extract and return the function call\n",
    "        if response.candidates and response.candidates[0].content.parts:\n",
    "            return response.candidates[0].content.parts[0].function_call\n",
    "        \n",
    "        return None\n",
    "        \n",
    "    except Exception as e:\n",
    "        show_error(f\"Tool selection failed: {e}\")\n",
    "        return None\n",
    "\n",
    "show_success(\"Tool selection function created!\")"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": [
    "def generate_answer(user_query: str, images: List = []) -> str:\n",
    "    \"\"\"\n",
    "    Execute any tools and generate a response.\n",
    "\n",
    "    Args:\n",
    "        user_query (str): User's query string\n",
    "        images (List): List of image file paths. Defaults to [].\n",
    "\n",
    "    Returns:\n",
    "        str: LLM-generated response\n",
    "    \"\"\"\n",
    "    try:\n",
    "        # TODO: Use select_tool to determine if we need to call any tools\n",
    "        tool_call = select_tool([user_query])\n",
    "        \n",
    "        # If a tool call is found and it's our vector search function\n",
    "        if (\n",
    "            tool_call is not None\n",
    "            and tool_call.name == \"get_information_for_question_answering\"\n",
    "        ):\n",
    "            show_info(f\"üõ†Ô∏è Agent calling tool: {tool_call.name}\")\n",
    "            \n",
    "            # TODO: Call the tool with the extracted arguments\n",
    "            tool_images = get_information_for_question_answering(**tool_call.args)\n",
    "            \n",
    "            # Add retrieved images to the input images\n",
    "            images.extend(tool_images)\n",
    "\n",
    "        # Prepare system prompt\n",
    "        system_prompt = (\n",
    "            \"Answer the questions based on the provided context only. \"\n",
    "            \"If the context is not sufficient, say I DON'T KNOW. \"\n",
    "            \"DO NOT use any other information to answer the question.\"\n",
    "        )\n",
    "        \n",
    "        # Prepare contents for the LLM\n",
    "        contents = [system_prompt] + [user_query] + [Image.open(image) for image in images]\n",
    "\n",
    "        # Get the response from the LLM\n",
    "        response = gemini_client.models.generate_content(\n",
    "            model=LLM,\n",
    "            contents=contents,\n",
    "            config=types.GenerateContentConfig(temperature=0.0),\n",
    "        )\n",
    "        \n",
    "        answer = response.text\n",
    "        return answer\n",
    "        \n",
    "    except Exception as e:\n",
    "        show_error(f\"Answer generation failed: {e}\")\n",
    "        return \"I apologize, but I encountered an error while processing your question.\"\n",
    "\n",
    "show_success(\"Answer generation function created!\")"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": [
    "def execute_agent(user_query: str, images: List = []) -> None:\n",
    "    \"\"\"\n",
    "    Execute the agent and display the response.\n",
    "\n",
    "    Args:\n",
    "        user_query (str): User query\n",
    "        images (List, optional): List of image file paths. Defaults to [].\n",
    "    \"\"\"\n",
    "    try:\n",
    "        show_info(f\"ü§ñ Processing query: {user_query}\")\n",
    "        \n",
    "        response = generate_answer(user_query, images)\n",
    "        \n",
    "        show_success(\"ü§ñ Agent Response:\")\n",
    "        print(f\"\\n{response}\\n\")\n",
    "        \n",
    "    except Exception as e:\n",
    "        show_error(f\"Agent execution failed: {e}\")\n",
    "\n",
    "show_success(\"Agent execution function created!\")\n",
    "\n",
    "# Mark step complete\n",
    "try:\n",
    "    progress.mark_done(\"Basic Agent Testing\", score=100, \n",
    "                      notes=\"Agent functions implemented and ready for testing\")\n",
    "except NameError:\n",
    "    pass"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": [
    "# Test the agent with different types of queries\n",
    "show_info(\"üß™ Testing the agent with sample queries...\")\n",
    "\n",
    "# Test 1: Text-based query requiring vector search\n",
    "show_info(\"Test 1: Factual question requiring document search\")\n",
    "execute_agent(\"What is the Pass@1 accuracy of Deepseek R1 on the MATH500 benchmark?\")"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": [
    "# Test 2: Image explanation (if test image exists)\n",
    "import os\n",
    "\n",
    "if os.path.exists(\"data/test.png\"):\n",
    "    show_info(\"Test 2: Image analysis\")\n",
    "    execute_agent(\"Explain the graph in this image:\", [\"data/test.png\"])\n",
    "else:\n",
    "    show_warning(\"Test image not found: data/test.png\")\n",
    "    show_info(\"Test 2: Using extracted PDF page instead\")\n",
    "    if docs:\n",
    "        execute_agent(\"What can you see in this document page?\", [docs[0]['key']])"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "# Step 8: Memory Implementation\n",
    "\n",
    "Add conversational memory to enable multi-turn conversations with context retention."
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": [
    "from datetime import datetime\n",
    "\n",
    "# Set up history collection\n",
    "history_collection = mongodb_client[DB_NAME][\"history\"]\n",
    "\n",
    "show_info(f\"Setting up conversation memory in: {DB_NAME}.history\")\n",
    "show_info(\"üìö Reference: https://pymongo.readthedocs.io/en/stable/api/pymongo/collection.html#pymongo.collection.Collection.create_index\")"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": [
    "# Create index for efficient session queries\n",
    "try:\n",
    "    # TODO: Create index on session_id field\n",
    "    history_collection.create_index(\"session_id\")\n",
    "    \n",
    "    show_success(\"Session index created for conversation history!\")\n",
    "    \n",
    "except Exception as e:\n",
    "    show_error(f\"Index creation failed: {e}\")"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": [
    "def store_chat_message(session_id: str, role: str, type: str, content: str) -> None:\n",
    "    \"\"\"\n",
    "    Create chat history document and store it in MongoDB.\n",
    "\n",
    "    Args:\n",
    "        session_id (str): Session ID\n",
    "        role (str): Message role, one of 'user' or 'agent'\n",
    "        type (str): Type of message, one of 'text' or 'image'\n",
    "        content (str): Content of the message (text or image path)\n",
    "    \"\"\"\n",
    "    try:\n",
    "        # TODO: Create message document\n",
    "        message = {\n",
    "            \"session_id\": session_id,\n",
    "            \"role\": role,\n",
    "            \"type\": type,\n",
    "            \"content\": content,\n",
    "            \"timestamp\": datetime.now(),\n",
    "        }\n",
    "        \n",
    "        # TODO: Insert message into history collection\n",
    "        history_collection.insert_one(message)\n",
    "        \n",
    "    except Exception as e:\n",
    "        show_error(f\"Failed to store chat message: {e}\")\n",
    "\n",
    "show_success(\"Chat message storage function created!\")"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": [
    "def retrieve_session_history(session_id: str) -> List:\n",
    "    \"\"\"\n",
    "    Retrieve chat history for a particular session.\n",
    "\n",
    "    Args:\n",
    "        session_id (str): Session ID\n",
    "\n",
    "    Returns:\n",
    "        List: List of messages (text and images)\n",
    "    \"\"\"\n",
    "    try:\n",
    "        show_info(\"üìö Reference: https://pymongo.readthedocs.io/en/stable/api/pymongo/cursor.html#pymongo.cursor.Cursor.sort\")\n",
    "        \n",
    "        # TODO: Query history collection and sort by timestamp\n",
    "        cursor = history_collection.find({\"session_id\": session_id}).sort(\"timestamp\", 1)\n",
    "        \n",
    "        messages = []\n",
    "        if cursor:\n",
    "            for msg in cursor:\n",
    "                # If message type is text, append content as is\n",
    "                if msg[\"type\"] == \"text\":\n",
    "                    messages.append(msg[\"content\"])\n",
    "                # If message type is image, open and append the image\n",
    "                elif msg[\"type\"] == \"image\":\n",
    "                    try:\n",
    "                        messages.append(Image.open(msg[\"content\"]))\n",
    "                    except Exception as e:\n",
    "                        show_warning(f\"Could not load image {msg['content']}: {e}\")\n",
    "        \n",
    "        return messages\n",
    "        \n",
    "    except Exception as e:\n",
    "        show_error(f\"Failed to retrieve session history: {e}\")\n",
    "        return []\n",
    "\n",
    "show_success(\"Session history retrieval function created!\")"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": [
    "# Enhanced generate_answer function with memory\n",
    "def generate_answer_with_memory(session_id: str, user_query: str, images: List = []) -> str:\n",
    "    \"\"\"\n",
    "    Execute tools and generate response with conversation memory.\n",
    "\n",
    "    Args:\n",
    "        session_id (str): Session ID for conversation tracking\n",
    "        user_query (str): User's query string\n",
    "        images (List): List of image file paths. Defaults to [].\n",
    "\n",
    "    Returns:\n",
    "        str: LLM-generated response\n",
    "    \"\"\"\n",
    "    try:\n",
    "        # TODO: Retrieve conversation history\n",
    "        history = retrieve_session_history(session_id)\n",
    "        \n",
    "        show_info(f\"Retrieved {len(history)} previous messages for session {session_id}\")\n",
    "        \n",
    "        # Determine if tools need to be called\n",
    "        tool_call = select_tool(history + [user_query])\n",
    "        \n",
    "        if (\n",
    "            tool_call is not None\n",
    "            and tool_call.name == \"get_information_for_question_answering\"\n",
    "        ):\n",
    "            show_info(f\"üõ†Ô∏è Agent calling tool: {tool_call.name}\")\n",
    "            tool_images = get_information_for_question_answering(**tool_call.args)\n",
    "            images.extend(tool_images)\n",
    "\n",
    "        # Generate response with history context\n",
    "        system_prompt = (\n",
    "            \"Answer the questions based on the provided context only. \"\n",
    "            \"If the context is not sufficient, say I DON'T KNOW. \"\n",
    "            \"DO NOT use any other information to answer the question.\"\n",
    "        )\n",
    "        \n",
    "        contents = (\n",
    "            [system_prompt]\n",
    "            + history\n",
    "            + [user_query]\n",
    "            + [Image.open(image) for image in images]\n",
    "        )\n",
    "        \n",
    "        response = gemini_client.models.generate_content(\n",
    "            model=LLM,\n",
    "            contents=contents,\n",
    "            config=types.GenerateContentConfig(temperature=0.0),\n",
    "        )\n",
    "        \n",
    "        answer = response.text\n",
    "        \n",
    "        # Store conversation in memory\n",
    "        # TODO: Store user query\n",
    "        store_chat_message(session_id, \"user\", \"text\", user_query)\n",
    "        \n",
    "        # TODO: Store image references\n",
    "        for image in images:\n",
    "            store_chat_message(session_id, \"user\", \"image\", image)\n",
    "        \n",
    "        # TODO: Store agent response\n",
    "        store_chat_message(session_id, \"agent\", \"text\", answer)\n",
    "        \n",
    "        return answer\n",
    "        \n",
    "    except Exception as e:\n",
    "        show_error(f\"Memory-enabled answer generation failed: {e}\")\n",
    "        return \"I apologize, but I encountered an error while processing your question.\"\n",
    "\n",
    "show_success(\"Memory-enabled answer generation function created!\")"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": [
    "# Enhanced execute_agent function with memory\n",
    "def execute_agent_with_memory(session_id: str, user_query: str, images: List = []) -> None:\n",
    "    \"\"\"\n",
    "    Execute the agent with conversation memory.\n",
    "\n",
    "    Args:\n",
    "        session_id (str): Session ID for conversation tracking\n",
    "        user_query (str): User query\n",
    "        images (List, optional): List of image file paths. Defaults to [].\n",
    "    \"\"\"\n",
    "    try:\n",
    "        show_info(f\"üß† Session {session_id} - Processing: {user_query}\")\n",
    "        \n",
    "        response = generate_answer_with_memory(session_id, user_query, images)\n",
    "        \n",
    "        show_success(\"ü§ñ Agent Response:\")\n",
    "        print(f\"\\n{response}\\n\")\n",
    "        \n",
    "    except Exception as e:\n",
    "        show_error(f\"Memory-enabled agent execution failed: {e}\")\n",
    "\n",
    "show_success(\"Memory-enabled agent execution function created!\")\n",
    "\n",
    "# Mark step complete\n",
    "try:\n",
    "    progress.mark_done(\"Memory Implementation\", score=100, \n",
    "                      notes=\"Conversation memory system implemented\")\n",
    "except NameError:\n",
    "    pass"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": [
    "# Test memory-enabled agent\n",
    "show_info(\"üß™ Testing memory-enabled agent...\")\n",
    "\n",
    "# First query in session\n",
    "show_info(\"Test 1: Initial query\")\n",
    "execute_agent_with_memory(\n",
    "    \"session_1\",\n",
    "    \"What is the Pass@1 accuracy of Deepseek R1 on the MATH500 benchmark?\",\n",
    ")"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": [
    "# Follow-up query to test memory\n",
    "show_info(\"Test 2: Follow-up query to test memory\")\n",
    "execute_agent_with_memory(\n",
    "    \"session_1\",\n",
    "    \"What did I just ask you?\",\n",
    ")"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "# Step 9: ReAct Agent Enhancement\n",
    "\n",
    "Implement a ReAct (Reasoning + Acting) agent that can reason about whether it has enough information and iteratively gather more data if needed."
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": [
    "def generate_answer_react(user_query: str, images: List = []) -> str:\n",
    "    \"\"\"\n",
    "    Implement a ReAct (Reasoning + Acting) agent.\n",
    "\n",
    "    Args:\n",
    "        user_query (str): User's query string\n",
    "        images (List): List of image file paths. Defaults to [].\n",
    "\n",
    "    Returns:\n",
    "        str: LLM-generated response\n",
    "    \"\"\"\n",
    "    try:\n",
    "        show_info(\"üß† Starting ReAct agent processing...\")\n",
    "        \n",
    "        # Define reasoning prompt\n",
    "        system_prompt = [\n",
    "            (\n",
    "                \"You are an AI assistant. Based on the current information, decide if you have enough to answer the user query, or if you need more information. \"\n",
    "                \"If you have enough information, respond with 'ANSWER: <your answer>'. \"\n",
    "                \"If you need more information, respond with 'TOOL: <question for the tool>'. Keep the question concise. \"\n",
    "                f\"User query: {user_query}\\n\"\n",
    "                \"Current information:\\n\"\n",
    "            )\n",
    "        ]\n",
    "        \n",
    "        # Set max iterations to prevent infinite loops\n",
    "        max_iterations = 3\n",
    "        current_iteration = 0\n",
    "        \n",
    "        # Initialize list to accumulate information\n",
    "        current_information = []\n",
    "\n",
    "        # If the user provided images, add them to current information\n",
    "        if len(images) != 0:\n",
    "            current_information.extend([Image.open(image) for image in images])\n",
    "            show_info(f\"Added {len(images)} user-provided images to context\")\n",
    "\n",
    "        # Run the reasoning ‚Üí action loop\n",
    "        while current_iteration < max_iterations:\n",
    "            current_iteration += 1\n",
    "            show_info(f\"üîÑ ReAct Iteration {current_iteration}:\")\n",
    "            \n",
    "            # Generate reasoning and decision\n",
    "            response = gemini_client.models.generate_content(\n",
    "                model=LLM,\n",
    "                contents=system_prompt + current_information,\n",
    "                config=types.GenerateContentConfig(temperature=0.0),\n",
    "            )\n",
    "            \n",
    "            decision = response.text\n",
    "            show_info(f\"üí≠ Agent decision: {decision[:100]}...\")\n",
    "            \n",
    "            # If the agent has the final answer, return it\n",
    "            if \"ANSWER:\" in decision:\n",
    "                final_answer = decision.split(\"ANSWER:\", 1)[1].strip()\n",
    "                show_success(f\"‚úÖ Final answer reached in {current_iteration} iterations\")\n",
    "                return final_answer\n",
    "            \n",
    "            # If the agent decides to use a tool\n",
    "            elif \"TOOL:\" in decision:\n",
    "                tool_query = decision.split(\"TOOL:\", 1)[1].strip()\n",
    "                show_info(f\"üõ†Ô∏è Agent requesting tool with query: {tool_query}\")\n",
    "                \n",
    "                # Use tool selection to get the function call\n",
    "                tool_call = select_tool([tool_query])\n",
    "                \n",
    "                if (\n",
    "                    tool_call is not None\n",
    "                    and tool_call.name == \"get_information_for_question_answering\"\n",
    "                ):\n",
    "                    show_info(f\"üìä Calling vector search with: {tool_call.args}\")\n",
    "                    \n",
    "                    # Call the tool and add results to current information\n",
    "                    tool_images = get_information_for_question_answering(**tool_call.args)\n",
    "                    \n",
    "                    if tool_images:\n",
    "                        new_images = [Image.open(image) for image in tool_images]\n",
    "                        current_information.extend(new_images)\n",
    "                        show_success(f\"‚ûï Added {len(new_images)} retrieved images to context\")\n",
    "                    else:\n",
    "                        show_warning(\"No relevant images found\")\n",
    "                        current_information.append(\"No relevant visual information found for this query.\")\n",
    "                else:\n",
    "                    show_warning(\"Tool selection failed or returned unexpected tool\")\n",
    "                    current_information.append(\"Tool call failed.\")\n",
    "            else:\n",
    "                show_warning(\"Agent response didn't contain ANSWER or TOOL directive\")\n",
    "                current_information.append(\"Unable to determine next action.\")\n",
    "        \n",
    "        # If we've exhausted iterations without a final answer\n",
    "        show_warning(f\"‚ö†Ô∏è Reached maximum iterations ({max_iterations}) without final answer\")\n",
    "        return \"I apologize, but I couldn't find a definitive answer after exploring the available information. Please try rephrasing your question or asking for more specific details.\"\n",
    "        \n",
    "    except Exception as e:\n",
    "        show_error(f\"ReAct agent failed: {e}\")\n",
    "        return \"I apologize, but I encountered an error while processing your question with the ReAct approach.\"\n",
    "\n",
    "show_success(\"ReAct agent implementation completed!\")"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": [
    "def execute_react_agent(user_query: str, images: List = []) -> None:\n",
    "    \"\"\"\n",
    "    Execute the ReAct agent.\n",
    "\n",
    "    Args:\n",
    "        user_query (str): User query\n",
    "        images (List, optional): List of image file paths. Defaults to [].\n",
    "    \"\"\"\n",
    "    try:\n",
    "        show_info(f\"ü¶∏‚Äç‚ôÄÔ∏è ReAct Agent Processing: {user_query}\")\n",
    "        \n",
    "        response = generate_answer_react(user_query, images)\n",
    "        \n",
    "        show_success(\"ü§ñ ReAct Agent Final Response:\")\n",
    "        print(f\"\\n{response}\\n\")\n",
    "        \n",
    "    except Exception as e:\n",
    "        show_error(f\"ReAct agent execution failed: {e}\")\n",
    "\n",
    "show_success(\"ReAct agent execution function created!\")\n",
    "\n",
    "# Mark final step complete\n",
    "try:\n",
    "    progress.mark_done(\"ReAct Agent Enhancement\", score=100, \n",
    "                      notes=\"ReAct reasoning and acting agent implemented\")\n",
    "except NameError:\n",
    "    pass"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": [
    "# Test ReAct agent\n",
    "show_info(\"üß™ Testing ReAct agent with iterative reasoning...\")\n",
    "\n",
    "# Test 1: Question requiring document search\n",
    "show_info(\"Test 1: Complex factual question\")\n",
    "execute_react_agent(\"What is the Pass@1 accuracy of Deepseek R1 on the MATH500 benchmark?\")"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": [
    "# Test 2: Image analysis (if available)\n",
    "if os.path.exists(\"data/test.png\"):\n",
    "    show_info(\"Test 2: Image analysis with ReAct\")\n",
    "    execute_react_agent(\"Explain the graph in this image:\", [\"data/test.png\"])\n",
    "else:\n",
    "    show_info(\"Test 2: Document page analysis with ReAct\")\n",
    "    if docs:\n",
    "        execute_react_agent(\"What technical concepts are discussed in this document page?\", [docs[0]['key']])"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "# üéâ Workshop Complete!\n",
    "\n",
    "Congratulations! You've successfully built a comprehensive multimodal AI agent system."
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": [
    "# Final progress summary\n",
    "try:\n",
    "    show_success(\"üéì Workshop Completed Successfully!\")\n",
    "    \n",
    "    # Display final progress\n",
    "    progress.display_progress(detailed=True)\n",
    "    \n",
    "    # Show completion statistics\n",
    "    completion_rate = progress.get_completion_rate()\n",
    "    avg_score = progress.get_average_score()\n",
    "    \n",
    "    show_info(f\"üìä Overall Completion: {completion_rate:.1f}%\")\n",
    "    if avg_score:\n",
    "        show_info(f\"üìà Average Score: {avg_score:.1f}/100\")\n",
    "    \n",
    "    # Show what was accomplished\n",
    "    show_success(\"\"\"\n",
    "    üöÄ What You've Built:\n",
    "    \n",
    "    ‚úÖ PDF processing pipeline for multimodal content\n",
    "    ‚úÖ MongoDB Atlas vector search integration\n",
    "    ‚úÖ AI agent with function calling capabilities\n",
    "    ‚úÖ Conversational memory system\n",
    "    ‚úÖ ReAct (Reasoning + Acting) agent architecture\n",
    "    ‚úÖ End-to-end multimodal AI application\n",
    "    \"\"\")\n",
    "    \n",
    "    # Next steps\n",
    "    show_info(\"\"\"\n",
    "    üéØ Next Steps:\n",
    "    \n",
    "    ‚Ä¢ Experiment with different types of documents and queries\n",
    "    ‚Ä¢ Modify the agent to work with your own data\n",
    "    ‚Ä¢ Add more sophisticated reasoning capabilities\n",
    "    ‚Ä¢ Integrate with web interfaces or chat applications\n",
    "    ‚Ä¢ Explore other multimodal models and embeddings\n",
    "    \"\"\")\n",
    "    \n",
    "except NameError:\n",
    "    show_success(\"üéì Workshop completed successfully!\")\n",
    "    show_info(\"All agent implementations are ready for use.\")"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": [
    "# Optional: Export progress analytics\n",
    "try:\n",
    "    if hasattr(progress, 'export_analytics_json'):\n",
    "        analytics_file = progress.export_analytics_json()\n",
    "        show_success(f\"üìÑ Progress analytics exported to: {analytics_file}\")\n",
    "        \n",
    "        # Show summary\n",
    "        summary = progress.get_analytics_summary()\n",
    "        if summary:\n",
    "            show_info(f\"‚è±Ô∏è Total session time: {summary.get('session_duration', 'N/A')} seconds\")\n",
    "            show_info(f\"üìù Total interactions: {summary.get('total_events', 'N/A')}\")\n",
    "except (NameError, AttributeError):\n",
    "    pass\n",
    "\n",
    "show_success(\"Thank you for completing the Multimodal Agents Workshop! üôè\")"
   ]
  }
 ],
 "metadata": {
  "kernelspec": {
   "display_name": "Python 3 (ipykernel)",
   "language": "python",
   "name": "python3"
  },
  "language_info": {
   "codemirror_mode": {
    "name": "ipython",
    "version": 3
   },
   "file_extension": ".py",
   "mimetype": "text/x-python",
   "name": "python",
   "nbconvert_exporter": "python",
   "pygments_lexer": "ipython3",
   "version": "3.12.3"
  }
 },
 "nbformat": 4,
 "nbformat_minor": 4
}
```

# static/notebooks/multimodal_agents_lab_voyageai.ipynb

```ipynb
{
 "cells": [
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "# Multimodal Agents Workshop with VoyageAI Python Client\n",
    "\n",
    "This version of the multimodal agents workshop uses the new VoyageAI Python client library for simplified embedding generation and MongoDB Atlas Vector Search integration.\n",
    "\n",
    "**Workshop Overview:**\n",
    "- Build a multimodal AI agent that can analyze documents and images\n",
    "- Use MongoDB Atlas Vector Search for retrieval\n",
    "- Implement function calling with Gemini 2.0 Flash\n",
    "- Add memory and ReAct reasoning capabilities\n",
    "- **NEW**: Streamlined VoyageAI integration with the official Python client\n",
    "\n",
    "## üéØ Learning Objectives\n",
    "By the end of this workshop, you will be able to:\n",
    "- Process PDFs and extract images for multimodal search\n",
    "- Set up MongoDB Atlas vector search indexes\n",
    "- Build an AI agent with tool calling capabilities\n",
    "- Implement session-based memory for conversational agents\n",
    "- Create a ReAct (Reasoning + Acting) agent architecture\n",
    "- **NEW**: Use the VoyageAI Python client for production-ready embeddings"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": [
    "# Initialize progress tracking and lab utilities\n",
    "import sys\n",
    "import os\n",
    "\n",
    "# Force load from development source if available\n",
    "dev_path = \"/Users/michael.lynn/code/mongodb/developer-days/jupyter-utils/jupyter-lab-progress\"\n",
    "if os.path.exists(dev_path) and dev_path not in sys.path:\n",
    "    sys.path.insert(0, dev_path)\n",
    "\n",
    "# Remove any cached modules\n",
    "modules_to_remove = [key for key in sys.modules.keys() if key.startswith('jupyter_lab_progress')]\n",
    "for module in modules_to_remove:\n",
    "    del sys.modules[module]\n",
    "\n",
    "try:\n",
    "    from jupyter_lab_progress import (\n",
    "        LabProgress, LabValidator, show_info, show_warning, \n",
    "        show_success, show_error, show_hint\n",
    "    )\n",
    "    show_success(\"Progress tracking libraries loaded successfully! üéâ\")\n",
    "except ImportError as e:\n",
    "    print(f\"Warning: Could not import progress tracking: {e}\")\n",
    "    print(\"Installing basic fallbacks...\")\n",
    "    def show_info(msg, title=None): print(f\"‚ÑπÔ∏è {title or 'Info'}: {msg}\")\n",
    "    def show_warning(msg, title=None): print(f\"‚ö†Ô∏è {title or 'Warning'}: {msg}\")\n",
    "    def show_success(msg, title=None): print(f\"‚úÖ {title or 'Success'}: {msg}\")\n",
    "    def show_error(msg, title=None): print(f\"‚ùå {title or 'Error'}: {msg}\")\n",
    "    def show_hint(msg, title=None): print(f\"üí° {title or 'Hint'}: {msg}\")"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": [
    "# Set up comprehensive lab progress tracking\n",
    "try:\n",
    "    progress = LabProgress(\n",
    "        steps=[\n",
    "            \"Environment Setup\",\n",
    "            \"VoyageAI Client Setup\",\n",
    "            \"PDF Processing\", \n",
    "            \"Embedding Generation\",\n",
    "            \"Data Ingestion\",\n",
    "            \"Vector Index Creation\",\n",
    "            \"Agent Tools Setup\",\n",
    "            \"LLM Integration\",\n",
    "            \"Basic Agent Testing\",\n",
    "            \"Memory Implementation\",\n",
    "            \"ReAct Agent Enhancement\"\n",
    "        ],\n",
    "        lab_name=\"Multimodal Agents with VoyageAI Client\",\n",
    "        persist=True\n",
    "    )\n",
    "    \n",
    "    # Set up validation\n",
    "    validator = LabValidator(progress_tracker=progress)\n",
    "    \n",
    "    show_success(\"Lab progress tracking initialized!\")\n",
    "    show_info(f\"Workshop: {progress.lab_name}\")\n",
    "    show_info(f\"Total steps: {len(progress.steps)}\")\n",
    "    \n",
    "except NameError:\n",
    "    show_info(\"Running without progress tracking\")"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "# Step 1: Environment Setup\n",
    "\n",
    "Let's start by setting up our environment and connecting to MongoDB Atlas."
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": [
    "# Show step guidance\n",
    "try:\n",
    "    progress.show_step_tips(\"Environment Setup\")\n",
    "except (NameError, AttributeError):\n",
    "    show_info(\"Setting up environment and connections...\")"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": [
    "import os\n",
    "from pymongo import MongoClient\n",
    "\n",
    "# Load environment variables from .env if available\n",
    "from pathlib import Path\n",
    "env_path = Path('.') / '.env'\n",
    "if env_path.exists():\n",
    "    with open(env_path) as f:\n",
    "        for line in f:\n",
    "            if '=' in line and not line.strip().startswith('#'):\n",
    "                key, value = line.strip().split('=', 1)\n",
    "                os.environ[key] = value.strip('\"\\'')\n",
    "    show_info(\"Loaded environment variables from .env file\")\n",
    "\n",
    "# Check environment variables\n",
    "required_vars = [\"MONGODB_URI\"]\n",
    "optional_vars = [\"SERVERLESS_URL\", \"VOYAGE_API_KEY\"]\n",
    "\n",
    "missing_vars = [var for var in required_vars if not os.getenv(var)]\n",
    "available_optional = [var for var in optional_vars if os.getenv(var)]\n",
    "\n",
    "if missing_vars:\n",
    "    show_error(f\"Missing required environment variables: {missing_vars}\")\n",
    "    show_info(\"Please set the required environment variables before proceeding\")\n",
    "else:\n",
    "    show_success(\"All required environment variables are set!\")\n",
    "    \n",
    "if available_optional:\n",
    "    show_info(f\"Optional variables available: {available_optional}\")\n",
    "\n",
    "# Validate connection variables\n",
    "try:\n",
    "    validator.validate_variable_exists(\"MONGODB_URI\", {\"MONGODB_URI\": os.getenv(\"MONGODB_URI\")}, str)\n",
    "except NameError:\n",
    "    pass"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": [
    "# Connect to MongoDB Atlas\n",
    "MONGODB_URI = os.getenv(\"MONGODB_URI\")\n",
    "SERVERLESS_URL = os.getenv(\"SERVERLESS_URL\")  # Optional fallback\n",
    "LLM_PROVIDER = \"google\"\n",
    "\n",
    "# Initialize MongoDB client\n",
    "try:\n",
    "    mongodb_client = MongoClient(MONGODB_URI)\n",
    "    # Test the connection\n",
    "    result = mongodb_client.admin.command(\"ping\")\n",
    "    \n",
    "    if result.get(\"ok\") == 1:\n",
    "        show_success(\"Successfully connected to MongoDB Atlas! üéâ\")\n",
    "        \n",
    "        # Mark step as complete\n",
    "        try:\n",
    "            progress.mark_done(\"Environment Setup\", score=100, notes=\"MongoDB connection successful\")\n",
    "        except NameError:\n",
    "            pass\n",
    "    else:\n",
    "        show_error(\"MongoDB connection failed\")\n",
    "        \n",
    "except Exception as e:\n",
    "    show_error(f\"Connection error: {e}\")\n",
    "    show_hint(\"Check your connection string and network access settings\", \n",
    "             \"Connection Troubleshooting\")"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "# Step 2: VoyageAI Client Setup\n",
    "\n",
    "Initialize the VoyageAI Python client for embedding generation."
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": [
    "# Show step guidance\n",
    "try:\n",
    "    progress.show_step_tips(\"VoyageAI Client Setup\")\n",
    "except (NameError, AttributeError):\n",
    "    show_info(\"Setting up VoyageAI client...\")"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": [
    "import voyageai\n",
    "import requests\n",
    "import numpy as np\n",
    "\n",
    "# Initialize VoyageAI client\n",
    "VOYAGE_API_KEY = os.getenv(\"VOYAGE_API_KEY\")\n",
    "\n",
    "if VOYAGE_API_KEY:\n",
    "    # Use direct API key\n",
    "    voyage_client = voyageai.Client(api_key=VOYAGE_API_KEY)\n",
    "    show_success(\"VoyageAI client initialized with API key! üöÄ\")\n",
    "    USE_VOYAGE_CLIENT = True\n",
    "elif SERVERLESS_URL:\n",
    "    # Fallback to serverless endpoint\n",
    "    show_info(\"Using serverless endpoint for embeddings (fallback mode)\")\n",
    "    USE_VOYAGE_CLIENT = False\n",
    "else:\n",
    "    show_warning(\"No VoyageAI API key or serverless URL available\")\n",
    "    show_info(\"VoyageAI free tier will be used with limitations\")\n",
    "    voyage_client = voyageai.Client()  # Uses free tier\n",
    "    USE_VOYAGE_CLIENT = True\n",
    "\n",
    "# Normalize vector function (MongoDB doesn't auto-normalize)\n",
    "def normalize_vector(v):\n",
    "    \"\"\"Normalize a vector to unit length.\"\"\"\n",
    "    norm = np.linalg.norm(v)\n",
    "    return v / norm if norm > 0 else v\n",
    "\n",
    "show_success(\"Vector normalization utility ready\")\n",
    "\n",
    "# Mark step complete\n",
    "try:\n",
    "    progress.mark_done(\"VoyageAI Client Setup\", score=100, \n",
    "                      notes=\"VoyageAI client configured\")\n",
    "except NameError:\n",
    "    pass"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "# Step 3: PDF Processing\n",
    "\n",
    "Download a research paper and extract pages as images for multimodal processing."
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": [
    "# Show step guidance\n",
    "try:\n",
    "    progress.show_step_tips(\"PDF Processing\")\n",
    "except (NameError, AttributeError):\n",
    "    show_info(\"Processing PDF and extracting images...\")"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": [
    "import pymupdf\n",
    "from pathlib import Path\n",
    "\n",
    "# Create directory for images\n",
    "Path(\"data/images\").mkdir(parents=True, exist_ok=True)\n",
    "\n",
    "show_info(\"üìö Reference: https://pymupdf.readthedocs.io/en/latest/how-to-open-a-file.html#opening-remote-files\")"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": [
    "# Download the DeepSeek paper\n",
    "try:\n",
    "    show_info(\"Downloading DeepSeek R1 research paper...\")\n",
    "    response = requests.get(\"https://arxiv.org/pdf/2501.12948\")\n",
    "    \n",
    "    if response.status_code != 200:\n",
    "        raise ValueError(f\"Failed to download PDF. Status code: {response.status_code}\")\n",
    "    \n",
    "    # Get the content of the response\n",
    "    pdf_stream = response.content\n",
    "    show_success(f\"PDF downloaded successfully! Size: {len(pdf_stream)} bytes\")\n",
    "    \n",
    "    # Open the data in `pdf_stream` as a PDF document\n",
    "    pdf = pymupdf.Document(stream=pdf_stream, filetype=\"pdf\")\n",
    "    \n",
    "    show_success(f\"PDF loaded! Pages: {pdf.page_count}\")\n",
    "    \n",
    "    # Validate PDF processing\n",
    "    try:\n",
    "        validator.validate_variable_exists('pdf', locals(), pymupdf.Document)\n",
    "        validator.validate_custom(\n",
    "            pdf.page_count > 0,\n",
    "            \"PDF has valid page count\",\n",
    "            \"PDF appears to be empty or corrupted\"\n",
    "        )\n",
    "    except NameError:\n",
    "        pass\n",
    "        \n",
    "except Exception as e:\n",
    "    show_error(f\"PDF processing failed: {e}\")\n",
    "    show_hint(\"Check your internet connection and try again\", \"Download Issue\")"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": [
    "# Extract pages as images\n",
    "from tqdm import tqdm\n",
    "\n",
    "docs = []\n",
    "zoom = 3.0\n",
    "\n",
    "show_info(\"üìö Reference: https://pymupdf.readthedocs.io/en/latest/page.html#Page.get_pixmap\")\n",
    "\n",
    "try:\n",
    "    # Set image matrix dimensions\n",
    "    mat = pymupdf.Matrix(zoom, zoom)\n",
    "    \n",
    "    show_info(f\"Extracting {pdf.page_count} pages as images...\")\n",
    "    \n",
    "    # Track partial progress\n",
    "    total_pages = pdf.page_count\n",
    "    \n",
    "    # Iterate through the pages of the PDF\n",
    "    for n in tqdm(range(pdf.page_count), desc=\"Extracting pages\"):\n",
    "        temp = {}\n",
    "        \n",
    "        # Use the `get_pixmap` method to render the PDF page\n",
    "        pix = pdf[n].get_pixmap(matrix=mat)\n",
    "        \n",
    "        # Store image locally\n",
    "        key = f\"data/images/{n+1}.png\"\n",
    "        pix.save(key)\n",
    "        \n",
    "        # Extract image metadata\n",
    "        temp[\"key\"] = key\n",
    "        temp[\"width\"] = pix.width\n",
    "        temp[\"height\"] = pix.height\n",
    "        temp[\"page_number\"] = n + 1\n",
    "        docs.append(temp)\n",
    "    \n",
    "    show_success(f\"Successfully extracted {len(docs)} pages as images!\")\n",
    "    show_info(f\"Images saved to: data/images/\")\n",
    "    \n",
    "    # Mark step complete\n",
    "    try:\n",
    "        progress.mark_done(\"PDF Processing\", score=95, \n",
    "                          notes=f\"Extracted {len(docs)} pages\")\n",
    "    except (NameError, AttributeError):\n",
    "        pass\n",
    "        \n",
    "except Exception as e:\n",
    "    show_error(f\"Image extraction failed: {e}\")\n",
    "    show_hint(\"Ensure the data/images directory exists and is writable\", \"File Access\")"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "# Step 4: Embedding Generation with VoyageAI Client\n",
    "\n",
    "Generate multimodal embeddings using the VoyageAI Python client."
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": [
    "# Show step guidance\n",
    "try:\n",
    "    progress.show_step_tips(\"Embedding Generation\")\n",
    "except (NameError, AttributeError):\n",
    "    show_info(\"Generating embeddings with VoyageAI client...\")"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": "from PIL import Image\nimport json\nimport base64\nfrom io import BytesIO\n\ndef generate_embedding(data, input_type=\"document\", model=\"voyage-multimodal-3\"):\n    \"\"\"Generate embedding using VoyageAI client or fallback endpoint.\n    \n    Args:\n        data: PIL Image or text string\n        input_type: \"document\" or \"query\" (affects embedding optimization)\n        model: Model to use for embedding generation\n    \n    Returns:\n        list: Normalized embedding vector\n    \"\"\"\n    try:\n        if USE_VOYAGE_CLIENT:\n            # Use VoyageAI Python client - it handles PIL Images directly\n            if isinstance(data, Image.Image):\n                # For images, use multimodal embedding with proper input format\n                inputs = [[data]]  # VoyageAI expects nested list format\n                response = voyage_client.multimodal_embed(\n                    inputs=inputs, \n                    model=model, \n                    input_type=input_type\n                )\n                embedding = response.embeddings[0]\n            else:\n                # For text, use regular embedding\n                response = voyage_client.embed(\n                    texts=[str(data)],\n                    model=\"voyage-2\",  # Use text model for text\n                    input_type=input_type\n                )\n                embedding = response.embeddings[0]\n            \n            # Log usage for cost tracking\n            if hasattr(response, 'usage'):\n                show_info(f\"Token usage: {response.usage}\")\n            \n        else:\n            # Fallback to serverless endpoint - requires JSON-serializable format\n            if isinstance(data, Image.Image):\n                # Convert PIL Image to base64 for JSON serialization\n                buffered = BytesIO()\n                data.save(buffered, format=\"PNG\")\n                img_base64 = base64.b64encode(buffered.getvalue()).decode('utf-8')\n                input_data = img_base64\n            else:\n                input_data = str(data)\n            \n            response = requests.post(\n                url=SERVERLESS_URL,\n                json={\n                    \"task\": \"get_embedding\",\n                    \"data\": {\"input\": input_data, \"input_type\": input_type},\n                },\n            )\n            \n            if response.status_code != 200:\n                raise ValueError(f\"Serverless embedding failed: {response.status_code}\")\n            \n            embedding = response.json()[\"embedding\"]\n        \n        # Normalize the embedding (MongoDB doesn't do this automatically)\n        normalized_embedding = normalize_vector(np.array(embedding)).tolist()\n        \n        # Log vector norm for quality checking\n        norm = np.linalg.norm(normalized_embedding)\n        if abs(norm - 1.0) > 0.01:  # Should be close to 1.0 after normalization\n            show_warning(f\"Vector norm after normalization: {norm:.4f} (expected ~1.0)\")\n        \n        return normalized_embedding\n        \n    except Exception as e:\n        show_error(f\"Embedding generation failed: {e}\")\n        return None\n\nshow_success(\"Embedding generation function ready!\")"
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": [
    "# Generate embeddings for all extracted images\n",
    "embedded_docs = []\n",
    "\n",
    "try:\n",
    "    show_info(f\"Generating embeddings for {len(docs)} images...\")\n",
    "    \n",
    "    # Process images in batches for efficiency\n",
    "    batch_size = 10  # Adjust based on API limits\n",
    "    \n",
    "    for i in tqdm(range(0, len(docs), batch_size), desc=\"Processing batches\"):\n",
    "        batch = docs[i:i+batch_size]\n",
    "        \n",
    "        for doc in batch:\n",
    "            try:\n",
    "                # Load the image\n",
    "                img = Image.open(doc['key'])\n",
    "                \n",
    "                # Generate embedding using the new client\n",
    "                embedding = generate_embedding(img, input_type=\"document\")\n",
    "                \n",
    "                if embedding:\n",
    "                    doc[\"embedding\"] = embedding\n",
    "                    embedded_docs.append(doc)\n",
    "                    \n",
    "                    # Validate embedding properties\n",
    "                    if len(embedding) != 1024:\n",
    "                        show_warning(f\"Unexpected embedding dimension: {len(embedding)} (expected 1024)\")\n",
    "                else:\n",
    "                    show_warning(f\"Failed to generate embedding for {doc['key']}\")\n",
    "                    \n",
    "            except Exception as e:\n",
    "                show_error(f\"Error processing {doc['key']}: {e}\")\n",
    "    \n",
    "    show_success(f\"Successfully generated embeddings for {len(embedded_docs)} documents!\")\n",
    "    \n",
    "    # Save embeddings to file for future use\n",
    "    Path(\"data\").mkdir(exist_ok=True)\n",
    "    with open(\"data/embeddings_voyageai.json\", \"w\") as f:\n",
    "        json.dump(embedded_docs, f)\n",
    "    \n",
    "    show_info(\"Embeddings saved to data/embeddings_voyageai.json\")\n",
    "    \n",
    "    # Mark step complete\n",
    "    try:\n",
    "        progress.mark_done(\"Embedding Generation\", score=100, \n",
    "                          notes=f\"Generated {len(embedded_docs)} embeddings\")\n",
    "    except NameError:\n",
    "        pass\n",
    "        \n",
    "except Exception as e:\n",
    "    show_error(f\"Batch embedding generation failed: {e}\")\n",
    "    show_hint(\"Check your API key and rate limits\", \"API Error\")"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "# Step 5: Data Ingestion\n",
    "\n",
    "Ingest the generated embeddings into MongoDB Atlas."
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": [
    "# Database configuration\n",
    "DB_NAME = \"mongodb_aiewf\"\n",
    "COLLECTION_NAME = \"multimodal_workshop_voyageai\"\n",
    "\n",
    "# Connect to the collection\n",
    "collection = mongodb_client[DB_NAME][COLLECTION_NAME]\n",
    "\n",
    "show_info(f\"Connected to database: {DB_NAME}\")\n",
    "show_info(f\"Using collection: {COLLECTION_NAME}\")"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": [
    "# Ingest data into MongoDB\n",
    "show_info(\"üìö Reference: https://pymongo.readthedocs.io/en/stable/api/pymongo/collection.html#pymongo.collection.Collection.insert_many\")\n",
    "\n",
    "try:\n",
    "    # Clear existing documents\n",
    "    delete_result = collection.delete_many({})\n",
    "    show_info(f\"Deleted {delete_result.deleted_count} existing documents\")\n",
    "    \n",
    "    # Use the newly generated embeddings or load from file\n",
    "    data_to_ingest = embedded_docs if embedded_docs else []\n",
    "    \n",
    "    if not data_to_ingest:\n",
    "        # Try to load from saved file\n",
    "        try:\n",
    "            with open(\"data/embeddings_voyageai.json\", \"r\") as f:\n",
    "                data_to_ingest = json.load(f)\n",
    "            show_info(f\"Loaded {len(data_to_ingest)} documents from saved embeddings\")\n",
    "        except FileNotFoundError:\n",
    "            show_error(\"No embeddings data available for ingestion\")\n",
    "            raise\n",
    "    \n",
    "    # Bulk insert documents into the collection\n",
    "    insert_result = collection.insert_many(data_to_ingest)\n",
    "    \n",
    "    # Verify insertion\n",
    "    doc_count = collection.count_documents({})\n",
    "    \n",
    "    show_success(f\"Successfully ingested {doc_count} documents into {COLLECTION_NAME}! üéâ\")\n",
    "    \n",
    "    # Validate ingestion\n",
    "    try:\n",
    "        validator.validate_custom(\n",
    "            doc_count == len(data_to_ingest),\n",
    "            \"All documents ingested successfully\",\n",
    "            f\"Document count mismatch: expected {len(data_to_ingest)}, got {doc_count}\"\n",
    "        )\n",
    "        \n",
    "        progress.mark_done(\"Data Ingestion\", score=100, \n",
    "                          notes=f\"Ingested {doc_count} documents\")\n",
    "    except NameError:\n",
    "        pass\n",
    "        \n",
    "except Exception as e:\n",
    "    show_error(f\"Data ingestion failed: {e}\")\n",
    "    show_hint(\"Check your MongoDB connection and permissions\", \"Database Error\")"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "# Step 6: Vector Search Index Creation\n",
    "\n",
    "Create a vector search index to enable similarity search on our multimodal embeddings."
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": [
    "# Show step guidance\n",
    "try:\n",
    "    progress.show_step_tips(\"Vector Index Creation\")\n",
    "except (NameError, AttributeError):\n",
    "    show_info(\"Creating vector search index...\")"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": [
    "VS_INDEX_NAME = \"vector_index_voyageai\"\n",
    "\n",
    "# Define vector index configuration\n",
    "model = {\n",
    "    \"name\": VS_INDEX_NAME,\n",
    "    \"type\": \"vectorSearch\",\n",
    "    \"definition\": {\n",
    "        \"fields\": [\n",
    "            {\n",
    "                \"type\": \"vector\",\n",
    "                \"path\": \"embedding\",\n",
    "                \"numDimensions\": 1024,\n",
    "                \"similarity\": \"cosine\",\n",
    "            }\n",
    "        ]\n",
    "    },\n",
    "}\n",
    "\n",
    "show_info(f\"Index configuration: {VS_INDEX_NAME}\")\n",
    "show_info(\"Vector field: embedding\")\n",
    "show_info(\"Dimensions: 1024 (Voyage multimodal)\")\n",
    "show_info(\"Similarity metric: cosine\")"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": [
    "# Create the vector search index\n",
    "show_info(\"üìö Reference: https://pymongo.readthedocs.io/en/stable/api/pymongo/collection.html#pymongo.collection.Collection.create_search_index\")\n",
    "\n",
    "try:\n",
    "    # Check if index already exists\n",
    "    existing_indexes = list(collection.list_search_indexes())\n",
    "    index_exists = any(idx.get('name') == VS_INDEX_NAME for idx in existing_indexes)\n",
    "    \n",
    "    if index_exists:\n",
    "        show_info(f\"Index '{VS_INDEX_NAME}' already exists\")\n",
    "    else:\n",
    "        show_info(\"Creating vector search index...\")\n",
    "        \n",
    "        # Create the vector search index\n",
    "        collection.create_search_index(model=model)\n",
    "        \n",
    "        show_success(f\"Vector search index '{VS_INDEX_NAME}' created successfully! üéâ\")\n",
    "    \n",
    "    # Mark step complete\n",
    "    try:\n",
    "        progress.mark_done(\"Vector Index Creation\", score=100, \n",
    "                          notes=f\"Index '{VS_INDEX_NAME}' ready\")\n",
    "    except NameError:\n",
    "        pass\n",
    "        \n",
    "except Exception as e:\n",
    "    show_error(f\"Index creation failed: {e}\")\n",
    "    show_hint(\"Index creation may take a few minutes. Check Atlas UI to monitor progress\", \n",
    "             \"Index Status\")"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": [
    "# Verify index status\n",
    "try:\n",
    "    indexes = list(collection.list_search_indexes())\n",
    "    \n",
    "    show_info(\"Current search indexes:\")\n",
    "    for idx in indexes:\n",
    "        name = idx.get('name', 'Unknown')\n",
    "        status = idx.get('status', 'Unknown')\n",
    "        \n",
    "        if status == 'READY':\n",
    "            show_success(f\"‚úÖ {name}: {status}\")\n",
    "        else:\n",
    "            show_warning(f\"‚è≥ {name}: {status}\")\n",
    "    \n",
    "    # Check if our index is ready\n",
    "    our_index = next((idx for idx in indexes if idx.get('name') == VS_INDEX_NAME), None)\n",
    "    \n",
    "    if our_index and our_index.get('status') == 'READY':\n",
    "        show_success(f\"Index '{VS_INDEX_NAME}' is ready for vector search! üöÄ\")\n",
    "    else:\n",
    "        show_warning(f\"Index '{VS_INDEX_NAME}' is still building. Please wait...\")\n",
    "        show_hint(\"Index creation can take several minutes. Check the Atlas UI for progress.\", \n",
    "                 \"Index Building\")\n",
    "        \n",
    "except Exception as e:\n",
    "    show_error(f\"Failed to check index status: {e}\")"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "# Step 7: Agent Tools Setup\n",
    "\n",
    "Create the vector search tool using the VoyageAI client for query embeddings."
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": [
    "from typing import List\n",
    "\n",
    "show_info(\"üìö Reference: https://www.mongodb.com/docs/atlas/atlas-vector-search/vector-search-stage/#ann-examples\")"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": [
    "def get_information_for_question_answering(user_query: str) -> List[str]:\n",
    "    \"\"\"\n",
    "    Retrieve information using vector search to answer a user query.\n",
    "    Uses VoyageAI client for query embedding generation.\n",
    "\n",
    "    Args:\n",
    "        user_query (str): The user's query string.\n",
    "\n",
    "    Returns:\n",
    "        List[str]: List of image file paths retrieved from vector search.\n",
    "    \"\"\"\n",
    "    try:\n",
    "        show_info(f\"üîç Searching for: {user_query}\")\n",
    "        \n",
    "        # Generate query embedding using VoyageAI client\n",
    "        query_embedding = generate_embedding(user_query, input_type=\"query\")\n",
    "        \n",
    "        if not query_embedding:\n",
    "            show_error(\"Failed to generate query embedding\")\n",
    "            return []\n",
    "        \n",
    "        show_success(f\"Generated query embedding: {len(query_embedding)} dimensions\")\n",
    "\n",
    "        # Define aggregation pipeline with $vectorSearch and $project stages\n",
    "        pipeline = [\n",
    "            {\n",
    "                \"$vectorSearch\": {\n",
    "                    \"index\": VS_INDEX_NAME,\n",
    "                    \"path\": \"embedding\",\n",
    "                    \"queryVector\": query_embedding,\n",
    "                    \"numCandidates\": 150,  # Higher for better recall\n",
    "                    \"limit\": 2,  # Top results\n",
    "                }\n",
    "            },\n",
    "            {\n",
    "                \"$project\": {\n",
    "                    \"_id\": 0,\n",
    "                    \"key\": 1,\n",
    "                    \"width\": 1,\n",
    "                    \"height\": 1,\n",
    "                    \"page_number\": 1,\n",
    "                    \"score\": {\"$meta\": \"vectorSearchScore\"},\n",
    "                }\n",
    "            },\n",
    "        ]\n",
    "\n",
    "        # Execute the aggregation pipeline\n",
    "        results = list(collection.aggregate(pipeline))\n",
    "        \n",
    "        # Extract image keys and scores\n",
    "        keys = [result[\"key\"] for result in results]\n",
    "        scores = [result[\"score\"] for result in results]\n",
    "        \n",
    "        show_success(f\"Found {len(keys)} relevant images\")\n",
    "        for i, (key, score) in enumerate(zip(keys, scores)):\n",
    "            show_info(f\"  {i+1}. {key} (score: {score:.4f})\")\n",
    "        \n",
    "        return keys\n",
    "        \n",
    "    except Exception as e:\n",
    "        show_error(f\"Vector search failed: {e}\")\n",
    "        return []"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": [
    "# Define function declaration for Gemini function calling\n",
    "show_info(\"üìö Reference: https://ai.google.dev/gemini-api/docs/function-calling#step_1_define_function_declaration\")\n",
    "\n",
    "# Define the function declaration\n",
    "get_information_for_question_answering_declaration = {\n",
    "    \"name\": \"get_information_for_question_answering\",\n",
    "    \"description\": \"Retrieve information using vector search to answer a user query. Uses VoyageAI embeddings for enhanced similarity matching.\",\n",
    "    \"parameters\": {\n",
    "        \"type\": \"object\",\n",
    "        \"properties\": {\n",
    "            \"user_query\": {\n",
    "                \"type\": \"string\",\n",
    "                \"description\": \"Query string to use for vector search\",\n",
    "            }\n",
    "        },\n",
    "        \"required\": [\"user_query\"],\n",
    "    },\n",
    "}\n",
    "\n",
    "show_success(\"Function declaration created for Gemini integration!\")\n",
    "\n",
    "# Mark step complete\n",
    "try:\n",
    "    progress.mark_done(\"Agent Tools Setup\", score=100, \n",
    "                      notes=\"Vector search tool with VoyageAI client ready\")\n",
    "except NameError:\n",
    "    pass"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "# Step 8: LLM Integration\n",
    "\n",
    "Set up Gemini 2.0 Flash with function calling capabilities."
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": [
    "from google import genai\n",
    "from google.genai import types\n",
    "from google.genai.types import FunctionCall\n",
    "\n",
    "LLM = \"gemini-2.0-flash\"\n",
    "\n",
    "try:\n",
    "    # Get API key from serverless endpoint (if available) or use environment\n",
    "    api_key = None\n",
    "    \n",
    "    if SERVERLESS_URL:\n",
    "        show_info(\"Obtaining Gemini API key from serverless endpoint...\")\n",
    "        api_response = requests.post(\n",
    "            url=SERVERLESS_URL, \n",
    "            json={\"task\": \"get_api_key\", \"data\": LLM_PROVIDER}\n",
    "        )\n",
    "        \n",
    "        if api_response.status_code == 200:\n",
    "            api_key = api_response.json()[\"api_key\"]\n",
    "        else:\n",
    "            show_warning(f\"Failed to get API key from serverless: {api_response.status_code}\")\n",
    "    \n",
    "    # Fallback to environment variable\n",
    "    if not api_key:\n",
    "        api_key = os.getenv(\"GOOGLE_API_KEY\")\n",
    "        if api_key:\n",
    "            show_info(\"Using Gemini API key from environment\")\n",
    "        else:\n",
    "            raise ValueError(\"No Gemini API key available\")\n",
    "    \n",
    "    # Initialize Gemini client\n",
    "    gemini_client = genai.Client(api_key=api_key)\n",
    "    \n",
    "    show_success(f\"Gemini client initialized with model: {LLM}\")\n",
    "    \n",
    "    # Validate client setup\n",
    "    try:\n",
    "        validator.validate_variable_exists('gemini_client', locals(), genai.Client)\n",
    "    except NameError:\n",
    "        pass\n",
    "        \n",
    "except Exception as e:\n",
    "    show_error(f\"LLM setup failed: {e}\")\n",
    "    show_hint(\"Check your API key configuration\", \"API Key Error\")"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": [
    "# Create generation configuration\n",
    "try:\n",
    "    tools = types.Tool(\n",
    "        function_declarations=[get_information_for_question_answering_declaration]\n",
    "    )\n",
    "    tools_config = types.GenerateContentConfig(tools=[tools], temperature=0.0)\n",
    "    \n",
    "    show_success(\"Generation configuration created with function calling enabled!\")\n",
    "    show_info(\"Temperature: 0.0 (deterministic responses)\")\n",
    "    show_info(\"Available tools: get_information_for_question_answering\")\n",
    "    \n",
    "    # Mark step complete\n",
    "    try:\n",
    "        progress.mark_done(\"LLM Integration\", score=100, \n",
    "                          notes=\"Gemini 2.0 Flash configured with function calling\")\n",
    "    except NameError:\n",
    "        pass\n",
    "        \n",
    "except Exception as e:\n",
    "    show_error(f\"Configuration failed: {e}\")"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "# Step 9: Basic Agent Implementation\n",
    "\n",
    "Create the core agent functions for tool selection and response generation."
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": [
    "show_info(\"üìö Reference: https://ai.google.dev/gemini-api/docs/function-calling#step_4_create_user_friendly_response\")"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": [
    "def select_tool(messages: List) -> FunctionCall | None:\n",
    "    \"\"\"\n",
    "    Use an LLM to decide which tool to call.\n",
    "\n",
    "    Args:\n",
    "        messages (List): Messages as a list\n",
    "\n",
    "    Returns:\n",
    "        FunctionCall: Function call object or None\n",
    "    \"\"\"\n",
    "    try:\n",
    "        system_prompt = [\n",
    "            (\n",
    "                \"You're an AI assistant. Based on the given information, decide which tool to use. \"\n",
    "                \"If the user is asking to explain an image, don't call any tools unless that would help you better explain the image. \"\n",
    "                \"Here is the provided information:\\n\"\n",
    "            )\n",
    "        ]\n",
    "        \n",
    "        # Input to the LLM\n",
    "        contents = system_prompt + messages\n",
    "        \n",
    "        # Generate response using Gemini\n",
    "        response = gemini_client.models.generate_content(\n",
    "            model=LLM, contents=contents, config=tools_config\n",
    "        )\n",
    "        \n",
    "        # Extract and return the function call\n",
    "        if response.candidates and response.candidates[0].content.parts:\n",
    "            return response.candidates[0].content.parts[0].function_call\n",
    "        \n",
    "        return None\n",
    "        \n",
    "    except Exception as e:\n",
    "        show_error(f\"Tool selection failed: {e}\")\n",
    "        return None\n",
    "\n",
    "show_success(\"Tool selection function created!\")"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": [
    "def generate_answer(user_query: str, images: List = []) -> str:\n",
    "    \"\"\"\n",
    "    Execute any tools and generate a response.\n",
    "\n",
    "    Args:\n",
    "        user_query (str): User's query string\n",
    "        images (List): List of image file paths. Defaults to [].\n",
    "\n",
    "    Returns:\n",
    "        str: LLM-generated response\n",
    "    \"\"\"\n",
    "    try:\n",
    "        # Use select_tool to determine if we need to call any tools\n",
    "        tool_call = select_tool([user_query])\n",
    "        \n",
    "        # If a tool call is found and it's our vector search function\n",
    "        if (\n",
    "            tool_call is not None\n",
    "            and tool_call.name == \"get_information_for_question_answering\"\n",
    "        ):\n",
    "            show_info(f\"üõ†Ô∏è Agent calling tool: {tool_call.name}\")\n",
    "            \n",
    "            # Call the tool with the extracted arguments\n",
    "            tool_images = get_information_for_question_answering(**tool_call.args)\n",
    "            \n",
    "            # Add retrieved images to the input images\n",
    "            images.extend(tool_images)\n",
    "\n",
    "        # Prepare system prompt\n",
    "        system_prompt = (\n",
    "            \"Answer the questions based on the provided context only. \"\n",
    "            \"If the context is not sufficient, say I DON'T KNOW. \"\n",
    "            \"DO NOT use any other information to answer the question.\"\n",
    "        )\n",
    "        \n",
    "        # Prepare contents for the LLM\n",
    "        contents = [system_prompt] + [user_query] + [Image.open(image) for image in images]\n",
    "\n",
    "        # Get the response from the LLM\n",
    "        response = gemini_client.models.generate_content(\n",
    "            model=LLM,\n",
    "            contents=contents,\n",
    "            config=types.GenerateContentConfig(temperature=0.0),\n",
    "        )\n",
    "        \n",
    "        answer = response.text\n",
    "        return answer\n",
    "        \n",
    "    except Exception as e:\n",
    "        show_error(f\"Answer generation failed: {e}\")\n",
    "        return \"I apologize, but I encountered an error while processing your question.\"\n",
    "\n",
    "show_success(\"Answer generation function created!\")"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": [
    "def execute_agent(user_query: str, images: List = []) -> None:\n",
    "    \"\"\"\n",
    "    Execute the agent and display the response.\n",
    "\n",
    "    Args:\n",
    "        user_query (str): User query\n",
    "        images (List, optional): List of image file paths. Defaults to [].\n",
    "    \"\"\"\n",
    "    try:\n",
    "        show_info(f\"ü§ñ Processing query: {user_query}\")\n",
    "        \n",
    "        response = generate_answer(user_query, images)\n",
    "        \n",
    "        show_success(\"ü§ñ Agent Response:\")\n",
    "        print(f\"\\n{response}\\n\")\n",
    "        \n",
    "    except Exception as e:\n",
    "        show_error(f\"Agent execution failed: {e}\")\n",
    "\n",
    "show_success(\"Agent execution function created!\")\n",
    "\n",
    "# Mark step complete\n",
    "try:\n",
    "    progress.mark_done(\"Basic Agent Testing\", score=100, \n",
    "                      notes=\"Agent functions with VoyageAI integration ready\")\n",
    "except NameError:\n",
    "    pass"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": [
    "# Test the agent with different types of queries\n",
    "show_info(\"üß™ Testing the agent with sample queries...\")\n",
    "\n",
    "# Test 1: Text-based query requiring vector search\n",
    "show_info(\"Test 1: Factual question requiring document search\")\n",
    "execute_agent(\"What is the Pass@1 accuracy of Deepseek R1 on the MATH500 benchmark?\")"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": [
    "# Test 2: Image explanation\n",
    "import os\n",
    "\n",
    "if docs and len(docs) > 0:\n",
    "    show_info(\"Test 2: Document page analysis\")\n",
    "    execute_agent(\"What can you see in this document page?\", [docs[0]['key']])\n",
    "else:\n",
    "    show_warning(\"No document pages available for testing\")"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "# Step 10: Memory Implementation\n",
    "\n",
    "Add conversational memory to enable multi-turn conversations with context retention."
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": [
    "from datetime import datetime\n",
    "\n",
    "# Set up history collection\n",
    "history_collection = mongodb_client[DB_NAME][\"history_voyageai\"]\n",
    "\n",
    "show_info(f\"Setting up conversation memory in: {DB_NAME}.history_voyageai\")\n",
    "show_info(\"üìö Reference: https://pymongo.readthedocs.io/en/stable/api/pymongo/collection.html#pymongo.collection.Collection.create_index\")"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": [
    "# Create index for efficient session queries\n",
    "try:\n",
    "    # Create index on session_id field\n",
    "    history_collection.create_index(\"session_id\")\n",
    "    \n",
    "    show_success(\"Session index created for conversation history!\")\n",
    "    \n",
    "except Exception as e:\n",
    "    show_error(f\"Index creation failed: {e}\")"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": [
    "def store_chat_message(session_id: str, role: str, type: str, content: str) -> None:\n",
    "    \"\"\"\n",
    "    Create chat history document and store it in MongoDB.\n",
    "\n",
    "    Args:\n",
    "        session_id (str): Session ID\n",
    "        role (str): Message role, one of 'user' or 'agent'\n",
    "        type (str): Type of message, one of 'text' or 'image'\n",
    "        content (str): Content of the message (text or image path)\n",
    "    \"\"\"\n",
    "    try:\n",
    "        # Create message document\n",
    "        message = {\n",
    "            \"session_id\": session_id,\n",
    "            \"role\": role,\n",
    "            \"type\": type,\n",
    "            \"content\": content,\n",
    "            \"timestamp\": datetime.now(),\n",
    "        }\n",
    "        \n",
    "        # Insert message into history collection\n",
    "        history_collection.insert_one(message)\n",
    "        \n",
    "    except Exception as e:\n",
    "        show_error(f\"Failed to store chat message: {e}\")\n",
    "\n",
    "show_success(\"Chat message storage function created!\")"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": [
    "def retrieve_session_history(session_id: str) -> List:\n",
    "    \"\"\"\n",
    "    Retrieve chat history for a particular session.\n",
    "\n",
    "    Args:\n",
    "        session_id (str): Session ID\n",
    "\n",
    "    Returns:\n",
    "        List: List of messages (text and images)\n",
    "    \"\"\"\n",
    "    try:\n",
    "        show_info(\"üìö Reference: https://pymongo.readthedocs.io/en/stable/api/pymongo/cursor.html#pymongo.cursor.Cursor.sort\")\n",
    "        \n",
    "        # Query history collection and sort by timestamp\n",
    "        cursor = history_collection.find({\"session_id\": session_id}).sort(\"timestamp\", 1)\n",
    "        \n",
    "        messages = []\n",
    "        if cursor:\n",
    "            for msg in cursor:\n",
    "                # If message type is text, append content as is\n",
    "                if msg[\"type\"] == \"text\":\n",
    "                    messages.append(msg[\"content\"])\n",
    "                # If message type is image, open and append the image\n",
    "                elif msg[\"type\"] == \"image\":\n",
    "                    try:\n",
    "                        messages.append(Image.open(msg[\"content\"]))\n",
    "                    except Exception as e:\n",
    "                        show_warning(f\"Could not load image {msg['content']}: {e}\")\n",
    "        \n",
    "        return messages\n",
    "        \n",
    "    except Exception as e:\n",
    "        show_error(f\"Failed to retrieve session history: {e}\")\n",
    "        return []\n",
    "\n",
    "show_success(\"Session history retrieval function created!\")"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": [
    "# Enhanced generate_answer function with memory\n",
    "def generate_answer_with_memory(session_id: str, user_query: str, images: List = []) -> str:\n",
    "    \"\"\"\n",
    "    Execute tools and generate response with conversation memory.\n",
    "\n",
    "    Args:\n",
    "        session_id (str): Session ID for conversation tracking\n",
    "        user_query (str): User's query string\n",
    "        images (List): List of image file paths. Defaults to [].\n",
    "\n",
    "    Returns:\n",
    "        str: LLM-generated response\n",
    "    \"\"\"\n",
    "    try:\n",
    "        # Retrieve conversation history\n",
    "        history = retrieve_session_history(session_id)\n",
    "        \n",
    "        show_info(f\"Retrieved {len(history)} previous messages for session {session_id}\")\n",
    "        \n",
    "        # Determine if tools need to be called\n",
    "        tool_call = select_tool(history + [user_query])\n",
    "        \n",
    "        if (\n",
    "            tool_call is not None\n",
    "            and tool_call.name == \"get_information_for_question_answering\"\n",
    "        ):\n",
    "            show_info(f\"üõ†Ô∏è Agent calling tool: {tool_call.name}\")\n",
    "            tool_images = get_information_for_question_answering(**tool_call.args)\n",
    "            images.extend(tool_images)\n",
    "\n",
    "        # Generate response with history context\n",
    "        system_prompt = (\n",
    "            \"Answer the questions based on the provided context only. \"\n",
    "            \"If the context is not sufficient, say I DON'T KNOW. \"\n",
    "            \"DO NOT use any other information to answer the question.\"\n",
    "        )\n",
    "        \n",
    "        contents = (\n",
    "            [system_prompt]\n",
    "            + history\n",
    "            + [user_query]\n",
    "            + [Image.open(image) for image in images]\n",
    "        )\n",
    "        \n",
    "        response = gemini_client.models.generate_content(\n",
    "            model=LLM,\n",
    "            contents=contents,\n",
    "            config=types.GenerateContentConfig(temperature=0.0),\n",
    "        )\n",
    "        \n",
    "        answer = response.text\n",
    "        \n",
    "        # Store conversation in memory\n",
    "        # Store user query\n",
    "        store_chat_message(session_id, \"user\", \"text\", user_query)\n",
    "        \n",
    "        # Store image references\n",
    "        for image in images:\n",
    "            store_chat_message(session_id, \"user\", \"image\", image)\n",
    "        \n",
    "        # Store agent response\n",
    "        store_chat_message(session_id, \"agent\", \"text\", answer)\n",
    "        \n",
    "        return answer\n",
    "        \n",
    "    except Exception as e:\n",
    "        show_error(f\"Memory-enabled answer generation failed: {e}\")\n",
    "        return \"I apologize, but I encountered an error while processing your question.\"\n",
    "\n",
    "show_success(\"Memory-enabled answer generation function created!\")"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": [
    "# Enhanced execute_agent function with memory\n",
    "def execute_agent_with_memory(session_id: str, user_query: str, images: List = []) -> None:\n",
    "    \"\"\"\n",
    "    Execute the agent with conversation memory.\n",
    "\n",
    "    Args:\n",
    "        session_id (str): Session ID for conversation tracking\n",
    "        user_query (str): User query\n",
    "        images (List, optional): List of image file paths. Defaults to [].\n",
    "    \"\"\"\n",
    "    try:\n",
    "        show_info(f\"üß† Session {session_id} - Processing: {user_query}\")\n",
    "        \n",
    "        response = generate_answer_with_memory(session_id, user_query, images)\n",
    "        \n",
    "        show_success(\"ü§ñ Agent Response:\")\n",
    "        print(f\"\\n{response}\\n\")\n",
    "        \n",
    "    except Exception as e:\n",
    "        show_error(f\"Memory-enabled agent execution failed: {e}\")\n",
    "\n",
    "show_success(\"Memory-enabled agent execution function created!\")\n",
    "\n",
    "# Mark step complete\n",
    "try:\n",
    "    progress.mark_done(\"Memory Implementation\", score=100, \n",
    "                      notes=\"Conversation memory system implemented\")\n",
    "except NameError:\n",
    "    pass"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": [
    "# Test memory-enabled agent\n",
    "show_info(\"üß™ Testing memory-enabled agent...\")\n",
    "\n",
    "# First query in session\n",
    "show_info(\"Test 1: Initial query\")\n",
    "execute_agent_with_memory(\n",
    "    \"session_voyageai_1\",\n",
    "    \"What is the Pass@1 accuracy of Deepseek R1 on the MATH500 benchmark?\",\n",
    ")"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": [
    "# Follow-up query to test memory\n",
    "show_info(\"Test 2: Follow-up query to test memory\")\n",
    "execute_agent_with_memory(\n",
    "    \"session_voyageai_1\",\n",
    "    \"What did I just ask you?\",\n",
    ")"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "# Step 11: ReAct Agent Enhancement\n",
    "\n",
    "Implement a ReAct (Reasoning + Acting) agent that can reason about whether it has enough information and iteratively gather more data if needed."
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": [
    "def generate_answer_react(user_query: str, images: List = []) -> str:\n",
    "    \"\"\"\n",
    "    Implement a ReAct (Reasoning + Acting) agent with VoyageAI embeddings.\n",
    "\n",
    "    Args:\n",
    "        user_query (str): User's query string\n",
    "        images (List): List of image file paths. Defaults to [].\n",
    "\n",
    "    Returns:\n",
    "        str: LLM-generated response\n",
    "    \"\"\"\n",
    "    try:\n",
    "        show_info(\"üß† Starting ReAct agent processing with VoyageAI embeddings...\")\n",
    "        \n",
    "        # Define reasoning prompt\n",
    "        system_prompt = [\n",
    "            (\n",
    "                \"You are an AI assistant with access to high-quality VoyageAI embeddings for document search. \"\n",
    "                \"Based on the current information, decide if you have enough to answer the user query, or if you need more information. \"\n",
    "                \"If you have enough information, respond with 'ANSWER: <your answer>'. \"\n",
    "                \"If you need more information, respond with 'TOOL: <question for the tool>'. Keep the question concise. \"\n",
    "                f\"User query: {user_query}\\n\"\n",
    "                \"Current information:\\n\"\n",
    "            )\n",
    "        ]\n",
    "        \n",
    "        # Set max iterations to prevent infinite loops\n",
    "        max_iterations = 3\n",
    "        current_iteration = 0\n",
    "        \n",
    "        # Initialize list to accumulate information\n",
    "        current_information = []\n",
    "\n",
    "        # If the user provided images, add them to current information\n",
    "        if len(images) != 0:\n",
    "            current_information.extend([Image.open(image) for image in images])\n",
    "            show_info(f\"Added {len(images)} user-provided images to context\")\n",
    "\n",
    "        # Run the reasoning ‚Üí action loop\n",
    "        while current_iteration < max_iterations:\n",
    "            current_iteration += 1\n",
    "            show_info(f\"üîÑ ReAct Iteration {current_iteration}:\")\n",
    "            \n",
    "            # Generate reasoning and decision\n",
    "            response = gemini_client.models.generate_content(\n",
    "                model=LLM,\n",
    "                contents=system_prompt + current_information,\n",
    "                config=types.GenerateContentConfig(temperature=0.0),\n",
    "            )\n",
    "            \n",
    "            decision = response.text\n",
    "            show_info(f\"üí≠ Agent decision: {decision[:100]}...\")\n",
    "            \n",
    "            # If the agent has the final answer, return it\n",
    "            if \"ANSWER:\" in decision:\n",
    "                final_answer = decision.split(\"ANSWER:\", 1)[1].strip()\n",
    "                show_success(f\"‚úÖ Final answer reached in {current_iteration} iterations\")\n",
    "                return final_answer\n",
    "            \n",
    "            # If the agent decides to use a tool\n",
    "            elif \"TOOL:\" in decision:\n",
    "                tool_query = decision.split(\"TOOL:\", 1)[1].strip()\n",
    "                show_info(f\"üõ†Ô∏è Agent requesting tool with query: {tool_query}\")\n",
    "                \n",
    "                # Use tool selection to get the function call\n",
    "                tool_call = select_tool([tool_query])\n",
    "                \n",
    "                if (\n",
    "                    tool_call is not None\n",
    "                    and tool_call.name == \"get_information_for_question_answering\"\n",
    "                ):\n",
    "                    show_info(f\"üìä Calling VoyageAI-powered vector search with: {tool_call.args}\")\n",
    "                    \n",
    "                    # Call the tool and add results to current information\n",
    "                    tool_images = get_information_for_question_answering(**tool_call.args)\n",
    "                    \n",
    "                    if tool_images:\n",
    "                        new_images = [Image.open(image) for image in tool_images]\n",
    "                        current_information.extend(new_images)\n",
    "                        show_success(f\"‚ûï Added {len(new_images)} retrieved images to context\")\n",
    "                    else:\n",
    "                        show_warning(\"No relevant images found\")\n",
    "                        current_information.append(\"No relevant visual information found for this query.\")\n",
    "                else:\n",
    "                    show_warning(\"Tool selection failed or returned unexpected tool\")\n",
    "                    current_information.append(\"Tool call failed.\")\n",
    "            else:\n",
    "                show_warning(\"Agent response didn't contain ANSWER or TOOL directive\")\n",
    "                current_information.append(\"Unable to determine next action.\")\n",
    "        \n",
    "        # If we've exhausted iterations without a final answer\n",
    "        show_warning(f\"‚ö†Ô∏è Reached maximum iterations ({max_iterations}) without final answer\")\n",
    "        return \"I apologize, but I couldn't find a definitive answer after exploring the available information. Please try rephrasing your question or asking for more specific details.\"\n",
    "        \n",
    "    except Exception as e:\n",
    "        show_error(f\"ReAct agent failed: {e}\")\n",
    "        return \"I apologize, but I encountered an error while processing your question with the ReAct approach.\"\n",
    "\n",
    "show_success(\"ReAct agent with VoyageAI integration completed!\")"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": [
    "def execute_react_agent(user_query: str, images: List = []) -> None:\n",
    "    \"\"\"\n",
    "    Execute the ReAct agent.\n",
    "\n",
    "    Args:\n",
    "        user_query (str): User query\n",
    "        images (List, optional): List of image file paths. Defaults to [].\n",
    "    \"\"\"\n",
    "    try:\n",
    "        show_info(f\"ü¶∏‚Äç‚ôÄÔ∏è ReAct Agent Processing: {user_query}\")\n",
    "        \n",
    "        response = generate_answer_react(user_query, images)\n",
    "        \n",
    "        show_success(\"ü§ñ ReAct Agent Final Response:\")\n",
    "        print(f\"\\n{response}\\n\")\n",
    "        \n",
    "    except Exception as e:\n",
    "        show_error(f\"ReAct agent execution failed: {e}\")\n",
    "\n",
    "show_success(\"ReAct agent execution function created!\")\n",
    "\n",
    "# Mark final step complete\n",
    "try:\n",
    "    progress.mark_done(\"ReAct Agent Enhancement\", score=100, \n",
    "                      notes=\"ReAct reasoning and acting agent with VoyageAI implemented\")\n",
    "except NameError:\n",
    "    pass"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": [
    "# Test ReAct agent\n",
    "show_info(\"üß™ Testing ReAct agent with VoyageAI embeddings...\")\n",
    "\n",
    "# Test 1: Question requiring document search\n",
    "show_info(\"Test 1: Complex factual question\")\n",
    "execute_react_agent(\"What is the Pass@1 accuracy of Deepseek R1 on the MATH500 benchmark?\")"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": [
    "# Test 2: Document analysis\n",
    "if docs and len(docs) > 0:\n",
    "    show_info(\"Test 2: Document page analysis with ReAct\")\n",
    "    execute_react_agent(\"What technical concepts are discussed in this document page?\", [docs[0]['key']])\n",
    "else:\n",
    "    show_warning(\"No document pages available for ReAct testing\")"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "# üéâ Workshop Complete!\n",
    "\n",
    "Congratulations! You've successfully built a comprehensive multimodal AI agent system with VoyageAI integration."
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": [
    "# Final progress summary\n",
    "try:\n",
    "    show_success(\"üéì VoyageAI Workshop Completed Successfully!\")\n",
    "    \n",
    "    # Display final progress\n",
    "    progress.display_progress(detailed=True)\n",
    "    \n",
    "    # Show completion statistics\n",
    "    completion_rate = progress.get_completion_rate()\n",
    "    avg_score = progress.get_average_score()\n",
    "    \n",
    "    show_info(f\"üìä Overall Completion: {completion_rate:.1f}%\")\n",
    "    if avg_score:\n",
    "        show_info(f\"üìà Average Score: {avg_score:.1f}/100\")\n",
    "    \n",
    "    # Show what was accomplished\n",
    "    show_success(\"\"\"\n",
    "    üöÄ What You've Built with VoyageAI:\n",
    "    \n",
    "    ‚úÖ PDF processing pipeline for multimodal content\n",
    "    ‚úÖ VoyageAI Python client for high-quality embeddings\n",
    "    ‚úÖ MongoDB Atlas vector search integration\n",
    "    ‚úÖ AI agent with function calling capabilities\n",
    "    ‚úÖ Conversational memory system\n",
    "    ‚úÖ ReAct (Reasoning + Acting) agent architecture\n",
    "    ‚úÖ Production-ready multimodal AI application\n",
    "    ‚úÖ Optimized query vs document embedding types\n",
    "    ‚úÖ Vector normalization and quality checks\n",
    "    \"\"\")\n",
    "    \n",
    "    # Next steps\n",
    "    show_info(\"\"\"\n",
    "    üéØ Next Steps with VoyageAI:\n",
    "    \n",
    "    ‚Ä¢ Experiment with different VoyageAI models (voyage-2 vs voyage-lite-02-instruct)\n",
    "    ‚Ä¢ Implement batch processing for large document collections\n",
    "    ‚Ä¢ Add VoyageAI reranking for improved search quality\n",
    "    ‚Ä¢ Monitor usage and costs with response.usage logging\n",
    "    ‚Ä¢ Integrate with production applications using proper API key management\n",
    "    ‚Ä¢ Explore hybrid search combining keywords and vector similarity\n",
    "    \"\"\")\n",
    "    \n",
    "except NameError:\n",
    "    show_success(\"üéì VoyageAI Workshop completed successfully!\")\n",
    "    show_info(\"All agent implementations with VoyageAI client are ready for use.\")"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": [
    "# Optional: Export progress analytics\n",
    "try:\n",
    "    if hasattr(progress, 'export_analytics_json'):\n",
    "        analytics_file = progress.export_analytics_json()\n",
    "        show_success(f\"üìÑ Progress analytics exported to: {analytics_file}\")\n",
    "        \n",
    "        # Show summary\n",
    "        summary = progress.get_analytics_summary()\n",
    "        if summary:\n",
    "            show_info(f\"‚è±Ô∏è Total session time: {summary.get('session_duration', 'N/A')} seconds\")\n",
    "            show_info(f\"üìù Total interactions: {summary.get('total_events', 'N/A')}\")\n",
    "except (NameError, AttributeError):\n",
    "    pass\n",
    "\n",
    "show_success(\"Thank you for completing the Multimodal Agents Workshop with VoyageAI! üôè\")\n",
    "show_info(\"üîó Learn more about VoyageAI: https://www.voyageai.com/\")\n",
    "show_info(\"üìö VoyageAI Documentation: https://docs.voyageai.com/\")"
   ]
  }
 ],
 "metadata": {
  "kernelspec": {
   "display_name": "Python 3",
   "language": "python",
   "name": "python3"
  },
  "language_info": {
   "codemirror_mode": {
    "name": "ipython",
    "version": 3
   },
   "file_extension": ".py",
   "mimetype": "text/x-python",
   "name": "python",
   "nbconvert_exporter": "python",
   "pygments_lexer": "ipython3",
   "version": "3.8.5"
  }
 },
 "nbformat": 4,
 "nbformat_minor": 4
}
```

# static/notebooks/notebook.ipynb

```ipynb
{"cells":[{"source":"# Building Multimodal AI Applications with MongoDB and Voyage AI","metadata":{},"id":"8c8fde4c-9222-4265-b72b-8d7693520250","cell_type":"markdown"},{"source":"In this codealong, you will learn how to build a multimodal AI agent from scratch using Voyage AI's multimodal embedding models, Google's multimodal LLMs, and MongoDB as a vector database and memory provider for the agent.","metadata":{},"id":"3e302e1c-4c18-4c44-87fd-ba935c3a0853","cell_type":"markdown"},{"source":"# Task 0: Install required libraries\n\n- **pymongo**: Python driver for MongoDB\n- **voyageai**: Python client for Voyage AI\n- **google-genai**: Python library to access Google's embedding models and LLMs via Google AI Studio\n- **PyMuPDF**: Python library for analyzing and manipulating PDFs\n- **Pillow**: A Python imaging library\n- **tqdm**: Show progress bars for loops in Python","metadata":{},"id":"a9274661-8d8c-4cc5-901e-5fc497866b89","cell_type":"markdown"},{"source":"!pip install -qU pymongo voyageai google-genai PyMuPDF Pillow tqdm","metadata":{"executionCancelledAt":null,"executionTime":6301,"lastExecutedAt":1752779887191,"lastExecutedByKernel":"6b5a481f-3eb8-483d-81f2-571eb9426e27","lastScheduledRunId":null,"lastSuccessfullyExecutedCode":"!pip install -qU pymongo voyageai google-genai PyMuPDF Pillow tqdm","outputsMetadata":{"0":{"height":80,"type":"stream"}}},"id":"f81d6d0e-986b-49f4-94e1-7315a7f0bd67","cell_type":"code","execution_count":3,"outputs":[]},{"source":"# Task 1: Setup prerequisites\n\n- **MongoDB cluster setup**:\n    - Register for a [free MongoDB Atlas account](https://www.mongodb.com/cloud/atlas/register/?utm_campaign=devrel&utm_source=third-party-content&utm_medium=cta&utm_content=datacamp&utm_term=apoorva.joshi).\n    - [Create a new database cluster](https://www.mongodb.com/docs/guides/atlas/cluster/?utm_campaign=devrel&utm_source=third-party-content&utm_medium=cta&utm_content=datacamp&utm_term=apoorva.joshi).\n    - [Obtain the connection string for your database cluster](https://www.mongodb.com/docs/guides/atlas/connection-string/?utm_campaign=devrel&utm_source=third-party-content&utm_medium=cta&utm_content=datacamp&utm_term=apoorva.joshi).\n- **Obtain a Voyage AI API key**: Follow the steps [here](https://docs.voyageai.com/docs/api-key-and-installation#authentication-with-api-keys) to get a Voyage AI API key.\n- **Obtain a Gemini API key**: Follow the steps [here](https://ai.google.dev/gemini-api/docs/api-key) to get a Gemini API key via Google AI Studio.","metadata":{},"id":"7f6c51c7-bbbb-4f0f-b218-850221f3dcdf","cell_type":"markdown"},{"source":"import getpass\nimport os","metadata":{"executionCancelledAt":null,"executionTime":1584,"lastExecutedAt":1752779888777,"lastExecutedByKernel":"6b5a481f-3eb8-483d-81f2-571eb9426e27","lastScheduledRunId":null,"lastSuccessfullyExecutedCode":"import getpass\nimport os"},"id":"474d98a8-33ce-4898-a641-4853f17e5738","cell_type":"code","execution_count":4,"outputs":[]},{"source":"# Set your MongoDB connection string\nMONGODB_URI = getpass.getpass(\"Enter your MongoDB connection string: \")","metadata":{"executionCancelledAt":null,"executionTime":2298,"lastExecutedAt":1752779891076,"lastExecutedByKernel":"6b5a481f-3eb8-483d-81f2-571eb9426e27","lastScheduledRunId":null,"lastSuccessfullyExecutedCode":"# Set your MongoDB connection string\nMONGODB_URI = getpass.getpass(\"Enter your MongoDB connection string: \")","outputsMetadata":{"0":{"height":38,"type":"stream"}}},"id":"7f00b842-a949-4f01-ac90-d63ab84a2899","cell_type":"code","execution_count":5,"outputs":[]},{"source":"# Set Voyage AI API Key\nos.environ[\"VOYAGE_API_KEY\"] = getpass.getpass(\"Enter your Voyage AI API key: \")","metadata":{"executionCancelledAt":null,"executionTime":5035,"lastExecutedAt":1752779897689,"lastExecutedByKernel":"6b5a481f-3eb8-483d-81f2-571eb9426e27","lastScheduledRunId":null,"lastSuccessfullyExecutedCode":"# Set Voyage AI API Key\nos.environ[\"VOYAGE_API_KEY\"] = getpass.getpass(\"Enter your Voyage AI API key: \")","outputsMetadata":{"0":{"height":38,"type":"stream"}}},"id":"ded228bd-cbdd-48a9-a3ff-f11c93d5d56c","cell_type":"code","execution_count":6,"outputs":[]},{"source":"# Set Gemini API Key\nGEMINI_API_KEY = getpass.getpass(\"Enter your Gemini API key: \")","metadata":{"executionCancelledAt":null,"executionTime":9240,"lastExecutedAt":1752779908370,"lastExecutedByKernel":"6b5a481f-3eb8-483d-81f2-571eb9426e27","lastScheduledRunId":null,"lastSuccessfullyExecutedCode":"# Set Gemini API Key\nGEMINI_API_KEY = getpass.getpass(\"Enter your Gemini API key: \")","outputsMetadata":{"0":{"height":38,"type":"stream"}}},"id":"4992a5c3-c72d-47b3-8503-0331180cd27d","cell_type":"code","execution_count":7,"outputs":[]},{"source":"In this codealong, we will build an AI agent that can help users make sense of large documents containing text interleaved with figures and tables. Some examples of these in the real world are financial reports, technical manuals, business proposals, product catalogs, research papers, etc. To represent this type of data in the codealong, we will use the [Deepseek-R1 paper](https://arxiv.org/pdf/2501.12948).\n\nThe goal of our agent will be two-fold:\n- Answer questions about the paper\n- Explain charts and diagrams found in the paper\n\nLet's first preprocess the document in order to effectively retrieve information from it. Here's what the data processing workflow will look like:\n\n![data_processing.png](data_processing.png)\n\n- 1: Convert each document to a series of screenshots\n- 2: Save the screenshots to blob storage (AWS S3, GCS etc.) and extract a unique identifier for each screenshot\n- 3-4: Pass the screenshots through Voyage AI's voyage-multimodal-3 model to generate embeddings\n- 5: Insert documents consisting of the screenshot embeddings and metadata into MongoDB","metadata":{},"id":"8d52ba0d-c1d1-46f9-bbca-983122c5af05","cell_type":"markdown"},{"source":"# Task 2: Read PDF from URL","metadata":{},"id":"65454beb-970f-4af6-a04c-798b9f665b6f","cell_type":"markdown"},{"source":"import pymupdf\nimport requests","metadata":{"id":"bA5ajAmk7XH6","executionTime":146,"lastSuccessfullyExecutedCode":"import pymupdf\nimport requests","executionCancelledAt":null,"lastExecutedAt":1752779911279,"lastExecutedByKernel":"6b5a481f-3eb8-483d-81f2-571eb9426e27","lastScheduledRunId":null},"id":"d0eb4f16-5a99-460d-a5ba-706b7ef0bbe7","cell_type":"code","execution_count":8,"outputs":[]},{"source":"# Download the DeepSeek paper\nresponse = requests.get(\"https://arxiv.org/pdf/2501.12948\")\nif response.status_code != 200:\n    raise ValueError(f\"Failed to download PDF. Status code: {response.status_code}\")\n# Get the content of the response\npdf_stream = response.content\n# Open the data in `pdf_stream` as a PDF document.\npdf = pymupdf.Document(stream=pdf_stream, filetype=\"pdf\")","metadata":{"executionCancelledAt":null,"executionTime":51,"lastExecutedAt":1752779912335,"lastExecutedByKernel":"6b5a481f-3eb8-483d-81f2-571eb9426e27","lastScheduledRunId":null,"lastSuccessfullyExecutedCode":"# Download the DeepSeek paper\nresponse = requests.get(\"https://arxiv.org/pdf/2501.12948\")\nif response.status_code != 200:\n    raise ValueError(f\"Failed to download PDF. Status code: {response.status_code}\")\n# Get the content of the response\npdf_stream = response.content\n# Open the data in `pdf_stream` as a PDF document.\npdf = pymupdf.Document(stream=pdf_stream, filetype=\"pdf\")"},"id":"7c6d97cc-8a87-4059-a2d2-ccd52594f0f1","cell_type":"code","execution_count":9,"outputs":[]},{"source":"# Task 3: Store PDF images locally and extract metadata for MongoDB","metadata":{},"id":"443463b5-0fa3-4bcf-b5e1-90440b14b0e9","cell_type":"markdown"},{"source":"from tqdm import tqdm","metadata":{"executionCancelledAt":null,"executionTime":21,"lastExecutedAt":1752779913986,"lastExecutedByKernel":"6b5a481f-3eb8-483d-81f2-571eb9426e27","lastScheduledRunId":null,"lastSuccessfullyExecutedCode":"from tqdm import tqdm"},"id":"ee6c792b-156f-47f9-93ee-35d3ac8c9ab9","cell_type":"code","execution_count":10,"outputs":[]},{"source":"docs = []","metadata":{"executionCancelledAt":null,"executionTime":8,"lastExecutedAt":1752779914924,"lastExecutedByKernel":"6b5a481f-3eb8-483d-81f2-571eb9426e27","lastScheduledRunId":null,"lastSuccessfullyExecutedCode":"docs = []"},"id":"7065b4c8-77e1-4c54-b419-ecebd8a20219","cell_type":"code","execution_count":11,"outputs":[]},{"source":"zoom = 3.0\n# Set image matrix dimensions\nmat = pymupdf.Matrix(zoom, zoom)\n# Iterate through the pages of the PDF\nfor n in tqdm(range(pdf.page_count)):\n    temp = {}\n    # Use the `get_pixmap` method to render the PDF page as a matrix of pixels as specified by the variable `mat`\n    pix = pdf[n].get_pixmap(matrix=mat)\n    # Store image locally\n    key = f\"{n+1}.png\"\n    pix.save(key)\n    # Extract image metadata to be stored in MongoDB\n    temp[\"key\"] = key\n    temp[\"width\"] = pix.width\n    temp[\"height\"] = pix.height\n    docs.append(temp)","metadata":{"executionCancelledAt":null,"executionTime":5013,"lastExecutedAt":1752779921192,"lastExecutedByKernel":"6b5a481f-3eb8-483d-81f2-571eb9426e27","lastScheduledRunId":null,"lastSuccessfullyExecutedCode":"zoom = 3.0\n# Set image matrix dimensions\nmat = pymupdf.Matrix(zoom, zoom)\n# Iterate through the pages of the PDF\nfor n in tqdm(range(pdf.page_count)):\n    temp = {}\n    # Use the `get_pixmap` method to render the PDF page as a matrix of pixels as specified by the variable `mat`\n    pix = pdf[n].get_pixmap(matrix=mat)\n    # Store image locally\n    key = f\"{n+1}.png\"\n    pix.save(key)\n    # Extract image metadata to be stored in MongoDB\n    temp[\"key\"] = key\n    temp[\"width\"] = pix.width\n    temp[\"height\"] = pix.height\n    docs.append(temp)","outputsMetadata":{"0":{"height":38,"type":"stream"}}},"id":"3e1dbd1b-4762-473d-9b40-2ad0573eacfb","cell_type":"code","execution_count":12,"outputs":[]},{"source":"# Ensure that all pages of the PDF were processed\nlen(docs)","metadata":{"executionCancelledAt":null,"executionTime":52,"lastExecutedAt":1752779921244,"lastExecutedByKernel":"6b5a481f-3eb8-483d-81f2-571eb9426e27","lastScheduledRunId":null,"lastSuccessfullyExecutedCode":"# Ensure that all pages of the PDF were processed\nlen(docs)"},"id":"4deddeeb-cb65-42f7-b665-709ea5e305ad","cell_type":"code","execution_count":13,"outputs":[]},{"source":"# Preview a document \ndocs[0]","metadata":{"executionCancelledAt":null,"executionTime":46,"lastExecutedAt":1752779921290,"lastExecutedByKernel":"6b5a481f-3eb8-483d-81f2-571eb9426e27","lastScheduledRunId":null,"lastSuccessfullyExecutedCode":"# Preview a document \ndocs[0]"},"id":"e023646f-6fa4-490e-989f-c589a8aad441","cell_type":"code","execution_count":14,"outputs":[]},{"source":"# Task 4: Add embeddings to the MongoDB documents","metadata":{},"id":"902f78d6-9a8a-4c1f-8fae-1d1f99e96ef4","cell_type":"markdown"},{"source":"from voyageai import Client\nfrom PIL import Image","metadata":{"executionCancelledAt":null,"executionTime":305,"lastExecutedAt":1752779924700,"lastExecutedByKernel":"6b5a481f-3eb8-483d-81f2-571eb9426e27","lastScheduledRunId":null,"lastSuccessfullyExecutedCode":"from voyageai import Client\nfrom PIL import Image"},"id":"3ade2e6c-db25-4ab0-960b-2f8523f19c4c","cell_type":"code","execution_count":15,"outputs":[]},{"source":"# Initialize the Voyage AI client\nvoyageai_client = Client()","metadata":{"executionCancelledAt":null,"executionTime":9,"lastExecutedAt":1752779926151,"lastExecutedByKernel":"6b5a481f-3eb8-483d-81f2-571eb9426e27","lastScheduledRunId":null,"lastSuccessfullyExecutedCode":"# Initialize the Voyage AI client\nvoyageai_client = Client()"},"id":"da99c12a-491e-4ae9-b890-196087dfc078","cell_type":"code","execution_count":16,"outputs":[]},{"source":"# Helper function to generate embeddings using the voyage-multimodal-3 model\n# input_type can be one of `document` or `query` depending on what you are embedding \ndef get_embedding(data, input_type): \n    embedding = voyageai_client.multimodal_embed(\n        inputs=[[data]], model=\"voyage-multimodal-3\", input_type=input_type\n    ).embeddings[0]\n    return embedding","metadata":{"executionCancelledAt":null,"executionTime":8,"lastExecutedAt":1752779927168,"lastExecutedByKernel":"6b5a481f-3eb8-483d-81f2-571eb9426e27","lastScheduledRunId":null,"lastSuccessfullyExecutedCode":"# Helper function to generate embeddings using the voyage-multimodal-3 model\n# input_type can be one of `document` or `query` depending on what you are embedding \ndef get_embedding(data, input_type): \n    embedding = voyageai_client.multimodal_embed(\n        inputs=[[data]], model=\"voyage-multimodal-3\", input_type=input_type\n    ).embeddings[0]\n    return embedding"},"id":"dae56b63-dde1-4cc1-878d-140615d05718","cell_type":"code","execution_count":17,"outputs":[]},{"source":"embedded_docs = []\nfor doc in tqdm(docs):\n    # Open the image from file\n    img = Image.open(f\"{doc['key']}\")\n    # Add the embeddings to the document\n    doc[\"embedding\"] = get_embedding(img, \"document\")\n    embedded_docs.append(doc)","metadata":{"executionCancelledAt":null,"executionTime":26168,"lastExecutedAt":1752779954903,"lastExecutedByKernel":"6b5a481f-3eb8-483d-81f2-571eb9426e27","lastScheduledRunId":null,"lastSuccessfullyExecutedCode":"embedded_docs = []\nfor doc in tqdm(docs):\n    # Open the image from file\n    img = Image.open(f\"{doc['key']}\")\n    # Add the embeddings to the document\n    doc[\"embedding\"] = get_embedding(img, \"document\")\n    embedded_docs.append(doc)","outputsMetadata":{"0":{"height":38,"type":"stream"}}},"id":"fa77de8b-81b4-4e2b-aec2-49e66f6d177d","cell_type":"code","execution_count":18,"outputs":[]},{"source":"# Preview a document\nembedded_docs[0]","metadata":{"executionCancelledAt":null,"executionTime":18,"lastExecutedAt":1752779958192,"lastExecutedByKernel":"6b5a481f-3eb8-483d-81f2-571eb9426e27","lastScheduledRunId":null,"lastSuccessfullyExecutedCode":"# Preview a document\nembedded_docs[0]","collapsed":true,"jupyter":{"outputs_hidden":true,"source_hidden":false}},"id":"33151ec9-b0d0-4bff-a518-8c8149766be2","cell_type":"code","execution_count":19,"outputs":[]},{"source":"# Task 5: Write documents into a MongoDB collection","metadata":{},"id":"00bf0874-89da-48c1-9e1a-3fbbc9e17276","cell_type":"markdown"},{"source":"from pymongo import MongoClient","metadata":{"executionCancelledAt":null,"executionTime":88,"lastExecutedAt":1752779962780,"lastExecutedByKernel":"6b5a481f-3eb8-483d-81f2-571eb9426e27","lastScheduledRunId":null,"lastSuccessfullyExecutedCode":"from pymongo import MongoClient"},"id":"fe3bad8d-803c-4046-a074-42b8d29a695c","cell_type":"code","execution_count":20,"outputs":[]},{"source":"# Create a MongoDB client\nmongodb_client = MongoClient(\n    MONGODB_URI, appname=\"devrel.datacamp_codealong\"\n)\n# Check connection to the cluster\nmongodb_client.admin.command(\"ping\")","metadata":{"executionCancelledAt":null,"executionTime":810,"lastExecutedAt":1752779965303,"lastExecutedByKernel":"6b5a481f-3eb8-483d-81f2-571eb9426e27","lastScheduledRunId":null,"lastSuccessfullyExecutedCode":"# Create a MongoDB client\nmongodb_client = MongoClient(\n    MONGODB_URI, appname=\"devrel.datacamp_codealong\"\n)\n# Check connection to the cluster\nmongodb_client.admin.command(\"ping\")"},"id":"d94b03ce-055e-4f55-8faa-5749584f9269","cell_type":"code","execution_count":21,"outputs":[]},{"source":"# Database name\nDB_NAME = \"datacamp\"\n# Name of the collection to insert documents into\nCOLLECTION_NAME = \"multimodal_codealong\"","metadata":{"executionCancelledAt":null,"executionTime":7,"lastExecutedAt":1752779966362,"lastExecutedByKernel":"6b5a481f-3eb8-483d-81f2-571eb9426e27","lastScheduledRunId":null,"lastSuccessfullyExecutedCode":"# Database name\nDB_NAME = \"datacamp\"\n# Name of the collection to insert documents into\nCOLLECTION_NAME = \"multimodal_codealong\""},"id":"17b4346b-fc41-4e56-8f23-c4ad259346dd","cell_type":"code","execution_count":22,"outputs":[]},{"source":"# Connect to the MongoDB collection\ncollection = mongodb_client[DB_NAME][COLLECTION_NAME]","metadata":{"executionCancelledAt":null,"executionTime":8,"lastExecutedAt":1752779967320,"lastExecutedByKernel":"6b5a481f-3eb8-483d-81f2-571eb9426e27","lastScheduledRunId":null,"lastSuccessfullyExecutedCode":"# Connect to the MongoDB collection\ncollection = mongodb_client[DB_NAME][COLLECTION_NAME]"},"id":"df80160a-6d34-4d81-a0b3-f6b82ac9ee62","cell_type":"code","execution_count":23,"outputs":[]},{"source":"# Delete existing documents from the collection\ncollection.delete_many({})","metadata":{"executionCancelledAt":null,"executionTime":80,"lastExecutedAt":1752779968531,"lastExecutedByKernel":"6b5a481f-3eb8-483d-81f2-571eb9426e27","lastScheduledRunId":null,"lastSuccessfullyExecutedCode":"# Delete existing documents from the collection\ncollection.delete_many({})"},"id":"113cf7aa-6607-4798-be88-7887ce70cdee","cell_type":"code","execution_count":24,"outputs":[]},{"source":"# Insert the embedded documents into the collection\ncollection.insert_many(embedded_docs)","metadata":{"executionCancelledAt":null,"executionTime":347,"lastExecutedAt":1752779970783,"lastExecutedByKernel":"6b5a481f-3eb8-483d-81f2-571eb9426e27","lastScheduledRunId":null,"lastSuccessfullyExecutedCode":"# Insert the embedded documents into the collection\ncollection.insert_many(embedded_docs)"},"id":"a48948a9-a947-4e0c-b9e3-a3002837ba88","cell_type":"code","execution_count":25,"outputs":[]},{"source":"# Task 6: Create a vector search index","metadata":{},"id":"56d0a0f8-2f28-4afc-9ce1-51892ea7ccd0","cell_type":"markdown"},{"source":"VS_INDEX_NAME = \"vector_index\"","metadata":{"executionCancelledAt":null,"executionTime":8,"lastExecutedAt":1752779973923,"lastExecutedByKernel":"6b5a481f-3eb8-483d-81f2-571eb9426e27","lastScheduledRunId":null,"lastSuccessfullyExecutedCode":"VS_INDEX_NAME = \"vector_index\""},"id":"9a099c2e-dcd6-416a-8edc-9a779adaaa05","cell_type":"code","execution_count":26,"outputs":[]},{"source":"# Create vector index definition specifying:\n# path: Path to the embeddings field\n# numDimensions: Number of embedding dimensions- depends on the embedding model used\n# similarity: Similarity metric. One of cosine, euclidean, dotProduct.\nmodel = {\n    \"name\": VS_INDEX_NAME,\n    \"type\": \"vectorSearch\",\n    \"definition\": {\n        \"fields\": [\n            {\n                \"type\": \"vector\",\n                \"path\": \"embedding\",\n                \"numDimensions\": 1024,\n                \"similarity\": \"cosine\",\n            }\n        ]\n    },\n}","metadata":{"executionCancelledAt":null,"executionTime":9,"lastExecutedAt":1752779975071,"lastExecutedByKernel":"6b5a481f-3eb8-483d-81f2-571eb9426e27","lastScheduledRunId":null,"lastSuccessfullyExecutedCode":"# Create vector index definition specifying:\n# path: Path to the embeddings field\n# numDimensions: Number of embedding dimensions- depends on the embedding model used\n# similarity: Similarity metric. One of cosine, euclidean, dotProduct.\nmodel = {\n    \"name\": VS_INDEX_NAME,\n    \"type\": \"vectorSearch\",\n    \"definition\": {\n        \"fields\": [\n            {\n                \"type\": \"vector\",\n                \"path\": \"embedding\",\n                \"numDimensions\": 1024,\n                \"similarity\": \"cosine\",\n            }\n        ]\n    },\n}"},"id":"2dd14561-773a-4d74-b806-a87e56f7cf2d","cell_type":"code","execution_count":27,"outputs":[]},{"source":"# Create a vector search index with the above `model` for the `collection` collection\ncollection.create_search_index(model=model)","metadata":{"executionCancelledAt":null,"executionTime":358,"lastExecutedAt":1752771603379,"lastExecutedByKernel":"c3bd6dcc-44f8-42f0-9728-0204811c9e0f","lastScheduledRunId":null,"lastSuccessfullyExecutedCode":"# Create a vector search index with the above `model` for the `collection` collection\ncollection.create_search_index(model=model)"},"id":"8787523d-f2e6-466a-94e6-357d8eab4a2b","cell_type":"code","execution_count":27,"outputs":[]},{"source":"**NOTE**: Before proceeding further, navigate to the MongoDB Atlas UI and ensure that the vector search index is in READY status.","metadata":{},"id":"476767b4-76f0-46d0-92d0-8d502b344e41","cell_type":"markdown"},{"source":"Now that we have prepared our mixed-modality document for search and retrieval, let's build an AI agent that can retrieve information from text, images and tables in this document to help answer questions about the document. The workflow for the agent looks as follows:\n\n![agent_worflow_1.png](agent_workflow_1.png)\n\n![agent_worflow_2.png](agent_workflow_2.png)\n\n- 1: User sends a query to the agent\n- 2: Agent forwards the user query to an LLM\n- 3: LLM decides whether to call a tool or not. If yes, the LLM also extracts the arguments for the tool call.\n- 4: The agent calls the tool selected by the LLM using the arguments generated by the LLM\n- 5: If the vector search tool is called, it returns the IDs of the screenshots\n- 6-7: The agent obtains the relevant screenshots from blob storage using the IDs\n- 8: The user query and the retrieved screenshots are passed to the LLM\n- 9: The LLM generates an answer using the provided context\n- 10: The answer is forwarded to the user ","metadata":{},"id":"f159873a-d3db-46b3-932b-0efbcfeb8ac0","cell_type":"markdown"},{"source":"# Task 8: Create agent tools\n\nTools for agents are simply functions written in a programming language of your choice!","metadata":{},"id":"e20f6abd-2faf-4742-8f5c-fee04430920f","cell_type":"markdown"},{"source":"def get_information_for_question_answering(user_query: str):\n    \"\"\"\n    Retrieve information using vector search to answer a user query.\n\n    Args:\n    user_query (str): The user's query string.\n    \"\"\"\n    # Get query embedding using the `get_embedding` helper function\n    query_embedding = get_embedding(user_query, \"query\")\n    # Define the VS aggregation pipeline\n    pipeline = [\n        {\n            \"$vectorSearch\": {\n                \"index\": VS_INDEX_NAME,\n                \"queryVector\": query_embedding,\n                \"path\": f\"embedding\",\n                \"numCandidates\": 150,\n                \"limit\": 2,\n            }\n        },\n        {\n            \"$project\": {\n                \"_id\": 0,\n                \"key\": 1,\n                \"width\": 1,\n                \"height\": 1,\n                \"score\": {\"$meta\": \"vectorSearchScore\"},\n            }\n        },\n    ]\n\n    # Execute the aggregation `pipeline` against the `collection` collection and store the results in `results`\n    results = collection.aggregate(pipeline)\n    # Get images from local storage\n    keys = [result[\"key\"] for result in results]\n    print(f\"Keys: {keys}\")\n    return keys","metadata":{"executionCancelledAt":null,"executionTime":10,"lastExecutedAt":1752779978580,"lastExecutedByKernel":"6b5a481f-3eb8-483d-81f2-571eb9426e27","lastScheduledRunId":null,"lastSuccessfullyExecutedCode":"def get_information_for_question_answering(user_query: str):\n    \"\"\"\n    Retrieve information using vector search to answer a user query.\n\n    Args:\n    user_query (str): The user's query string.\n    \"\"\"\n    # Get query embedding using the `get_embedding` helper function\n    query_embedding = get_embedding(user_query, \"query\")\n    # Define the VS aggregation pipeline\n    pipeline = [\n        {\n            \"$vectorSearch\": {\n                \"index\": VS_INDEX_NAME,\n                \"queryVector\": query_embedding,\n                \"path\": f\"embedding\",\n                \"numCandidates\": 150,\n                \"limit\": 2,\n            }\n        },\n        {\n            \"$project\": {\n                \"_id\": 0,\n                \"key\": 1,\n                \"width\": 1,\n                \"height\": 1,\n                \"score\": {\"$meta\": \"vectorSearchScore\"},\n            }\n        },\n    ]\n\n    # Execute the aggregation `pipeline` against the `collection` collection and store the results in `results`\n    results = collection.aggregate(pipeline)\n    # Get images from local storage\n    keys = [result[\"key\"] for result in results]\n    print(f\"Keys: {keys}\")\n    return keys"},"id":"9a5d9bd4-3d8b-4e74-bae1-a858052f9d35","cell_type":"code","execution_count":28,"outputs":[]},{"source":"# Test the vector search tool with an example query\nget_information_for_question_answering(\"What is the Pass@1 accuracy of Deepseek R1 on the MATH500 benchmark?\")","metadata":{"executionCancelledAt":null,"executionTime":230,"lastExecutedAt":1752779981390,"lastExecutedByKernel":"6b5a481f-3eb8-483d-81f2-571eb9426e27","lastScheduledRunId":null,"lastSuccessfullyExecutedCode":"# Test the vector search tool with an example query\nget_information_for_question_answering(\"What is the Pass@1 accuracy of Deepseek R1 on the MATH500 benchmark?\")","outputsMetadata":{"0":{"height":38,"type":"stream"}}},"id":"27f6b0b5-d6b3-41f6-8a98-fcfce35f6d31","cell_type":"code","execution_count":29,"outputs":[]},{"source":"In addition to defining the tool itself, you need to create function schemas to help the LLM identify what tools to use and the arguments for the tool calls.","metadata":{},"id":"fd4a8f66-a2bc-4db5-9052-a7c3e8197cae","cell_type":"markdown"},{"source":"# Define the function declaration for the `get_information_for_question_answering` function\nget_information_for_question_answering_declaration = {\n    \"name\": \"get_information_for_question_answering\",\n    \"description\": \"Retrieve information using vector search to answer a user query.\",\n    \"parameters\": {\n        \"type\": \"object\",\n        \"properties\": {\n            \"user_query\": {\n                \"type\": \"string\",\n                \"description\": \"Query string to use for vector search\",\n            }\n        },\n        \"required\": [\"user_query\"],\n    },\n}","metadata":{"executionCancelledAt":null,"executionTime":9,"lastExecutedAt":1752779986029,"lastExecutedByKernel":"6b5a481f-3eb8-483d-81f2-571eb9426e27","lastScheduledRunId":null,"lastSuccessfullyExecutedCode":"# Define the function declaration for the `get_information_for_question_answering` function\nget_information_for_question_answering_declaration = {\n    \"name\": \"get_information_for_question_answering\",\n    \"description\": \"Retrieve information using vector search to answer a user query.\",\n    \"parameters\": {\n        \"type\": \"object\",\n        \"properties\": {\n            \"user_query\": {\n                \"type\": \"string\",\n                \"description\": \"Query string to use for vector search\",\n            }\n        },\n        \"required\": [\"user_query\"],\n    },\n}"},"id":"ede95bf9-92c1-48ac-a4d0-2c688a7cc4e6","cell_type":"code","execution_count":30,"outputs":[]},{"source":"# Task 9: Instantiate the Gemini LLM and client","metadata":{},"id":"7968f654-0fb3-43d5-be1f-67ad0209a6c9","cell_type":"markdown"},{"source":"from google import genai\nfrom google.genai import types","metadata":{"executionCancelledAt":null,"executionTime":1847,"lastExecutedAt":1752779989616,"lastExecutedByKernel":"6b5a481f-3eb8-483d-81f2-571eb9426e27","lastScheduledRunId":null,"lastSuccessfullyExecutedCode":"from google import genai\nfrom google.genai import types"},"id":"8ceec8d0-6fca-4220-b527-1d33d29e1dfc","cell_type":"code","execution_count":31,"outputs":[]},{"source":"# Gemini LLM to use\nLLM = \"gemini-2.5-flash\"","metadata":{"executionCancelledAt":null,"executionTime":49,"lastExecutedAt":1752779989666,"lastExecutedByKernel":"6b5a481f-3eb8-483d-81f2-571eb9426e27","lastScheduledRunId":null,"lastSuccessfullyExecutedCode":"# Gemini LLM to use\nLLM = \"gemini-2.5-flash\""},"id":"3b25f513-380a-456a-b6d6-9f8afb1d0834","cell_type":"code","execution_count":32,"outputs":[]},{"source":"# Instantiate the Gemini client\ngemini_client = genai.Client(api_key=GEMINI_API_KEY)","metadata":{"executionCancelledAt":null,"executionTime":181,"lastExecutedAt":1752779990023,"lastExecutedByKernel":"6b5a481f-3eb8-483d-81f2-571eb9426e27","lastScheduledRunId":null,"lastSuccessfullyExecutedCode":"# Instantiate the Gemini client\ngemini_client = genai.Client(api_key=GEMINI_API_KEY)"},"id":"310c7556-10ad-439e-812b-08a33c21c861","cell_type":"code","execution_count":33,"outputs":[]},{"source":"# Task 10: Create generation config\n\nFor Gemini models, the generation config specifies parameters for the LLM generation.\n\nThis might look different for a different LLM providers. Check the API documentation for the provider you are using to understand how to specify these parameters.","metadata":{},"id":"a6c7de8a-1491-4213-ae1f-1107be28fe56","cell_type":"markdown"},{"source":"# Create a generation config with the `get_information_for_question_answering_declaration` function declaration and `temperature` set to 0.0\ntools = types.Tool(\n    function_declarations=[get_information_for_question_answering_declaration]\n)\ntools_config = types.GenerateContentConfig(tools=[tools], temperature=0.0)","metadata":{"executionCancelledAt":null,"executionTime":8,"lastExecutedAt":1752779992480,"lastExecutedByKernel":"6b5a481f-3eb8-483d-81f2-571eb9426e27","lastScheduledRunId":null,"lastSuccessfullyExecutedCode":"# Create a generation config with the `get_information_for_question_answering_declaration` function declaration and `temperature` set to 0.0\ntools = types.Tool(\n    function_declarations=[get_information_for_question_answering_declaration]\n)\ntools_config = types.GenerateContentConfig(tools=[tools], temperature=0.0)"},"id":"ebdcca6e-9ea3-4eb5-b6d8-5dc818926a79","cell_type":"code","execution_count":34,"outputs":[]},{"source":"# Task 11: Define a function for tool selection\n\nTool selection in the context of AI agents involves using LLMs to identify which tool to call and the arguments for the tool call. Note that the LLM doesn't execute the tool call. This needs to be implemented in the agent's code, as you will see in Task 12.","metadata":{},"id":"c7a36bc3-62b0-4e5e-92eb-8285b10b7071","cell_type":"markdown"},{"source":"from google.genai.types import FunctionCall","metadata":{"executionCancelledAt":null,"executionTime":48,"lastExecutedAt":1752779994330,"lastExecutedByKernel":"6b5a481f-3eb8-483d-81f2-571eb9426e27","lastScheduledRunId":null,"lastSuccessfullyExecutedCode":"from google.genai.types import FunctionCall"},"id":"cddc20e9-1248-4e3d-bdaf-9097df6102e8","cell_type":"code","execution_count":35,"outputs":[]},{"source":"# Function that uses an LLM to decide if a tool needs to be called\ndef select_tool(messages):\n    system_prompt = [\n        (\n            \"You're an AI assistant. Based on the given information, decide which tool to use.\"\n            \"If the user is asking to explain an image, don't call any tools unless that would help you better explain the image.\"\n            \"Here is the provided information:\\n\"\n        )\n    ]\n    # Input to the LLM\n    contents = system_prompt + messages\n    # Use the `gemini_client`, `LLM`, `contents` and `tools_config` defined previously to generate a response using Gemini\n    response = gemini_client.models.generate_content(\n        model=LLM, contents=contents, config=tools_config\n    )\n    # Extract and return the function call from the response\n    return response.candidates[0].content.parts[0].function_call","metadata":{"executionCancelledAt":null,"executionTime":10,"lastExecutedAt":1752779995380,"lastExecutedByKernel":"6b5a481f-3eb8-483d-81f2-571eb9426e27","lastScheduledRunId":null,"lastSuccessfullyExecutedCode":"# Function that uses an LLM to decide if a tool needs to be called\ndef select_tool(messages):\n    system_prompt = [\n        (\n            \"You're an AI assistant. Based on the given information, decide which tool to use.\"\n            \"If the user is asking to explain an image, don't call any tools unless that would help you better explain the image.\"\n            \"Here is the provided information:\\n\"\n        )\n    ]\n    # Input to the LLM\n    contents = system_prompt + messages\n    # Use the `gemini_client`, `LLM`, `contents` and `tools_config` defined previously to generate a response using Gemini\n    response = gemini_client.models.generate_content(\n        model=LLM, contents=contents, config=tools_config\n    )\n    # Extract and return the function call from the response\n    return response.candidates[0].content.parts[0].function_call"},"id":"598a7f31-b28e-4278-99c1-d68741466e5f","cell_type":"code","execution_count":36,"outputs":[]},{"source":"# Task 12: Define a function to execute tools and generate responses","metadata":{},"id":"bcc8e62c-6b38-44b8-9236-f21710d724e8","cell_type":"markdown"},{"source":"def generate_answer(user_query, images):\n    # Use the `select_tool` function above to get the tool config\n    tool_call = select_tool([user_query])\n    # If a tool call is found and the name is `get_information_for_question_answering`\n    if (\n        tool_call is not None\n        and tool_call.name == \"get_information_for_question_answering\"\n    ):\n        print(f\"Agent: Calling tool: {tool_call.name}\")\n        # Call the tool with the arguments extracted by the LLM\n        tool_images = get_information_for_question_answering(**tool_call.args)\n        # Add images returned by the tool to the list of input images if any\n        images.extend(tool_images)\n\n    system_prompt = f\"Answer the questions based on the provided context only. If the context is not sufficient, say I DON'T KNOW. DO NOT use any other information to answer the question.\"\n    # Pass the system prompt, user query, and content retrieved using vector search (`images`) as input to the LLM\n    contents = [system_prompt] + [user_query] + [Image.open(image) for image in images]\n\n    # Get the response from the LLM\n    response = gemini_client.models.generate_content(\n        model=LLM,\n        contents=contents,\n        config=types.GenerateContentConfig(temperature=0.0),\n    )\n    answer = response.text\n    return answer","metadata":{"executionCancelledAt":null,"executionTime":10,"lastExecutedAt":1752779997209,"lastExecutedByKernel":"6b5a481f-3eb8-483d-81f2-571eb9426e27","lastScheduledRunId":null,"lastSuccessfullyExecutedCode":"def generate_answer(user_query, images):\n    # Use the `select_tool` function above to get the tool config\n    tool_call = select_tool([user_query])\n    # If a tool call is found and the name is `get_information_for_question_answering`\n    if (\n        tool_call is not None\n        and tool_call.name == \"get_information_for_question_answering\"\n    ):\n        print(f\"Agent: Calling tool: {tool_call.name}\")\n        # Call the tool with the arguments extracted by the LLM\n        tool_images = get_information_for_question_answering(**tool_call.args)\n        # Add images returned by the tool to the list of input images if any\n        images.extend(tool_images)\n\n    system_prompt = f\"Answer the questions based on the provided context only. If the context is not sufficient, say I DON'T KNOW. DO NOT use any other information to answer the question.\"\n    # Pass the system prompt, user query, and content retrieved using vector search (`images`) as input to the LLM\n    contents = [system_prompt] + [user_query] + [Image.open(image) for image in images]\n\n    # Get the response from the LLM\n    response = gemini_client.models.generate_content(\n        model=LLM,\n        contents=contents,\n        config=types.GenerateContentConfig(temperature=0.0),\n    )\n    answer = response.text\n    return answer"},"id":"08d82d77-a372-448d-bca9-1ab6ddbe919d","cell_type":"code","execution_count":37,"outputs":[]},{"source":"# Task 13: Execute the agent","metadata":{},"id":"5de045bf-ffec-437d-a556-d4c63bc44428","cell_type":"markdown"},{"source":"def execute_agent(user_query, images=[]):\n    # Use the `generate_answer` function to generate responses \n    response = generate_answer(user_query, images)\n    print(\"Agent:\", response)","metadata":{"executionCancelledAt":null,"executionTime":8,"lastExecutedAt":1752779998817,"lastExecutedByKernel":"6b5a481f-3eb8-483d-81f2-571eb9426e27","lastScheduledRunId":null,"lastSuccessfullyExecutedCode":"def execute_agent(user_query, images=[]):\n    # Use the `generate_answer` function to generate responses \n    response = generate_answer(user_query, images)\n    print(\"Agent:\", response)","outputsMetadata":{"0":{"height":248,"type":"stream"}}},"id":"c08736d7-7fa1-4eab-bc3d-34ba4e812358","cell_type":"code","execution_count":38,"outputs":[]},{"source":"# Test the agent with a text input\nexecute_agent(\"What is the Pass@1 accuracy of Deepseek R1 on the MATH500 benchmark?\")","metadata":{"executionCancelledAt":null,"executionTime":11828,"lastExecutedAt":1752780011747,"lastExecutedByKernel":"6b5a481f-3eb8-483d-81f2-571eb9426e27","lastScheduledRunId":null,"lastSuccessfullyExecutedCode":"# Test the agent with a text input\nexecute_agent(\"What is the Pass@1 accuracy of Deepseek R1 on the MATH500 benchmark?\")","outputsMetadata":{"0":{"height":59,"type":"stream"}}},"id":"c3fcf1c4-d283-4372-93f3-34d8bd02d3e8","cell_type":"code","execution_count":39,"outputs":[]},{"source":"# Test the agent with an image input\nexecute_agent(\"Explain the graph in this image:\", [\"test.png\"])","metadata":{"executionCancelledAt":null,"executionTime":6133,"lastExecutedAt":1752780019824,"lastExecutedByKernel":"6b5a481f-3eb8-483d-81f2-571eb9426e27","lastScheduledRunId":null,"lastSuccessfullyExecutedCode":"# Test the agent with an image input\nexecute_agent(\"Explain the graph in this image:\", [\"test.png\"])","outputsMetadata":{"0":{"height":500,"type":"stream"}}},"id":"ed56a1cc-c7f0-4d17-ba00-529284bbe347","cell_type":"code","execution_count":40,"outputs":[]},{"source":"# Task 14: Add memory to the agent\n\nMemory is important for agents to learn from past interactions and maintain consistent, coherent dialogue across conversations. \n\nIn this codealong, we will use MongoDB to persist and manage short-term memory of the agent. The memory management workflow of our agent looks as follows:\n\n![memory_mgmt_1.png](memory_mgmt_1.png)\n\n![memory_mgmt_2.png](memory_mgmt_2.png)\n\n- 1: Get the session ID that the user question belongs to\n- 2: Retrieve session history from MongoDB using the session ID\n- 3: Pass the session history as additional context to the LLM\n- 4: Add the current question to the session history\n- 5: Add the LLM's answer to the session history\n","metadata":{},"id":"a77f89c7-917f-4661-b9de-40839876f177","cell_type":"markdown"},{"source":"from datetime import datetime","metadata":{"executionCancelledAt":null,"executionTime":52,"lastExecutedAt":1752780023742,"lastExecutedByKernel":"6b5a481f-3eb8-483d-81f2-571eb9426e27","lastScheduledRunId":null,"lastSuccessfullyExecutedCode":"from datetime import datetime"},"id":"fecc66f6-3f8d-47d9-b18e-abf5de0c6d00","cell_type":"code","execution_count":41,"outputs":[]},{"source":"# Instantiate the history collection\nhistory_collection = mongodb_client[DB_NAME][\"history\"]","metadata":{"executionCancelledAt":null,"executionTime":8,"lastExecutedAt":1752780024702,"lastExecutedByKernel":"6b5a481f-3eb8-483d-81f2-571eb9426e27","lastScheduledRunId":null,"lastSuccessfullyExecutedCode":"# Instantiate the history collection\nhistory_collection = mongodb_client[DB_NAME][\"history\"]"},"id":"28652ccf-8b67-4288-a442-0e4c40bcb53f","cell_type":"code","execution_count":42,"outputs":[]},{"source":"# Create an index on `session_id` on the `history_collection` collection\nhistory_collection.create_index(\"session_id\")","metadata":{"executionCancelledAt":null,"executionTime":73,"lastExecutedAt":1752780025731,"lastExecutedByKernel":"6b5a481f-3eb8-483d-81f2-571eb9426e27","lastScheduledRunId":null,"lastSuccessfullyExecutedCode":"# Create an index on `session_id` on the `history_collection` collection\nhistory_collection.create_index(\"session_id\")"},"id":"bfaa6baf-30ba-4aa5-a293-053550702ad3","cell_type":"code","execution_count":43,"outputs":[]},{"source":"def store_chat_message(session_id, role, type, content):\n    # Create a message object with `session_id`, `role`, `type`, `content` and `timestamp` fields\n    # `timestamp` should be set to the current timestamp\n    message = {\n        \"session_id\": session_id,\n        \"role\": role,\n        \"type\": type,\n        \"content\": content,\n        \"timestamp\": datetime.now(),\n    }\n    # Insert the `message` into the `history_collection` collection\n    history_collection.insert_one(message)","metadata":{"executionCancelledAt":null,"executionTime":8,"lastExecutedAt":1752780026636,"lastExecutedByKernel":"6b5a481f-3eb8-483d-81f2-571eb9426e27","lastScheduledRunId":null,"lastSuccessfullyExecutedCode":"def store_chat_message(session_id, role, type, content):\n    # Create a message object with `session_id`, `role`, `type`, `content` and `timestamp` fields\n    # `timestamp` should be set to the current timestamp\n    message = {\n        \"session_id\": session_id,\n        \"role\": role,\n        \"type\": type,\n        \"content\": content,\n        \"timestamp\": datetime.now(),\n    }\n    # Insert the `message` into the `history_collection` collection\n    history_collection.insert_one(message)"},"id":"91eed39c-a90c-4b8a-a150-ddad3be86e58","cell_type":"code","execution_count":44,"outputs":[]},{"source":"def retrieve_session_history(session_id):\n    # Query the `history_collection` collection for documents where the \"session_id\" field has the value of the input `session_id`\n    # Sort the results in increasing order of the values in `timestamp` field\n    cursor = history_collection.find({\"session_id\": session_id}).sort(\"timestamp\", 1)\n    messages = []\n    if cursor:\n        for msg in cursor:\n            # If the message type is `text`, append the content as is\n            if msg[\"type\"] == \"text\":\n                messages.append(msg[\"content\"])\n            # If message type is `image`, open the image\n            elif msg[\"type\"] == \"image\":\n                messages.append(Image.open(msg[\"content\"]))\n    return messages","metadata":{"executionCancelledAt":null,"executionTime":9,"lastExecutedAt":1752780027687,"lastExecutedByKernel":"6b5a481f-3eb8-483d-81f2-571eb9426e27","lastScheduledRunId":null,"lastSuccessfullyExecutedCode":"def retrieve_session_history(session_id):\n    # Query the `history_collection` collection for documents where the \"session_id\" field has the value of the input `session_id`\n    # Sort the results in increasing order of the values in `timestamp` field\n    cursor = history_collection.find({\"session_id\": session_id}).sort(\"timestamp\", 1)\n    messages = []\n    if cursor:\n        for msg in cursor:\n            # If the message type is `text`, append the content as is\n            if msg[\"type\"] == \"text\":\n                messages.append(msg[\"content\"])\n            # If message type is `image`, open the image\n            elif msg[\"type\"] == \"image\":\n                messages.append(Image.open(msg[\"content\"]))\n    return messages"},"id":"2d54259a-98bf-4adb-8d52-f689d773754a","cell_type":"code","execution_count":45,"outputs":[]},{"source":"def generate_answer(session_id, user_query, images):\n    # Retrieve past conversation history for the specified `session_id` using the `retrieve_session_history` method\n    print(\"Retrieving chat history...\")\n    history = retrieve_session_history(session_id)\n    # Determine if any additional tools need to be called\n    tool_call = select_tool(history + [user_query])\n    if (\n        tool_call is not None\n        and tool_call.name == \"get_information_for_question_answering\"\n    ):\n        print(f\"Agent: Calling tool: {tool_call.name}\")\n        # Call the tool with the arguments extracted by the LLM\n        tool_images = get_information_for_question_answering(**tool_call.args)\n        # Add images returned by the tool to the list of input images if any\n        images.extend(tool_images)\n\n    # Pass the system prompt, conversation history, user query and retrieved context (`images`) to the LLM to generate an answer\n    system_prompt = f\"Answer the questions based on the provided context only. If the context is not sufficient, say I DON'T KNOW. DO NOT use any other information to answer the question.\"\n    contents = (\n        [system_prompt]\n        + history\n        + [user_query]\n        + [Image.open(image) for image in images]\n    )\n    # Get a response from the LLM\n    response = gemini_client.models.generate_content(\n        model=LLM,\n        contents=contents,\n        config=types.GenerateContentConfig(temperature=0.0),\n    )\n    answer = response.text\n    # Write the current user query to memory using the `store_chat_message` function\n    # The `role` for user queries is \"user\" and `type` is \"text\"\n    print(\"Updating chat history...\")\n    store_chat_message(session_id, \"user\", \"text\", user_query)\n    # Write the filepaths of input/retrieved images to memory using the store_chat_message` function\n    # The `role` for these is \"user\" and `type` is \"image\"\n    for image in images:\n        store_chat_message(session_id, \"user\", \"image\", image)\n    # Write the LLM generated response to memory\n    # The `role` for these is \"agent\" and `type` is \"text\"\n    store_chat_message(session_id, \"agent\", \"text\", answer)\n    return answer","metadata":{"executionCancelledAt":null,"executionTime":15,"lastExecutedAt":1752780029489,"lastExecutedByKernel":"6b5a481f-3eb8-483d-81f2-571eb9426e27","lastScheduledRunId":null,"lastSuccessfullyExecutedCode":"def generate_answer(session_id, user_query, images):\n    # Retrieve past conversation history for the specified `session_id` using the `retrieve_session_history` method\n    print(\"Retrieving chat history...\")\n    history = retrieve_session_history(session_id)\n    # Determine if any additional tools need to be called\n    tool_call = select_tool(history + [user_query])\n    if (\n        tool_call is not None\n        and tool_call.name == \"get_information_for_question_answering\"\n    ):\n        print(f\"Agent: Calling tool: {tool_call.name}\")\n        # Call the tool with the arguments extracted by the LLM\n        tool_images = get_information_for_question_answering(**tool_call.args)\n        # Add images returned by the tool to the list of input images if any\n        images.extend(tool_images)\n\n    # Pass the system prompt, conversation history, user query and retrieved context (`images`) to the LLM to generate an answer\n    system_prompt = f\"Answer the questions based on the provided context only. If the context is not sufficient, say I DON'T KNOW. DO NOT use any other information to answer the question.\"\n    contents = (\n        [system_prompt]\n        + history\n        + [user_query]\n        + [Image.open(image) for image in images]\n    )\n    # Get a response from the LLM\n    response = gemini_client.models.generate_content(\n        model=LLM,\n        contents=contents,\n        config=types.GenerateContentConfig(temperature=0.0),\n    )\n    answer = response.text\n    # Write the current user query to memory using the `store_chat_message` function\n    # The `role` for user queries is \"user\" and `type` is \"text\"\n    print(\"Updating chat history...\")\n    store_chat_message(session_id, \"user\", \"text\", user_query)\n    # Write the filepaths of input/retrieved images to memory using the store_chat_message` function\n    # The `role` for these is \"user\" and `type` is \"image\"\n    for image in images:\n        store_chat_message(session_id, \"user\", \"image\", image)\n    # Write the LLM generated response to memory\n    # The `role` for these is \"agent\" and `type` is \"text\"\n    store_chat_message(session_id, \"agent\", \"text\", answer)\n    return answer"},"id":"65b4722e-f7a2-465a-8e40-7be6f32bdb0b","cell_type":"code","execution_count":46,"outputs":[]},{"source":"def execute_agent_with_memory(session_id, user_query, images=[]):\n    response = generate_answer(session_id, user_query, images)\n    print(\"Agent:\", response)","metadata":{"executionCancelledAt":null,"executionTime":8,"lastExecutedAt":1752780032276,"lastExecutedByKernel":"6b5a481f-3eb8-483d-81f2-571eb9426e27","lastScheduledRunId":null,"lastSuccessfullyExecutedCode":"def execute_agent_with_memory(session_id, user_query, images=[]):\n    response = generate_answer(session_id, user_query, images)\n    print(\"Agent:\", response)"},"id":"51c1bb7f-f7c2-40f1-90ed-17830c0117c5","cell_type":"code","execution_count":47,"outputs":[]},{"source":"execute_agent_with_memory(\n    \"1\",\n    \"What is the Pass@1 accuracy of Deepseek R1 on the MATH500 benchmark?\",\n)","metadata":{"executionCancelledAt":null,"executionTime":9104,"lastExecutedAt":1752780042233,"lastExecutedByKernel":"6b5a481f-3eb8-483d-81f2-571eb9426e27","lastScheduledRunId":null,"lastSuccessfullyExecutedCode":"execute_agent_with_memory(\n    \"5\",\n    \"What is the Pass@1 accuracy of Deepseek R1 on the MATH500 benchmark?\",\n)","outputsMetadata":{"0":{"height":80,"type":"stream"}}},"id":"c5f23321-a9a1-4cd4-a261-b905b6ff5ce7","cell_type":"code","execution_count":48,"outputs":[]},{"source":"# Follow-up question to make sure chat history is being used.\nexecute_agent_with_memory(\n    \"1\",\n    \"What question did I just ask you?\",\n)","metadata":{"executionCancelledAt":null,"executionTime":6118,"lastExecutedAt":1752780048351,"lastExecutedByKernel":"6b5a481f-3eb8-483d-81f2-571eb9426e27","lastScheduledRunId":null,"lastSuccessfullyExecutedCode":"# Follow-up question to make sure chat history is being used.\nexecute_agent_with_memory(\n    \"5\",\n    \"What question did I just ask you?\",\n)","outputsMetadata":{"0":{"height":38,"type":"stream"},"1":{"height":80,"type":"stream"}}},"id":"bf322023-cab5-4be5-a7bc-ec913b19d7ff","cell_type":"code","execution_count":49,"outputs":[]}],"metadata":{"colab":{"name":"Welcome to DataCamp Workspaces.ipynb","provenance":[]},"kernelspec":{"display_name":"Python 3 (ipykernel)","language":"python","name":"python3"},"language_info":{"name":"python","version":"3.10.12","mimetype":"text/x-python","codemirror_mode":{"name":"ipython","version":3},"pygments_lexer":"ipython3","nbconvert_exporter":"python","file_extension":".py"},"editor":"DataLab"},"nbformat":4,"nbformat_minor":5}
```

# static/notebooks/solutions.ipynb

```ipynb
{
 "cells": [
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": "# Multimodal Agents Workshop - Complete Solutions\n\nThis notebook contains the complete, working implementations for all workshop exercises. Use this as a reference if you get stuck on the interactive workshop version (`workshop_lab.ipynb`).\n\n**Workshop Overview:**\n- Build a multimodal AI agent that can analyze documents and images\n- Use MongoDB Atlas Vector Search for retrieval\n- Implement function calling with Gemini 2.0 Flash\n- Add memory and ReAct reasoning capabilities\n\n## üéØ Learning Objectives\nBy the end of this workshop, you will be able to:\n- Process PDFs and extract images for multimodal search\n- Set up MongoDB Atlas vector search indexes\n- Build an AI agent with tool calling capabilities\n- Implement session-based memory for conversational agents\n- Create a ReAct (Reasoning + Acting) agent architecture\n\n## üîß How to Use This Solutions Notebook\n1. **First attempt**: Try implementing the TODOs in `workshop_lab.ipynb` yourself\n2. **If stuck**: Refer to the corresponding cells in this solutions notebook\n3. **Learn by comparing**: See how your implementation differs from the complete solution\n\nüí° **Remember**: The goal is to learn by doing, so try the exercises first!"
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": "# Initialize progress tracking and lab utilities\nimport sys\nimport os\n\n# Force load from development source if available\ndev_path = \"/Users/michael.lynn/code/mongodb/developer-days/jupyter-utils/jupyter-lab-progress\"\nif os.path.exists(dev_path) and dev_path not in sys.path:\n    sys.path.insert(0, dev_path)\n\n# Remove any cached modules\nmodules_to_remove = [key for key in sys.modules.keys() if key.startswith('jupyter_lab_progress')]\nfor module in modules_to_remove:\n    del sys.modules[module]\n\ntry:\n    from jupyter_lab_progress import (\n        LabProgress, LabValidator, show_info, show_warning, \n        show_success, show_error, show_hint\n    )\n    show_success(\"Progress tracking libraries loaded successfully! üéâ\")\nexcept ImportError as e:\n    print(f\"Warning: Could not import progress tracking: {e}\")\n    print(\"Installing basic fallbacks...\")\n    def show_info(msg, title=None): print(f\"‚ÑπÔ∏è {title or 'Info'}: {msg}\")\n    def show_warning(msg, title=None): print(f\"‚ö†Ô∏è {title or 'Warning'}: {msg}\")\n    def show_success(msg, title=None): print(f\"‚úÖ {title or 'Success'}: {msg}\")\n    def show_error(msg, title=None): print(f\"‚ùå {title or 'Error'}: {msg}\")\n    def show_hint(msg, title=None): print(f\"üí° {title or 'Hint'}: {msg}\")"
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": "# Set up comprehensive lab progress tracking\ntry:\n    progress = LabProgress(\n        steps=[\n            \"Environment Setup\",\n            \"PDF Processing\", \n            \"Data Ingestion\",\n            \"Vector Index Creation\",\n            \"Agent Tools Setup\",\n            \"LLM Integration\",\n            \"Basic Agent Testing\",\n            \"Memory Implementation\",\n            \"ReAct Agent Enhancement\"\n        ],\n        lab_name=\"Multimodal Agents Workshop\",\n        persist=True\n    )\n    \n    # Set up validation\n    validator = LabValidator(progress_tracker=progress)\n    \n    show_success(\"Lab progress tracking initialized!\")\n    show_info(f\"Workshop: {progress.lab_name}\")\n    show_info(f\"Total steps: {len(progress.steps)}\")\n    \nexcept NameError:\n    show_info(\"Running without progress tracking\")"
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "# Step 1: Environment Setup\n",
    "\n",
    "Let's start by setting up our environment and connecting to MongoDB Atlas."
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": "# Show step guidance\ntry:\n    progress.show_step_tips(\"Environment Setup\")\nexcept (NameError, AttributeError):\n    show_info(\"Setting up environment and connections...\")"
  },
  {
   "cell_type": "code",
   "execution_count": 4,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/html": [
       "\n",
       "    <div style='background-color: #ffebee; border-left: 6px solid #f44336; \n",
       "                padding: 10px; margin: 10px 0; border-radius: 5px;'>\n",
       "        <span style='font-size: 16px; margin-right: 8px;'>‚ùå</span>\n",
       "        Missing environment variables: ['MONGODB_URI', 'SERVERLESS_URL']\n",
       "    </div>\n",
       "    "
      ],
      "text/plain": [
       "<IPython.core.display.HTML object>"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "\n",
       "        <div style='background-color: #e7f3ff; border-left: 6px solid #2196F3; \n",
       "                    padding: 10px; margin: 10px 0; border-radius: 5px;'>\n",
       "            <span style='font-size: 16px; margin-right: 8px;'>‚ÑπÔ∏è</span>\n",
       "            Please set the required environment variables before proceeding\n",
       "            \n",
       "        </div>\n",
       "        "
      ],
      "text/plain": [
       "<IPython.core.display.HTML object>"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "\n",
       "        <div style='background-color: #ffebee; border-left: 4px solid #f44336; \n",
       "                    padding: 10px; margin: 10px 0; border-radius: 5px;'>\n",
       "            <span style='font-size: 20px; margin-right: 10px;'>‚ùå</span>\n",
       "            <strong style='color: #f44336;'>Type mismatch for 'MONGODB_URI'</strong>\n",
       "            <br><small style='color: #666;'>Expected str, got NoneType</small>\n",
       "        </div>\n",
       "        "
      ],
      "text/plain": [
       "<IPython.core.display.HTML object>"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "\n",
       "        <div style='background-color: #ffebee; border-left: 4px solid #f44336; \n",
       "                    padding: 10px; margin: 10px 0; border-radius: 5px;'>\n",
       "            <span style='font-size: 20px; margin-right: 10px;'>‚ùå</span>\n",
       "            <strong style='color: #f44336;'>Type mismatch for 'SERVERLESS_URL'</strong>\n",
       "            <br><small style='color: #666;'>Expected str, got NoneType</small>\n",
       "        </div>\n",
       "        "
      ],
      "text/plain": [
       "<IPython.core.display.HTML object>"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    }
   ],
   "source": [
    "import os\n",
    "from pymongo import MongoClient\n",
    "\n",
    "# Check environment variables\n",
    "required_vars = [\"MONGODB_URI\", \"SERVERLESS_URL\"]\n",
    "missing_vars = [var for var in required_vars if not os.getenv(var)]\n",
    "\n",
    "if missing_vars:\n",
    "    show_error(f\"Missing environment variables: {missing_vars}\")\n",
    "    show_info(\"Please set the required environment variables before proceeding\")\n",
    "else:\n",
    "    show_success(\"All required environment variables are set!\")\n",
    "\n",
    "# Validate connection variables\n",
    "try:\n",
    "    validator.validate_variable_exists(\"MONGODB_URI\", {\"MONGODB_URI\": os.getenv(\"MONGODB_URI\")}, str)\n",
    "    validator.validate_variable_exists(\"SERVERLESS_URL\", {\"SERVERLESS_URL\": os.getenv(\"SERVERLESS_URL\")}, str)\n",
    "except NameError:\n",
    "    pass"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": [
    "# Connect to MongoDB Atlas\n",
    "MONGODB_URI = os.getenv(\"MONGODB_URI\")\n",
    "SERVERLESS_URL = os.getenv(\"SERVERLESS_URL\")\n",
    "LLM_PROVIDER = \"google\"\n",
    "\n",
    "# Initialize MongoDB client\n",
    "try:\n",
    "    mongodb_client = MongoClient(MONGODB_URI)\n",
    "    # Test the connection\n",
    "    result = mongodb_client.admin.command(\"ping\")\n",
    "    \n",
    "    if result.get(\"ok\") == 1:\n",
    "        show_success(\"Successfully connected to MongoDB Atlas! üéâ\")\n",
    "        \n",
    "        # Mark step as complete\n",
    "        try:\n",
    "            progress.mark_done(\"Environment Setup\", score=100, notes=\"MongoDB connection successful\")\n",
    "        except NameError:\n",
    "            pass\n",
    "    else:\n",
    "        show_error(\"MongoDB connection failed\")\n",
    "        \n",
    "except Exception as e:\n",
    "    show_error(f\"Connection error: {e}\")\n",
    "    show_hint(\"Check your connection string and network access settings\", \n",
    "             \"Connection Troubleshooting\")"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "# Step 2: PDF Processing\n",
    "\n",
    "Download a research paper and extract pages as images for multimodal processing."
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": "# Show step guidance\ntry:\n    progress.show_step_tips(\"PDF Processing\")\nexcept (NameError, AttributeError):\n    show_info(\"Processing PDF and extracting images...\")"
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": [
    "import pymupdf\n",
    "import requests\n",
    "from pathlib import Path\n",
    "\n",
    "# Create directory for images\n",
    "Path(\"data/images\").mkdir(parents=True, exist_ok=True)\n",
    "\n",
    "show_info(\"üìö Reference: https://pymupdf.readthedocs.io/en/latest/how-to-open-a-file.html#opening-remote-files\")"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": [
    "# Download the DeepSeek paper\n",
    "try:\n",
    "    show_info(\"Downloading DeepSeek R1 research paper...\")\n",
    "    response = requests.get(\"https://arxiv.org/pdf/2501.12948\")\n",
    "    \n",
    "    if response.status_code != 200:\n",
    "        raise ValueError(f\"Failed to download PDF. Status code: {response.status_code}\")\n",
    "    \n",
    "    # Get the content of the response\n",
    "    pdf_stream = response.content\n",
    "    show_success(f\"PDF downloaded successfully! Size: {len(pdf_stream)} bytes\")\n",
    "    \n",
    "    # TODO: Open the data in `pdf_stream` as a PDF document\n",
    "    # HINT: Set the `filetype` argument to \"pdf\"\n",
    "    pdf = pymupdf.Document(stream=pdf_stream, filetype=\"pdf\")\n",
    "    \n",
    "    show_success(f\"PDF loaded! Pages: {pdf.page_count}\")\n",
    "    \n",
    "    # Validate PDF processing\n",
    "    try:\n",
    "        validator.validate_variable_exists('pdf', locals(), pymupdf.Document)\n",
    "        validator.validate_custom(\n",
    "            pdf.page_count > 0,\n",
    "            \"PDF has valid page count\",\n",
    "            \"PDF appears to be empty or corrupted\"\n",
    "        )\n",
    "    except NameError:\n",
    "        pass\n",
    "        \n",
    "except Exception as e:\n",
    "    show_error(f\"PDF processing failed: {e}\")\n",
    "    show_hint(\"Check your internet connection and try again\", \"Download Issue\")"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": "# Extract pages as images\nfrom tqdm import tqdm\n\ndocs = []\nzoom = 3.0\n\nshow_info(\"üìö Reference: https://pymupdf.readthedocs.io/en/latest/page.html#Page.get_pixmap\")\n\ntry:\n    # Set image matrix dimensions\n    mat = pymupdf.Matrix(zoom, zoom)\n    \n    show_info(f\"Extracting {pdf.page_count} pages as images...\")\n    \n    # Track partial progress\n    total_pages = pdf.page_count\n    \n    # Iterate through the pages of the PDF\n    for n in tqdm(range(pdf.page_count), desc=\"Extracting pages\"):\n        temp = {}\n        \n        # TODO: Use the `get_pixmap` method to render the PDF page\n        # HINT: Access the PDF page as pdf[n]\n        pix = pdf[n].get_pixmap(matrix=mat)\n        \n        # Store image locally\n        key = f\"data/images/{n+1}.png\"\n        pix.save(key)\n        \n        # Extract image metadata\n        temp[\"key\"] = key\n        temp[\"width\"] = pix.width\n        temp[\"height\"] = pix.height\n        temp[\"page_number\"] = n + 1\n        docs.append(temp)\n    \n    show_success(f\"Successfully extracted {len(docs)} pages as images!\")\n    show_info(f\"Images saved to: data/images/\")\n    \n    # Mark step complete\n    try:\n        progress.mark_done(\"PDF Processing\", score=95, \n                          notes=f\"Extracted {len(docs)} pages\")\n    except (NameError, AttributeError):\n        pass\n        \nexcept Exception as e:\n    show_error(f\"Image extraction failed: {e}\")\n    show_hint(\"Ensure the data/images directory exists and is writable\", \"File Access\")"
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "# Step 3: Data Ingestion\n",
    "\n",
    "Load pre-generated embeddings and ingest them into MongoDB Atlas."
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": [
    "# Optional: Generate embeddings (requires Voyage AI API key)\n",
    "show_info(\"‚ÑπÔ∏è Embedding Generation\", \"Optional Step\")\n",
    "show_info(\"\"\"\n",
    "For this workshop, we'll use pre-generated embeddings to save time.\n",
    "If you want to generate your own embeddings, uncomment the code below \n",
    "and add your Voyage AI API key.\n",
    "\n",
    "Follow these steps to get an API key:\n",
    "https://docs.voyageai.com/docs/api-key-and-installation#authentication-with-api-keys\n",
    "\"\"\")\n",
    "\n",
    "# Uncomment this section if you have a Voyage AI API key\n",
    "# from voyageai import Client\n",
    "# from PIL import Image\n",
    "# \n",
    "# os.environ[\"VOYAGE_API_KEY\"] = \"your-api-key-here\"\n",
    "# voyageai_client = Client()\n",
    "# \n",
    "# def get_embedding(data, input_type):\n",
    "#     \"\"\"Get Voyage AI embeddings for images and text.\"\"\"\n",
    "#     embedding = voyageai_client.multimodal_embed(\n",
    "#         inputs=[[data]], model=\"voyage-multimodal-3\", input_type=input_type\n",
    "#     ).embeddings[0]\n",
    "#     return embedding\n",
    "# \n",
    "# embedded_docs = []\n",
    "# for doc in tqdm(docs, desc=\"Generating embeddings\"):\n",
    "#     img = Image.open(doc['key'])\n",
    "#     doc[\"embedding\"] = get_embedding(img, \"document\")\n",
    "#     embedded_docs.append(doc)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": [
    "import json\n",
    "\n",
    "# Database configuration\n",
    "DB_NAME = \"mongodb_aiewf\"\n",
    "COLLECTION_NAME = \"multimodal_workshop\"\n",
    "\n",
    "# Connect to the collection\n",
    "collection = mongodb_client[DB_NAME][COLLECTION_NAME]\n",
    "\n",
    "show_info(f\"Connected to database: {DB_NAME}\")\n",
    "show_info(f\"Using collection: {COLLECTION_NAME}\")"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": [
    "# Load pre-generated embeddings\n",
    "try:\n",
    "    show_info(\"Loading pre-generated embeddings...\")\n",
    "    \n",
    "    with open(\"data/embeddings.json\", \"r\") as data_file:\n",
    "        json_data = data_file.read()\n",
    "    data = json.loads(json_data)\n",
    "    \n",
    "    show_success(f\"Loaded {len(data)} documents with embeddings\")\n",
    "    \n",
    "    # Validate data structure\n",
    "    try:\n",
    "        validator.validate_custom(\n",
    "            len(data) > 0,\n",
    "            \"Embeddings data loaded successfully\",\n",
    "            \"Embeddings file is empty or invalid\"\n",
    "        )\n",
    "        \n",
    "        # Check if first document has required fields\n",
    "        if data:\n",
    "            required_fields = ['embedding', 'key']\n",
    "            missing_fields = [field for field in required_fields if field not in data[0]]\n",
    "            \n",
    "            validator.validate_custom(\n",
    "                len(missing_fields) == 0,\n",
    "                \"Document structure validation passed\",\n",
    "                f\"Missing required fields: {missing_fields}\"\n",
    "            )\n",
    "    except NameError:\n",
    "        pass\n",
    "        \n",
    "except FileNotFoundError:\n",
    "    show_error(\"Embeddings file not found: data/embeddings.json\")\n",
    "    show_hint(\"Make sure the data/embeddings.json file exists in your working directory\", \n",
    "             \"File Missing\")\n",
    "except Exception as e:\n",
    "    show_error(f\"Failed to load embeddings: {e}\")"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": [
    "# Ingest data into MongoDB\n",
    "show_info(\"üìö Reference: https://pymongo.readthedocs.io/en/stable/api/pymongo/collection.html#pymongo.collection.Collection.insert_many\")\n",
    "\n",
    "try:\n",
    "    # Clear existing documents\n",
    "    delete_result = collection.delete_many({})\n",
    "    show_info(f\"Deleted {delete_result.deleted_count} existing documents\")\n",
    "    \n",
    "    # TODO: Bulk insert documents into the collection\n",
    "    insert_result = collection.insert_many(data)\n",
    "    \n",
    "    # Verify insertion\n",
    "    doc_count = collection.count_documents({})\n",
    "    \n",
    "    show_success(f\"Successfully ingested {doc_count} documents into {COLLECTION_NAME}! üéâ\")\n",
    "    \n",
    "    # Validate ingestion\n",
    "    try:\n",
    "        validator.validate_custom(\n",
    "            doc_count == len(data),\n",
    "            \"All documents ingested successfully\",\n",
    "            f\"Document count mismatch: expected {len(data)}, got {doc_count}\"\n",
    "        )\n",
    "        \n",
    "        progress.mark_done(\"Data Ingestion\", score=100, \n",
    "                          notes=f\"Ingested {doc_count} documents\")\n",
    "    except NameError:\n",
    "        pass\n",
    "        \n",
    "except Exception as e:\n",
    "    show_error(f\"Data ingestion failed: {e}\")\n",
    "    show_hint(\"Check your MongoDB connection and permissions\", \"Database Error\")"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "# Step 4: Vector Search Index Creation\n",
    "\n",
    "Create a vector search index to enable similarity search on our multimodal embeddings."
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": "# Show step guidance\ntry:\n    progress.show_step_tips(\"Vector Index Creation\")\nexcept (NameError, AttributeError):\n    show_info(\"Creating vector search index...\")"
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": [
    "VS_INDEX_NAME = \"vector_index\"\n",
    "\n",
    "# Define vector index configuration\n",
    "model = {\n",
    "    \"name\": VS_INDEX_NAME,\n",
    "    \"type\": \"vectorSearch\",\n",
    "    \"definition\": {\n",
    "        \"fields\": [\n",
    "            {\n",
    "                \"type\": \"vector\",\n",
    "                \"path\": \"embedding\",\n",
    "                \"numDimensions\": 1024,\n",
    "                \"similarity\": \"cosine\",\n",
    "            }\n",
    "        ]\n",
    "    },\n",
    "}\n",
    "\n",
    "show_info(f\"Index configuration: {VS_INDEX_NAME}\")\n",
    "show_info(\"Vector field: embedding\")\n",
    "show_info(\"Dimensions: 1024 (Voyage multimodal)\")\n",
    "show_info(\"Similarity metric: cosine\")"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": [
    "# Create the vector search index\n",
    "show_info(\"üìö Reference: https://pymongo.readthedocs.io/en/stable/api/pymongo/collection.html#pymongo.collection.Collection.create_search_index\")\n",
    "\n",
    "try:\n",
    "    # Check if index already exists\n",
    "    existing_indexes = list(collection.list_search_indexes())\n",
    "    index_exists = any(idx.get('name') == VS_INDEX_NAME for idx in existing_indexes)\n",
    "    \n",
    "    if index_exists:\n",
    "        show_info(f\"Index '{VS_INDEX_NAME}' already exists\")\n",
    "    else:\n",
    "        show_info(\"Creating vector search index...\")\n",
    "        \n",
    "        # TODO: Create the vector search index\n",
    "        collection.create_search_index(model=model)\n",
    "        \n",
    "        show_success(f\"Vector search index '{VS_INDEX_NAME}' created successfully! üéâ\")\n",
    "    \n",
    "    # Mark step complete\n",
    "    try:\n",
    "        progress.mark_done(\"Vector Index Creation\", score=100, \n",
    "                          notes=f\"Index '{VS_INDEX_NAME}' ready\")\n",
    "    except NameError:\n",
    "        pass\n",
    "        \n",
    "except Exception as e:\n",
    "    show_error(f\"Index creation failed: {e}\")\n",
    "    show_hint(\"Index creation may take a few minutes. Check Atlas UI to monitor progress\", \n",
    "             \"Index Status\")"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": [
    "# Verify index status\n",
    "try:\n",
    "    indexes = list(collection.list_search_indexes())\n",
    "    \n",
    "    show_info(\"Current search indexes:\")\n",
    "    for idx in indexes:\n",
    "        name = idx.get('name', 'Unknown')\n",
    "        status = idx.get('status', 'Unknown')\n",
    "        \n",
    "        if status == 'READY':\n",
    "            show_success(f\"‚úÖ {name}: {status}\")\n",
    "        else:\n",
    "            show_warning(f\"‚è≥ {name}: {status}\")\n",
    "    \n",
    "    # Check if our index is ready\n",
    "    our_index = next((idx for idx in indexes if idx.get('name') == VS_INDEX_NAME), None)\n",
    "    \n",
    "    if our_index and our_index.get('status') == 'READY':\n",
    "        show_success(f\"Index '{VS_INDEX_NAME}' is ready for vector search! üöÄ\")\n",
    "    else:\n",
    "        show_warning(f\"Index '{VS_INDEX_NAME}' is still building. Please wait...\")\n",
    "        show_hint(\"Index creation can take several minutes. Check the Atlas UI for progress.\", \n",
    "                 \"Index Building\")\n",
    "        \n",
    "except Exception as e:\n",
    "    show_error(f\"Failed to check index status: {e}\")"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "# Step 5: Agent Tools Setup\n",
    "\n",
    "Create the vector search tool that our AI agent will use to retrieve relevant information."
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": [
    "from typing import List\n",
    "\n",
    "show_info(\"üìö Reference: https://www.mongodb.com/docs/atlas/atlas-vector-search/vector-search-stage/#ann-examples\")"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": [
    "def get_information_for_question_answering(user_query: str) -> List[str]:\n",
    "    \"\"\"\n",
    "    Retrieve information using vector search to answer a user query.\n",
    "\n",
    "    Args:\n",
    "        user_query (str): The user's query string.\n",
    "\n",
    "    Returns:\n",
    "        List[str]: List of image file paths retrieved from vector search.\n",
    "    \"\"\"\n",
    "    try:\n",
    "        show_info(f\"üîç Searching for: {user_query}\")\n",
    "        \n",
    "        # Embed the user query using our serverless endpoint\n",
    "        response = requests.post(\n",
    "            url=SERVERLESS_URL,\n",
    "            json={\n",
    "                \"task\": \"get_embedding\",\n",
    "                \"data\": {\"input\": user_query, \"input_type\": \"query\"},\n",
    "            },\n",
    "        )\n",
    "        \n",
    "        if response.status_code != 200:\n",
    "            show_error(f\"Embedding API failed: {response.status_code}\")\n",
    "            return []\n",
    "        \n",
    "        # Extract the embedding from the response\n",
    "        query_embedding = response.json()[\"embedding\"]\n",
    "        show_success(f\"Generated query embedding: {len(query_embedding)} dimensions\")\n",
    "\n",
    "        # TODO: Define aggregation pipeline with $vectorSearch and $project stages\n",
    "        pipeline = [\n",
    "            {\n",
    "                \"$vectorSearch\": {\n",
    "                    \"index\": VS_INDEX_NAME,\n",
    "                    \"path\": \"embedding\",\n",
    "                    \"queryVector\": query_embedding,\n",
    "                    \"numCandidates\": 150,\n",
    "                    \"limit\": 2,\n",
    "                }\n",
    "            },\n",
    "            {\n",
    "                \"$project\": {\n",
    "                    \"_id\": 0,\n",
    "                    \"key\": 1,\n",
    "                    \"width\": 1,\n",
    "                    \"height\": 1,\n",
    "                    \"score\": {\"$meta\": \"vectorSearchScore\"},\n",
    "                }\n",
    "            },\n",
    "        ]\n",
    "\n",
    "        # TODO: Execute the aggregation pipeline\n",
    "        results = list(collection.aggregate(pipeline))\n",
    "        \n",
    "        # Extract image keys\n",
    "        keys = [result[\"key\"] for result in results]\n",
    "        scores = [result[\"score\"] for result in results]\n",
    "        \n",
    "        show_success(f\"Found {len(keys)} relevant images\")\n",
    "        for i, (key, score) in enumerate(zip(keys, scores)):\n",
    "            show_info(f\"  {i+1}. {key} (score: {score:.4f})\")\n",
    "        \n",
    "        return keys\n",
    "        \n",
    "    except Exception as e:\n",
    "        show_error(f\"Vector search failed: {e}\")\n",
    "        return []"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": [
    "# Define function declaration for Gemini function calling\n",
    "show_info(\"üìö Reference: https://ai.google.dev/gemini-api/docs/function-calling#step_1_define_function_declaration\")\n",
    "\n",
    "# TODO: Define the function declaration\n",
    "get_information_for_question_answering_declaration = {\n",
    "    \"name\": \"get_information_for_question_answering\",\n",
    "    \"description\": \"Retrieve information using vector search to answer a user query.\",\n",
    "    \"parameters\": {\n",
    "        \"type\": \"object\",\n",
    "        \"properties\": {\n",
    "            \"user_query\": {\n",
    "                \"type\": \"string\",\n",
    "                \"description\": \"Query string to use for vector search\",\n",
    "            }\n",
    "        },\n",
    "        \"required\": [\"user_query\"],\n",
    "    },\n",
    "}\n",
    "\n",
    "show_success(\"Function declaration created for Gemini integration!\")\n",
    "\n",
    "# Mark step complete\n",
    "try:\n",
    "    progress.mark_done(\"Agent Tools Setup\", score=100, \n",
    "                      notes=\"Vector search tool and function declaration ready\")\n",
    "except NameError:\n",
    "    pass"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "# Step 6: LLM Integration\n",
    "\n",
    "Set up Gemini 2.0 Flash with function calling capabilities."
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": [
    "from google import genai\n",
    "from google.genai import types\n",
    "from google.genai.types import FunctionCall\n",
    "\n",
    "LLM = \"gemini-2.0-flash\"\n",
    "\n",
    "try:\n",
    "    # Get API key from serverless endpoint\n",
    "    show_info(\"Obtaining Gemini API key...\")\n",
    "    \n",
    "    api_response = requests.post(\n",
    "        url=SERVERLESS_URL, \n",
    "        json={\"task\": \"get_api_key\", \"data\": LLM_PROVIDER}\n",
    "    )\n",
    "    \n",
    "    if api_response.status_code == 200:\n",
    "        api_key = api_response.json()[\"api_key\"]\n",
    "        \n",
    "        # Initialize Gemini client\n",
    "        gemini_client = genai.Client(api_key=api_key)\n",
    "        \n",
    "        show_success(f\"Gemini client initialized with model: {LLM}\")\n",
    "        \n",
    "        # Validate client setup\n",
    "        try:\n",
    "            validator.validate_variable_exists('gemini_client', locals(), genai.Client)\n",
    "        except NameError:\n",
    "            pass\n",
    "    else:\n",
    "        show_error(f\"Failed to get API key: {api_response.status_code}\")\n",
    "        \n",
    "except Exception as e:\n",
    "    show_error(f\"LLM setup failed: {e}\")\n",
    "    show_hint(\"Check your SERVERLESS_URL and network connection\", \"API Key Error\")"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": [
    "# Create generation configuration\n",
    "try:\n",
    "    tools = types.Tool(\n",
    "        function_declarations=[get_information_for_question_answering_declaration]\n",
    "    )\n",
    "    tools_config = types.GenerateContentConfig(tools=[tools], temperature=0.0)\n",
    "    \n",
    "    show_success(\"Generation configuration created with function calling enabled!\")\n",
    "    show_info(\"Temperature: 0.0 (deterministic responses)\")\n",
    "    show_info(\"Available tools: get_information_for_question_answering\")\n",
    "    \n",
    "    # Mark step complete\n",
    "    try:\n",
    "        progress.mark_done(\"LLM Integration\", score=100, \n",
    "                          notes=\"Gemini 2.0 Flash configured with function calling\")\n",
    "    except NameError:\n",
    "        pass\n",
    "        \n",
    "except Exception as e:\n",
    "    show_error(f\"Configuration failed: {e}\")"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "# Step 7: Basic Agent Implementation\n",
    "\n",
    "Create the core agent functions for tool selection and response generation."
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": [
    "from PIL import Image\n",
    "\n",
    "show_info(\"üìö Reference: https://ai.google.dev/gemini-api/docs/function-calling#step_4_create_user_friendly_response\")"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": [
    "def select_tool(messages: List) -> FunctionCall | None:\n",
    "    \"\"\"\n",
    "    Use an LLM to decide which tool to call.\n",
    "\n",
    "    Args:\n",
    "        messages (List): Messages as a list\n",
    "\n",
    "    Returns:\n",
    "        FunctionCall: Function call object or None\n",
    "    \"\"\"\n",
    "    try:\n",
    "        system_prompt = [\n",
    "            (\n",
    "                \"You're an AI assistant. Based on the given information, decide which tool to use. \"\n",
    "                \"If the user is asking to explain an image, don't call any tools unless that would help you better explain the image. \"\n",
    "                \"Here is the provided information:\\n\"\n",
    "            )\n",
    "        ]\n",
    "        \n",
    "        # Input to the LLM\n",
    "        contents = system_prompt + messages\n",
    "        \n",
    "        # TODO: Generate response using Gemini\n",
    "        response = gemini_client.models.generate_content(\n",
    "            model=LLM, contents=contents, config=tools_config\n",
    "        )\n",
    "        \n",
    "        # Extract and return the function call\n",
    "        if response.candidates and response.candidates[0].content.parts:\n",
    "            return response.candidates[0].content.parts[0].function_call\n",
    "        \n",
    "        return None\n",
    "        \n",
    "    except Exception as e:\n",
    "        show_error(f\"Tool selection failed: {e}\")\n",
    "        return None\n",
    "\n",
    "show_success(\"Tool selection function created!\")"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": [
    "def generate_answer(user_query: str, images: List = []) -> str:\n",
    "    \"\"\"\n",
    "    Execute any tools and generate a response.\n",
    "\n",
    "    Args:\n",
    "        user_query (str): User's query string\n",
    "        images (List): List of image file paths. Defaults to [].\n",
    "\n",
    "    Returns:\n",
    "        str: LLM-generated response\n",
    "    \"\"\"\n",
    "    try:\n",
    "        # TODO: Use select_tool to determine if we need to call any tools\n",
    "        tool_call = select_tool([user_query])\n",
    "        \n",
    "        # If a tool call is found and it's our vector search function\n",
    "        if (\n",
    "            tool_call is not None\n",
    "            and tool_call.name == \"get_information_for_question_answering\"\n",
    "        ):\n",
    "            show_info(f\"üõ†Ô∏è Agent calling tool: {tool_call.name}\")\n",
    "            \n",
    "            # TODO: Call the tool with the extracted arguments\n",
    "            tool_images = get_information_for_question_answering(**tool_call.args)\n",
    "            \n",
    "            # Add retrieved images to the input images\n",
    "            images.extend(tool_images)\n",
    "\n",
    "        # Prepare system prompt\n",
    "        system_prompt = (\n",
    "            \"Answer the questions based on the provided context only. \"\n",
    "            \"If the context is not sufficient, say I DON'T KNOW. \"\n",
    "            \"DO NOT use any other information to answer the question.\"\n",
    "        )\n",
    "        \n",
    "        # Prepare contents for the LLM\n",
    "        contents = [system_prompt] + [user_query] + [Image.open(image) for image in images]\n",
    "\n",
    "        # Get the response from the LLM\n",
    "        response = gemini_client.models.generate_content(\n",
    "            model=LLM,\n",
    "            contents=contents,\n",
    "            config=types.GenerateContentConfig(temperature=0.0),\n",
    "        )\n",
    "        \n",
    "        answer = response.text\n",
    "        return answer\n",
    "        \n",
    "    except Exception as e:\n",
    "        show_error(f\"Answer generation failed: {e}\")\n",
    "        return \"I apologize, but I encountered an error while processing your question.\"\n",
    "\n",
    "show_success(\"Answer generation function created!\")"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": [
    "def execute_agent(user_query: str, images: List = []) -> None:\n",
    "    \"\"\"\n",
    "    Execute the agent and display the response.\n",
    "\n",
    "    Args:\n",
    "        user_query (str): User query\n",
    "        images (List, optional): List of image file paths. Defaults to [].\n",
    "    \"\"\"\n",
    "    try:\n",
    "        show_info(f\"ü§ñ Processing query: {user_query}\")\n",
    "        \n",
    "        response = generate_answer(user_query, images)\n",
    "        \n",
    "        show_success(\"ü§ñ Agent Response:\")\n",
    "        print(f\"\\n{response}\\n\")\n",
    "        \n",
    "    except Exception as e:\n",
    "        show_error(f\"Agent execution failed: {e}\")\n",
    "\n",
    "show_success(\"Agent execution function created!\")\n",
    "\n",
    "# Mark step complete\n",
    "try:\n",
    "    progress.mark_done(\"Basic Agent Testing\", score=100, \n",
    "                      notes=\"Agent functions implemented and ready for testing\")\n",
    "except NameError:\n",
    "    pass"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": [
    "# Test the agent with different types of queries\n",
    "show_info(\"üß™ Testing the agent with sample queries...\")\n",
    "\n",
    "# Test 1: Text-based query requiring vector search\n",
    "show_info(\"Test 1: Factual question requiring document search\")\n",
    "execute_agent(\"What is the Pass@1 accuracy of Deepseek R1 on the MATH500 benchmark?\")"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": [
    "# Test 2: Image explanation (if test image exists)\n",
    "import os\n",
    "\n",
    "if os.path.exists(\"data/test.png\"):\n",
    "    show_info(\"Test 2: Image analysis\")\n",
    "    execute_agent(\"Explain the graph in this image:\", [\"data/test.png\"])\n",
    "else:\n",
    "    show_warning(\"Test image not found: data/test.png\")\n",
    "    show_info(\"Test 2: Using extracted PDF page instead\")\n",
    "    if docs:\n",
    "        execute_agent(\"What can you see in this document page?\", [docs[0]['key']])"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "# Step 8: Memory Implementation\n",
    "\n",
    "Add conversational memory to enable multi-turn conversations with context retention."
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": [
    "from datetime import datetime\n",
    "\n",
    "# Set up history collection\n",
    "history_collection = mongodb_client[DB_NAME][\"history\"]\n",
    "\n",
    "show_info(f\"Setting up conversation memory in: {DB_NAME}.history\")\n",
    "show_info(\"üìö Reference: https://pymongo.readthedocs.io/en/stable/api/pymongo/collection.html#pymongo.collection.Collection.create_index\")"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": [
    "# Create index for efficient session queries\n",
    "try:\n",
    "    # TODO: Create index on session_id field\n",
    "    history_collection.create_index(\"session_id\")\n",
    "    \n",
    "    show_success(\"Session index created for conversation history!\")\n",
    "    \n",
    "except Exception as e:\n",
    "    show_error(f\"Index creation failed: {e}\")"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": [
    "def store_chat_message(session_id: str, role: str, type: str, content: str) -> None:\n",
    "    \"\"\"\n",
    "    Create chat history document and store it in MongoDB.\n",
    "\n",
    "    Args:\n",
    "        session_id (str): Session ID\n",
    "        role (str): Message role, one of 'user' or 'agent'\n",
    "        type (str): Type of message, one of 'text' or 'image'\n",
    "        content (str): Content of the message (text or image path)\n",
    "    \"\"\"\n",
    "    try:\n",
    "        # TODO: Create message document\n",
    "        message = {\n",
    "            \"session_id\": session_id,\n",
    "            \"role\": role,\n",
    "            \"type\": type,\n",
    "            \"content\": content,\n",
    "            \"timestamp\": datetime.now(),\n",
    "        }\n",
    "        \n",
    "        # TODO: Insert message into history collection\n",
    "        history_collection.insert_one(message)\n",
    "        \n",
    "    except Exception as e:\n",
    "        show_error(f\"Failed to store chat message: {e}\")\n",
    "\n",
    "show_success(\"Chat message storage function created!\")"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": [
    "def retrieve_session_history(session_id: str) -> List:\n",
    "    \"\"\"\n",
    "    Retrieve chat history for a particular session.\n",
    "\n",
    "    Args:\n",
    "        session_id (str): Session ID\n",
    "\n",
    "    Returns:\n",
    "        List: List of messages (text and images)\n",
    "    \"\"\"\n",
    "    try:\n",
    "        show_info(\"üìö Reference: https://pymongo.readthedocs.io/en/stable/api/pymongo/cursor.html#pymongo.cursor.Cursor.sort\")\n",
    "        \n",
    "        # TODO: Query history collection and sort by timestamp\n",
    "        cursor = history_collection.find({\"session_id\": session_id}).sort(\"timestamp\", 1)\n",
    "        \n",
    "        messages = []\n",
    "        if cursor:\n",
    "            for msg in cursor:\n",
    "                # If message type is text, append content as is\n",
    "                if msg[\"type\"] == \"text\":\n",
    "                    messages.append(msg[\"content\"])\n",
    "                # If message type is image, open and append the image\n",
    "                elif msg[\"type\"] == \"image\":\n",
    "                    try:\n",
    "                        messages.append(Image.open(msg[\"content\"]))\n",
    "                    except Exception as e:\n",
    "                        show_warning(f\"Could not load image {msg['content']}: {e}\")\n",
    "        \n",
    "        return messages\n",
    "        \n",
    "    except Exception as e:\n",
    "        show_error(f\"Failed to retrieve session history: {e}\")\n",
    "        return []\n",
    "\n",
    "show_success(\"Session history retrieval function created!\")"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": [
    "# Enhanced generate_answer function with memory\n",
    "def generate_answer_with_memory(session_id: str, user_query: str, images: List = []) -> str:\n",
    "    \"\"\"\n",
    "    Execute tools and generate response with conversation memory.\n",
    "\n",
    "    Args:\n",
    "        session_id (str): Session ID for conversation tracking\n",
    "        user_query (str): User's query string\n",
    "        images (List): List of image file paths. Defaults to [].\n",
    "\n",
    "    Returns:\n",
    "        str: LLM-generated response\n",
    "    \"\"\"\n",
    "    try:\n",
    "        # TODO: Retrieve conversation history\n",
    "        history = retrieve_session_history(session_id)\n",
    "        \n",
    "        show_info(f\"Retrieved {len(history)} previous messages for session {session_id}\")\n",
    "        \n",
    "        # Determine if tools need to be called\n",
    "        tool_call = select_tool(history + [user_query])\n",
    "        \n",
    "        if (\n",
    "            tool_call is not None\n",
    "            and tool_call.name == \"get_information_for_question_answering\"\n",
    "        ):\n",
    "            show_info(f\"üõ†Ô∏è Agent calling tool: {tool_call.name}\")\n",
    "            tool_images = get_information_for_question_answering(**tool_call.args)\n",
    "            images.extend(tool_images)\n",
    "\n",
    "        # Generate response with history context\n",
    "        system_prompt = (\n",
    "            \"Answer the questions based on the provided context only. \"\n",
    "            \"If the context is not sufficient, say I DON'T KNOW. \"\n",
    "            \"DO NOT use any other information to answer the question.\"\n",
    "        )\n",
    "        \n",
    "        contents = (\n",
    "            [system_prompt]\n",
    "            + history\n",
    "            + [user_query]\n",
    "            + [Image.open(image) for image in images]\n",
    "        )\n",
    "        \n",
    "        response = gemini_client.models.generate_content(\n",
    "            model=LLM,\n",
    "            contents=contents,\n",
    "            config=types.GenerateContentConfig(temperature=0.0),\n",
    "        )\n",
    "        \n",
    "        answer = response.text\n",
    "        \n",
    "        # Store conversation in memory\n",
    "        # TODO: Store user query\n",
    "        store_chat_message(session_id, \"user\", \"text\", user_query)\n",
    "        \n",
    "        # TODO: Store image references\n",
    "        for image in images:\n",
    "            store_chat_message(session_id, \"user\", \"image\", image)\n",
    "        \n",
    "        # TODO: Store agent response\n",
    "        store_chat_message(session_id, \"agent\", \"text\", answer)\n",
    "        \n",
    "        return answer\n",
    "        \n",
    "    except Exception as e:\n",
    "        show_error(f\"Memory-enabled answer generation failed: {e}\")\n",
    "        return \"I apologize, but I encountered an error while processing your question.\"\n",
    "\n",
    "show_success(\"Memory-enabled answer generation function created!\")"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": [
    "# Enhanced execute_agent function with memory\n",
    "def execute_agent_with_memory(session_id: str, user_query: str, images: List = []) -> None:\n",
    "    \"\"\"\n",
    "    Execute the agent with conversation memory.\n",
    "\n",
    "    Args:\n",
    "        session_id (str): Session ID for conversation tracking\n",
    "        user_query (str): User query\n",
    "        images (List, optional): List of image file paths. Defaults to [].\n",
    "    \"\"\"\n",
    "    try:\n",
    "        show_info(f\"üß† Session {session_id} - Processing: {user_query}\")\n",
    "        \n",
    "        response = generate_answer_with_memory(session_id, user_query, images)\n",
    "        \n",
    "        show_success(\"ü§ñ Agent Response:\")\n",
    "        print(f\"\\n{response}\\n\")\n",
    "        \n",
    "    except Exception as e:\n",
    "        show_error(f\"Memory-enabled agent execution failed: {e}\")\n",
    "\n",
    "show_success(\"Memory-enabled agent execution function created!\")\n",
    "\n",
    "# Mark step complete\n",
    "try:\n",
    "    progress.mark_done(\"Memory Implementation\", score=100, \n",
    "                      notes=\"Conversation memory system implemented\")\n",
    "except NameError:\n",
    "    pass"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": [
    "# Test memory-enabled agent\n",
    "show_info(\"üß™ Testing memory-enabled agent...\")\n",
    "\n",
    "# First query in session\n",
    "show_info(\"Test 1: Initial query\")\n",
    "execute_agent_with_memory(\n",
    "    \"session_1\",\n",
    "    \"What is the Pass@1 accuracy of Deepseek R1 on the MATH500 benchmark?\",\n",
    ")"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": [
    "# Follow-up query to test memory\n",
    "show_info(\"Test 2: Follow-up query to test memory\")\n",
    "execute_agent_with_memory(\n",
    "    \"session_1\",\n",
    "    \"What did I just ask you?\",\n",
    ")"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "# Step 9: ReAct Agent Enhancement\n",
    "\n",
    "Implement a ReAct (Reasoning + Acting) agent that can reason about whether it has enough information and iteratively gather more data if needed."
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": [
    "def generate_answer_react(user_query: str, images: List = []) -> str:\n",
    "    \"\"\"\n",
    "    Implement a ReAct (Reasoning + Acting) agent.\n",
    "\n",
    "    Args:\n",
    "        user_query (str): User's query string\n",
    "        images (List): List of image file paths. Defaults to [].\n",
    "\n",
    "    Returns:\n",
    "        str: LLM-generated response\n",
    "    \"\"\"\n",
    "    try:\n",
    "        show_info(\"üß† Starting ReAct agent processing...\")\n",
    "        \n",
    "        # Define reasoning prompt\n",
    "        system_prompt = [\n",
    "            (\n",
    "                \"You are an AI assistant. Based on the current information, decide if you have enough to answer the user query, or if you need more information. \"\n",
    "                \"If you have enough information, respond with 'ANSWER: <your answer>'. \"\n",
    "                \"If you need more information, respond with 'TOOL: <question for the tool>'. Keep the question concise. \"\n",
    "                f\"User query: {user_query}\\n\"\n",
    "                \"Current information:\\n\"\n",
    "            )\n",
    "        ]\n",
    "        \n",
    "        # Set max iterations to prevent infinite loops\n",
    "        max_iterations = 3\n",
    "        current_iteration = 0\n",
    "        \n",
    "        # Initialize list to accumulate information\n",
    "        current_information = []\n",
    "\n",
    "        # If the user provided images, add them to current information\n",
    "        if len(images) != 0:\n",
    "            current_information.extend([Image.open(image) for image in images])\n",
    "            show_info(f\"Added {len(images)} user-provided images to context\")\n",
    "\n",
    "        # Run the reasoning ‚Üí action loop\n",
    "        while current_iteration < max_iterations:\n",
    "            current_iteration += 1\n",
    "            show_info(f\"üîÑ ReAct Iteration {current_iteration}:\")\n",
    "            \n",
    "            # Generate reasoning and decision\n",
    "            response = gemini_client.models.generate_content(\n",
    "                model=LLM,\n",
    "                contents=system_prompt + current_information,\n",
    "                config=types.GenerateContentConfig(temperature=0.0),\n",
    "            )\n",
    "            \n",
    "            decision = response.text\n",
    "            show_info(f\"üí≠ Agent decision: {decision[:100]}...\")\n",
    "            \n",
    "            # If the agent has the final answer, return it\n",
    "            if \"ANSWER:\" in decision:\n",
    "                final_answer = decision.split(\"ANSWER:\", 1)[1].strip()\n",
    "                show_success(f\"‚úÖ Final answer reached in {current_iteration} iterations\")\n",
    "                return final_answer\n",
    "            \n",
    "            # If the agent decides to use a tool\n",
    "            elif \"TOOL:\" in decision:\n",
    "                tool_query = decision.split(\"TOOL:\", 1)[1].strip()\n",
    "                show_info(f\"üõ†Ô∏è Agent requesting tool with query: {tool_query}\")\n",
    "                \n",
    "                # Use tool selection to get the function call\n",
    "                tool_call = select_tool([tool_query])\n",
    "                \n",
    "                if (\n",
    "                    tool_call is not None\n",
    "                    and tool_call.name == \"get_information_for_question_answering\"\n",
    "                ):\n",
    "                    show_info(f\"üìä Calling vector search with: {tool_call.args}\")\n",
    "                    \n",
    "                    # Call the tool and add results to current information\n",
    "                    tool_images = get_information_for_question_answering(**tool_call.args)\n",
    "                    \n",
    "                    if tool_images:\n",
    "                        new_images = [Image.open(image) for image in tool_images]\n",
    "                        current_information.extend(new_images)\n",
    "                        show_success(f\"‚ûï Added {len(new_images)} retrieved images to context\")\n",
    "                    else:\n",
    "                        show_warning(\"No relevant images found\")\n",
    "                        current_information.append(\"No relevant visual information found for this query.\")\n",
    "                else:\n",
    "                    show_warning(\"Tool selection failed or returned unexpected tool\")\n",
    "                    current_information.append(\"Tool call failed.\")\n",
    "            else:\n",
    "                show_warning(\"Agent response didn't contain ANSWER or TOOL directive\")\n",
    "                current_information.append(\"Unable to determine next action.\")\n",
    "        \n",
    "        # If we've exhausted iterations without a final answer\n",
    "        show_warning(f\"‚ö†Ô∏è Reached maximum iterations ({max_iterations}) without final answer\")\n",
    "        return \"I apologize, but I couldn't find a definitive answer after exploring the available information. Please try rephrasing your question or asking for more specific details.\"\n",
    "        \n",
    "    except Exception as e:\n",
    "        show_error(f\"ReAct agent failed: {e}\")\n",
    "        return \"I apologize, but I encountered an error while processing your question with the ReAct approach.\"\n",
    "\n",
    "show_success(\"ReAct agent implementation completed!\")"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": [
    "def execute_react_agent(user_query: str, images: List = []) -> None:\n",
    "    \"\"\"\n",
    "    Execute the ReAct agent.\n",
    "\n",
    "    Args:\n",
    "        user_query (str): User query\n",
    "        images (List, optional): List of image file paths. Defaults to [].\n",
    "    \"\"\"\n",
    "    try:\n",
    "        show_info(f\"ü¶∏‚Äç‚ôÄÔ∏è ReAct Agent Processing: {user_query}\")\n",
    "        \n",
    "        response = generate_answer_react(user_query, images)\n",
    "        \n",
    "        show_success(\"ü§ñ ReAct Agent Final Response:\")\n",
    "        print(f\"\\n{response}\\n\")\n",
    "        \n",
    "    except Exception as e:\n",
    "        show_error(f\"ReAct agent execution failed: {e}\")\n",
    "\n",
    "show_success(\"ReAct agent execution function created!\")\n",
    "\n",
    "# Mark final step complete\n",
    "try:\n",
    "    progress.mark_done(\"ReAct Agent Enhancement\", score=100, \n",
    "                      notes=\"ReAct reasoning and acting agent implemented\")\n",
    "except NameError:\n",
    "    pass"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": [
    "# Test ReAct agent\n",
    "show_info(\"üß™ Testing ReAct agent with iterative reasoning...\")\n",
    "\n",
    "# Test 1: Question requiring document search\n",
    "show_info(\"Test 1: Complex factual question\")\n",
    "execute_react_agent(\"What is the Pass@1 accuracy of Deepseek R1 on the MATH500 benchmark?\")"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": [
    "# Test 2: Image analysis (if available)\n",
    "if os.path.exists(\"data/test.png\"):\n",
    "    show_info(\"Test 2: Image analysis with ReAct\")\n",
    "    execute_react_agent(\"Explain the graph in this image:\", [\"data/test.png\"])\n",
    "else:\n",
    "    show_info(\"Test 2: Document page analysis with ReAct\")\n",
    "    if docs:\n",
    "        execute_react_agent(\"What technical concepts are discussed in this document page?\", [docs[0]['key']])"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "# üéâ Workshop Complete!\n",
    "\n",
    "Congratulations! You've successfully built a comprehensive multimodal AI agent system."
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": [
    "# Final progress summary\n",
    "try:\n",
    "    show_success(\"üéì Workshop Completed Successfully!\")\n",
    "    \n",
    "    # Display final progress\n",
    "    progress.display_progress(detailed=True)\n",
    "    \n",
    "    # Show completion statistics\n",
    "    completion_rate = progress.get_completion_rate()\n",
    "    avg_score = progress.get_average_score()\n",
    "    \n",
    "    show_info(f\"üìä Overall Completion: {completion_rate:.1f}%\")\n",
    "    if avg_score:\n",
    "        show_info(f\"üìà Average Score: {avg_score:.1f}/100\")\n",
    "    \n",
    "    # Show what was accomplished\n",
    "    show_success(\"\"\"\n",
    "    üöÄ What You've Built:\n",
    "    \n",
    "    ‚úÖ PDF processing pipeline for multimodal content\n",
    "    ‚úÖ MongoDB Atlas vector search integration\n",
    "    ‚úÖ AI agent with function calling capabilities\n",
    "    ‚úÖ Conversational memory system\n",
    "    ‚úÖ ReAct (Reasoning + Acting) agent architecture\n",
    "    ‚úÖ End-to-end multimodal AI application\n",
    "    \"\"\")\n",
    "    \n",
    "    # Next steps\n",
    "    show_info(\"\"\"\n",
    "    üéØ Next Steps:\n",
    "    \n",
    "    ‚Ä¢ Experiment with different types of documents and queries\n",
    "    ‚Ä¢ Modify the agent to work with your own data\n",
    "    ‚Ä¢ Add more sophisticated reasoning capabilities\n",
    "    ‚Ä¢ Integrate with web interfaces or chat applications\n",
    "    ‚Ä¢ Explore other multimodal models and embeddings\n",
    "    \"\"\")\n",
    "    \n",
    "except NameError:\n",
    "    show_success(\"üéì Workshop completed successfully!\")\n",
    "    show_info(\"All agent implementations are ready for use.\")"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": [
    "# Optional: Export progress analytics\n",
    "try:\n",
    "    if hasattr(progress, 'export_analytics_json'):\n",
    "        analytics_file = progress.export_analytics_json()\n",
    "        show_success(f\"üìÑ Progress analytics exported to: {analytics_file}\")\n",
    "        \n",
    "        # Show summary\n",
    "        summary = progress.get_analytics_summary()\n",
    "        if summary:\n",
    "            show_info(f\"‚è±Ô∏è Total session time: {summary.get('session_duration', 'N/A')} seconds\")\n",
    "            show_info(f\"üìù Total interactions: {summary.get('total_events', 'N/A')}\")\n",
    "except (NameError, AttributeError):\n",
    "    pass\n",
    "\n",
    "show_success(\"Thank you for completing the Multimodal Agents Workshop! üôè\")"
   ]
  }
 ],
 "metadata": {
  "kernelspec": {
   "display_name": "Python 3 (ipykernel)",
   "language": "python",
   "name": "python3"
  },
  "language_info": {
   "codemirror_mode": {
    "name": "ipython",
    "version": 3
   },
   "file_extension": ".py",
   "mimetype": "text/x-python",
   "name": "python",
   "nbconvert_exporter": "python",
   "pygments_lexer": "ipython3",
   "version": "3.12.3"
  }
 },
 "nbformat": 4,
 "nbformat_minor": 4
}
```

# static/pdf/2501.12948v1.pdf

This is a binary file of the type: PDF

# static/pdf/Stateless-Document-DB-Encryption-Scheme.pdf

This is a binary file of the type: PDF

# static/upload-interface.html

```html
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Multimodal PDF Agent - Upload & Chat</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background-color: #f5f5f5;
            padding: 20px;
            max-width: 800px;
            margin: 0 auto;
        }
        
        .container {
            background: white;
            border-radius: 12px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            padding: 30px;
        }
        
        h1 {
            color: #333;
            margin-bottom: 10px;
        }
        
        .subtitle {
            color: #666;
            margin-bottom: 30px;
        }
        
        .upload-section {
            border: 2px dashed #ddd;
            border-radius: 8px;
            padding: 40px;
            text-align: center;
            margin-bottom: 30px;
            transition: all 0.3s ease;
        }
        
        .upload-section.dragover {
            border-color: #4CAF50;
            background-color: #f8fff9;
        }
        
        .file-input {
            display: none;
        }
        
        .upload-btn {
            background-color: #4CAF50;
            color: white;
            padding: 12px 24px;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            font-size: 16px;
            transition: background-color 0.3s;
        }
        
        .upload-btn:hover {
            background-color: #45a049;
        }
        
        .status {
            margin-top: 20px;
            padding: 15px;
            border-radius: 6px;
            display: none;
        }
        
        .status.success {
            background-color: #d4edda;
            color: #155724;
            border: 1px solid #c3e6cb;
        }
        
        .status.error {
            background-color: #f8d7da;
            color: #721c24;
            border: 1px solid #f5c6cb;
        }
        
        .chat-section {
            display: none;
            margin-top: 30px;
            border-top: 1px solid #eee;
            padding-top: 30px;
        }
        
        .chat-input {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
        }
        
        .question-input {
            flex: 1;
            padding: 12px;
            border: 1px solid #ddd;
            border-radius: 6px;
            font-size: 16px;
        }
        
        .ask-btn {
            background-color: #2196F3;
            color: white;
            padding: 12px 24px;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            font-size: 16px;
        }
        
        .ask-btn:hover {
            background-color: #1976D2;
        }
        
        .chat-messages {
            max-height: 400px;
            overflow-y: auto;
            border: 1px solid #eee;
            border-radius: 8px;
            padding: 20px;
        }
        
        .message {
            margin-bottom: 15px;
            padding: 12px;
            border-radius: 6px;
        }
        
        .message.user {
            background-color: #e3f2fd;
            text-align: right;
        }
        
        .message.ai {
            background-color: #f5f5f5;
        }
        
        .loading {
            display: inline-block;
            width: 20px;
            height: 20px;
            border: 3px solid #f3f3f3;
            border-radius: 50%;
            border-top: 3px solid #3498db;
            animation: spin 1s linear infinite;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        .file-info {
            background-color: #e8f5e9;
            padding: 10px;
            border-radius: 6px;
            margin-top: 15px;
            font-size: 14px;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ü§ñ Multimodal PDF Agent</h1>
        <p class="subtitle">Upload a PDF and ask questions about its content</p>
        
        <div class="upload-section" id="uploadSection">
            <p style="margin-bottom: 20px;">üìÑ Drag and drop your PDF here or click to upload</p>
            <input type="file" id="fileInput" class="file-input" accept=".pdf">
            <button class="upload-btn" onclick="document.getElementById('fileInput').click()">
                Choose PDF File
            </button>
        </div>
        
        <div id="status" class="status"></div>
        
        <div id="chatSection" class="chat-section">
            <h2>üí¨ Ask Questions</h2>
            <div class="chat-input">
                <input 
                    type="text" 
                    id="questionInput" 
                    class="question-input" 
                    placeholder="Ask a question about your PDF..."
                    onkeypress="if(event.key === 'Enter') askQuestion()"
                >
                <button class="ask-btn" onclick="askQuestion()">Ask</button>
            </div>
            <div id="chatMessages" class="chat-messages"></div>
        </div>
    </div>

    <script>
        // Configuration - Update these URLs to match your n8n webhooks
        const UPLOAD_URL = 'http://localhost:5678/webhook/pdf-upload';
        const ASK_URL = 'http://localhost:5678/webhook/ask';
        
        let currentFilename = null;
        
        // Drag and drop handlers
        const uploadSection = document.getElementById('uploadSection');
        const fileInput = document.getElementById('fileInput');
        const status = document.getElementById('status');
        const chatSection = document.getElementById('chatSection');
        const chatMessages = document.getElementById('chatMessages');
        
        uploadSection.addEventListener('dragover', (e) => {
            e.preventDefault();
            uploadSection.classList.add('dragover');
        });
        
        uploadSection.addEventListener('dragleave', () => {
            uploadSection.classList.remove('dragover');
        });
        
        uploadSection.addEventListener('drop', (e) => {
            e.preventDefault();
            uploadSection.classList.remove('dragover');
            
            const files = e.dataTransfer.files;
            if (files.length > 0) {
                handleFile(files[0]);
            }
        });
        
        fileInput.addEventListener('change', (e) => {
            if (e.target.files.length > 0) {
                handleFile(e.target.files[0]);
            }
        });
        
        async function handleFile(file) {
            if (!file.name.toLowerCase().endsWith('.pdf')) {
                showStatus('Please upload a PDF file', 'error');
                return;
            }
            
            showStatus('Uploading and processing PDF...', 'success');
            
            const formData = new FormData();
            formData.append('file', file);
            
            try {
                const response = await fetch(UPLOAD_URL, {
                    method: 'POST',
                    body: formData
                });
                
                const result = await response.json();
                
                if (response.ok) {
                    currentFilename = file.name;
                    showStatus(`‚úÖ Successfully processed ${file.name}. ${result.pagesProcessed || 0} pages embedded.`, 'success');
                    chatSection.style.display = 'block';
                    
                    // Add file info
                    const fileInfo = document.createElement('div');
                    fileInfo.className = 'file-info';
                    fileInfo.innerHTML = `üìÑ Current file: <strong>${file.name}</strong>`;
                    status.appendChild(fileInfo);
                } else {
                    showStatus(`‚ùå Error: ${result.error || 'Upload failed'}`, 'error');
                }
            } catch (error) {
                showStatus(`‚ùå Error: ${error.message}`, 'error');
            }
        }
        
        async function askQuestion() {
            const questionInput = document.getElementById('questionInput');
            const question = questionInput.value.trim();
            
            if (!question) return;
            
            // Add user message
            addMessage(question, 'user');
            questionInput.value = '';
            
            // Add loading message
            const loadingId = Date.now();
            addMessage('<div class="loading"></div> Thinking...', 'ai', loadingId);
            
            try {
                const response = await fetch(ASK_URL, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify({
                        question: question,
                        filename: currentFilename
                    })
                });
                
                const result = await response.json();
                
                // Remove loading message
                document.getElementById(`msg-${loadingId}`).remove();
                
                if (response.ok) {
                    addMessage(result.answer || result.response || 'No answer received', 'ai');
                } else {
                    addMessage(`Error: ${result.error || 'Failed to get answer'}`, 'ai');
                }
            } catch (error) {
                document.getElementById(`msg-${loadingId}`).remove();
                addMessage(`Error: ${error.message}`, 'ai');
            }
        }
        
        function addMessage(text, type, id) {
            const message = document.createElement('div');
            message.className = `message ${type}`;
            if (id) message.id = `msg-${id}`;
            message.innerHTML = text;
            chatMessages.appendChild(message);
            chatMessages.scrollTop = chatMessages.scrollHeight;
        }
        
        function showStatus(message, type) {
            status.textContent = message;
            status.className = `status ${type}`;
            status.style.display = 'block';
        }
    </script>
</body>
</html>
```

# static/workflows/_archive/01-embedding-test.json

```json
{
  "name": "Embedding API Test (with Context-3 Support)",
  "nodes": [
    {
      "parameters": {},
      "id": "b7f2b123-4c5d-4e6f-7a8b-9c0d1e2f3a4b",
      "name": "When clicking \"Test workflow\"",
      "type": "n8n-nodes-base.manualTrigger",
      "typeVersion": 1,
      "position": [240, 300]
    },
    {
      "parameters": {
        "url": "={{ $env.WORKSHOP_EMBEDDING_URL || 'https://workshop-embedding-api.vercel.app/api/embed' }}",
        "sendBody": true,
        "specifyBody": "json",
        "jsonBody": "{\n  \"text\": \"This is a test document about artificial intelligence and machine learning.\",\n  \"model\": \"voyage-context-3\",\n  \"input_type\": \"document\",\n  \"context\": \"This text appears in a technical documentation about AI systems.\"\n}",
        "options": {}
      },
      "id": "c8g3c234-5d6e-5f7a-8b9c-0d1e2f3a4b5c",
      "name": "HTTP Request",
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.1,
      "position": [460, 300]
    },
    {
      "parameters": {
        "values": {
          "string": [
            {
              "name": "embedding_length",
              "value": "={{ $json.embeddings[0].length }}"
            },
            {
              "name": "model_used",
              "value": "={{ $json.model }}"
            },
            {
              "name": "total_tokens",
              "value": "={{ $json.usage.total_tokens }}"
            }
          ]
        },
        "options": {}
      },
      "id": "d9h4d345-6e7f-6a8b-9c0d-1e2f3a4b5c6d",
      "name": "Set Results",
      "type": "n8n-nodes-base.set",
      "typeVersion": 3.2,
      "position": [680, 300]
    }
  ],
  "pinData": {},
  "connections": {
    "When clicking \"Test workflow\"": {
      "main": [
        [
          {
            "node": "HTTP Request",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "HTTP Request": {
      "main": [
        [
          {
            "node": "Set Results",
            "type": "main",
            "index": 0
          }
        ]
      ]
    }
  },
  "active": false,
  "settings": {
    "executionOrder": "v1"
  },
  "versionId": "00000000-0000-0000-0000-000000000000",
  "meta": {
    "templateCredsSetupCompleted": true,
    "instanceId": "00000000000000000000000000000000"
  },
  "id": "00000000-0000-0000-0000-000000000000",
  "tags": []
}
```

# static/workflows/_archive/01-getting-started.json

```json
{
  "name": "Getting Started - Workshop Welcome",
  "nodes": [
    {
      "parameters": {
        "content": "## Welcome to the Multimodal PDF Workshop! üéâ\n\nThis is your first workflow. Let's get started:\n\n1. **Connect MongoDB Atlas** - Add your connection string\n2. **Upload a PDF** - Try the PDF processing workflow\n3. **Create Embeddings** - Generate multimodal vectors\n4. **Search & Query** - Test vector similarity search\n\n### Next Steps:\n- Import the other sample workflows\n- Configure your MongoDB Atlas connection\n- Start building your AI agent!\n\n*Happy workflow building!* ‚ö°"
      },
      "id": "welcome-note",
      "name": "Workshop Welcome",
      "type": "n8n-nodes-base.stickyNote",
      "typeVersion": 1,
      "position": [380, 240]
    },
    {
      "parameters": {
        "httpMethod": "GET",
        "path": "workshop-status",
        "responseMode": "responseNode",
        "options": {}
      },
      "id": "webhook-start",
      "name": "Workshop Status Check",
      "type": "n8n-nodes-base.webhook",
      "typeVersion": 2,
      "position": [160, 360],
      "webhookId": "workshop-status"
    },
    {
      "parameters": {
        "respondWith": "json",
        "responseBody": "{\n  \"status\": \"Workshop Ready! üöÄ\",\n  \"message\": \"Your n8n environment is working correctly\",\n  \"next_steps\": [\n    \"Connect MongoDB Atlas\",\n    \"Import sample workflows\",\n    \"Start building!\"\n  ],\n  \"timestamp\": \"{{ new Date().toISOString() }}\",\n  \"webhook_url\": \"{{ $json.webhook_url }}\"\n}"
      },
      "id": "respond-status",
      "name": "Return Status",
      "type": "n8n-nodes-base.respondToWebhook",
      "typeVersion": 1,
      "position": [360, 360]
    }
  ],
  "connections": {
    "webhook-start": {
      "main": [
        [
          {
            "node": "respond-status",
            "type": "main",
            "index": 0
          }
        ]
      ]
    }
  },
  "active": false,
  "settings": {
    "executionOrder": "v1"
  },
  "createdAt": "2024-01-01T00:00:00.000Z",
  "updatedAt": "2024-01-01T00:00:00.000Z",
  "id": "getting-started"
}
```

# static/workflows/_archive/02-embedding-test.json

```json
{
  "name": "Embedding Test - Voyage AI Multimodal",
  "nodes": [
    {
      "parameters": {
        "content": "## Embedding Test Workflow üß†\n\nThis workflow tests the Voyage AI multimodal embedding API.\n\n**What it does:**\n- Takes text input via webhook\n- Sends to Voyage AI embedding endpoint\n- Returns vector embedding results\n\n**API Endpoint:** https://workshop-embedding-api.vercel.app/api/embed\n\n**Test it:**\n1. Execute this workflow\n2. Use the webhook URL with POST request\n3. Send: `{\"input\": \"Your text here\", \"input_type\": \"document\"}`"
      },
      "id": "embedding-note",
      "name": "Embedding Info",
      "type": "n8n-nodes-base.stickyNote",
      "typeVersion": 1,
      "position": [600, 180]
    },
    {
      "parameters": {
        "httpMethod": "POST",
        "path": "test-embedding",
        "responseMode": "responseNode",
        "options": {}
      },
      "id": "webhook-embed",
      "name": "Embedding Request",
      "type": "n8n-nodes-base.webhook",
      "typeVersion": 2,
      "position": [140, 300],
      "webhookId": "test-embedding"
    },
    {
      "parameters": {
        "url": "https://workshop-embedding-api.vercel.app/api/embed",
        "sendBody": true,
        "specifyBody": "json",
        "jsonBody": "{\n  \"input\": \"{{ $json.body.input || 'Sample text for embedding generation' }}\",\n  \"input_type\": \"{{ $json.body.input_type || 'document' }}\"\n}",
        "options": {
          "timeout": 30000
        }
      },
      "id": "voyage-api",
      "name": "Voyage AI Embedding",
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.2,
      "position": [340, 300]
    },
    {
      "parameters": {
        "respondWith": "json",
        "responseBody": "{\n  \"success\": true,\n  \"embedding_dimensions\": {{ $json.data[0].embedding.length }},\n  \"embedding_preview\": {{ JSON.stringify($json.data[0].embedding.slice(0, 5)) }},\n  \"model\": \"{{ $json.model }}\",\n  \"input_processed\": \"{{ $('Embedding Request').item.json.body.input }}\",\n  \"workshop_status\": \"Embedding generation working! ‚úÖ\"\n}"
      },
      "id": "respond-embedding",
      "name": "Return Embedding Result",
      "type": "n8n-nodes-base.respondToWebhook",
      "typeVersion": 1,
      "position": [540, 300]
    }
  ],
  "connections": {
    "webhook-embed": {
      "main": [
        [
          {
            "node": "voyage-api",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "voyage-api": {
      "main": [
        [
          {
            "node": "respond-embedding",
            "type": "main",
            "index": 0
          }
        ]
      ]
    }
  },
  "active": false,
  "settings": {
    "executionOrder": "v1"
  },
  "createdAt": "2024-01-01T00:00:00.000Z",
  "updatedAt": "2024-01-01T00:00:00.000Z",
  "id": "embedding-test"
}
```

# static/workflows/_archive/02-pdf-processor-agent.json

```json
{
  "name": "ReAct PDF Processing Agent",
  "nodes": [
    {
      "parameters": {
        "path": "multimodal-demo",
        "options": {
          "noResponseBody": false
        },
        "responseMode": "lastNode"
      },
      "id": "webhook-upload",
      "name": "PDF Upload Webhook",
      "type": "n8n-nodes-base.webhook",
      "typeVersion": 2,
      "position": [240, 300]
    },
    {
      "parameters": {
        "jsCode": "// ReAct Agent - Reasoning Phase\n// Analyze the incoming request and determine what actions to take\n\nconst input = $input.all()[0];\nconst hasFile = input.binary && input.binary.data;\nconst hasQuery = input.json.query || input.json.question;\nconst hasAction = input.json.action;\n\n// Agent's reasoning process\nlet reasoning = \"Analyzing incoming request...\\n\";\nlet plannedActions = [];\nlet confidence = 0.8;\n\nif (hasFile) {\n  reasoning += \"- File detected: \" + (input.binary.data.fileName || 'unknown') + \"\\n\";\n  reasoning += \"- File type check needed\\n\";\n  reasoning += \"- If PDF: extract text and images, generate embeddings, store in vector DB\\n\";\n  plannedActions = ['validate_file', 'extract_content', 'generate_embeddings', 'store_vectors', 'respond'];\n  confidence = 0.9;\n} else if (hasQuery) {\n  reasoning += \"- Query detected: \" + hasQuery + \"\\n\";\n  reasoning += \"- Vector search needed to find relevant documents\\n\";\n  reasoning += \"- Generate response using retrieved context\\n\";\n  plannedActions = ['process_query', 'vector_search', 'generate_response'];\n  confidence = 0.85;\n} else {\n  reasoning += \"- No clear file or query detected\\n\";\n  reasoning += \"- Will attempt general processing\\n\";\n  plannedActions = ['general_help'];\n  confidence = 0.3;\n}\n\n// Agent decision\nconst agentState = {\n  task_type: hasFile ? 'file_processing' : hasQuery ? 'query_processing' : 'general',\n  reasoning: reasoning,\n  planned_actions: plannedActions,\n  confidence: confidence,\n  timestamp: new Date().toISOString(),\n  context: {\n    has_file: hasFile,\n    has_query: !!hasQuery,\n    has_action: !!hasAction\n  },\n  next_action: plannedActions[0] || 'general_help'\n};\n\nconsole.log('ü§ñ Agent Reasoning:', agentState);\n\nreturn [{\n  json: agentState,\n  binary: input.binary || {}\n}];"
      },
      "id": "agent-reasoning",
      "name": "Agent Reasoning",
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [460, 300]
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "",
            "typeValidation": "strict"
          },
          "conditions": [
            {
              "id": "file_processing",
              "leftValue": "={{ $json.task_type }}",
              "rightValue": "file_processing",
              "operator": {
                "type": "string",
                "operation": "equals"
              }
            },
            {
              "id": "query_processing", 
              "leftValue": "={{ $json.task_type }}",
              "rightValue": "query_processing",
              "operator": {
                "type": "string",
                "operation": "equals"
              }
            }
          ]
        },
        "options": {}
      },
      "id": "agent-router",
      "name": "Agent Action Router",
      "type": "n8n-nodes-base.switch",
      "typeVersion": 3,
      "position": [680, 300]
    },
    {
      "parameters": {
        "jsCode": "// Tool: File Validation Agent\n// This tool validates uploaded files and decides next steps\n\nconst agentContext = $json;\nconst binary = $binary;\n\nif (!binary || !binary.data) {\n  return [{\n    json: {\n      ...agentContext,\n      tool_result: {\n        success: false,\n        error: 'No file provided',\n        tool_used: 'file_validator',\n        next_action: 'error_response'\n      }\n    }\n  }];\n}\n\nconst filename = binary.data.fileName || 'unknown';\nconst fileSize = binary.data.fileSize || 0;\n\n// Agent decision logic for file validation\nlet validation = {\n  filename: filename,\n  size: fileSize,\n  is_pdf: filename.toLowerCase().endsWith('.pdf'),\n  size_ok: fileSize < 50 * 1024 * 1024, // 50MB limit\n  tool_used: 'file_validator'\n};\n\nif (!validation.is_pdf) {\n  validation.success = false;\n  validation.error = 'Only PDF files are supported';\n  validation.next_action = 'error_response';\n} else if (!validation.size_ok) {\n  validation.success = false;\n  validation.error = 'File too large (max 50MB)';\n  validation.next_action = 'error_response';\n} else {\n  validation.success = true;\n  validation.message = `PDF validated: ${filename} (${Math.round(fileSize/1024)}KB)`;\n  validation.next_action = 'extract_content';\n}\n\nreturn [{\n  json: {\n    ...agentContext,\n    tool_result: validation,\n    current_step: 'file_validated'\n  },\n  binary: binary\n}];"
      },
      "id": "tool-file-validator",
      "name": "Tool: File Validator",
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [900, 200]
    },
    {
      "parameters": {
        "jsCode": "// Tool: Content Extraction Agent\n// Intelligently extracts text and identifies images from PDFs\n\nconst agentContext = $json;\nconst filename = agentContext.tool_result?.filename || 'document.pdf';\n\n// Simulate advanced PDF processing\n// In production, this would use pdf-parse, pdf2pic, or similar libraries\nconst extractedContent = {\n  filename: filename,\n  text_content: `Extracted text from ${filename}:\\n\\nExecutive Summary:\\nThis document covers advanced artificial intelligence concepts, including:\\n- Multimodal learning and cross-modal understanding\\n- Vector embeddings and semantic search\\n- Large language models and their applications\\n- Machine learning pipeline architecture\\n\\nKey Findings:\\n- Multimodal AI systems show 34% improvement in understanding\\n- Vector databases enable sub-second search across millions of documents\\n- Proper chunking strategies improve retrieval accuracy by 28%\\n\\nTechnical Details:\\nThe implementation uses MongoDB Atlas Vector Search with 1024-dimensional embeddings generated by Voyage AI's multimodal-3 model. The system processes both textual content and visual elements like charts, diagrams, and tables.\\n\\nConclusion:\\nMultimodal approaches represent the future of AI systems, enabling more comprehensive understanding of complex documents.\",\n  \n  // Simulate image detection\n  images_detected: [\n    {\n      page: 1,\n      type: 'chart',\n      description: 'Performance comparison chart showing AI model accuracy metrics'\n    },\n    {\n      page: 3, \n      type: 'diagram',\n      description: 'System architecture diagram illustrating data flow'\n    },\n    {\n      page: 5,\n      type: 'table', \n      description: 'Results table with numerical performance data'\n    }\n  ],\n  \n  word_count: 234,\n  pages: 8,\n  has_images: true,\n  extracted_at: new Date().toISOString(),\n  tool_used: 'content_extractor'\n};\n\n// Agent decides next action based on content\nlet nextAction = 'generate_embeddings';\nif (extractedContent.has_images) {\n  nextAction = 'multimodal_embeddings';\n}\n\nreturn [{\n  json: {\n    ...agentContext,\n    tool_result: {\n      ...agentContext.tool_result,\n      content: extractedContent,\n      next_action: nextAction\n    },\n    current_step: 'content_extracted'\n  },\n  binary: $binary\n}];"
      },
      "id": "tool-content-extractor",
      "name": "Tool: Content Extractor", 
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [1120, 200]
    },
    {
      "parameters": {
        "url": "={{ $env.VOYAGE_API_URL || 'https://api.voyageai.com/v1/embeddings' }}",
        "sendHeaders": true,
        "headerParameters": {
          "parameters": [
            {
              "name": "Authorization",
              "value": "Bearer {{ $env.VOYAGE_API_KEY }}"
            },
            {
              "name": "Content-Type", 
              "value": "application/json"
            }
          ]
        },
        "sendBody": true,
        "specifyBody": "json",
        "jsonBody": "={\n  \"input\": {{ JSON.stringify($json.tool_result.content.text_content) }},\n  \"model\": \"voyage-multimodal-3\",\n  \"input_type\": \"document\"\n}",
        "options": {}
      },
      "id": "tool-embedding-generator",
      "name": "Tool: Embedding Generator",
      "type": "n8n-nodes-base.httpRequest", 
      "typeVersion": 4.1,
      "position": [1340, 200]
    },
    {
      "parameters": {
        "operation": "insertOne",
        "collection": "pdf_documents", 
        "fields": "={\n  \"filename\": {{ JSON.stringify($json.tool_result.content.filename) }},\n  \"text_content\": {{ JSON.stringify($json.tool_result.content.text_content) }},\n  \"embedding\": {{ JSON.stringify($json.data[0].embedding) }},\n  \"images\": {{ JSON.stringify($json.tool_result.content.images_detected) }},\n  \"metadata\": {\n    \"word_count\": {{ $json.tool_result.content.word_count }},\n    \"pages\": {{ $json.tool_result.content.pages }},\n    \"has_images\": {{ $json.tool_result.content.has_images }},\n    \"processed_at\": {{ JSON.stringify($json.tool_result.content.extracted_at) }},\n    \"model\": \"voyage-multimodal-3\",\n    \"agent_processed\": true\n  }\n}"
      },
      "id": "tool-vector-storage",
      "name": "Tool: Vector Storage",
      "type": "n8n-nodes-base.mongoDb",
      "typeVersion": 1,
      "position": [1560, 200],
      "credentials": {
        "mongoDb": {
          "id": "mongodb-workshop",
          "name": "MongoDB Workshop"
        }
      }
    },
    {
      "parameters": {
        "jsCode": "// Tool: Query Processing Agent\n// Handles question answering and document search\n\nconst agentContext = $json;\nconst query = $input.all()[0].json.query || $input.all()[0].json.question || '';\n\nif (!query.trim()) {\n  return [{\n    json: {\n      ...agentContext,\n      tool_result: {\n        success: false,\n        error: 'No query provided',\n        tool_used: 'query_processor',\n        next_action: 'error_response'\n      }\n    }\n  }];\n}\n\n// Agent analyzes query type and determines search strategy\nconst queryAnalysis = {\n  original_query: query,\n  query_type: 'semantic_search', // Could be: semantic_search, factual_lookup, comparison, summary\n  requires_context: true,\n  search_terms: query.toLowerCase().split(' ').filter(word => word.length > 3),\n  confidence: 0.8,\n  tool_used: 'query_processor'\n};\n\n// Determine search strategy\nif (query.toLowerCase().includes('compare') || query.toLowerCase().includes('difference')) {\n  queryAnalysis.query_type = 'comparison';\n  queryAnalysis.requires_multiple_docs = true;\n} else if (query.toLowerCase().includes('summarize') || query.toLowerCase().includes('summary')) {\n  queryAnalysis.query_type = 'summary';\n  queryAnalysis.requires_full_context = true;\n}\n\nreturn [{\n  json: {\n    ...agentContext,\n    tool_result: queryAnalysis,\n    current_step: 'query_analyzed',\n    next_action: 'vector_search'\n  }\n}];"
      },
      "id": "tool-query-processor",
      "name": "Tool: Query Processor",
      "type": "n8n-nodes-base.code",
      "typeVersion": 2, 
      "position": [900, 400]
    },
    {
      "parameters": {
        "jsCode": "// Agent Response Generator\n// Synthesizes results from all tools and generates final response\n\nconst agentContext = $json;\nconst taskType = agentContext.task_type;\nconst toolResult = agentContext.tool_result;\n\nlet response = {\n  success: false,\n  message: '',\n  details: {},\n  agent_info: {\n    reasoning: agentContext.reasoning,\n    actions_taken: agentContext.planned_actions,\n    confidence: agentContext.confidence,\n    processing_time: new Date().toISOString()\n  }\n};\n\nif (taskType === 'file_processing') {\n  if (toolResult.success) {\n    response.success = true;\n    response.message = `‚úÖ Successfully processed PDF: ${toolResult.content?.filename || 'document'}`;\n    response.details = {\n      filename: toolResult.content?.filename,\n      pages: toolResult.content?.pages,\n      word_count: toolResult.content?.word_count,\n      has_images: toolResult.content?.has_images,\n      images_detected: toolResult.content?.images_detected?.length || 0,\n      stored_in_database: true,\n      next_steps: 'You can now ask questions about this document using the chat interface'\n    };\n  } else {\n    response.message = `‚ùå Failed to process file: ${toolResult.error}`;\n    response.details = { error: toolResult.error };\n  }\n} else if (taskType === 'query_processing') {\n  response.success = true;\n  response.message = `ü§ñ Agent processed your query: \"${toolResult.original_query}\"`;\n  response.details = {\n    query_type: toolResult.query_type,\n    search_strategy: toolResult.requires_context ? 'semantic_search' : 'direct_answer',\n    next_steps: 'Vector search would be performed next to find relevant documents'\n  };\n} else {\n  response.message = 'üëã Hello! I can help you process PDFs or answer questions about documents.';\n  response.details = {\n    capabilities: [\n      'Upload and process PDF documents',\n      'Extract text and identify images',\n      'Generate multimodal embeddings', \n      'Store documents in vector database',\n      'Answer questions about uploaded documents'\n    ]\n  };\n}\n\nreturn [{ json: response }];"
      },
      "id": "agent-response-generator",
      "name": "Agent Response Generator",
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [1780, 300]
    }
  ],
  "pinData": {},
  "connections": {
    "PDF Upload Webhook": {
      "main": [
        [
          {
            "node": "Agent Reasoning",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Agent Reasoning": {
      "main": [
        [
          {
            "node": "Agent Action Router",
            "type": "main", 
            "index": 0
          }
        ]
      ]
    },
    "Agent Action Router": {
      "main": [
        [
          {
            "node": "Tool: File Validator",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Tool: Query Processor", 
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Agent Response Generator",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Tool: File Validator": {
      "main": [
        [
          {
            "node": "Tool: Content Extractor",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Tool: Content Extractor": {
      "main": [
        [
          {
            "node": "Tool: Embedding Generator", 
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Tool: Embedding Generator": {
      "main": [
        [
          {
            "node": "Tool: Vector Storage",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Tool: Vector Storage": {
      "main": [
        [
          {
            "node": "Agent Response Generator",
            "type": "main", 
            "index": 0
          }
        ]
      ]
    },
    "Tool: Query Processor": {
      "main": [
        [
          {
            "node": "Agent Response Generator",
            "type": "main",
            "index": 0
          }
        ]
      ]
    }
  },
  "active": false,
  "settings": {
    "executionOrder": "v1"
  },
  "versionId": "react-pdf-agent-v1",
  "meta": {
    "templateCredsSetupCompleted": false
  },
  "id": "react-pdf-processing-agent",
  "tags": ["workshop", "agent", "react", "multimodal"]
}
```

# static/workflows/_archive/02-pdf-processor.json

```json
{
  "name": "Multimodal PDF Processor",
  "nodes": [
    {
      "parameters": {
        "path": "upload-pdf",
        "options": {
          "noResponseBody": false
        },
        "responseMode": "lastNode"
      },
      "id": "webhook-upload",
      "name": "PDF Upload Webhook",
      "type": "n8n-nodes-base.webhook",
      "typeVersion": 2,
      "position": [240, 300]
    },
    {
      "parameters": {
        "jsCode": "// Validate PDF upload\nconst files = $input.all();\nif (!files.length || !files[0].binary) {\n  throw new Error('No PDF file uploaded');\n}\n\nconst filename = files[0].binary.data.fileName;\nif (!filename.toLowerCase().endsWith('.pdf')) {\n  throw new Error('Only PDF files are supported');\n}\n\nreturn [{\n  json: {\n    filename: filename,\n    fileSize: files[0].binary.data.fileSize,\n    timestamp: new Date().toISOString(),\n    status: 'validated'\n  },\n  binary: files[0].binary\n}];"
      },
      "id": "validate-pdf",
      "name": "Validate PDF",
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [460, 300]
    },
    {
      "parameters": {
        "jsCode": "// Extract text content from PDF\n// This is a simplified version - in production, use PDF parsing libraries\nconst filename = $json.filename;\nconst mockText = `This is extracted text content from ${filename}. \\n\\nIn a real implementation, this would contain the actual text extracted from the PDF using libraries like pdf-parse or pdf2pic.\\n\\nKey topics covered:\\n- Artificial Intelligence\\n- Machine Learning\\n- Vector Databases\\n- Multimodal Processing`;\n\nreturn [{\n  json: {\n    filename: filename,\n    textContent: mockText,\n    wordCount: mockText.split(' ').length,\n    extractedAt: new Date().toISOString()\n  }\n}];"
      },
      "id": "extract-text",
      "name": "Extract Text",
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [680, 300]
    },
    {
      "parameters": {
        "url": "={{ $env.WORKSHOP_EMBEDDING_URL || 'https://workshop-embedding-api.vercel.app/api/embed' }}",
        "sendBody": true,
        "specifyBody": "json",
        "jsonBody": "={\n  \"text\": {{ JSON.stringify($json.textContent) }},\n  \"model\": \"voyage-3\"\n}",
        "options": {}
      },
      "id": "generate-embeddings",
      "name": "Generate Embeddings",
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.1,
      "position": [900, 300]
    },
    {
      "parameters": {
        "operation": "insertOne",
        "collection": "pdf_documents",
        "fields": "={\n  \"filename\": {{ JSON.stringify($('Extract Text').first().json.filename) }},\n  \"textContent\": {{ JSON.stringify($('Extract Text').first().json.textContent) }},\n  \"embedding\": {{ JSON.stringify($json.embeddings[0]) }},\n  \"metadata\": {\n    \"uploadedAt\": {{ JSON.stringify($('Extract Text').first().json.extractedAt) }},\n    \"wordCount\": {{ $('Extract Text').first().json.wordCount }},\n    \"model\": {{ JSON.stringify($json.model) }}\n  }\n}"
      },
      "id": "store-mongodb",
      "name": "Store in MongoDB",
      "type": "n8n-nodes-base.mongoDb",
      "typeVersion": 1,
      "position": [1120, 300],
      "credentials": {
        "mongoDb": {
          "id": "mongodb-workshop",
          "name": "MongoDB Workshop"
        }
      }
    },
    {
      "parameters": {
        "values": {
          "string": [
            {
              "name": "status",
              "value": "success"
            },
            {
              "name": "message",
              "value": "=PDF {{ $('Extract Text').first().json.filename }} processed successfully"
            },
            {
              "name": "documentsStored",
              "value": "1"
            },
            {
              "name": "filename",
              "value": "={{ $('Extract Text').first().json.filename }}"
            }
          ]
        }
      },
      "id": "format-response",
      "name": "Format Response",
      "type": "n8n-nodes-base.set",
      "typeVersion": 3.2,
      "position": [1340, 300]
    }
  ],
  "pinData": {},
  "connections": {
    "PDF Upload Webhook": {
      "main": [
        [
          {
            "node": "Validate PDF",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Validate PDF": {
      "main": [
        [
          {
            "node": "Extract Text",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Extract Text": {
      "main": [
        [
          {
            "node": "Generate Embeddings",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Generate Embeddings": {
      "main": [
        [
          {
            "node": "Store in MongoDB",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Store in MongoDB": {
      "main": [
        [
          {
            "node": "Format Response",
            "type": "main",
            "index": 0
          }
        ]
      ]
    }
  },
  "active": false,
  "settings": {
    "executionOrder": "v1"
  },
  "versionId": "pdf-processor-v1",
  "meta": {
    "templateCredsSetupCompleted": false
  },
  "id": "multimodal-pdf-processor",
  "tags": ["workshop", "pdf", "multimodal"]
}
```

# static/workflows/_archive/03-multimodal-agent.json

```json
{
  "name": "Multimodal PDF Agent",
  "nodes": [
    {
      "parameters": {
        "path": "chat",
        "options": {
          "noResponseBody": false
        },
        "responseMode": "lastNode"
      },
      "id": "chat-webhook",
      "name": "Chat Webhook",
      "type": "n8n-nodes-base.webhook",
      "typeVersion": 2,
      "position": [240, 300]
    },
    {
      "parameters": {
        "jsCode": "// Validate chat input\nconst data = $json;\n\nif (!data.message || !data.filename) {\n  throw new Error('Message and filename are required');\n}\n\nreturn [{\n  json: {\n    query: data.message,\n    filename: data.filename,\n    conversationId: data.conversation_id || 'default',\n    timestamp: new Date().toISOString()\n  }\n}];"
      },
      "id": "validate-input",
      "name": "Validate Input",
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [460, 300]
    },
    {
      "parameters": {
        "url": "={{ $env.WORKSHOP_EMBEDDING_URL || 'https://workshop-embedding-api.vercel.app/api/embed' }}",
        "sendBody": true,
        "specifyBody": "json",
        "jsonBody": "={\n  \"text\": {{ JSON.stringify($json.query) }},\n  \"model\": \"voyage-3\"\n}",
        "options": {}
      },
      "id": "query-embedding",
      "name": "Generate Query Embedding",
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.1,
      "position": [680, 300]
    },
    {
      "parameters": {
        "operation": "aggregate",
        "collection": "pdf_documents",
        "query": "=[\n  {\n    \"$vectorSearch\": {\n      \"index\": \"vector_index\",\n      \"path\": \"embedding\",\n      \"queryVector\": {{ JSON.stringify($json.embeddings[0]) }},\n      \"numCandidates\": 50,\n      \"limit\": 5,\n      \"filter\": {\n        \"filename\": {{ JSON.stringify($('Validate Input').first().json.filename) }}\n      }\n    }\n  },\n  {\n    \"$project\": {\n      \"textContent\": 1,\n      \"filename\": 1,\n      \"score\": { \"$meta\": \"vectorSearchScore\" }\n    }\n  }\n]"
      },
      "id": "vector-search",
      "name": "Vector Search",
      "type": "n8n-nodes-base.mongoDb",
      "typeVersion": 1,
      "position": [900, 300],
      "credentials": {
        "mongoDb": {
          "id": "mongodb-workshop",
          "name": "MongoDB Workshop"
        }
      }
    },
    {
      "parameters": {
        "jsCode": "// Build context from search results\nconst searchResults = $input.all();\nconst query = $('Validate Input').first().json.query;\nconst filename = $('Validate Input').first().json.filename;\n\nif (!searchResults.length) {\n  return [{\n    json: {\n      query: query,\n      context: 'No relevant content found in the document.',\n      filename: filename,\n      sources: []\n    }\n  }];\n}\n\nconst context = searchResults\n  .map((result, index) => `Section ${index + 1} (Score: ${result.json.score.toFixed(3)}):\\n${result.json.textContent}`)\n  .join('\\n\\n');\n\nreturn [{\n  json: {\n    query: query,\n    context: context,\n    filename: filename,\n    sources: searchResults.map(r => ({\n      content: r.json.textContent.substring(0, 100) + '...',\n      score: r.json.score\n    }))\n  }\n}];"
      },
      "id": "build-context",
      "name": "Build Context",
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [1120, 300]
    },
    {
      "parameters": {
        "jsCode": "// Generate AI response using the context\n// This is a mock response - in production, call OpenAI/Gemini\nconst query = $json.query;\nconst context = $json.context;\nconst filename = $json.filename;\n\n// Mock AI response generation\nconst response = `Based on the content from ${filename}, here's what I found regarding your question: \"${query}\"\\n\\nFrom the relevant sections in the document:\\n${context.substring(0, 500)}...\\n\\nThis appears to be the most relevant information to answer your question. The document contains detailed information about the topics you're asking about.`;\n\nreturn [{\n  json: {\n    response: response,\n    query: query,\n    filename: filename,\n    sources: $json.sources,\n    timestamp: new Date().toISOString(),\n    model: 'mock-ai-v1'\n  }\n}];"
      },
      "id": "generate-response",
      "name": "Generate AI Response",
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [1340, 300]
    },
    {
      "parameters": {
        "values": {
          "string": [
            {
              "name": "status",
              "value": "success"
            },
            {
              "name": "response",
              "value": "={{ $json.response }}"
            },
            {
              "name": "query",
              "value": "={{ $json.query }}"
            },
            {
              "name": "filename",
              "value": "={{ $json.filename }}"
            }
          ],
          "object": [
            {
              "name": "sources",
              "value": "={{ $json.sources }}"
            }
          ]
        }
      },
      "id": "format-chat-response",
      "name": "Format Chat Response",
      "type": "n8n-nodes-base.set",
      "typeVersion": 3.2,
      "position": [1560, 300]
    }
  ],
  "pinData": {},
  "connections": {
    "Chat Webhook": {
      "main": [
        [
          {
            "node": "Validate Input",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Validate Input": {
      "main": [
        [
          {
            "node": "Generate Query Embedding",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Generate Query Embedding": {
      "main": [
        [
          {
            "node": "Vector Search",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Vector Search": {
      "main": [
        [
          {
            "node": "Build Context",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Build Context": {
      "main": [
        [
          {
            "node": "Generate AI Response",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Generate AI Response": {
      "main": [
        [
          {
            "node": "Format Chat Response",
            "type": "main",
            "index": 0
          }
        ]
      ]
    }
  },
  "active": false,
  "settings": {
    "executionOrder": "v1"
  },
  "versionId": "multimodal-agent-v1",
  "meta": {
    "templateCredsSetupCompleted": false
  },
  "id": "multimodal-pdf-agent",
  "tags": ["workshop", "agent", "multimodal", "chat"]
}
```

# static/workflows/_archive/03-multimodal-chat-agent.json

```json
{
  "name": "ReAct Multimodal Chat Agent",
  "nodes": [
    {
      "parameters": {
        "path": "chat-agent",
        "options": {
          "noResponseBody": false
        },
        "responseMode": "lastNode"
      },
      "id": "chat-webhook",
      "name": "Chat Agent Webhook",
      "type": "n8n-nodes-base.webhook",
      "typeVersion": 2,
      "position": [240, 300]
    },
    {
      "parameters": {
        "jsCode": "// ReAct Chat Agent - Reasoning Phase\n// Analyzes user questions and plans the best response strategy\n\nconst input = $input.all()[0];\nconst message = input.json.message || input.json.query || input.json.question;\nconst filename = input.json.filename;\nconst conversationId = input.json.conversation_id || 'default';\n\n// Agent's reasoning process\nlet reasoning = \"Analyzing user query...\\n\";\nlet queryType = 'general';\nlet plannedActions = [];\nlet confidence = 0.7;\n\nif (!message) {\n  reasoning += \"- No message provided\\n\";\n  reasoning += \"- Will request clarification\\n\";\n  queryType = 'error';\n  plannedActions = ['error_response'];\n  confidence = 0.9;\n} else {\n  reasoning += `- User question: \"${message}\"\\n`;\n  \n  // Analyze query intent\n  const lowerMessage = message.toLowerCase();\n  \n  if (lowerMessage.includes('summarize') || lowerMessage.includes('summary')) {\n    reasoning += \"- Query type: Document summarization\\n\";\n    reasoning += \"- Strategy: Retrieve broader context, synthesize overview\\n\";\n    queryType = 'summarization';\n    plannedActions = ['broad_search', 'synthesize_summary', 'respond'];\n    confidence = 0.85;\n  } else if (lowerMessage.includes('compare') || lowerMessage.includes('difference')) {\n    reasoning += \"- Query type: Comparison analysis\\n\";\n    reasoning += \"- Strategy: Search multiple topics, contrast findings\\n\";\n    queryType = 'comparison';\n    plannedActions = ['multi_search', 'compare_results', 'respond'];\n    confidence = 0.8;\n  } else if (lowerMessage.includes('explain') || lowerMessage.includes('how') || lowerMessage.includes('why')) {\n    reasoning += \"- Query type: Explanation request\\n\";\n    reasoning += \"- Strategy: Find relevant context, provide detailed explanation\\n\";\n    queryType = 'explanation';\n    plannedActions = ['semantic_search', 'detailed_explanation', 'respond'];\n    confidence = 0.9;\n  } else if (lowerMessage.includes('find') || lowerMessage.includes('search') || lowerMessage.includes('look for')) {\n    reasoning += \"- Query type: Information retrieval\\n\";\n    reasoning += \"- Strategy: Precise vector search, return specific information\\n\";\n    queryType = 'retrieval';\n    plannedActions = ['precise_search', 'extract_info', 'respond'];\n    confidence = 0.85;\n  } else {\n    reasoning += \"- Query type: General question answering\\n\";\n    reasoning += \"- Strategy: Semantic search with contextual response\\n\";\n    queryType = 'qa';\n    plannedActions = ['semantic_search', 'contextual_response', 'respond'];\n    confidence = 0.75;\n  }\n  \n  if (filename) {\n    reasoning += `- Target document: ${filename}\\n`;\n    reasoning += \"- Will scope search to specific document\\n\";\n  } else {\n    reasoning += \"- No specific document specified\\n\";\n    reasoning += \"- Will search across all available documents\\n\";\n  }\n}\n\n// Agent state for this conversation turn\nconst agentState = {\n  conversation_id: conversationId,\n  user_message: message,\n  target_filename: filename,\n  query_type: queryType,\n  reasoning: reasoning,\n  planned_actions: plannedActions,\n  confidence: confidence,\n  timestamp: new Date().toISOString(),\n  context: {\n    has_message: !!message,\n    has_filename: !!filename,\n    query_length: message ? message.length : 0\n  },\n  next_action: plannedActions[0] || 'error_response'\n};\n\nconsole.log('ü§ñ Chat Agent Reasoning:', agentState);\n\nreturn [{\n  json: agentState,\n  binary: input.binary || {}\n}];"
      },
      "id": "agent-reasoning",
      "name": "Agent Reasoning",
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [460, 300]
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "",
            "typeValidation": "strict"
          },
          "conditions": [
            {
              "id": "error",
              "leftValue": "={{ $json.query_type }}",
              "rightValue": "error",
              "operator": {
                "type": "string",
                "operation": "equals"
              }
            },
            {
              "id": "summarization",
              "leftValue": "={{ $json.query_type }}",
              "rightValue": "summarization",
              "operator": {
                "type": "string",
                "operation": "equals"
              }
            },
            {
              "id": "comparison",
              "leftValue": "={{ $json.query_type }}",
              "rightValue": "comparison",
              "operator": {
                "type": "string",
                "operation": "equals"
              }
            },
            {
              "id": "needs_search",
              "leftValue": "={{ ['explanation', 'retrieval', 'qa'].includes($json.query_type) }}",
              "rightValue": true,
              "operator": {
                "type": "boolean",
                "operation": "true"
              }
            }
          ]
        },
        "options": {}
      },
      "id": "agent-router",
      "name": "Agent Action Router",
      "type": "n8n-nodes-base.switch",
      "typeVersion": 3,
      "position": [680, 300]
    },
    {
      "parameters": {
        "jsCode": "// Tool: Query Embedding Generator\n// Generates embeddings for semantic search\n\nconst agentContext = $json;\nconst message = agentContext.user_message;\n\nif (!message) {\n  return [{\n    json: {\n      ...agentContext,\n      tool_result: {\n        success: false,\n        error: 'No message to embed',\n        tool_used: 'embedding_generator'\n      }\n    }\n  }];\n}\n\n// Prepare embedding request\nconst embeddingRequest = {\n  text: message,\n  model: \"voyage-multimodal-3\",\n  input_type: \"query\"\n};\n\nreturn [{\n  json: {\n    ...agentContext,\n    embedding_request: embeddingRequest,\n    current_step: 'generating_embedding'\n  }\n}];"
      },
      "id": "tool-embedding-generator",
      "name": "Tool: Embedding Generator",
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [900, 400]
    },
    {
      "parameters": {
        "url": "={{ $env.VOYAGE_API_URL || 'https://api.voyageai.com/v1/embeddings' }}",
        "sendHeaders": true,
        "headerParameters": {
          "parameters": [
            {
              "name": "Authorization",
              "value": "Bearer {{ $env.VOYAGE_API_KEY }}"
            },
            {
              "name": "Content-Type",
              "value": "application/json"
            }
          ]
        },
        "sendBody": true,
        "specifyBody": "json",
        "jsonBody": "={{ JSON.stringify($json.embedding_request) }}",
        "options": {}
      },
      "id": "voyage-embedding-api",
      "name": "Voyage Embedding API",
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.1,
      "position": [1120, 400]
    },
    {
      "parameters": {
        "jsCode": "// Tool: Intelligent Vector Search Agent\n// Performs context-aware vector search based on query type\n\nconst agentContext = $json;\nconst queryType = agentContext.query_type;\nconst filename = agentContext.target_filename;\nconst embedding = $json.data[0].embedding;\n\n// Agent decides search parameters based on query type\nlet searchConfig = {\n  numCandidates: 50,\n  limit: 5,\n  filter: {}\n};\n\n// Intelligent search configuration\nif (queryType === 'summarization') {\n  searchConfig.limit = 8; // Need more context for summaries\n  searchConfig.numCandidates = 100;\n} else if (queryType === 'comparison') {\n  searchConfig.limit = 10; // Need multiple perspectives\n  searchConfig.numCandidates = 150;\n} else if (queryType === 'explanation') {\n  searchConfig.limit = 6; // Detailed context needed\n  searchConfig.numCandidates = 75;\n} else if (queryType === 'retrieval') {\n  searchConfig.limit = 3; // Precise, focused results\n  searchConfig.numCandidates = 30;\n}\n\n// Apply filename filter if specified\nif (filename) {\n  searchConfig.filter.filename = filename;\n}\n\n// Build MongoDB aggregation pipeline\nconst searchPipeline = [\n  {\n    \"$vectorSearch\": {\n      \"index\": \"vector_index\",\n      \"path\": \"embedding\",\n      \"queryVector\": embedding,\n      \"numCandidates\": searchConfig.numCandidates,\n      \"limit\": searchConfig.limit,\n      \"filter\": searchConfig.filter\n    }\n  },\n  {\n    \"$project\": {\n      \"filename\": 1,\n      \"text_content\": 1,\n      \"images_detected\": 1,\n      \"metadata\": 1,\n      \"score\": { \"$meta\": \"vectorSearchScore\" }\n    }\n  }\n];\n\nreturn [{\n  json: {\n    ...agentContext,\n    search_config: searchConfig,\n    search_pipeline: searchPipeline,\n    current_step: 'executing_search'\n  }\n}];"
      },
      "id": "tool-intelligent-search",
      "name": "Tool: Intelligent Search",
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [1340, 400]
    },
    {
      "parameters": {
        "operation": "aggregate",
        "collection": "pdf_documents",
        "query": "={{ JSON.stringify($json.search_pipeline) }}"
      },
      "id": "mongodb-vector-search",
      "name": "MongoDB Vector Search",  
      "type": "n8n-nodes-base.mongoDb",
      "typeVersion": 1,
      "position": [1560, 400],
      "credentials": {
        "mongoDb": {
          "id": "mongodb-workshop",
          "name": "MongoDB Workshop"
        }
      }
    },
    {
      "parameters": {
        "jsCode": "// Tool: Context Synthesis Agent\n// Intelligently processes search results based on query type\n\nconst agentContext = $input.all()[0].json;\nconst searchResults = $input.all().slice(1); // Skip the first item (context)\nconst queryType = agentContext.query_type;\nconst userMessage = agentContext.user_message;\n\nif (!searchResults.length) {\n  return [{\n    json: {\n      ...agentContext,\n      tool_result: {\n        success: false,\n        message: 'No relevant content found',\n        context: '',\n        sources: [],\n        tool_used: 'context_synthesizer'\n      }\n    }\n  }];\n}\n\n// Agent synthesizes context based on query type\nlet synthesizedContext = '';\nlet sources = [];\n\nif (queryType === 'summarization') {\n  synthesizedContext = `DOCUMENT SUMMARY CONTEXT:\\n`;\n  synthesizedContext += searchResults\n    .map((result, idx) => `\\n[Section ${idx + 1}] (Relevance: ${result.json.score.toFixed(3)})\\n${result.json.text_content}\\n`)\n    .join('\\n---\\n');\n    \n} else if (queryType === 'comparison') {\n  synthesizedContext = `COMPARISON ANALYSIS CONTEXT:\\n`;\n  synthesizedContext += `User wants to compare/analyze: \"${userMessage}\"\\n\\n`;\n  synthesizedContext += searchResults\n    .map((result, idx) => `\\n[Perspective ${idx + 1}] (Score: ${result.json.score.toFixed(3)})\\nFrom: ${result.json.filename}\\n${result.json.text_content}\\n`)\n    .join('\\n---\\n');\n    \n} else if (queryType === 'explanation') {\n  synthesizedContext = `DETAILED EXPLANATION CONTEXT:\\n`;\n  synthesizedContext += `User needs explanation for: \"${userMessage}\"\\n\\n`;\n  synthesizedContext += `RELEVANT INFORMATION:\\n`;\n  synthesizedContext += searchResults\n    .map((result, idx) => `\\n${idx + 1}. ${result.json.text_content} (Relevance: ${result.json.score.toFixed(3)})\\n`)\n    .join('\\n');\n    \n} else {\n  // General QA or retrieval\n  synthesizedContext = `CONTEXTUAL INFORMATION:\\n`;\n  synthesizedContext += `Question: \"${userMessage}\"\\n\\n`;\n  synthesizedContext += `RELEVANT CONTENT:\\n`;\n  synthesizedContext += searchResults\n    .map((result, idx) => `${idx + 1}. ${result.json.text_content}\\n   (Source: ${result.json.filename}, Score: ${result.json.score.toFixed(3)})\\n`)\n    .join('\\n');\n}\n\n// Prepare sources array\nsources = searchResults.map((result, idx) => ({\n  id: idx + 1,\n  filename: result.json.filename,\n  content_preview: result.json.text_content.substring(0, 150) + '...',\n  relevance_score: result.json.score,\n  has_images: result.json.images_detected && result.json.images_detected.length > 0\n}));\n\nreturn [{\n  json: {\n    ...agentContext,\n    tool_result: {\n      success: true,\n      context: synthesizedContext,\n      sources: sources,\n      context_length: synthesizedContext.length,\n      num_sources: sources.length,\n      tool_used: 'context_synthesizer'\n    },\n    current_step: 'context_synthesized',\n    next_action: 'generate_response'\n  }\n}];"
      },
      "id": "tool-context-synthesizer",
      "name": "Tool: Context Synthesizer",
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [1780, 400]
    },
    {
      "parameters": {
        "jsCode": "// Tool: Response Generation Agent\n// Uses Google Gemini to generate intelligent responses\n\nconst agentContext = $json;\nconst queryType = agentContext.query_type;\nconst userMessage = agentContext.user_message;\nconst contextData = agentContext.tool_result;\n\n// Agent crafts specialized prompts based on query type\nlet systemPrompt = '';\nlet userPrompt = '';\n\nif (queryType === 'summarization') {\n  systemPrompt = `You are an expert document analyst. Create comprehensive, well-structured summaries of document content. Focus on key insights, main themes, and important details.`;\n  userPrompt = `Please provide a comprehensive summary based on this context:\\n\\n${contextData.context}\\n\\nUser's request: \"${userMessage}\"`;\n  \n} else if (queryType === 'comparison') {\n  systemPrompt = `You are an analytical AI that excels at comparing and contrasting information. Identify similarities, differences, and provide balanced analysis.`;\n  userPrompt = `Analyze and compare the information in this context to answer the user's question:\\n\\n${contextData.context}\\n\\nUser's question: \"${userMessage}\"`;\n  \n} else if (queryType === 'explanation') {\n  systemPrompt = `You are a knowledgeable teacher who excels at explaining complex topics clearly and thoroughly. Break down concepts step-by-step.`;\n  userPrompt = `Provide a detailed explanation based on this context:\\n\\n${contextData.context}\\n\\nUser wants to understand: \"${userMessage}\"`;\n  \n} else {\n  // General QA\n  systemPrompt = `You are a helpful AI assistant that provides accurate, contextual answers based on provided document content. Be specific and cite sources when relevant.`;\n  userPrompt = `Answer the user's question using this context:\\n\\n${contextData.context}\\n\\nUser's question: \"${userMessage}\"`;\n}\n\n// Prepare Gemini API request\nconst geminiRequest = {\n  contents: [\n    {\n      parts: [\n        {\n          text: `${systemPrompt}\\n\\n${userPrompt}`\n        }\n      ]\n    }\n  ],\n  generationConfig: {\n    temperature: queryType === 'summarization' ? 0.3 : 0.7,\n    topK: 40,\n    topP: 0.95,\n    maxOutputTokens: queryType === 'summarization' ? 1024 : 512\n  },\n  safetySettings: [\n    {\n      category: \"HARM_CATEGORY_HARASSMENT\",\n      threshold: \"BLOCK_MEDIUM_AND_ABOVE\"\n    }\n  ]\n};\n\nreturn [{\n  json: {\n    ...agentContext,\n    gemini_request: geminiRequest,\n    current_step: 'generating_response'\n  }\n}];"
      },
      "id": "tool-response-generator",
      "name": "Tool: Response Generator",
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [2000, 400]
    },
    {
      "parameters": {
        "url": "={{ $env.GEMINI_API_URL || 'https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash-exp:generateContent' }}?key={{ $env.GEMINI_API_KEY }}",
        "sendHeaders": true,
        "headerParameters": {
          "parameters": [
            {
              "name": "Content-Type",
              "value": "application/json"
            }
          ]
        },
        "sendBody": true,
        "specifyBody": "json",
        "jsonBody": "={{ JSON.stringify($json.gemini_request) }}",
        "options": {}
      },
      "id": "gemini-api",
      "name": "Google Gemini API",
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.1,
      "position": [2220, 400]
    },
    {
      "parameters": {
        "jsCode": "// Agent Response Finalizer\n// Formats and packages the final response\n\nconst agentContext = $json;\nconst geminiResponse = $json.candidates?.[0]?.content?.parts?.[0]?.text;\nconst queryType = agentContext.query_type;\nconst userMessage = agentContext.user_message;\nconst sources = agentContext.tool_result?.sources || [];\n\nlet finalResponse = {\n  success: true,\n  message: geminiResponse || 'I apologize, but I couldn\\'t generate a response at this time.',\n  query: userMessage,\n  query_type: queryType,\n  confidence: agentContext.confidence,\n  sources: sources,\n  agent_info: {\n    reasoning: agentContext.reasoning,\n    actions_taken: agentContext.planned_actions,\n    processing_time: new Date().toISOString(),\n    model_used: 'gemini-2.0-flash-exp',\n    num_sources: sources.length\n  },\n  conversation_id: agentContext.conversation_id,\n  timestamp: new Date().toISOString()\n};\n\n// Add query-type specific metadata\nif (queryType === 'summarization') {\n  finalResponse.response_type = 'document_summary';\n} else if (queryType === 'comparison') {\n  finalResponse.response_type = 'comparative_analysis';\n} else if (queryType === 'explanation') {\n  finalResponse.response_type = 'detailed_explanation';\n} else {\n  finalResponse.response_type = 'question_answer';\n}\n\nreturn [{ json: finalResponse }];"
      },
      "id": "agent-response-finalizer",
      "name": "Agent Response Finalizer",
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [2440, 400]
    },
    {
      "parameters": {
        "jsCode": "// Tool: Error Handler\n// Generates helpful error responses\n\nconst agentContext = $json;\n\nlet errorResponse = {\n  success: false,\n  message: '‚ùå I need more information to help you.',\n  error: 'Missing required information',\n  agent_info: {\n    reasoning: agentContext.reasoning,\n    suggestion: 'Please provide both a question/message and specify a document filename if you want to search a specific document.',\n    capabilities: [\n      'Answer questions about uploaded PDF documents',\n      'Provide document summaries and explanations',\n      'Compare information across different sections',\n      'Find specific information within documents'\n    ]\n  },\n  conversation_id: agentContext.conversation_id,\n  timestamp: new Date().toISOString()\n};\n\nreturn [{ json: errorResponse }];"
      },
      "id": "tool-error-handler",
      "name": "Tool: Error Handler",
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [900, 200]
    },
    {
      "parameters": {
        "jsCode": "// Tool: Summarization Agent\n// Handles document summarization requests\n\nconst agentContext = $json;\nconst userMessage = agentContext.user_message;\nconst filename = agentContext.target_filename;\n\n// Generate summary-optimized embedding query\nlet summaryQuery = userMessage;\nif (!summaryQuery.toLowerCase().includes('summary') && !summaryQuery.toLowerCase().includes('summarize')) {\n  summaryQuery = `Provide a comprehensive summary of: ${userMessage}`;\n}\n\nconst embeddingRequest = {\n  text: summaryQuery,\n  model: \"voyage-multimodal-3\",\n  input_type: \"query\"\n};\n\nreturn [{\n  json: {\n    ...agentContext,\n    embedding_request: embeddingRequest,\n    current_step: 'summarization_embedding'\n  }\n}];"
      },
      "id": "tool-summarization-agent",
      "name": "Tool: Summarization Agent",
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [900, 100]
    }
  ],
  "pinData": {},
  "connections": {
    "Chat Agent Webhook": {
      "main": [
        [
          {
            "node": "Agent Reasoning",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Agent Reasoning": {
      "main": [
        [
          {
            "node": "Agent Action Router",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Agent Action Router": {
      "main": [
        [
          {
            "node": "Tool: Error Handler",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Tool: Summarization Agent",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Tool: Summarization Agent",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Tool: Embedding Generator",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Tool: Embedding Generator": {
      "main": [
        [
          {
            "node": "Voyage Embedding API",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Tool: Summarization Agent": {
      "main": [
        [
          {
            "node": "Voyage Embedding API",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Voyage Embedding API": {
      "main": [
        [
          {
            "node": "Tool: Intelligent Search",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Tool: Intelligent Search": {
      "main": [
        [
          {
            "node": "MongoDB Vector Search",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "MongoDB Vector Search": {
      "main": [
        [
          {
            "node": "Tool: Context Synthesizer",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Tool: Context Synthesizer": {
      "main": [
        [
          {
            "node": "Tool: Response Generator",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Tool: Response Generator": {
      "main": [
        [
          {
            "node": "Google Gemini API",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Google Gemini API": {
      "main": [
        [
          {
            "node": "Agent Response Finalizer",
            "type": "main",
            "index": 0
          }
        ]
      ]
    }
  },
  "active": false,
  "settings": {
    "executionOrder": "v1"
  },
  "versionId": "react-multimodal-chat-agent-v1",
  "meta": {
    "templateCredsSetupCompleted": false
  },
  "id": "react-multimodal-chat-agent",
  "tags": ["workshop", "agent", "react", "multimodal", "chat", "gemini"]
}
```

# static/workflows/_archive/04-advanced-multimodal-agent.json

```json
{
  "name": "Advanced ReAct Multimodal Agent",
  "nodes": [
    {
      "parameters": {
        "path": "advanced-agent",
        "options": {
          "noResponseBody": false
        },
        "responseMode": "lastNode"
      },
      "id": "webhook-entry",
      "name": "Advanced Agent Webhook",
      "type": "n8n-nodes-base.webhook",
      "typeVersion": 2,
      "position": [240, 300]
    },
    {
      "parameters": {
        "jsCode": "// Advanced ReAct Agent - Initial Analysis\n// Performs deep analysis of the incoming request and determines optimal strategy\n\nconst input = $input.all()[0];\nconst hasFile = input.binary && input.binary.data;\nconst message = input.json.message || input.json.query || input.json.question;\nconst filename = input.json.filename;\nconst conversationId = input.json.conversation_id || 'default';\nconst sessionMemory = input.json.session_memory || [];\n\n// Advanced reasoning with conversation context\nlet reasoning = \"üß† ADVANCED AGENT ANALYSIS\\n\";\nreasoning += \"‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê\\n\";\nreasoning += `üìã Session ID: ${conversationId}\\n`;\nreasoning += `üí¨ Previous interactions: ${sessionMemory.length}\\n`;\n\n// Analyze request complexity\nlet taskComplexity = 'simple';\nlet plannedActions = [];\nlet confidence = 0.8;\nlet requiredTools = [];\n\nif (hasFile && message) {\n  reasoning += \"üîç TASK: Multi-modal file processing + query\\n\";\n  reasoning += \"üìÑ File detected for processing\\n\";\n  reasoning += `üí≠ User query: \"${message}\"\\n`;\n  reasoning += \"üéØ Strategy: Process file, understand content, answer query\\n\";\n  taskComplexity = 'complex';\n  plannedActions = ['validate_file', 'extract_multimodal_content', 'generate_embeddings', 'store_document', 'answer_query'];\n  requiredTools = ['file_validator', 'multimodal_extractor', 'embedding_generator', 'vector_store', 'query_processor'];\n  confidence = 0.9;\n  \n} else if (hasFile && !message) {\n  reasoning += \"üîç TASK: File processing and analysis\\n\";\n  reasoning += \"üìÑ File uploaded for processing\\n\";\n  reasoning += \"üéØ Strategy: Process file, extract insights, provide summary\\n\";\n  taskComplexity = 'moderate';\n  plannedActions = ['validate_file', 'extract_multimodal_content', 'analyze_content', 'provide_insights'];\n  requiredTools = ['file_validator', 'multimodal_extractor', 'content_analyzer'];\n  confidence = 0.85;\n  \n} else if (!hasFile && message) {\n  reasoning += \"üîç TASK: Knowledge-based query answering\\n\";\n  reasoning += `üí≠ User query: \"${message}\"\\n`;\n  \n  // Analyze query sophistication\n  const queryWords = message.toLowerCase().split(' ');\n  const complexKeywords = ['analyze', 'compare', 'synthesize', 'evaluate', 'correlate', 'predict', 'recommend'];\n  const hasComplexKeywords = complexKeywords.some(keyword => message.toLowerCase().includes(keyword));\n  \n  if (hasComplexKeywords || queryWords.length > 10) {\n    reasoning += \"üéØ Strategy: Complex analysis with multi-step reasoning\\n\";\n    taskComplexity = 'complex';\n    plannedActions = ['analyze_query_intent', 'multi_step_search', 'synthesize_findings', 'provide_analysis'];\n    requiredTools = ['intent_analyzer', 'search_agent', 'synthesis_engine', 'analysis_generator'];\n    confidence = 0.8;\n  } else {\n    reasoning += \"üéØ Strategy: Direct knowledge retrieval and response\\n\";\n    taskComplexity = 'moderate';\n    plannedActions = ['understand_query', 'semantic_search', 'generate_response'];\n    requiredTools = ['query_processor', 'search_agent', 'response_generator'];\n    confidence = 0.85;\n  }\n  \n  if (filename) {\n    reasoning += `üìÇ Target document specified: ${filename}\\n`;\n    reasoning += \"üîç Will focus search on specific document\\n\";\n  }\n  \n} else {\n  reasoning += \"üîç TASK: General assistance and capability introduction\\n\";\n  reasoning += \"üéØ Strategy: Provide helpful introduction and guidance\\n\";\n  taskComplexity = 'simple';\n  plannedActions = ['provide_guidance'];\n  requiredTools = ['guidance_generator'];\n  confidence = 0.9;\n}\n\n// Check conversation history for context\nif (sessionMemory.length > 0) {\n  reasoning += `\\nüß† CONVERSATION CONTEXT:\\n`;\n  reasoning += `   Previous interactions: ${sessionMemory.length}\\n`;\n  reasoning += `   Last topic: ${sessionMemory[sessionMemory.length - 1]?.topic || 'unknown'}\\n`;\n  reasoning += \"   Will incorporate conversation history for continuity\\n\";\n  confidence += 0.05; // Boost confidence with context\n}\n\nreasoning += `\\n‚ö° EXECUTION PLAN:\\n`;\nplannedActions.forEach((action, idx) => {\n  reasoning += `   ${idx + 1}. ${action}\\n`;\n});\n\nreasoning += `\\nüîß REQUIRED TOOLS: ${requiredTools.join(', ')}\\n`;\nreasoning += `üéØ CONFIDENCE: ${(confidence * 100).toFixed(1)}%\\n`;\nreasoning += `üìä COMPLEXITY: ${taskComplexity.toUpperCase()}\\n`;\n\n// Create comprehensive agent state\nconst agentState = {\n  // Core identification\n  agent_version: 'advanced-react-v2.0',\n  session_id: conversationId,\n  request_id: `req_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`,\n  timestamp: new Date().toISOString(),\n  \n  // Request analysis\n  task_complexity: taskComplexity,\n  has_file: hasFile,\n  has_message: !!message,\n  user_message: message,\n  target_filename: filename,\n  \n  // Agent reasoning\n  reasoning: reasoning,\n  planned_actions: plannedActions,\n  required_tools: requiredTools,\n  confidence: confidence,\n  \n  // Execution context\n  current_step: 0,\n  next_action: plannedActions[0] || 'provide_guidance',\n  session_memory: sessionMemory,\n  \n  // Metadata\n  context: {\n    query_word_count: message ? message.split(' ').length : 0,\n    has_conversation_history: sessionMemory.length > 0,\n    file_info: hasFile ? {\n      filename: input.binary.data.fileName,\n      size: input.binary.data.fileSize,\n      mime_type: input.binary.data.mimeType\n    } : null\n  }\n};\n\nconsole.log('üöÄ Advanced Agent State:', JSON.stringify(agentState, null, 2));\n\nreturn [{\n  json: agentState,\n  binary: input.binary || {}\n}];"
      },
      "id": "advanced-agent-reasoning",
      "name": "Advanced Agent Reasoning",
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [460, 300]
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "",
            "typeValidation": "strict"
          },
          "conditions": [
            {
              "id": "file_processing",
              "leftValue": "={{ $json.has_file }}",
              "rightValue": true,
              "operator": {
                "type": "boolean",
                "operation": "true"
              }
            },
            {
              "id": "complex_query",
              "leftValue": "={{ $json.task_complexity }}",
              "rightValue": "complex",
              "operator": {
                "type": "string",
                "operation": "equals"
              }
            },
            {
              "id": "moderate_query",
              "leftValue": "={{ $json.task_complexity }}",
              "rightValue": "moderate",
              "operator": {
                "type": "string",
                "operation": "equals"
              }
            }
          ]
        },
        "options": {}
      },
      "id": "advanced-agent-router",
      "name": "Advanced Agent Router",
      "type": "n8n-nodes-base.switch",
      "typeVersion": 3,
      "position": [680, 300]
    },
    {
      "parameters": {
        "jsCode": "// Tool: Advanced File Processing Agent\n// Handles sophisticated file processing with multimodal understanding\n\nconst agentContext = $json;\nconst binary = $binary;\n\nif (!binary || !binary.data) {\n  return [{\n    json: {\n      ...agentContext,\n      tool_result: {\n        success: false,\n        error: 'No file provided for processing',\n        tool_used: 'advanced_file_processor',\n        next_action: 'error_response'\n      }\n    }\n  }];\n}\n\nconst filename = binary.data.fileName || 'unknown';\nconst fileSize = binary.data.fileSize || 0;\nconst mimeType = binary.data.mimeType || 'unknown';\n\n// Advanced file analysis\nconst fileAnalysis = {\n  filename: filename,\n  size: fileSize,\n  size_mb: (fileSize / (1024 * 1024)).toFixed(2),\n  mime_type: mimeType,\n  is_pdf: filename.toLowerCase().endsWith('.pdf'),\n  is_large: fileSize > 10 * 1024 * 1024, // 10MB threshold\n  estimated_pages: Math.ceil(fileSize / (1024 * 100)), // Rough estimate\n  processing_time_estimate: fileSize > 5 * 1024 * 1024 ? '30-60 seconds' : '10-30 seconds'\n};\n\n// Agent decision making\nlet processingStrategy = 'standard';\nlet nextActions = ['extract_content'];\n\nif (fileAnalysis.is_large) {\n  processingStrategy = 'chunked';\n  nextActions = ['chunk_processing', 'batch_embeddings'];\n} else if (agentContext.user_message && agentContext.user_message.toLowerCase().includes('image')) {\n  processingStrategy = 'multimodal_focus';\n  nextActions = ['extract_images', 'analyze_visuals', 'extract_text'];\n}\n\nif (!fileAnalysis.is_pdf) {\n  return [{\n    json: {\n      ...agentContext,\n      tool_result: {\n        success: false,\n        error: `File type not supported: ${mimeType}. Only PDF files are currently supported.`,\n        file_analysis: fileAnalysis,\n        tool_used: 'advanced_file_processor',\n        next_action: 'error_response'\n      }\n    }\n  }];\n}\n\n// Simulate advanced PDF processing\nconst processedContent = {\n  filename: filename,\n  processing_strategy: processingStrategy,\n  \n  // Text extraction results\n  text_content: `ADVANCED MULTIMODAL EXTRACTION FROM: ${filename}\\n\\n` +\n    `EXECUTIVE SUMMARY:\\n` +\n    `This document contains comprehensive information about artificial intelligence, machine learning, and multimodal systems. ` +\n    `The content spans ${fileAnalysis.estimated_pages} pages and includes both textual information and visual elements.\\n\\n` +\n    \n    `KEY SECTIONS IDENTIFIED:\\n` +\n    `1. Introduction to AI Systems (Pages 1-2)\\n` +\n    `2. Fundamentals of Machine Learning (Pages 3-5)\\n` +\n    `3. Multimodal Processing Techniques (Pages 6-8)\\n` +\n    `4. Vector Databases and Search (Pages 9-11)\\n` +\n    `5. Practical Applications (Pages 12-14)\\n\\n` +\n    \n    `TECHNICAL CONTENT:\\n` +\n    `The document discusses various AI architectures including transformer models, attention mechanisms, ` +\n    `and cross-modal learning approaches. It provides detailed explanations of embedding techniques, ` +\n    `vector similarity search, and retrieval-augmented generation (RAG) systems.\\n\\n` +\n    \n    `MULTIMODAL ELEMENTS:\\n` +\n    `The document contains numerous charts, diagrams, and technical illustrations that complement ` +\n    `the textual content. These visual elements include performance graphs, architecture diagrams, ` +\n    `and workflow illustrations.`,\n  \n  // Visual analysis results\n  images_detected: [\n    {\n      page: 2,\n      type: 'architecture_diagram',\n      description: 'Detailed system architecture showing data flow from input processing through embedding generation to vector storage',\n      estimated_complexity: 'high',\n      contains_text: true\n    },\n    {\n      page: 4,\n      type: 'performance_chart',\n      description: 'Bar chart comparing accuracy metrics across different multimodal models',\n      data_points: 8,\n      chart_type: 'comparative_analysis'\n    },\n    {\n      page: 7,\n      type: 'workflow_diagram',\n      description: 'Step-by-step workflow showing the complete multimodal processing pipeline',\n      steps_identified: 6,\n      includes_decision_points: true\n    },\n    {\n      page: 9,\n      type: 'data_table',\n      description: 'Comprehensive results table with numerical performance metrics',\n      estimated_rows: 12,\n      estimated_columns: 6\n    },\n    {\n      page: 12,\n      type: 'code_snippet',\n      description: 'Python code example demonstrating multimodal embedding generation',\n      language: 'python',\n      estimated_lines: 25\n    }\n  ],\n  \n  // Processing metadata\n  word_count: 2847,\n  estimated_read_time: '12-15 minutes',\n  pages: fileAnalysis.estimated_pages,\n  has_images: true,\n  has_code: true,\n  has_tables: true,\n  processing_completed_at: new Date().toISOString(),\n  \n  // Content categorization\n  content_categories: [\n    'artificial_intelligence',\n    'machine_learning',\n    'multimodal_processing',\n    'vector_databases',\n    'technical_documentation'\n  ],\n  \n  // Complexity assessment\n  content_complexity: 'advanced',\n  technical_level: 'expert',\n  audience: 'researchers_developers'\n};\n\nreturn [{\n  json: {\n    ...agentContext,\n    tool_result: {\n      success: true,\n      content: processedContent,\n      file_analysis: fileAnalysis,\n      next_action: 'generate_multimodal_embeddings',\n      tool_used: 'advanced_file_processor',\n      processing_notes: `Successfully processed ${filename} using ${processingStrategy} strategy. ` +\n        `Detected ${processedContent.images_detected.length} visual elements and extracted ${processedContent.word_count} words.`\n    },\n    current_step: agentContext.current_step + 1\n  },\n  binary: binary\n}];"
      },
      "id": "tool-advanced-file-processor",
      "name": "Tool: Advanced File Processor",
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [900, 200]
    },
    {
      "parameters": {
        "jsCode": "// Tool: Complex Query Analysis Agent\n// Handles sophisticated multi-step reasoning for complex queries\n\nconst agentContext = $json;\nconst userMessage = agentContext.user_message;\nconst filename = agentContext.target_filename;\n\n// Advanced query analysis\nconst queryAnalysis = {\n  original_query: userMessage,\n  query_length: userMessage.length,\n  word_count: userMessage.split(' ').length,\n  \n  // Intent classification\n  primary_intent: 'unknown',\n  secondary_intents: [],\n  confidence_scores: {},\n  \n  // Complexity indicators\n  requires_multi_step_reasoning: false,\n  requires_synthesis: false,\n  requires_comparison: false,\n  requires_analysis: false,\n  \n  // Search strategy\n  search_approach: 'semantic',\n  num_search_rounds: 1,\n  context_breadth: 'focused'\n};\n\n// Analyze query patterns\nconst lowerQuery = userMessage.toLowerCase();\n\n// Multi-intent detection\nif (lowerQuery.includes('analyze') || lowerQuery.includes('examination') || lowerQuery.includes('evaluation')) {\n  queryAnalysis.primary_intent = 'analysis';\n  queryAnalysis.requires_analysis = true;\n  queryAnalysis.requires_multi_step_reasoning = true;\n  queryAnalysis.search_approach = 'comprehensive';\n  queryAnalysis.num_search_rounds = 2;\n  queryAnalysis.context_breadth = 'broad';\n  queryAnalysis.confidence_scores.analysis = 0.9;\n}\n\nif (lowerQuery.includes('compare') || lowerQuery.includes('contrast') || lowerQuery.includes('versus') || lowerQuery.includes('vs')) {\n  if (queryAnalysis.primary_intent === 'unknown') {\n    queryAnalysis.primary_intent = 'comparison';\n  } else {\n    queryAnalysis.secondary_intents.push('comparison');\n  }\n  queryAnalysis.requires_comparison = true;\n  queryAnalysis.requires_multi_step_reasoning = true;\n  queryAnalysis.num_search_rounds = Math.max(queryAnalysis.num_search_rounds, 3);\n  queryAnalysis.confidence_scores.comparison = 0.85;\n}\n\nif (lowerQuery.includes('synthesize') || lowerQuery.includes('combine') || lowerQuery.includes('integrate') || lowerQuery.includes('merge')) {\n  if (queryAnalysis.primary_intent === 'unknown') {\n    queryAnalysis.primary_intent = 'synthesis';\n  } else {\n    queryAnalysis.secondary_intents.push('synthesis');\n  }\n  queryAnalysis.requires_synthesis = true;\n  queryAnalysis.requires_multi_step_reasoning = true;\n  queryAnalysis.context_breadth = 'broad';\n  queryAnalysis.confidence_scores.synthesis = 0.8;\n}\n\n// Question type analysis\nconst questionWords = ['what', 'how', 'why', 'when', 'where', 'who', 'which'];\nconst hasQuestionWord = questionWords.some(word => lowerQuery.includes(word));\n\nif (hasQuestionWord && queryAnalysis.primary_intent === 'unknown') {\n  queryAnalysis.primary_intent = 'information_seeking';\n  queryAnalysis.confidence_scores.information_seeking = 0.7;\n}\n\n// Default fallback\nif (queryAnalysis.primary_intent === 'unknown') {\n  queryAnalysis.primary_intent = 'general_inquiry';\n  queryAnalysis.confidence_scores.general_inquiry = 0.6;\n}\n\n// Determine execution strategy\nlet executionPlan = [];\n\nif (queryAnalysis.requires_multi_step_reasoning) {\n  executionPlan = [\n    'break_down_query',\n    'multi_round_search',\n    'synthesize_findings',\n    'generate_comprehensive_response'\n  ];\n} else {\n  executionPlan = [\n    'semantic_search',\n    'generate_direct_response'\n  ];\n}\n\n// Enhanced search configuration\nconst searchConfig = {\n  strategy: queryAnalysis.search_approach,\n  rounds: queryAnalysis.num_search_rounds,\n  context_breadth: queryAnalysis.context_breadth,\n  max_results_per_round: queryAnalysis.context_breadth === 'broad' ? 8 : 5,\n  similarity_threshold: 0.7,\n  diversification_enabled: queryAnalysis.requires_comparison || queryAnalysis.requires_synthesis\n};\n\n// Generate embeddings request for the analyzed query\nconst embeddingRequest = {\n  text: userMessage,\n  model: \"voyage-multimodal-3\",\n  input_type: \"query\",\n  truncate_dim: 1024\n};\n\nreturn [{\n  json: {\n    ...agentContext,\n    query_analysis: queryAnalysis,\n    execution_plan: executionPlan,\n    search_config: searchConfig,\n    embedding_request: embeddingRequest,\n    tool_result: {\n      success: true,\n      analysis_complete: true,\n      complexity_level: queryAnalysis.requires_multi_step_reasoning ? 'high' : 'moderate',\n      tool_used: 'complex_query_analyzer',\n      next_action: 'generate_query_embedding'\n    },\n    current_step: agentContext.current_step + 1\n  }\n}];"
      },
      "id": "tool-complex-query-analyzer",
      "name": "Tool: Complex Query Analyzer",
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [900, 300]
    },
    {
      "parameters": {
        "jsCode": "// Tool: Moderate Query Processor\n// Handles standard queries efficiently\n\nconst agentContext = $json;\nconst userMessage = agentContext.user_message;\nconst filename = agentContext.target_filename;\n\n// Standard query processing\nlet queryType = 'standard_qa';\nlet searchStrategy = 'semantic';\nlet expectedResults = 5;\n\n// Basic intent detection\nif (userMessage.toLowerCase().includes('explain')) {\n  queryType = 'explanation';\n  expectedResults = 6;\n} else if (userMessage.toLowerCase().includes('find') || userMessage.toLowerCase().includes('search')) {\n  queryType = 'retrieval';\n  expectedResults = 4;\n} else if (userMessage.toLowerCase().includes('summarize')) {\n  queryType = 'summarization';\n  expectedResults = 8;\n}\n\nconst embeddingRequest = {\n  text: userMessage,\n  model: \"voyage-multimodal-3\",\n  input_type: \"query\"\n};\n\nreturn [{\n  json: {\n    ...agentContext,\n    query_type: queryType,\n    search_strategy: searchStrategy,\n    expected_results: expectedResults,\n    embedding_request: embeddingRequest,\n    tool_result: {\n      success: true,\n      processing_type: 'moderate',\n      tool_used: 'moderate_query_processor',\n      next_action: 'generate_embedding'\n    },\n    current_step: agentContext.current_step + 1\n  }\n}];"
      },
      "id": "tool-moderate-query-processor",
      "name": "Tool: Moderate Query Processor",
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [900, 400]
    },
    {
      "parameters": {
        "jsCode": "// Agent Response Synthesis Engine\n// Creates comprehensive responses based on agent analysis\n\nconst agentContext = $json;\nconst taskComplexity = agentContext.task_complexity;\nconst hasFile = agentContext.has_file;\nconst userMessage = agentContext.user_message;\n\nlet response = {\n  success: true,\n  agent_version: agentContext.agent_version,\n  session_id: agentContext.session_id,\n  request_id: agentContext.request_id,\n  task_complexity: taskComplexity,\n  processing_summary: '',\n  message: '',\n  capabilities_demonstrated: [],\n  next_steps: [],\n  agent_insights: {\n    reasoning_depth: taskComplexity,\n    tools_utilized: agentContext.required_tools,\n    confidence_achieved: agentContext.confidence,\n    processing_time: new Date().toISOString()\n  }\n};\n\nif (hasFile && userMessage) {\n  response.message = `üéØ **Advanced Multimodal Processing Complete**\\n\\n` +\n    `I've successfully processed your file using sophisticated multimodal analysis techniques. ` +\n    `The document has been analyzed for both textual content and visual elements, with ` +\n    `embeddings generated for comprehensive searchability.\\n\\n` +\n    `**Processing Summary:**\\n` +\n    `- Document analyzed with ${agentContext.required_tools.length} specialized tools\\n` +\n    `- Multimodal content extraction completed\\n` +\n    `- Vector embeddings generated and stored\\n` +\n    `- Ready to answer your question: \"${userMessage}\"\\n\\n` +\n    `**What I Found:**\\n` +\n    `Your document contains rich multimodal content that I can now help you explore. ` +\n    `I can answer questions about both the text and visual elements within it.`;\n    \n  response.capabilities_demonstrated = [\n    'Advanced file processing',\n    'Multimodal content extraction',\n    'Intelligent embedding generation',\n    'Context-aware analysis'\n  ];\n  \n  response.next_steps = [\n    'Ask specific questions about the document content',\n    'Request analysis of charts or diagrams',\n    'Compare information across different sections',\n    'Generate summaries of key findings'\n  ];\n  \n} else if (hasFile && !userMessage) {\n  response.message = `üìÑ **Document Processing Complete**\\n\\n` +\n    `I've successfully analyzed your document using advanced multimodal processing. ` +\n    `The file has been thoroughly examined and is now ready for intelligent querying.\\n\\n` +\n    `**Processing Insights:**\\n` +\n    `- Content extracted and analyzed\\n` +\n    `- Visual elements identified and catalogued\\n` +\n    `- Document structure mapped\\n` +\n    `- Embeddings generated for semantic search\\n\\n` +\n    `**Ready for Questions:**\\n` +\n    `You can now ask me anything about this document. I can explain concepts, ` +\n    `analyze charts and diagrams, compare sections, or provide comprehensive summaries.`;\n    \n  response.capabilities_demonstrated = [\n    'Multimodal document analysis',\n    'Visual element detection',\n    'Content categorization',\n    'Semantic preparation'\n  ];\n  \n} else if (!hasFile && userMessage) {\n  if (taskComplexity === 'complex') {\n    response.message = `üß† **Complex Query Analysis Ready**\\n\\n` +\n      `I've performed an advanced analysis of your query: \"${userMessage}\"\\n\\n` +\n      `This appears to be a sophisticated question requiring multi-step reasoning. ` +\n      `I'm prepared to conduct comprehensive research and provide detailed analysis.\\n\\n` +\n      `**Analysis Approach:**\\n` +\n      `- Multi-round semantic search\\n` +\n      `- Cross-referencing multiple sources\\n` +\n      `- Synthesis of complex information\\n` +\n      `- Structured analytical response\\n\\n` +\n      `To proceed, I'll need access to your document collection or specific files to search.`;\n      \n    response.capabilities_demonstrated = [\n      'Advanced query analysis',\n      'Multi-step reasoning planning',\n      'Complex information synthesis',\n      'Structured analytical thinking'\n    ];\n  } else {\n    response.message = `üí≠ **Query Understanding Complete**\\n\\n` +\n      `I understand your question: \"${userMessage}\"\\n\\n` +\n      `I'm ready to search through your documents and provide a comprehensive answer. ` +\n      `Please specify which document you'd like me to search, or I can search across ` +\n      `all available documents in your collection.`;\n      \n    response.capabilities_demonstrated = [\n      'Query understanding',\n      'Semantic search preparation', \n      'Context-aware responses'\n    ];\n  }\n  \n} else {\n  response.message = `üëã **Advanced AI Agent Ready**\\n\\n` +\n    `Hello! I'm an advanced multimodal AI agent capable of sophisticated reasoning and analysis. ` +\n    `I can help you with complex document processing, intelligent question answering, ` +\n    `and multimodal content understanding.\\n\\n` +\n    `**My Capabilities:**\\n` +\n    `üîç **Advanced Analysis** - Multi-step reasoning and synthesis\\n` +\n    `üìÑ **Document Processing** - Text and visual content extraction\\n` +\n    `üéØ **Intelligent Search** - Context-aware information retrieval\\n` +\n    `üß† **Complex Reasoning** - Comparative analysis and evaluation\\n\\n` +\n    `**How I Can Help:**\\n` +\n    `- Upload a PDF for comprehensive multimodal analysis\\n` +\n    `- Ask complex questions requiring multi-step reasoning\\n` +\n    `- Request comparative analysis across documents\\n` +\n    `- Get detailed explanations of technical content`;\n    \n  response.capabilities_demonstrated = [\n    'Advanced AI reasoning',\n    'Multimodal processing',\n    'Complex query handling',\n    'Interactive assistance'\n  ];\n}\n\nresponse.processing_summary = `Agent completed ${taskComplexity} task analysis with ${(agentContext.confidence * 100).toFixed(1)}% confidence using ${agentContext.required_tools.length} specialized tools.`;\n\nreturn [{ json: response }];"
      },
      "id": "agent-response-synthesizer",
      "name": "Agent Response Synthesizer", 
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [1120, 300]
    }
  ],
  "pinData": {},
  "connections": {
    "Advanced Agent Webhook": {
      "main": [
        [
          {
            "node": "Advanced Agent Reasoning",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Advanced Agent Reasoning": {
      "main": [
        [
          {
            "node": "Advanced Agent Router",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Advanced Agent Router": {
      "main": [
        [
          {
            "node": "Tool: Advanced File Processor",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Tool: Complex Query Analyzer",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Tool: Moderate Query Processor",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Agent Response Synthesizer",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Tool: Advanced File Processor": {
      "main": [
        [
          {
            "node": "Agent Response Synthesizer",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Tool: Complex Query Analyzer": {
      "main": [
        [
          {
            "node": "Agent Response Synthesizer",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Tool: Moderate Query Processor": {
      "main": [
        [
          {
            "node": "Agent Response Synthesizer",
            "type": "main",
            "index": 0
          }
        ]
      ]
    }
  },
  "active": false,
  "settings": {
    "executionOrder": "v1"
  },
  "versionId": "advanced-react-agent-v2.0",
  "meta": {
    "templateCredsSetupCompleted": false
  },
  "id": "advanced-multimodal-react-agent",
  "tags": ["workshop", "agent", "react", "multimodal", "advanced", "reasoning"]
}
```

# static/workflows/_archive/04-complete-agent-mock.json

```json
{
  "name": "Complete Multimodal PDF Agent (Mock)",
  "nodes": [
    {
      "parameters": {},
      "id": "b7f2b123-4c5d-4e6f-7a8b-9c0d1e2f3a4b",
      "name": "Manual Trigger",
      "type": "n8n-nodes-base.manualTrigger",
      "typeVersion": 1,
      "position": [240, 300]
    },
    {
      "parameters": {
        "values": {
          "string": [
            {
              "name": "textContent",
              "value": "This is a comprehensive guide to artificial intelligence and machine learning. It covers topics including neural networks, deep learning, natural language processing, and computer vision. The document explores how AI systems can understand both text and images through multimodal processing."
            },
            {
              "name": "filename",
              "value": "ai_guide.pdf"
            },
            {
              "name": "pageNumber",
              "value": "1"
            }
          ]
        }
      },
      "id": "set-test-data",
      "name": "Set Test PDF Data",
      "type": "n8n-nodes-base.set",
      "typeVersion": 3.2,
      "position": [460, 300]
    },
    {
      "parameters": {
        "jsCode": "// Mock embedding generator for workshop\n// Generates consistent 1024-dimensional vectors\nconst text = $json.textContent || \"test\";\nconst filename = $json.filename || \"unknown.pdf\";\n\n// Create deterministic embedding based on text\nconst embedding = new Array(1024).fill(0).map((_, i) => {\n  const charSum = text.split('').reduce((sum, char) => sum + char.charCodeAt(0), 0);\n  return Math.sin((charSum + i) * 0.01) * Math.cos(i * 0.1);\n});\n\nreturn [{\n  json: {\n    original: $json,\n    embedding: {\n      embeddings: [embedding],\n      model: \"mock-voyage-3\",\n      usage: { \n        total_tokens: text.split(' ').length \n      }\n    },\n    metadata: {\n      filename: filename,\n      pageNumber: $json.pageNumber,\n      timestamp: new Date().toISOString(),\n      embeddingDimensions: embedding.length\n    }\n  }\n}];"
      },
      "id": "generate-mock-embedding",
      "name": "Generate Mock Embedding",
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [680, 300]
    },
    {
      "parameters": {
        "content": "## Mock MongoDB Storage\n\nIn a real workflow, this would store to MongoDB.\nFor the workshop, we'll simulate the storage.",
        "height": 80,
        "width": 250
      },
      "id": "note-mongodb",
      "name": "MongoDB Note",
      "type": "n8n-nodes-base.stickyNote",
      "typeVersion": 1,
      "position": [860, 220]
    },
    {
      "parameters": {
        "jsCode": "// Simulate MongoDB storage\n// In production, use actual MongoDB node\n\nconst document = {\n  _id: Math.random().toString(36).substring(7),\n  filename: $json.original.filename,\n  pageNumber: $json.original.pageNumber,\n  textContent: $json.original.textContent,\n  embedding: $json.embedding.embeddings[0],\n  metadata: $json.metadata,\n  createdAt: new Date().toISOString()\n};\n\n// Simulate successful storage\nreturn [{\n  json: {\n    status: \"success\",\n    message: \"Document stored in MongoDB\",\n    documentId: document._id,\n    collection: \"pdf_documents\",\n    document: document\n  }\n}];"
      },
      "id": "mock-mongodb-store",
      "name": "Mock MongoDB Store",
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [900, 300]
    },
    {
      "parameters": {
        "values": {
          "string": [
            {
              "name": "query",
              "value": "What does this document say about artificial intelligence?"
            }
          ]
        }
      },
      "id": "set-user-query",
      "name": "Set User Query",
      "type": "n8n-nodes-base.set",
      "typeVersion": 3.2,
      "position": [460, 500]
    },
    {
      "parameters": {
        "jsCode": "// Generate embedding for user query\nconst query = $json.query || \"What does this document say about AI?\";\n\n// Create query embedding (similar to document embedding)\nconst queryEmbedding = new Array(1024).fill(0).map((_, i) => {\n  const charSum = query.split('').reduce((sum, char) => sum + char.charCodeAt(0), 0);\n  return Math.sin((charSum + i) * 0.01) * Math.cos(i * 0.1);\n});\n\nreturn [{\n  json: {\n    query: query,\n    queryEmbedding: queryEmbedding,\n    model: \"mock-voyage-3\"\n  }\n}];"
      },
      "id": "embed-query",
      "name": "Embed Query",
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [680, 500]
    },
    {
      "parameters": {
        "jsCode": "// Simulate MongoDB Vector Search\n// In production, this would use $vectorSearch aggregation\n\n// Get the stored document from earlier in the workflow\nconst storedDoc = $('Mock MongoDB Store').first().json.document;\nconst queryEmbedding = $json.queryEmbedding;\n\n// Calculate mock similarity score\n// In real implementation, MongoDB calculates this\nconst similarity = 0.85 + Math.random() * 0.1; // Mock score between 0.85-0.95\n\nreturn [{\n  json: {\n    searchResults: [{\n      _id: storedDoc._id,\n      filename: storedDoc.filename,\n      pageNumber: storedDoc.pageNumber,\n      textContent: storedDoc.textContent,\n      score: similarity,\n      metadata: storedDoc.metadata\n    }],\n    query: $json.query,\n    totalResults: 1\n  }\n}];"
      },
      "id": "mock-vector-search",
      "name": "Mock Vector Search",
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [900, 500]
    },
    {
      "parameters": {
        "jsCode": "// Build context from search results\nconst searchResults = $json.searchResults || [];\nconst query = $json.query || \"User query\";\n\nif (!searchResults.length) {\n  return [{\n    json: {\n      query: query,\n      context: \"No search results found.\",\n      sources: []\n    }\n  }];\n}\n\nconst context = searchResults\n  .map((doc, idx) => {\n    const content = doc.textContent || \"No content available\";\n    return `[Result ${idx + 1} - Score: ${(doc.score || 0).toFixed(3)}]\\n` +\n           `File: ${doc.filename || \"unknown\"}, Page: ${doc.pageNumber || \"?\"}\\n` +\n           `Content: ${content.substring(0, 200)}...`;\n  })\n  .join('\\n\\n');\n\nreturn [{\n  json: {\n    query: query,\n    context: context,\n    sources: searchResults.map(r => ({\n      filename: r.filename || \"unknown\",\n      page: r.pageNumber || \"?\",\n      score: r.score || 0\n    }))\n  }\n}];"
      },
      "id": "build-context",
      "name": "Build Context",
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [1120, 500]
    },
    {
      "parameters": {
        "jsCode": "// Mock AI Response Generation\n// In production, this would call OpenAI/Gemini/Claude\n\nconst query = $json.query;\nconst context = $json.context;\nconst sources = $json.sources;\n\n// Generate a contextual response\nconst response = `Based on the PDF document, here's what I found about your question: \"${query}\"\\n\\n` +\n  `The document provides comprehensive information about artificial intelligence and machine learning. ` +\n  `It specifically covers neural networks, deep learning, natural language processing, and computer vision. ` +\n  `The document emphasizes how AI systems can process both text and images through multimodal approaches, ` +\n  `which enables more sophisticated understanding and analysis of complex data.\\n\\n` +\n  `This information was found in ${sources[0].filename} (page ${sources[0].page}) with a relevance score of ${sources[0].score.toFixed(3)}.`;\n\nreturn [{\n  json: {\n    response: response,\n    query: query,\n    sources: sources,\n    model: \"mock-gpt-4\",\n    timestamp: new Date().toISOString()\n  }\n}];"
      },
      "id": "generate-ai-response",
      "name": "Generate AI Response",
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [1340, 500]
    },
    {
      "parameters": {
        "content": "## Complete Multimodal PDF Agent Workflow\n\nThis workflow demonstrates:\n1. PDF text processing\n2. Embedding generation\n3. Vector storage (MongoDB)\n4. Query embedding\n5. Vector search\n6. AI response generation\n\nUsing mock components for workshop testing.",
        "height": 150,
        "width": 300
      },
      "id": "workflow-description",
      "name": "Workflow Description",
      "type": "n8n-nodes-base.stickyNote",
      "typeVersion": 1,
      "position": [200, 100]
    }
  ],
  "pinData": {},
  "connections": {
    "Manual Trigger": {
      "main": [
        [
          {
            "node": "Set Test PDF Data",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Set Test PDF Data": {
      "main": [
        [
          {
            "node": "Generate Mock Embedding",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Generate Mock Embedding": {
      "main": [
        [
          {
            "node": "Mock MongoDB Store",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Mock MongoDB Store": {
      "main": [
        [
          {
            "node": "Set User Query",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Set User Query": {
      "main": [
        [
          {
            "node": "Embed Query",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Embed Query": {
      "main": [
        [
          {
            "node": "Mock Vector Search",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Mock Vector Search": {
      "main": [
        [
          {
            "node": "Build Context",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Build Context": {
      "main": [
        [
          {
            "node": "Generate AI Response",
            "type": "main",
            "index": 0
          }
        ]
      ]
    }
  },
  "active": false,
  "settings": {
    "executionOrder": "v1"
  },
  "versionId": "complete-agent-mock-v1",
  "meta": {
    "templateCredsSetupCompleted": true,
    "instanceId": "workshop-instance"
  },
  "id": "complete-multimodal-agent-mock",
  "tags": ["workshop", "complete", "mock", "multimodal"]
}
```

# static/workflows/_archive/05-proper-chat-agent.json

```json
{
  "name": "Multimodal Chat Agent",
  "nodes": [
    {
      "parameters": {
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.chatTrigger",
      "typeVersion": 1.1,
      "position": [240, 300],
      "id": "chat-trigger",
      "name": "When chat message received",
      "webhookId": "multimodal-chat-agent"
    },
    {
      "parameters": {
        "systemPromptTemplate": "You are an intelligent multimodal AI assistant that can help users understand PDF documents. You have access to a MongoDB vector database containing document embeddings and can search for relevant information to answer questions.\n\nWhen users ask questions:\n1. Search the vector database for relevant document sections\n2. Provide accurate, helpful answers based on the retrieved context\n3. If you find charts, diagrams, or images mentioned in the context, explain their significance\n4. Always cite your sources when possible\n5. If you cannot find relevant information, say so clearly\n\nBe conversational, helpful, and thorough in your responses.",
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.agent",
      "typeVersion": 2.1,
      "position": [460, 300],
      "id": "multimodal-agent",
      "name": "Multimodal AI Agent"
    },
    {
      "parameters": {
        "model": "gemini-2.0-flash-exp",
        "options": {
          "temperature": 0.7,
          "maxOutputTokens": 1024
        }
      },
      "type": "@n8n/n8n-nodes-langchain.lmChatGoogleGemini",
      "typeVersion": 1,
      "position": [240, 480],
      "id": "gemini-model",
      "name": "Google Gemini Chat Model",
      "credentials": {
        "googlePalmApi": {
          "id": "workshop-gemini-api",
          "name": "Workshop Gemini API"
        }
      }
    },
    {
      "parameters": {
        "databaseName": "multimodal_workshop",
        "collectionName": "chat_sessions"
      },
      "type": "@n8n/n8n-nodes-langchain.memoryMongoDbChat",
      "typeVersion": 1,
      "position": [680, 480],
      "id": "mongodb-memory",
      "name": "MongoDB Chat Memory",
      "credentials": {
        "mongoDb": {
          "id": "mongodb-workshop",
          "name": "MongoDB Workshop"
        }
      }
    },
    {
      "parameters": {
        "connectionString": "={{ $env.MONGODB_CONNECTION_STRING }}",
        "databaseName": "multimodal_workshop",
        "collectionName": "pdf_documents",
        "indexName": "vector_index",
        "embeddingDimensions": 1024,
        "textKey": "text_content",
        "topK": 5
      },
      "type": "@n8n/n8n-nodes-langchain.vectorStoreMongoDb",
      "typeVersion": 1,
      "position": [460, 480],
      "id": "mongodb-vectorstore",
      "name": "MongoDB Vector Store",
      "credentials": {
        "mongoDb": {
          "id": "mongodb-workshop",
          "name": "MongoDB Workshop"
        }
      }
    },
    {
      "parameters": {
        "model": "voyage-multimodal-3",
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.embeddingsVoyageAI",
      "typeVersion": 1,
      "position": [240, 640],
      "id": "voyage-embeddings",
      "name": "Voyage AI Embeddings",
      "credentials": {
        "voyageAiApi": {
          "id": "workshop-voyage-api",
          "name": "Workshop Voyage API"
        }
      }
    },
    {
      "parameters": {
        "name": "search_documents",
        "description": "Search through uploaded PDF documents to find relevant information. Use this tool when users ask questions about document content.",
        "parameters": {
          "type": "object",
          "properties": {
            "query": {
              "type": "string",
              "description": "The search query to find relevant document sections"
            },
            "filename": {
              "type": "string", 
              "description": "Optional: specific filename to search within"
            }
          },
          "required": ["query"]
        }
      },
      "type": "@n8n/n8n-nodes-langchain.toolVectorStore",
      "typeVersion": 1,
      "position": [680, 300],
      "id": "document-search-tool",
      "name": "Document Search Tool"
    }
  ],
  "connections": {
    "When chat message received": {
      "main": [
        [
          {
            "node": "Multimodal AI Agent",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Google Gemini Chat Model": {
      "ai_languageModel": [
        [
          {
            "node": "Multimodal AI Agent",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "MongoDB Chat Memory": {
      "ai_memory": [
        [
          {
            "node": "Multimodal AI Agent",
            "type": "ai_memory",
            "index": 0
          }
        ]
      ]
    },
    "MongoDB Vector Store": {
      "ai_vectorStore": [
        [
          {
            "node": "Document Search Tool",
            "type": "ai_vectorStore",
            "index": 0
          }
        ]
      ]
    },
    "Voyage AI Embeddings": {
      "ai_embedding": [
        [
          {
            "node": "MongoDB Vector Store",
            "type": "ai_embedding",
            "index": 0
          }
        ]
      ]
    },
    "Document Search Tool": {
      "ai_tool": [
        [
          {
            "node": "Multimodal AI Agent",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    }
  },
  "pinData": {},
  "active": false,
  "settings": {
    "executionOrder": "v1"
  },
  "versionId": "multimodal-chat-agent-v1",
  "meta": {
    "templateCredsSetupCompleted": false
  },
  "id": "multimodal-chat-agent",
  "tags": ["workshop", "agent", "langchain", "multimodal", "chat"]
}
```

# static/workflows/_archive/05-real-multimodal-agent.json

```json
{
  "name": "Real Multimodal PDF Agent",
  "nodes": [
    {
      "parameters": {
        "path": "pdf-upload",
        "options": {
          "binaryPropertyName": "data"
        }
      },
      "id": "webhook-pdf-upload",
      "name": "PDF Upload Webhook",
      "type": "n8n-nodes-base.webhook",
      "typeVersion": 1.1,
      "position": [240, 300],
      "webhookId": "pdf-upload-webhook"
    },
    {
      "parameters": {
        "jsCode": "// Extract PDF information\nconst binary = $binary.data;\n\nif (!binary) {\n  throw new Error('No file uploaded');\n}\n\nconst filename = binary.fileName || 'document.pdf';\nif (!filename.toLowerCase().endsWith('.pdf')) {\n  throw new Error('Only PDF files are supported');\n}\n\n// For real PDF processing, you would use pdf-parse or similar\n// For workshop, we'll simulate extraction\nconst mockPages = [\n  {\n    pageNumber: 1,\n    text: \"Introduction to Multimodal AI Systems. This document explores how modern AI can process both text and visual information simultaneously.\",\n    hasImages: true\n  },\n  {\n    pageNumber: 2,\n    text: \"Deep learning architectures for multimodal processing include vision transformers and CLIP models that align text and image representations.\",\n    hasImages: false\n  },\n  {\n    pageNumber: 3,\n    text: \"Applications include visual question answering, image captioning, and document understanding systems that combine OCR with language models.\",\n    hasImages: true\n  }\n];\n\nreturn mockPages.map(page => ({\n  json: {\n    filename: filename,\n    pageNumber: page.pageNumber,\n    textContent: page.text,\n    hasImages: page.hasImages,\n    uploadedAt: new Date().toISOString()\n  }\n}));"
      },
      "id": "extract-pdf-content",
      "name": "Extract PDF Content",
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [460, 300]
    },
    {
      "parameters": {
        "resource": "embedding",
        "operation": "create",
        "model": "text-embedding-3-small",
        "input": "={{ $json.textContent }}",
        "options": {}
      },
      "id": "openai-embeddings",
      "name": "Generate Embeddings",
      "type": "@n8n/n8n-nodes-langchain.openAi",
      "typeVersion": 1.4,
      "position": [680, 300],
      "credentials": {
        "openAiApi": {
          "id": "openai-workshop",
          "name": "OpenAI Workshop"
        }
      }
    },
    {
      "parameters": {
        "operation": "insert",
        "collection": "pdf_documents",
        "fields": "={\n  \"filename\": \"{{ $('Extract PDF Content').item.json.filename }}\",\n  \"pageNumber\": {{ $('Extract PDF Content').item.json.pageNumber }},\n  \"textContent\": \"{{ $('Extract PDF Content').item.json.textContent }}\",\n  \"embedding\": {{ JSON.stringify($json.data[0].embedding) }},\n  \"metadata\": {\n    \"uploadedAt\": \"{{ $('Extract PDF Content').item.json.uploadedAt }}\",\n    \"model\": \"{{ $json.model }}\",\n    \"dimensions\": {{ $json.data[0].embedding.length }},\n    \"hasImages\": {{ $('Extract PDF Content').item.json.hasImages }}\n  }\n}"
      },
      "id": "mongodb-insert",
      "name": "Store in MongoDB",
      "type": "n8n-nodes-base.mongoDb",
      "typeVersion": 1.1,
      "position": [900, 300],
      "credentials": {
        "mongoDb": {
          "id": "mongodb-local",
          "name": "MongoDB Local"
        }
      }
    },
    {
      "parameters": {
        "path": "ask",
        "options": {},
        "responseMode": "lastNode"
      },
      "id": "webhook-ask",
      "name": "Q&A Webhook",
      "type": "n8n-nodes-base.webhook",
      "typeVersion": 1.1,
      "position": [240, 600],
      "webhookId": "qa-webhook"
    },
    {
      "parameters": {
        "resource": "embedding",
        "operation": "create",
        "model": "text-embedding-3-small",
        "input": "={{ $json.body.question }}",
        "options": {}
      },
      "id": "embed-question",
      "name": "Embed Question",
      "type": "@n8n/n8n-nodes-langchain.openAi",
      "typeVersion": 1.4,
      "position": [460, 600],
      "credentials": {
        "openAiApi": {
          "id": "openai-workshop",
          "name": "OpenAI Workshop"
        }
      }
    },
    {
      "parameters": {
        "operation": "aggregate",
        "collection": "pdf_documents",
        "query": "=[\n  {\n    \"$vectorSearch\": {\n      \"index\": \"vector_index\",\n      \"path\": \"embedding\",\n      \"queryVector\": {{ JSON.stringify($json.data[0].embedding) }},\n      \"numCandidates\": 100,\n      \"limit\": 5\n    }\n  },\n  {\n    \"$project\": {\n      \"_id\": 1,\n      \"filename\": 1,\n      \"pageNumber\": 1,\n      \"textContent\": 1,\n      \"score\": { \"$meta\": \"vectorSearchScore\" },\n      \"metadata\": 1\n    }\n  }\n]"
      },
      "id": "mongodb-vector-search",
      "name": "Vector Search",
      "type": "n8n-nodes-base.mongoDb",
      "typeVersion": 1.1,
      "position": [680, 600],
      "credentials": {
        "mongoDb": {
          "id": "mongodb-local",
          "name": "MongoDB Local"
        }
      }
    },
    {
      "parameters": {
        "resource": "chat",
        "operation": "message",
        "model": "gpt-4-turbo-preview",
        "messages": {
          "values": [
            {
              "role": "system",
              "content": "You are a helpful AI assistant that answers questions about PDF documents. Use the provided context from the vector search to answer questions accurately. Always cite which page and document the information comes from."
            },
            {
              "role": "user", 
              "content": "=Question: {{ $('Q&A Webhook').item.json.body.question }}\n\nContext from documents:\n{{ $('Vector Search').all().map(item => `[${item.json.filename} - Page ${item.json.pageNumber}] ${item.json.textContent}`).join('\\n\\n') }}\n\nPlease answer the question based on the context provided."
            }
          ]
        },
        "options": {
          "temperature": 0.3,
          "maxTokens": 500
        }
      },
      "id": "openai-chat",
      "name": "Generate Answer",
      "type": "@n8n/n8n-nodes-langchain.openAi",
      "typeVersion": 1.4,
      "position": [900, 600],
      "credentials": {
        "openAiApi": {
          "id": "openai-workshop",
          "name": "OpenAI Workshop"
        }
      }
    },
    {
      "parameters": {
        "values": {
          "string": [
            {
              "name": "answer",
              "value": "={{ $json.choices[0].message.content }}"
            },
            {
              "name": "question", 
              "value": "={{ $('Q&A Webhook').item.json.body.question }}"
            }
          ],
          "number": [
            {
              "name": "sourcesCount",
              "value": "={{ $('Vector Search').all().length }}"
            }
          ]
        },
        "options": {}
      },
      "id": "format-response",
      "name": "Format Response",
      "type": "n8n-nodes-base.set",
      "typeVersion": 3.4,
      "position": [1120, 600]
    },
    {
      "parameters": {
        "content": "## Real Multimodal PDF Agent\n\n### Features:\n1. **PDF Upload** - Accept real PDF files\n2. **Text Extraction** - Process PDF content\n3. **OpenAI Embeddings** - Generate real embeddings\n4. **MongoDB Storage** - Store with vector index\n5. **Vector Search** - Real MongoDB $vectorSearch\n6. **AI Q&A** - GPT-4 powered answers\n\n### Setup Required:\n1. MongoDB with vector index named 'vector_index'\n2. OpenAI API credentials\n3. Collection: pdf_documents",
        "height": 250,
        "width": 350
      },
      "id": "workflow-notes",
      "name": "Workflow Notes",
      "type": "n8n-nodes-base.stickyNote",
      "typeVersion": 1,
      "position": [580, 50]
    }
  ],
  "pinData": {},
  "connections": {
    "PDF Upload Webhook": {
      "main": [
        [
          {
            "node": "Extract PDF Content",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Extract PDF Content": {
      "main": [
        [
          {
            "node": "Generate Embeddings",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Generate Embeddings": {
      "main": [
        [
          {
            "node": "Store in MongoDB",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Q&A Webhook": {
      "main": [
        [
          {
            "node": "Embed Question",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Embed Question": {
      "main": [
        [
          {
            "node": "Vector Search",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Vector Search": {
      "main": [
        [
          {
            "node": "Generate Answer",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Generate Answer": {
      "main": [
        [
          {
            "node": "Format Response",
            "type": "main",
            "index": 0
          }
        ]
      ]
    }
  },
  "active": false,
  "settings": {
    "executionOrder": "v1"
  },
  "versionId": "real-agent-v1",
  "meta": {
    "templateCredsSetupCompleted": false
  },
  "id": "real-multimodal-pdf-agent",
  "tags": ["workshop", "real", "production", "multimodal"]
}
```

# static/workflows/_archive/06-advanced-agent-with-tools.json

```json
{
  "name": "Advanced Multimodal Agent with Tools",
  "nodes": [
    {
      "parameters": {
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.chatTrigger",
      "typeVersion": 1.1,
      "position": [240, 300],
      "id": "advanced-chat-trigger",
      "name": "When chat message received",
      "webhookId": "advanced-multimodal-agent"
    },
    {
      "parameters": {
        "systemPromptTemplate": "You are an advanced multimodal AI agent specialized in document analysis and intelligent reasoning. You have access to multiple tools that allow you to:\n\n1. **Search Documents**: Find relevant information in uploaded PDF documents\n2. **Analyze Images**: Understand charts, diagrams, and visual content mentioned in documents\n3. **Web Search**: Look up additional context or recent information when needed\n4. **Calculator**: Perform calculations on numerical data found in documents\n\n**Your Capabilities:**\n- Provide comprehensive analysis of complex documents\n- Explain relationships between textual and visual content\n- Compare information across multiple documents\n- Synthesize insights from various sources\n- Reason through multi-step problems\n\n**Response Guidelines:**\n- Always search for relevant information before answering\n- Cite specific sources and page numbers when available\n- Explain visual elements (charts, diagrams) when they're relevant\n- Break down complex topics into clear, understandable explanations\n- If information is incomplete, clearly state what you do and don't know\n- Use multiple tools together for comprehensive analysis\n\nBe thorough, accurate, and helpful. Think step-by-step through complex questions.",
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.agent",
      "typeVersion": 2.1,
      "position": [460, 300],
      "id": "advanced-agent",
      "name": "Advanced AI Agent"
    },
    {
      "parameters": {
        "model": "gemini-2.0-flash-exp",
        "options": {
          "temperature": 0.3,
          "maxOutputTokens": 2048,
          "topK": 40,
          "topP": 0.95
        }
      },
      "type": "@n8n/n8n-nodes-langchain.lmChatGoogleGemini",
      "typeVersion": 1,
      "position": [240, 500],
      "id": "advanced-gemini-model",
      "name": "Google Gemini Advanced Model",
      "credentials": {
        "googlePalmApi": {
          "id": "workshop-gemini-api",
          "name": "Workshop Gemini API"
        }
      }
    },
    {
      "parameters": {
        "databaseName": "multimodal_workshop",
        "collectionName": "agent_sessions",
        "sessionTTL": 3600
      },
      "type": "@n8n/n8n-nodes-langchain.memoryMongoDbChat",
      "typeVersion": 1,
      "position": [680, 500],
      "id": "advanced-mongodb-memory",
      "name": "Advanced MongoDB Memory",
      "credentials": {
        "mongoDb": {
          "id": "mongodb-workshop",
          "name": "MongoDB Workshop"
        }
      }
    },
    {
      "parameters": {
        "connectionString": "={{ $env.MONGODB_CONNECTION_STRING }}",
        "databaseName": "multimodal_workshop",
        "collectionName": "pdf_documents",
        "indexName": "multimodal_vector_index",
        "embeddingDimensions": 1024,
        "textKey": "text_content",
        "topK": 8
      },
      "type": "@n8n/n8n-nodes-langchain.vectorStoreMongoDb",
      "typeVersion": 1,
      "position": [460, 500],
      "id": "advanced-vectorstore",
      "name": "Advanced Vector Store",
      "credentials": {
        "mongoDb": {
          "id": "mongodb-workshop",
          "name": "MongoDB Workshop"
        }
      }
    },
    {
      "parameters": {
        "model": "voyage-multimodal-3",
        "options": {
          "inputType": "document"
        }
      },
      "type": "@n8n/n8n-nodes-langchain.embeddingsVoyageAI",
      "typeVersion": 1,
      "position": [240, 700],
      "id": "multimodal-embeddings",
      "name": "Multimodal Embeddings",
      "credentials": {
        "voyageAiApi": {
          "id": "workshop-voyage-api",
          "name": "Workshop Voyage API"
        }
      }
    },
    {
      "parameters": {
        "name": "search_documents",
        "description": "Search through uploaded PDF documents to find relevant information. This tool can find both textual content and references to visual elements like charts, diagrams, and tables.",
        "parameters": {
          "type": "object",
          "properties": {
            "query": {
              "type": "string",
              "description": "The search query to find relevant document sections. Be specific about what you're looking for."
            },
            "filename": {
              "type": "string",
              "description": "Optional: specific filename to search within. Omit to search all documents."
            },
            "include_images": {
              "type": "boolean",
              "description": "Set to true to prioritize sections that mention visual elements like charts or diagrams",
              "default": false
            }
          },
          "required": ["query"]
        }
      },
      "type": "@n8n/n8n-nodes-langchain.toolVectorStore",
      "typeVersion": 1,
      "position": [680, 200],
      "id": "advanced-search-tool",
      "name": "Advanced Document Search"
    },
    {
      "parameters": {
        "name": "web_search",
        "description": "Search the web for additional context, recent information, or to verify facts. Use this when document information needs to be supplemented with current data.",
        "parameters": {
          "type": "object",
          "properties": {
            "query": {
              "type": "string",
              "description": "The search query for web search"
            }
          },
          "required": ["query"]
        }
      },
      "type": "@n8n/n8n-nodes-langchain.toolWebScraper",
      "typeVersion": 1,
      "position": [680, 300],
      "id": "web-search-tool",
      "name": "Web Search Tool"
    },
    {
      "parameters": {
        "name": "calculator",
        "description": "Perform mathematical calculations on numerical data found in documents or provided by users. Useful for analyzing financial data, statistics, or performing calculations mentioned in documents.",
        "parameters": {
          "type": "object",
          "properties": {
            "expression": {
              "type": "string",
              "description": "Mathematical expression to calculate (e.g., '(100 * 1.08) + 25')"
            }
          },
          "required": ["expression"]
        }
      },
      "type": "@n8n/n8n-nodes-langchain.toolCalculator",
      "typeVersion": 1,
      "position": [680, 400],
      "id": "calculator-tool",
      "name": "Calculator Tool"
    },
    {
      "parameters": {
        "name": "analyze_document_structure",
        "description": "Analyze the overall structure and organization of a document, including sections, headings, and the relationship between textual and visual content.",
        "jsCode": "const query = $json.query;\nconst filename = $json.filename;\n\n// This would typically query the database for document metadata\n// For workshop purposes, we'll return a structured analysis\n\nconst analysis = {\n  document: filename || 'All documents',\n  structure: {\n    total_sections: 8,\n    main_topics: [\n      'Introduction to AI Systems',\n      'Machine Learning Fundamentals', \n      'Multimodal Processing',\n      'Vector Databases',\n      'Practical Applications'\n    ],\n    visual_elements: {\n      charts: 3,\n      diagrams: 5,\n      tables: 2,\n      code_examples: 4\n    },\n    content_flow: 'The document follows a logical progression from theoretical concepts to practical implementation',\n    key_insights: [\n      'Strong emphasis on multimodal AI approaches',\n      'Comprehensive coverage of vector search techniques',\n      'Practical examples throughout'\n    ]\n  }\n};\n\nreturn {\n  analysis: JSON.stringify(analysis, null, 2),\n  summary: `Document structure analysis complete for ${filename || 'all documents'}. Found ${analysis.structure.total_sections} main sections with ${analysis.structure.visual_elements.charts + analysis.structure.visual_elements.diagrams + analysis.structure.visual_elements.tables} visual elements.`\n};"
      },
      "type": "@n8n/n8n-nodes-langchain.toolCode",
      "typeVersion": 1,
      "position": [680, 100],
      "id": "structure-analysis-tool",
      "name": "Document Structure Analyzer"
    }
  ],
  "connections": {
    "When chat message received": {
      "main": [
        [
          {
            "node": "Advanced AI Agent",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Google Gemini Advanced Model": {
      "ai_languageModel": [
        [
          {
            "node": "Advanced AI Agent",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "Advanced MongoDB Memory": {
      "ai_memory": [
        [
          {
            "node": "Advanced AI Agent",
            "type": "ai_memory",
            "index": 0
          }
        ]
      ]
    },
    "Advanced Vector Store": {
      "ai_vectorStore": [
        [
          {
            "node": "Advanced Document Search",
            "type": "ai_vectorStore",
            "index": 0
          }
        ]
      ]
    },
    "Multimodal Embeddings": {
      "ai_embedding": [
        [
          {
            "node": "Advanced Vector Store",
            "type": "ai_embedding",
            "index": 0
          }
        ]
      ]
    },
    "Advanced Document Search": {
      "ai_tool": [
        [
          {
            "node": "Advanced AI Agent",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "Web Search Tool": {
      "ai_tool": [
        [
          {
            "node": "Advanced AI Agent",
            "type": "ai_tool",
            "index": 1
          }
        ]
      ]
    },
    "Calculator Tool": {
      "ai_tool": [
        [
          {
            "node": "Advanced AI Agent",
            "type": "ai_tool",
            "index": 2
          }
        ]
      ]
    },
    "Document Structure Analyzer": {
      "ai_tool": [
        [
          {
            "node": "Advanced AI Agent",
            "type": "ai_tool",
            "index": 3
          }
        ]
      ]
    }
  },
  "pinData": {},
  "active": false,
  "settings": {
    "executionOrder": "v1"
  },
  "versionId": "advanced-agent-with-tools-v1",
  "meta": {
    "templateCredsSetupCompleted": false
  },
  "id": "advanced-multimodal-agent-with-tools",
  "tags": ["workshop", "agent", "langchain", "multimodal", "advanced", "tools"]
}
```

# static/workflows/_archive/06-real-voyage-multimodal.json

```json
{
  "name": "Real Voyage AI Multimodal Agent",
  "nodes": [
    {
      "parameters": {
        "path": "pdf-upload",
        "options": {
          "binaryPropertyName": "data"
        },
        "responseMode": "lastNode"
      },
      "id": "webhook-pdf-upload",
      "name": "PDF Upload Webhook",
      "type": "n8n-nodes-base.webhook",
      "typeVersion": 1.1,
      "position": [240, 300],
      "webhookId": "pdf-upload-webhook"
    },
    {
      "parameters": {
        "jsCode": "// Extract PDF information and simulate page extraction\n// In production, use pdf-parse or pdf.js\nconst binary = $binary.data;\n\nif (!binary) {\n  throw new Error('No file uploaded');\n}\n\nconst filename = binary.fileName || 'document.pdf';\nif (!filename.toLowerCase().endsWith('.pdf')) {\n  throw new Error('Only PDF files are supported');\n}\n\n// Simulate PDF extraction - in production use real PDF library\nconst mockPages = [\n  {\n    pageNumber: 1,\n    text: \"Introduction to Multimodal AI Systems. This revolutionary approach allows AI to process both textual and visual information simultaneously, creating more comprehensive understanding.\",\n    hasImages: true\n  },\n  {\n    pageNumber: 2,\n    text: \"Voyage AI's multimodal embeddings represent a breakthrough in unified vector representations. Unlike traditional approaches, Voyage AI can encode both text and images into the same 1024-dimensional space.\",\n    hasImages: false\n  },\n  {\n    pageNumber: 3,\n    text: \"Applications include advanced document understanding, visual question answering, and cross-modal search where users can search for images using text or find text using images.\",\n    hasImages: true\n  }\n];\n\nreturn mockPages.map(page => ({\n  json: {\n    filename: filename,\n    pageNumber: page.pageNumber,\n    textContent: page.text,\n    hasImages: page.hasImages,\n    uploadedAt: new Date().toISOString()\n  }\n}));"
      },
      "id": "extract-pdf-content",
      "name": "Extract PDF Content",
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [460, 300]
    },
    {
      "parameters": {
        "url": "https://workshop-embedding-api.vercel.app/api/embed",
        "sendQuery": false,
        "sendHeaders": true,
        "headerParameters": {
          "parameters": [
            {
              "name": "Content-Type",
              "value": "application/json"
            }
          ]
        },
        "sendBody": true,
        "specifyBody": "json",
        "jsonBody": "={\n  \"text\": {{ JSON.stringify($json.textContent) }},\n  \"model\": \"voyage-3\"\n}",
        "options": {}
      },
      "id": "voyage-embeddings",
      "name": "Generate Voyage Embeddings",
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.1,
      "position": [680, 300]
    },
    {
      "parameters": {
        "operation": "insert",
        "collection": "pdf_documents",
        "fields": "={\n  \"filename\": {{ JSON.stringify($('Extract PDF Content').item.json.filename) }},\n  \"pageNumber\": {{ $('Extract PDF Content').item.json.pageNumber }},\n  \"textContent\": {{ JSON.stringify($('Extract PDF Content').item.json.textContent) }},\n  \"embedding\": {{ JSON.stringify($json.embeddings[0]) }},\n  \"metadata\": {\n    \"uploadedAt\": {{ JSON.stringify($('Extract PDF Content').item.json.uploadedAt) }},\n    \"model\": {{ JSON.stringify($json.model) }},\n    \"dimensions\": 1024,\n    \"hasImages\": {{ $('Extract PDF Content').item.json.hasImages }}\n  }\n}"
      },
      "id": "mongodb-insert",
      "name": "Store in MongoDB",
      "type": "n8n-nodes-base.mongoDb",
      "typeVersion": 1.1,
      "position": [900, 300],
      "credentials": {
        "mongoDb": {
          "id": "mongodb-local",
          "name": "MongoDB Local"
        }
      }
    },
    {
      "parameters": {
        "values": {
          "string": [
            {
              "name": "status",
              "value": "success"
            },
            {
              "name": "message",
              "value": "=PDF {{ $('Extract PDF Content').first().json.filename }} processed successfully"
            }
          ],
          "number": [
            {
              "name": "pagesProcessed",
              "value": "={{ $('Extract PDF Content').all().length }}"
            }
          ]
        }
      },
      "id": "upload-response",
      "name": "Upload Response",
      "type": "n8n-nodes-base.set",
      "typeVersion": 3.4,
      "position": [1120, 300]
    },
    {
      "parameters": {
        "path": "ask",
        "options": {},
        "responseMode": "lastNode"
      },
      "id": "webhook-ask",
      "name": "Q&A Webhook",
      "type": "n8n-nodes-base.webhook",
      "typeVersion": 1.1,
      "position": [240, 600],
      "webhookId": "qa-webhook"
    },
    {
      "parameters": {
        "url": "https://workshop-embedding-api.vercel.app/api/embed",
        "sendQuery": false,
        "sendHeaders": true,
        "headerParameters": {
          "parameters": [
            {
              "name": "Content-Type",
              "value": "application/json"
            }
          ]
        },
        "sendBody": true,
        "specifyBody": "json",
        "jsonBody": "={\n  \"text\": {{ JSON.stringify($json.body.question) }},\n  \"model\": \"voyage-3\"\n}",
        "options": {}
      },
      "id": "embed-question",
      "name": "Embed Question",
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.1,
      "position": [460, 600]
    },
    {
      "parameters": {
        "operation": "aggregate",
        "collection": "pdf_documents",
        "query": "=[\n  {\n    \"$vectorSearch\": {\n      \"index\": \"vector_index\",\n      \"path\": \"embedding\",\n      \"queryVector\": {{ JSON.stringify($json.embeddings[0]) }},\n      \"numCandidates\": 100,\n      \"limit\": 5\n    }\n  },\n  {\n    \"$project\": {\n      \"_id\": 1,\n      \"filename\": 1,\n      \"pageNumber\": 1,\n      \"textContent\": 1,\n      \"score\": { \"$meta\": \"vectorSearchScore\" },\n      \"metadata\": 1\n    }\n  }\n]"
      },
      "id": "mongodb-vector-search",
      "name": "Vector Search",
      "type": "n8n-nodes-base.mongoDb",
      "typeVersion": 1.1,
      "position": [680, 600],
      "credentials": {
        "mongoDb": {
          "id": "mongodb-local",
          "name": "MongoDB Local"
        }
      }
    },
    {
      "parameters": {
        "url": "https://generativelanguage.googleapis.com/v1beta/models/gemini-1.5-flash:generateContent",
        "authentication": "genericCredentialType",
        "genericAuthType": "httpQueryAuth",
        "sendQuery": true,
        "queryParameters": {
          "parameters": [
            {
              "name": "key",
              "value": "={{ $credentials.apiKey }}"
            }
          ]
        },
        "sendHeaders": true,
        "headerParameters": {
          "parameters": [
            {
              "name": "Content-Type",
              "value": "application/json"
            }
          ]
        },
        "sendBody": true,
        "specifyBody": "json",
        "jsonBody": "={\n  \"contents\": [{\n    \"parts\": [{\n      \"text\": \"You are a helpful AI assistant that answers questions about PDF documents. Use the provided context from the vector search to answer questions accurately. Always cite which page and document the information comes from.\\n\\nQuestion: {{ $('Q&A Webhook').item.json.body.question }}\\n\\nContext from documents:\\n{{ $('Vector Search').all().map(item => `[${item.json.filename} - Page ${item.json.pageNumber}] ${item.json.textContent}`).join('\\\\n\\\\n') }}\\n\\nPlease answer the question based on the context provided.\"\n    }]\n  }],\n  \"generationConfig\": {\n    \"temperature\": 0.3,\n    \"maxOutputTokens\": 500\n  }\n}",
        "options": {}
      },
      "id": "gemini-chat",
      "name": "Generate Answer (Gemini)",
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.1,
      "position": [900, 600],
      "credentials": {
        "httpQueryAuth": {
          "id": "gemini-api",
          "name": "Gemini API"
        }
      }
    },
    {
      "parameters": {
        "values": {
          "string": [
            {
              "name": "answer",
              "value": "={{ $json.candidates[0].content.parts[0].text }}"
            },
            {
              "name": "question", 
              "value": "={{ $('Q&A Webhook').item.json.body.question }}"
            }
          ],
          "number": [
            {
              "name": "sourcesCount",
              "value": "={{ $('Vector Search').all().length }}"
            }
          ]
        },
        "options": {}
      },
      "id": "format-response",
      "name": "Format Response",
      "type": "n8n-nodes-base.set",
      "typeVersion": 3.4,
      "position": [1120, 600]
    },
    {
      "parameters": {
        "content": "## Real Voyage AI Multimodal Agent\n\n### Features:\n1. **PDF Upload** - Accept real PDF files\n2. **Text Extraction** - Process PDF content\n3. **Voyage AI Embeddings** - 1024-dimensional multimodal\n4. **MongoDB Storage** - Vector index storage\n5. **Vector Search** - MongoDB $vectorSearch\n6. **Gemini AI** - Multimodal capable LLM\n\n### Required Setup:\n1. MongoDB vector index (1024 dimensions)\n2. Voyage AI API (via Vercel endpoint)\n3. Gemini API key for responses",
        "height": 250,
        "width": 350
      },
      "id": "workflow-notes",
      "name": "Workflow Notes",
      "type": "n8n-nodes-base.stickyNote",
      "typeVersion": 1,
      "position": [580, 50]
    }
  ],
  "pinData": {},
  "connections": {
    "PDF Upload Webhook": {
      "main": [
        [
          {
            "node": "Extract PDF Content",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Extract PDF Content": {
      "main": [
        [
          {
            "node": "Generate Voyage Embeddings",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Generate Voyage Embeddings": {
      "main": [
        [
          {
            "node": "Store in MongoDB",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Store in MongoDB": {
      "main": [
        [
          {
            "node": "Upload Response",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Q&A Webhook": {
      "main": [
        [
          {
            "node": "Embed Question",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Embed Question": {
      "main": [
        [
          {
            "node": "Vector Search",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Vector Search": {
      "main": [
        [
          {
            "node": "Generate Answer (Gemini)",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Generate Answer (Gemini)": {
      "main": [
        [
          {
            "node": "Format Response",
            "type": "main",
            "index": 0
          }
        ]
      ]
    }
  },
  "active": false,
  "settings": {
    "executionOrder": "v1"
  },
  "versionId": "voyage-multimodal-v1",
  "meta": {
    "templateCredsSetupCompleted": false
  },
  "id": "real-voyage-multimodal-agent",
  "tags": ["workshop", "voyage", "multimodal", "production"]
}
```

# static/workflows/_archive/07-form-based-agent.json

```json
{
  "name": "Multimodal PDF Agent with Form",
  "nodes": [
    {
      "parameters": {
        "path": "upload-pdf",
        "formTitle": "üìÑ Upload PDF to Multimodal Agent",
        "formDescription": "Upload a PDF document to process with Voyage AI multimodal embeddings and MongoDB Vector Search",
        "formFields": {
          "values": [
            {
              "fieldLabel": "Upload Your PDF",
              "fieldType": "file",
              "requiredField": true,
              "acceptFileTypes": ".pdf",
              "multipleFiles": false
            },
            {
              "fieldLabel": "Document Description (Optional)",
              "fieldType": "text",
              "placeholder": "Brief description of your document"
            }
          ]
        },
        "responseMode": "formPage",
        "formResponseMessage": "‚úÖ PDF uploaded successfully! Your document is being processed...",
        "options": {
          "formSubmitButtonLabel": "Upload PDF"
        }
      },
      "id": "form-trigger",
      "name": "PDF Upload Form",
      "type": "@n8n/n8n-nodes-langchain.formTrigger",
      "typeVersion": 2.1,
      "position": [240, 300],
      "webhookId": "pdf-form-trigger"
    },
    {
      "parameters": {
        "jsCode": "// Extract PDF file from form submission\nconst formData = $json;\nconst file = $binary.file;\n\nif (!file) {\n  throw new Error('No file uploaded');\n}\n\nconst filename = file.fileName || 'document.pdf';\nif (!filename.toLowerCase().endsWith('.pdf')) {\n  throw new Error('Only PDF files are supported');\n}\n\nconst description = formData.description || '';\n\n// Simulate PDF text extraction (in production use pdf-parse)\nconst mockPages = [\n  {\n    pageNumber: 1,\n    text: \"Introduction to Multimodal AI Systems. This revolutionary approach allows AI to process both textual and visual information simultaneously.\",\n    hasImages: true\n  },\n  {\n    pageNumber: 2,\n    text: \"Voyage AI's multimodal embeddings represent a breakthrough in unified vector representations for text and images in 1024 dimensions.\",\n    hasImages: false\n  },\n  {\n    pageNumber: 3,\n    text: \"Applications include document understanding, visual question answering, and cross-modal search capabilities.\",\n    hasImages: true\n  }\n];\n\nreturn mockPages.map(page => ({\n  json: {\n    filename: filename,\n    description: description,\n    pageNumber: page.pageNumber,\n    textContent: page.text,\n    hasImages: page.hasImages,\n    uploadedAt: new Date().toISOString(),\n    formSubmissionId: $executionId\n  },\n  binary: { file: file }\n}));"
      },
      "id": "extract-pdf",
      "name": "Extract PDF Content",
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [460, 300]
    },
    {
      "parameters": {
        "url": "https://workshop-embedding-api.vercel.app/api/embed",
        "sendQuery": false,
        "sendHeaders": true,
        "headerParameters": {
          "parameters": [
            {
              "name": "Content-Type",
              "value": "application/json"
            }
          ]
        },
        "sendBody": true,
        "specifyBody": "json",
        "jsonBody": "={\n  \"text\": {{ JSON.stringify($json.textContent) }},\n  \"model\": \"voyage-3\"\n}",
        "options": {}
      },
      "id": "voyage-embed",
      "name": "Generate Embeddings",
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.1,
      "position": [680, 300]
    },
    {
      "parameters": {
        "operation": "insert",
        "collection": "pdf_documents",
        "fields": "={\n  \"filename\": {{ JSON.stringify($('Extract PDF Content').item.json.filename) }},\n  \"description\": {{ JSON.stringify($('Extract PDF Content').item.json.description) }},\n  \"pageNumber\": {{ $('Extract PDF Content').item.json.pageNumber }},\n  \"textContent\": {{ JSON.stringify($('Extract PDF Content').item.json.textContent) }},\n  \"embedding\": {{ JSON.stringify($json.embeddings[0]) }},\n  \"metadata\": {\n    \"uploadedAt\": {{ JSON.stringify($('Extract PDF Content').item.json.uploadedAt) }},\n    \"model\": {{ JSON.stringify($json.model) }},\n    \"dimensions\": 1024,\n    \"hasImages\": {{ $('Extract PDF Content').item.json.hasImages }},\n    \"formSubmissionId\": {{ JSON.stringify($('Extract PDF Content').item.json.formSubmissionId) }}\n  }\n}"
      },
      "id": "mongodb-store",
      "name": "Store in MongoDB",
      "type": "n8n-nodes-base.mongoDb",
      "typeVersion": 1.1,
      "position": [900, 300],
      "credentials": {
        "mongoDb": {
          "id": "mongodb-local",
          "name": "MongoDB Local"
        }
      }
    },
    {
      "parameters": {
        "path": "ask-question",
        "formTitle": "ü§ñ Ask About Your PDFs",
        "formDescription": "Ask questions about the documents you've uploaded",
        "formFields": {
          "values": [
            {
              "fieldLabel": "Your Question",
              "fieldType": "text",
              "requiredField": true,
              "placeholder": "What would you like to know about your documents?"
            },
            {
              "fieldLabel": "Search Specific File (Optional)",
              "fieldType": "text",
              "placeholder": "Leave empty to search all documents"
            }
          ]
        },
        "responseMode": "responseNode",
        "options": {
          "formSubmitButtonLabel": "Ask Question"
        }
      },
      "id": "form-ask",
      "name": "Q&A Form",
      "type": "@n8n/n8n-nodes-langchain.formTrigger",
      "typeVersion": 2.1,
      "position": [240, 600],
      "webhookId": "qa-form-trigger"
    },
    {
      "parameters": {
        "url": "https://workshop-embedding-api.vercel.app/api/embed",
        "sendQuery": false,
        "sendHeaders": true,
        "headerParameters": {
          "parameters": [
            {
              "name": "Content-Type",
              "value": "application/json"
            }
          ]
        },
        "sendBody": true,
        "specifyBody": "json",
        "jsonBody": "={\n  \"text\": {{ JSON.stringify($json.question) }},\n  \"model\": \"voyage-3\"\n}",
        "options": {}
      },
      "id": "embed-question",
      "name": "Embed Question",
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.1,
      "position": [460, 600]
    },
    {
      "parameters": {
        "operation": "aggregate",
        "collection": "pdf_documents",
        "query": "=[\n  {\n    \"$vectorSearch\": {\n      \"index\": \"vector_index\",\n      \"path\": \"embedding\",\n      \"queryVector\": {{ JSON.stringify($json.embeddings[0]) }},\n      \"numCandidates\": 100,\n      \"limit\": 5,\n      \"filter\": {{ $('Q&A Form').item.json.filename ? JSON.stringify({ filename: $('Q&A Form').item.json.filename }) : '{}' }}\n    }\n  },\n  {\n    \"$project\": {\n      \"_id\": 1,\n      \"filename\": 1,\n      \"pageNumber\": 1,\n      \"textContent\": 1,\n      \"description\": 1,\n      \"score\": { \"$meta\": \"vectorSearchScore\" }\n    }\n  }\n]"
      },
      "id": "vector-search",
      "name": "Vector Search",
      "type": "n8n-nodes-base.mongoDb",
      "typeVersion": 1.1,
      "position": [680, 600],
      "credentials": {
        "mongoDb": {
          "id": "mongodb-local",
          "name": "MongoDB Local"
        }
      }
    },
    {
      "parameters": {
        "jsCode": "// Build AI prompt with context\nconst question = $('Q&A Form').item.json.question;\nconst searchResults = $input.all();\n\nif (!searchResults.length) {\n  return [{\n    json: {\n      answer: \"I couldn't find any relevant information in the uploaded documents. Please make sure you've uploaded PDFs first.\",\n      sources: []\n    }\n  }];\n}\n\n// Build context from search results\nconst context = searchResults\n  .map((item, idx) => \n    `[Source ${idx + 1} - ${item.json.filename}, Page ${item.json.pageNumber}]\\n${item.json.textContent}`\n  )\n  .join('\\n\\n');\n\n// For workshop - simulate AI response\n// In production, call OpenAI/Gemini here\nconst mockResponse = `Based on the documents you've uploaded, here's what I found regarding \"${question}\":\\n\\n`;\n\nconst answer = mockResponse + \n  `The documents discuss ${question.toLowerCase().includes('ai') ? 'artificial intelligence and multimodal systems' : 'the topic you asked about'}. ` +\n  `Specifically, I found relevant information in ${searchResults[0].json.filename} (page ${searchResults[0].json.pageNumber}) ` +\n  `that mentions: \"${searchResults[0].json.textContent.substring(0, 150)}...\"\\n\\n` +\n  `This information comes from ${searchResults.length} relevant sections across your uploaded PDFs.`;\n\nreturn [{\n  json: {\n    answer: answer,\n    sources: searchResults.map(r => ({\n      filename: r.json.filename,\n      page: r.json.pageNumber,\n      relevance: r.json.score\n    })),\n    question: question,\n    timestamp: new Date().toISOString()\n  }\n}];"
      },
      "id": "generate-answer",
      "name": "Generate Answer",
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [900, 600]
    },
    {
      "parameters": {
        "html": "=<div style=\"font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif; max-width: 800px; margin: 0 auto; padding: 20px;\">\n  <div style=\"background: #f8f9fa; border-radius: 8px; padding: 20px; margin-bottom: 20px;\">\n    <h2 style=\"color: #1a73e8; margin-top: 0;\">ü§ñ Your Answer</h2>\n    <p style=\"color: #5f6368; white-space: pre-wrap;\">{{ $json.answer }}</p>\n  </div>\n  \n  <div style=\"background: #e8f0fe; border-radius: 8px; padding: 20px;\">\n    <h3 style=\"color: #1967d2; margin-top: 0;\">üìö Sources</h3>\n    <ul style=\"list-style: none; padding: 0;\">\n      {{ $json.sources.map(s => `<li style=\"margin-bottom: 10px;\">‚Ä¢ <strong>${s.filename}</strong> - Page ${s.page} (Relevance: ${(s.relevance * 100).toFixed(1)}%)</li>`).join('') }}\n    </ul>\n  </div>\n  \n  <div style=\"margin-top: 20px; text-align: center;\">\n    <a href=\"/webhook/ask-question\" style=\"background: #1a73e8; color: white; padding: 10px 20px; text-decoration: none; border-radius: 4px; display: inline-block;\">Ask Another Question</a>\n  </div>\n</div>"
      },
      "id": "respond-with-html",
      "name": "Format Response",
      "type": "n8n-nodes-base.respondToWebhook",
      "typeVersion": 1.1,
      "position": [1120, 600]
    },
    {
      "parameters": {
        "content": "## üéØ Complete Multimodal PDF Agent with Forms\n\n### Two User-Friendly Forms:\n\n1. **PDF Upload Form** (`/webhook/upload-pdf`)\n   - Drag & drop PDF upload\n   - Optional description field\n   - Processes with Voyage AI\n\n2. **Q&A Form** (`/webhook/ask-question`)\n   - Natural language questions\n   - Optional filename filter\n   - Beautiful formatted responses\n\n### Features:\n- No coding required for users\n- Works perfectly in Codespaces\n- Mobile-friendly forms\n- Vector search with MongoDB\n- Source citations included",
        "height": 280,
        "width": 400
      },
      "id": "workflow-info",
      "name": "Workflow Info",
      "type": "n8n-nodes-base.stickyNote",
      "typeVersion": 1,
      "position": [620, 50]
    }
  ],
  "pinData": {},
  "connections": {
    "PDF Upload Form": {
      "main": [
        [
          {
            "node": "Extract PDF Content",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Extract PDF Content": {
      "main": [
        [
          {
            "node": "Generate Embeddings",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Generate Embeddings": {
      "main": [
        [
          {
            "node": "Store in MongoDB",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Q&A Form": {
      "main": [
        [
          {
            "node": "Embed Question",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Embed Question": {
      "main": [
        [
          {
            "node": "Vector Search",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Vector Search": {
      "main": [
        [
          {
            "node": "Generate Answer",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Generate Answer": {
      "main": [
        [
          {
            "node": "Format Response",
            "type": "main",
            "index": 0
          }
        ]
      ]
    }
  },
  "active": false,
  "settings": {
    "executionOrder": "v1"
  },
  "versionId": "form-based-v1",
  "meta": {
    "templateCredsSetupCompleted": false
  },
  "id": "multimodal-pdf-agent-forms",
  "tags": ["workshop", "forms", "user-friendly", "multimodal"]
}
```

# static/workflows/_archive/07-pdf-processing-agent.json

```json
{
  "name": "PDF Processing Agent with LangChain",
  "nodes": [
    {
      "parameters": {
        "path": "process-pdf",
        "options": {
          "noResponseBody": false
        },
        "responseMode": "lastNode"
      },
      "id": "pdf-webhook",
      "name": "PDF Upload Webhook",
      "type": "n8n-nodes-base.webhook",
      "typeVersion": 2,
      "position": [240, 300]
    },
    {
      "parameters": {
        "systemPromptTemplate": "You are a PDF processing agent. Your job is to:\n1. Validate uploaded PDF files\n2. Extract text and identify visual elements\n3. Generate multimodal embeddings\n4. Store processed content in MongoDB\n5. Provide a summary of the processing results\n\nAlways be thorough in your analysis and provide clear feedback about what was processed.",
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.agent",
      "typeVersion": 2.1,
      "position": [680, 300],
      "id": "processing-agent",
      "name": "PDF Processing Agent"
    },
    {
      "parameters": {
        "model": "gemini-2.0-flash-exp",
        "options": {
          "temperature": 0.2,
          "maxOutputTokens": 1024
        }
      },
      "type": "@n8n/n8n-nodes-langchain.lmChatGoogleGemini",
      "typeVersion": 1,
      "position": [460, 500],
      "id": "gemini-processor",
      "name": "Gemini Processing Model",
      "credentials": {
        "googlePalmApi": {
          "id": "workshop-gemini-api",
          "name": "Workshop Gemini API"
        }
      }
    },
    {
      "parameters": {
        "connectionString": "={{ $env.MONGODB_CONNECTION_STRING }}",
        "databaseName": "multimodal_workshop",
        "collectionName": "pdf_documents",
        "indexName": "vector_index",
        "embeddingDimensions": 1024,
        "textKey": "text_content"
      },
      "type": "@n8n/n8n-nodes-langchain.vectorStoreMongoDb",
      "typeVersion": 1,
      "position": [680, 500],
      "id": "mongodb-storage",
      "name": "MongoDB Document Store",
      "credentials": {
        "mongoDb": {
          "id": "mongodb-workshop",
          "name": "MongoDB Workshop"
        }
      }
    },
    {
      "parameters": {
        "model": "voyage-multimodal-3",
        "options": {
          "inputType": "document"
        }
      },
      "type": "@n8n/n8n-nodes-langchain.embeddingsVoyageAI",
      "typeVersion": 1,
      "position": [460, 700],
      "id": "voyage-processor",
      "name": "Voyage Multimodal Embeddings",
      "credentials": {
        "voyageAiApi": {
          "id": "workshop-voyage-api",
          "name": "Workshop Voyage API"
        }
      }
    },
    {
      "parameters": {
        "jsCode": "// PDF File Validation and Processing Preparation\nconst items = $input.all();\n\nif (!items.length) {\n  throw new Error('No input received');\n}\n\nconst item = items[0];\nconst binary = item.binary;\n\nif (!binary || !binary.data) {\n  throw new Error('No file uploaded');\n}\n\nconst filename = binary.data.fileName || 'unknown.pdf';\nconst fileSize = binary.data.fileSize || 0;\nconst mimeType = binary.data.mimeType || '';\n\n// Validate PDF\nif (!filename.toLowerCase().endsWith('.pdf')) {\n  throw new Error('Only PDF files are supported');\n}\n\nif (fileSize > 50 * 1024 * 1024) { // 50MB limit\n  throw new Error('File too large. Maximum size is 50MB');\n}\n\n// Prepare processing context\nconst processingContext = {\n  filename: filename,\n  fileSize: fileSize,\n  sizeMB: (fileSize / (1024 * 1024)).toFixed(2),\n  mimeType: mimeType,\n  uploadedAt: new Date().toISOString(),\n  status: 'validated',\n  processingId: `proc_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`\n};\n\nconsole.log('üìÑ PDF Validation Complete:', processingContext);\n\nreturn [{\n  json: {\n    message: `PDF file validated successfully: ${filename} (${processingContext.sizeMB}MB)`,\n    context: processingContext,\n    readyForProcessing: true\n  },\n  binary: binary\n}];"
      },
      "id": "validate-pdf",
      "name": "Validate PDF File",
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [460, 300]
    },
    {
      "parameters": {
        "name": "extract_pdf_content",
        "description": "Extract text content and identify visual elements from the uploaded PDF file. This tool processes the PDF and prepares it for embedding generation.",
        "jsCode": "const context = $json.context;\nconst filename = context.filename;\n\n// Simulate advanced PDF content extraction\n// In production, this would use libraries like pdf-parse, pdf2pic, or pymupdf\n\nconst extractedContent = {\n  filename: filename,\n  text_content: `EXTRACTED CONTENT FROM: ${filename}\\n\\n` +\n    `DOCUMENT SUMMARY:\\n` +\n    `This PDF contains comprehensive information about multimodal AI systems, vector databases, and machine learning applications. ` +\n    `The document is well-structured with clear sections covering theoretical foundations and practical implementations.\\n\\n` +\n    \n    `MAIN SECTIONS:\\n` +\n    `1. Introduction to Multimodal AI (Pages 1-3)\\n` +\n    `   - Covers the basics of processing multiple data types simultaneously\\n` +\n    `   - Discusses the advantages of multimodal approaches\\n` +\n    `   - Includes architecture diagrams showing data flow\\n\\n` +\n    \n    `2. Vector Databases and Embeddings (Pages 4-7)\\n` +\n    `   - Detailed explanation of vector similarity search\\n` +\n    `   - MongoDB Atlas Vector Search implementation examples\\n` +\n    `   - Performance comparison charts and benchmarks\\n\\n` +\n    \n    `3. Practical Applications (Pages 8-12)\\n` +\n    `   - Real-world use cases in document processing\\n` +\n    `   - Code examples and implementation patterns\\n` +\n    `   - Best practices for production deployment\\n\\n` +\n    \n    `TECHNICAL DETAILS:\\n` +\n    `The document provides in-depth coverage of embedding techniques, including Voyage AI's multimodal-3 model ` +\n    `with 1024-dimensional vectors. It discusses HNSW (Hierarchical Navigable Small World) indexing for ` +\n    `efficient similarity search and provides performance metrics showing sub-second query times.\\n\\n` +\n    \n    `VISUAL ELEMENTS IDENTIFIED:\\n` +\n    `- System architecture diagrams showing data processing pipelines\\n` +\n    `- Performance charts comparing different embedding models\\n` +\n    `- Code snippets demonstrating implementation patterns\\n` +\n    `- Tables with numerical results and benchmarks`,\n  \n  images_detected: [\n    {\n      page: 2,\n      type: 'architecture_diagram',\n      title: 'Multimodal AI System Architecture',\n      description: 'Comprehensive diagram showing data flow from input processing through embedding generation to vector storage and retrieval'\n    },\n    {\n      page: 5,\n      type: 'performance_chart',\n      title: 'Embedding Model Comparison',\n      description: 'Bar chart comparing accuracy and speed metrics across different multimodal embedding models'\n    },\n    {\n      page: 8,\n      type: 'workflow_diagram', \n      title: 'Document Processing Pipeline',\n      description: 'Step-by-step workflow showing PDF ingestion, content extraction, embedding generation, and storage'\n    },\n    {\n      page: 10,\n      type: 'results_table',\n      title: 'Performance Benchmarks',\n      description: 'Detailed table showing query response times, accuracy scores, and throughput metrics'\n    }\n  ],\n  \n  metadata: {\n    word_count: 3247,\n    estimated_reading_time: '13-16 minutes',\n    pages: Math.ceil(context.fileSize / (1024 * 150)), // Rough estimate\n    has_images: true,\n    has_code: true,\n    has_tables: true,\n    content_type: 'technical_documentation',\n    complexity_level: 'advanced',\n    extracted_at: new Date().toISOString()\n  }\n};\n\nconsole.log('üîç Content Extraction Complete:', {\n  filename: extractedContent.filename,\n  wordCount: extractedContent.metadata.word_count,\n  imagesFound: extractedContent.images_detected.length\n});\n\nreturn {\n  extracted_content: JSON.stringify(extractedContent, null, 2),\n  summary: `Successfully extracted ${extractedContent.metadata.word_count} words and identified ${extractedContent.images_detected.length} visual elements from ${filename}`\n};"
      },
      "type": "@n8n/n8n-nodes-langchain.toolCode",
      "typeVersion": 1,
      "position": [900, 200],
      "id": "extraction-tool",
      "name": "PDF Content Extraction Tool"
    },
    {
      "parameters": {
        "name": "store_in_mongodb",
        "description": "Store the processed PDF content and embeddings in MongoDB Atlas with vector search capabilities.",
        "jsCode": "const extractedData = JSON.parse($json.extracted_content);\nconst context = $json.context;\n\n// Simulate storing in MongoDB\n// In production, this would use the actual MongoDB connection\n\nconst storageResult = {\n  document_id: `doc_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`,\n  filename: extractedData.filename,\n  collection: 'pdf_documents',\n  database: 'multimodal_workshop',\n  \n  stored_fields: {\n    filename: extractedData.filename,\n    text_content: extractedData.text_content,\n    images_detected: extractedData.images_detected,\n    metadata: extractedData.metadata,\n    embedding: '[1024-dimensional vector would be stored here]',\n    upload_info: context,\n    indexed_at: new Date().toISOString()\n  },\n  \n  vector_index: {\n    index_name: 'vector_index',\n    dimensions: 1024,\n    similarity_metric: 'cosine',\n    status: 'indexed'\n  },\n  \n  processing_stats: {\n    processing_time_ms: Math.floor(Math.random() * 5000) + 2000,\n    embedding_generation_time_ms: Math.floor(Math.random() * 2000) + 1000,\n    storage_time_ms: Math.floor(Math.random() * 1000) + 500\n  }\n};\n\nconsole.log('üíæ MongoDB Storage Complete:', {\n  documentId: storageResult.document_id,\n  filename: storageResult.filename,\n  processingTime: `${storageResult.processing_stats.processing_time_ms}ms`\n});\n\nreturn {\n  storage_result: JSON.stringify(storageResult, null, 2),\n  summary: `Document ${extractedData.filename} successfully stored in MongoDB with document ID: ${storageResult.document_id}. Vector index created and ready for search.`\n};"
      },
      "type": "@n8n/n8n-nodes-langchain.toolCode",
      "typeVersion": 1,
      "position": [900, 300],
      "id": "storage-tool",
      "name": "MongoDB Storage Tool"
    },
    {
      "parameters": {
        "name": "generate_processing_summary",
        "description": "Generate a comprehensive summary of the PDF processing results including all steps completed and next available actions.",
        "jsCode": "const extractedData = JSON.parse($json.extracted_content);\nconst storageData = JSON.parse($json.storage_result);\nconst context = $json.context;\n\nconst summary = {\n  processing_complete: true,\n  document_info: {\n    filename: extractedData.filename,\n    size_mb: context.sizeMB,\n    pages: extractedData.metadata.pages,\n    word_count: extractedData.metadata.word_count,\n    reading_time: extractedData.metadata.estimated_reading_time\n  },\n  \n  content_analysis: {\n    main_topics: [\n      'Multimodal AI Systems',\n      'Vector Databases', \n      'Machine Learning Applications',\n      'Technical Implementation'\n    ],\n    visual_elements: {\n      total: extractedData.images_detected.length,\n      types: [...new Set(extractedData.images_detected.map(img => img.type))],\n      detailed_list: extractedData.images_detected\n    },\n    complexity: extractedData.metadata.complexity_level,\n    content_type: extractedData.metadata.content_type\n  },\n  \n  processing_results: {\n    text_extracted: true,\n    images_identified: true,\n    embeddings_generated: true,\n    stored_in_mongodb: true,\n    vector_indexed: true,\n    document_id: storageData.document_id\n  },\n  \n  next_steps: [\n    'Document is now searchable via vector similarity',\n    'You can ask questions about the content',\n    'Visual elements can be referenced in queries',\n    'Full-text search is available',\n    'Document can be compared with other uploaded files'\n  ],\n  \n  performance: {\n    total_processing_time: `${storageData.processing_stats.processing_time_ms}ms`,\n    embedding_time: `${storageData.processing_stats.embedding_generation_time_ms}ms`,\n    storage_time: `${storageData.processing_stats.storage_time_ms}ms`\n  }\n};\n\nconst finalMessage = `\\nüéâ **PDF Processing Complete!**\\n\\n` +\n  `**Document:** ${summary.document_info.filename}\\n` +\n  `**Size:** ${summary.document_info.size_mb}MB (${summary.document_info.pages} pages)\\n` +\n  `**Content:** ${summary.document_info.word_count} words, ${summary.content_analysis.visual_elements.total} visual elements\\n\\n` +\n  \n  `**Analysis Results:**\\n` +\n  `‚Ä¢ Main topics: ${summary.content_analysis.main_topics.join(', ')}\\n` +\n  `‚Ä¢ Visual elements: ${summary.content_analysis.visual_elements.types.join(', ')}\\n` +\n  `‚Ä¢ Complexity level: ${summary.content_analysis.complexity}\\n\\n` +\n  \n  `**What's Available Now:**\\n` +\n  `‚úÖ Vector search enabled\\n` +\n  `‚úÖ Question answering ready\\n` +\n  `‚úÖ Visual content can be referenced\\n` +\n  `‚úÖ Document comparison possible\\n\\n` +\n  \n  `**Next Steps:**\\n` +\n  `You can now ask questions about this document! I can help you understand the content, ` +\n  `explain charts and diagrams, compare sections, or find specific information.\\n\\n` +\n  \n  `**Processing Stats:** Completed in ${summary.performance.total_processing_time}`;\n\nreturn {\n  final_summary: JSON.stringify(summary, null, 2),\n  message: finalMessage\n};"
      },
      "type": "@n8n/n8n-nodes-langchain.toolCode",
      "typeVersion": 1,
      "position": [900, 400],
      "id": "summary-tool",
      "name": "Processing Summary Tool"
    }
  ],
  "connections": {
    "PDF Upload Webhook": {
      "main": [
        [
          {
            "node": "Validate PDF File",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Validate PDF File": {
      "main": [
        [
          {
            "node": "PDF Processing Agent",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Gemini Processing Model": {
      "ai_languageModel": [
        [
          {
            "node": "PDF Processing Agent",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "MongoDB Document Store": {
      "ai_vectorStore": [
        [
          {
            "node": "PDF Processing Agent",
            "type": "ai_vectorStore",
            "index": 0
          }
        ]
      ]
    },
    "Voyage Multimodal Embeddings": {
      "ai_embedding": [
        [
          {
            "node": "MongoDB Document Store",
            "type": "ai_embedding",
            "index": 0
          }
        ]
      ]
    },
    "PDF Content Extraction Tool": {
      "ai_tool": [
        [
          {
            "node": "PDF Processing Agent",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "MongoDB Storage Tool": {
      "ai_tool": [
        [
          {
            "node": "PDF Processing Agent",
            "type": "ai_tool",
            "index": 1
          }
        ]
      ]
    },
    "Processing Summary Tool": {
      "ai_tool": [
        [
          {
            "node": "PDF Processing Agent",
            "type": "ai_tool",
            "index": 2
          }
        ]
      ]
    }
  },
  "pinData": {},
  "active": false,
  "settings": {
    "executionOrder": "v1"
  },
  "versionId": "pdf-processing-agent-v1",
  "meta": {
    "templateCredsSetupCompleted": false
  },
  "id": "pdf-processing-agent-langchain",
  "tags": ["workshop", "agent", "langchain", "pdf", "processing", "multimodal"]
}
```

# static/workflows/_archive/08-docs-indexer.json

```json
{
  "name": "Workshop Docs Indexer",
  "nodes": [
    {
      "parameters": {
        "rule": {
          "interval": [
            {
              "field": "hours",
              "hoursInterval": 24
            }
          ]
        }
      },
      "id": "schedule-trigger",
      "name": "Daily Index Update",
      "type": "n8n-nodes-base.scheduleTrigger",
      "typeVersion": 1.1,
      "position": [240, 300]
    },
    {
      "parameters": {
        "path": "index-docs",
        "responseMode": "lastNode",
        "options": {}
      },
      "id": "manual-trigger",
      "name": "Manual Index Trigger",
      "type": "n8n-nodes-base.webhook",
      "typeVersion": 2,
      "position": [240, 500]
    },
    {
      "parameters": {
        "jsCode": "// List all MDX files in the docs directory\nconst fs = require('fs');\nconst path = require('path');\n\n// In production, this would scan the actual docs directory\n// For this workshop, we'll use a predefined list\nconst docFiles = [\n  'objectives-overview.mdx',\n  'n8n-exercise-1.mdx',\n  'n8n-exercise-2.mdx',\n  'n8n-exercise-3.mdx',\n  'n8n-exercise-4.mdx',\n  'python-exercise-1.mdx',\n  'python-exercise-2.mdx',\n  'python-exercise-3.mdx',\n  'python-exercise-4.mdx'\n];\n\nreturn docFiles.map(filename => ({\n  json: {\n    filename,\n    path: `/docs/${filename}`,\n    type: filename.includes('n8n') ? 'n8n' : filename.includes('python') ? 'python' : 'overview'\n  }\n}));"
      },
      "id": "list-docs",
      "name": "List Documentation Files",
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [460, 400]
    },
    {
      "parameters": {
        "jsCode": "// Read and parse MDX content\nconst filename = $json.filename;\nconst filePath = $json.path;\n\n// Simulated content reading - in production, use file system\nconst mockContent = {\n  'objectives-overview.mdx': `# Workshop Objectives Overview\\n\\nThis workshop teaches you to build multimodal PDF agents using n8n, MongoDB Atlas, and Voyage AI.\\n\\n## Learning Goals\\n- Understand vector embeddings\\n- Build AI agents with n8n\\n- Implement RAG systems\\n- Process PDFs with AI`,\n  'n8n-exercise-1.mdx': `# Exercise 1: PDF Processing Workflow\\n\\nCreate an n8n workflow that processes PDF uploads, extracts text, and generates embeddings.\\n\\n## Tasks\\n- Import PDF processor workflow\\n- Configure MongoDB connection\\n- Test with sample PDFs`,\n  'n8n-exercise-2.mdx': `# Exercise 2: Vector Search Workflow\\n\\nImplement vector similarity search using MongoDB Atlas Vector Search.\\n\\n## Tasks\\n- Create vector search index\\n- Build search workflow\\n- Test similarity queries`,\n  'n8n-exercise-3.mdx': `# Exercise 3: Chat Interface\\n\\nBuild a conversational interface that uses your indexed documents.\\n\\n## Tasks\\n- Create chat webhook\\n- Implement context retrieval\\n- Generate AI responses`,\n  'n8n-exercise-4.mdx': `# Exercise 4: Advanced Features\\n\\nAdd advanced capabilities like memory, tools, and multimodal processing.\\n\\n## Tasks\\n- Add conversation memory\\n- Implement custom tools\\n- Handle images and PDFs`\n};\n\n// Extract content and metadata\nconst content = mockContent[filename] || `Content for ${filename}`;\nconst title = content.match(/^# (.+)$/m)?.[1] || filename.replace('.mdx', '');\nconst sections = content.split(/\\n## /).slice(1).map(s => s.split('\\n')[0]);\n\nreturn [{\n  json: {\n    filename,\n    title,\n    content,\n    sections,\n    wordCount: content.split(' ').length,\n    type: $json.type,\n    metadata: {\n      indexed_at: new Date().toISOString(),\n      version: '1.0'\n    }\n  }\n}];"
      },
      "id": "read-content",
      "name": "Read MDX Content",
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [680, 400]
    },
    {
      "parameters": {
        "jsCode": "// Split content into chunks for better retrieval\nconst content = $json.content;\nconst filename = $json.filename;\nconst title = $json.title;\n\n// Split by sections\nconst chunks = [];\nconst sections = content.split(/\\n## /);\n\n// First chunk is the intro\nif (sections[0]) {\n  chunks.push({\n    content: sections[0],\n    section: 'Introduction',\n    chunk_index: 0\n  });\n}\n\n// Process each section\nsections.slice(1).forEach((section, index) => {\n  const lines = section.split('\\n');\n  const sectionTitle = lines[0];\n  const sectionContent = lines.slice(1).join('\\n');\n  \n  chunks.push({\n    content: `## ${sectionTitle}\\n${sectionContent}`,\n    section: sectionTitle,\n    chunk_index: index + 1\n  });\n});\n\nreturn chunks.map(chunk => ({\n  json: {\n    filename,\n    title,\n    chunk_content: chunk.content,\n    section: chunk.section,\n    chunk_index: chunk.chunk_index,\n    metadata: $json.metadata\n  }\n}));"
      },
      "id": "chunk-content",
      "name": "Chunk Content",
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [900, 400]
    },
    {
      "parameters": {
        "url": "={{ $env.WORKSHOP_EMBEDDING_URL || 'https://workshop-embedding-api.vercel.app/api/embed' }}",
        "sendBody": true,
        "specifyBody": "json",
        "jsonBody": "={\n  \"text\": {{ JSON.stringify($json.chunk_content) }},\n  \"model\": \"voyage-3\"\n}",
        "options": {}
      },
      "id": "generate-embeddings",
      "name": "Generate Embeddings",
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.1,
      "position": [1120, 400]
    },
    {
      "parameters": {
        "operation": "deleteMany",
        "collection": "workshop_docs",
        "query": "={{ {} }}"
      },
      "id": "clear-collection",
      "name": "Clear Existing Docs",
      "type": "n8n-nodes-base.mongoDb",
      "typeVersion": 1,
      "position": [680, 200],
      "credentials": {
        "mongoDb": {
          "id": "mongodb-workshop",
          "name": "MongoDB Workshop"
        }
      }
    },
    {
      "parameters": {
        "operation": "insertOne",
        "collection": "workshop_docs",
        "fields": "={\n  \"filename\": {{ JSON.stringify($('Chunk Content').item.json.filename) }},\n  \"title\": {{ JSON.stringify($('Chunk Content').item.json.title) }},\n  \"section\": {{ JSON.stringify($('Chunk Content').item.json.section) }},\n  \"chunk_index\": {{ $('Chunk Content').item.json.chunk_index }},\n  \"content\": {{ JSON.stringify($('Chunk Content').item.json.chunk_content) }},\n  \"embedding\": {{ JSON.stringify($json.embeddings[0]) }},\n  \"metadata\": {{ JSON.stringify($('Chunk Content').item.json.metadata) }}\n}"
      },
      "id": "store-chunks",
      "name": "Store Doc Chunks",
      "type": "n8n-nodes-base.mongoDb",
      "typeVersion": 1,
      "position": [1340, 400],
      "credentials": {
        "mongoDb": {
          "id": "mongodb-workshop",
          "name": "MongoDB Workshop"
        }
      }
    },
    {
      "parameters": {
        "jsCode": "// Aggregate results\nconst items = $input.all();\nconst uniqueFiles = new Set(items.map(item => item.json.filename));\nconst totalChunks = items.length;\n\nreturn [{\n  json: {\n    status: 'success',\n    message: 'Documentation indexed successfully',\n    stats: {\n      files_processed: uniqueFiles.size,\n      chunks_created: totalChunks,\n      collection: 'workshop_docs',\n      indexed_at: new Date().toISOString()\n    }\n  }\n}];"
      },
      "id": "aggregate-results",
      "name": "Aggregate Results",
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [1560, 400]
    }
  ],
  "pinData": {},
  "connections": {
    "Daily Index Update": {
      "main": [
        [
          {
            "node": "Clear Existing Docs",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Manual Index Trigger": {
      "main": [
        [
          {
            "node": "Clear Existing Docs",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Clear Existing Docs": {
      "main": [
        [
          {
            "node": "List Documentation Files",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "List Documentation Files": {
      "main": [
        [
          {
            "node": "Read MDX Content",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Read MDX Content": {
      "main": [
        [
          {
            "node": "Chunk Content",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Chunk Content": {
      "main": [
        [
          {
            "node": "Generate Embeddings",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Generate Embeddings": {
      "main": [
        [
          {
            "node": "Store Doc Chunks",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Store Doc Chunks": {
      "main": [
        [
          {
            "node": "Aggregate Results",
            "type": "main",
            "index": 0
          }
        ]
      ]
    }
  },
  "active": false,
  "settings": {
    "executionOrder": "v1"
  },
  "versionId": "docs-indexer-v1",
  "meta": {
    "templateCredsSetupCompleted": false
  },
  "id": "workshop-docs-indexer",
  "tags": ["workshop", "rag", "indexing"]
}
```

# static/workflows/_archive/08-voyage-context-3-embeddings.json

```json
{
  "name": "Enhanced Text Embeddings with Voyage Context-3",
  "nodes": [ 
    {
      "parameters": {
        "httpMethod": "POST",
        "path": "context-embed",
        "responseMode": "lastNode",
        "options": {}
      },
      "id": "webhook-context",
      "name": "Webhook - Context Embeddings",
      "type": "n8n-nodes-base.webhook",
      "typeVersion": 1.1,
      "position": [240, 300],
      "webhookId": "context-embed-webhook"
    },
    {
      "parameters": {
        "url": "={{ $env.WORKSHOP_EMBEDDING_URL || 'https://workshop-embedding-api.vercel.app/api/embed' }}",
        "sendBody": true,
        "specifyBody": "json",
        "jsonBody": "={\n  \"text\": {{ JSON.stringify($json.input) }},\n  \"model\": \"voyage-context-3\",\n  \"input_type\": {{ JSON.stringify($json.input_type || 'document') }},\n  \"context\": {{ JSON.stringify($json.context || null) }}\n}",
        "options": {}
      },
      "id": "voyage-context-3-request",
      "name": "Generate Context-3 Embeddings",
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.1,
      "position": [460, 300]
    },
    {
      "parameters": {
        "values": {
          "string": [
            {
              "name": "embedding_type",
              "value": "contextualized_chunk_embedding"
            },
            {
              "name": "model_used",
              "value": "={{ $json.model || 'voyage-context-3' }}"
            },
            {
              "name": "embedding_dimensions",
              "value": "={{ $json.embeddings[0].length }}"
            },
            {
              "name": "total_tokens",
              "value": "={{ $json.usage?.total_tokens || 'N/A' }}"
            }
          ],
          "number": [
            {
              "name": "embedding_preview_start",
              "value": "={{ $json.embeddings[0].slice(0, 5) }}"
            },
            {
              "name": "embedding_preview_end",
              "value": "={{ $json.embeddings[0].slice(-5) }}"
            }
          ]
        }
      },
      "id": "format-response",
      "name": "Format Context Response",
      "type": "n8n-nodes-base.set",
      "typeVersion": 3.4,
      "position": [680, 300]
    },
    {
      "parameters": {
        "content": "## Voyage Context-3: Advanced Text Understanding for Multimodal Workflows\n\n### Enhancing Your Multimodal Agent with Context-3\n\n**voyage-context-3** is a specialized text embedding model that complements multimodal workflows:\n\n1. **Contextual Text Understanding**: While your multimodal models (voyage-3, voyage-multimodal-3) handle images AND text, context-3 provides superior understanding of text relationships.\n\n2. **Hybrid Approach**: Use BOTH models together:\n   - **voyage-multimodal-3**: For images and general text from PDFs\n   - **voyage-context-3**: For deep text understanding and context\n\n3. **Better Text Retrieval**: When users ask complex questions about document text, context-3 excels at:\n   - Understanding relationships between paragraphs\n   - Maintaining document structure awareness\n   - Legal, technical, and narrative documents\n\n### Combining with Multimodal:\n\`\`\`json\n// For images + basic text:\n{ \"model\": \"voyage-multimodal-3\", \"input\": \"image_or_text\" }\n\n// For advanced text chunks:\n{ \"model\": \"voyage-context-3\", \"input\": \"text\", \"context\": \"surrounding_text\" }\n\`\`\`\n\n### Workshop Integration:\n- Extract images ‚Üí voyage-multimodal-3\n- Extract complex text ‚Üí voyage-context-3\n- Store both in MongoDB Atlas Vector Search",
        "height": 520,
        "width": 400
      },
      "id": "context-3-documentation",
      "name": "Context-3 Documentation",
      "type": "n8n-nodes-base.stickyNote",
      "typeVersion": 1,
      "position": [240, 580]
    },
    {
      "parameters": {
        "url": "={{ $env.WORKSHOP_EMBEDDING_URL || 'https://workshop-embedding-api.vercel.app/api/embed' }}",
        "sendQuery": true,
        "queryParameters": {
          "parameters": [
            {
              "name": "action",
              "value": "search"
            }
          ]
        },
        "sendBody": true,
        "specifyBody": "json",
        "jsonBody": "={\n  \"query\": {{ JSON.stringify($json.query) }},\n  \"model\": \"voyage-context-3\",\n  \"top_k\": {{ $json.top_k || 5 }},\n  \"input_type\": \"query\"\n}",
        "options": {}
      },
      "id": "context-retrieval-demo",
      "name": "Context-Aware Retrieval (Optional)",
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.1,
      "position": [460, 580],
      "disabled": true
    },
    {
      "parameters": {
        "content": "## Workshop Integration: Enhancing Multimodal Agents\n\nüöÄ **Power Combo**: voyage-multimodal-3 + voyage-context-3\n\n‚úÖ Your multimodal PDF agent becomes even more powerful by:\n1. Using **voyage-multimodal-3** for images and basic text\n2. Using **voyage-context-3** for complex text understanding\n3. Storing both in MongoDB Atlas Vector Search\n\n‚úÖ Example PDF Processing Flow:\n- Page has diagram ‚Üí voyage-multimodal-3\n- Page has legal text ‚Üí voyage-context-3\n- User asks about diagram ‚Üí search multimodal embeddings\n- User asks about contract details ‚Üí search context embeddings\n\n‚úÖ This gives you the best of both worlds:\n- Visual understanding (multimodal)\n- Deep text comprehension (context-3)",
        "height": 220,
        "width": 400,
        "color": 5
      },
      "id": "multimodal-note",
      "name": "Multimodal Compatibility",
      "type": "n8n-nodes-base.stickyNote",
      "typeVersion": 1,
      "position": [700, 480]
    }
  ],
  "pinData": {},
  "connections": {
    "Webhook - Context Embeddings": {
      "main": [
        [
          {
            "node": "Generate Context-3 Embeddings",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Generate Context-3 Embeddings": {
      "main": [
        [
          {
            "node": "Format Context Response",
            "type": "main",
            "index": 0
          }
        ]
      ]
    }
  },
  "active": false,
  "settings": {
    "executionOrder": "v1"
  },
  "versionId": "voyage-context-3-v1",
  "meta": {
    "templateCredsSetupCompleted": true,
    "instanceId": "workshop-instance"
  },
  "id": "voyage-context-3-embeddings",
  "tags": ["embeddings", "voyage-ai", "context-3", "multimodal"]
}
```

# static/workflows/_archive/09-hybrid-multimodal-context-agent.json

```json
{
  "name": "Hybrid Multimodal PDF Agent with Context-3 Enhancement",
  "nodes": [
    {
      "parameters": {
        "path": "pdf-hybrid-upload",
        "options": {
          "binaryPropertyName": "data"
        },
        "responseMode": "lastNode"
      },
      "id": "webhook-pdf-hybrid",
      "name": "PDF Upload (Hybrid Processing)",
      "type": "n8n-nodes-base.webhook",
      "typeVersion": 1.1,
      "position": [240, 300],
      "webhookId": "pdf-hybrid-upload"
    },
    {
      "parameters": {
        "jsCode": "// Extract PDF for HYBRID processing (images + contextualized text)\nconst binary = $binary.data;\nif (!binary || !binary.fileName?.toLowerCase().endsWith('.pdf')) {\n  throw new Error('Valid PDF file required');\n}\n\n// Simulate hybrid PDF extraction\nconst pages = [\n  {\n    pageNumber: 1,\n    text: \"Building Multimodal AI Agents with MongoDB and Voyage AI\",\n    context: \"Title page of workshop documentation\",\n    hasImages: true,\n    imageDescription: \"Voyage AI logo and MongoDB logo\"\n  },\n  {\n    pageNumber: 2,\n    text: \"Voyage AI offers both multimodal embeddings for images and contextualized embeddings for advanced text understanding\",\n    context: \"Introduction section following title page\",\n    hasImages: true,\n    imageDescription: \"Architecture diagram showing multimodal pipeline\"\n  },\n  {\n    pageNumber: 3,\n    text: \"Legal disclaimer: This workshop material is provided as-is for educational purposes\",\n    context: \"Legal section requiring deep text understanding\",\n    hasImages: false,\n    imageDescription: null\n  }\n];\n\nreturn pages.map(page => ({\n  json: {\n    filename: binary.fileName,\n    pageNumber: page.pageNumber,\n    textContent: page.text,\n    pageContext: page.context,\n    hasImages: page.hasImages,\n    imageDescription: page.imageDescription,\n    requiresContextualText: page.text.includes('Legal') || page.text.includes('technical'),\n    timestamp: new Date().toISOString()\n  }\n}));"
      },
      "id": "extract-hybrid-content",
      "name": "Extract Hybrid PDF Content",
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [460, 300]
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "",
            "typeValidation": "strict"
          },
          "conditions": [
            {
              "id": "has-images",
              "leftValue": "={{ $json.hasImages }}",
              "rightValue": true,
              "operator": {
                "type": "boolean",
                "operation": "equals"
              }
            }
          ],
          "combinator": "and"
        },
        "options": {}
      },
      "id": "route-by-content",
      "name": "Route by Content Type",
      "type": "n8n-nodes-base.if",
      "typeVersion": 2,
      "position": [680, 300]
    },
    {
      "parameters": {
        "url": "https://workshop-embedding-api.vercel.app/api/embed",
        "sendBody": true,
        "specifyBody": "json",
        "jsonBody": "={\n  \"text\": {{ JSON.stringify($json.textContent) }},\n  \"model\": \"voyage-multimodal-3\",\n  \"input_type\": \"document\",\n  \"metadata\": {\n    \"page\": {{ $json.pageNumber }},\n    \"has_images\": true,\n    \"image_description\": {{ JSON.stringify($json.imageDescription) }}\n  }\n}",
        "options": {}
      },
      "id": "voyage-multimodal",
      "name": "Generate Multimodal Embeddings",
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.1,
      "position": [900, 240]
    },
    {
      "parameters": {
        "url": "https://workshop-embedding-api.vercel.app/api/embed",
        "sendBody": true,
        "specifyBody": "json",
        "jsonBody": "={\n  \"text\": {{ JSON.stringify($json.textContent) }},\n  \"model\": \"voyage-context-3\",\n  \"input_type\": \"document\",\n  \"context\": {{ JSON.stringify($json.pageContext) }},\n  \"metadata\": {\n    \"page\": {{ $json.pageNumber }},\n    \"requires_context\": true\n  }\n}",
        "options": {}
      },
      "id": "voyage-context-3",
      "name": "Generate Context-3 Embeddings",
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.1,
      "position": [900, 360]
    },
    {
      "parameters": {
        "mode": "combine",
        "combineBy": "combineByPosition",
        "options": {}
      },
      "id": "merge-embeddings",
      "name": "Merge All Embeddings",
      "type": "n8n-nodes-base.merge",
      "typeVersion": 3,
      "position": [1120, 300]
    },
    {
      "parameters": {
        "operation": "insert",
        "collection": "hybrid_pdf_documents",
        "fields": "={\n  \"filename\": {{ JSON.stringify($('Extract Hybrid PDF Content').item.json.filename) }},\n  \"pageNumber\": {{ $('Extract Hybrid PDF Content').item.json.pageNumber }},\n  \"content\": {\n    \"text\": {{ JSON.stringify($('Extract Hybrid PDF Content').item.json.textContent) }},\n    \"context\": {{ JSON.stringify($('Extract Hybrid PDF Content').item.json.pageContext) }},\n    \"hasImages\": {{ $('Extract Hybrid PDF Content').item.json.hasImages }}\n  },\n  \"embeddings\": {\n    \"multimodal\": {{ $json.hasImages ? JSON.stringify($('Generate Multimodal Embeddings').item.json.embeddings[0]) : null }},\n    \"contextual\": {{ $json.requiresContextualText ? JSON.stringify($('Generate Context-3 Embeddings').item.json.embeddings[0]) : null }}\n  },\n  \"metadata\": {\n    \"models_used\": [\n      {{ $json.hasImages ? '\"voyage-multimodal-3\"' : '' }},\n      {{ $json.requiresContextualText ? '\"voyage-context-3\"' : '' }}\n    ].filter(Boolean),\n    \"timestamp\": {{ JSON.stringify($('Extract Hybrid PDF Content').item.json.timestamp) }}\n  }\n}"
      },
      "id": "store-hybrid-embeddings",
      "name": "Store Hybrid Embeddings",
      "type": "n8n-nodes-base.mongoDb",
      "typeVersion": 1.1,
      "position": [1340, 300],
      "credentials": {
        "mongoDb": {
          "id": "mongodb-atlas",
          "name": "MongoDB Atlas"
        }
      }
    },
    {
      "parameters": {
        "content": "## üöÄ Hybrid Approach: Best of Both Worlds\n\n### This workflow demonstrates the POWER of combining:\n\n1. **voyage-multimodal-3**: \n   - Handles images, diagrams, charts\n   - Basic text understanding\n   - Cross-modal search (text‚Üíimage)\n\n2. **voyage-context-3**: \n   - Superior text comprehension\n   - Document structure awareness\n   - Legal/technical text mastery\n\n### Intelligent Routing:\n- Pages with images ‚Üí Multimodal embeddings\n- Complex text pages ‚Üí Context-3 embeddings\n- Some pages get BOTH!\n\n### MongoDB Storage:\nStore multiple embedding types per document for ultimate flexibility in search and retrieval.",
        "height": 420,
        "width": 400,
        "color": 4
      },
      "id": "hybrid-benefits",
      "name": "Hybrid Architecture Benefits",
      "type": "n8n-nodes-base.stickyNote",
      "typeVersion": 1,
      "position": [240, 560]
    },
    {
      "parameters": {
        "values": {
          "string": [
            {
              "name": "status",
              "value": "success"
            },
            {
              "name": "message",
              "value": "=PDF processed with hybrid approach: {{ $('Extract Hybrid PDF Content').first().json.filename }}"
            }
          ],
          "number": [
            {
              "name": "pagesProcessed",
              "value": "={{ $('Extract Hybrid PDF Content').all().length }}"
            },
            {
              "name": "multimodalEmbeddings",
              "value": "={{ $('Generate Multimodal Embeddings').all().length }}"
            },
            {
              "name": "contextualEmbeddings",
              "value": "={{ $('Generate Context-3 Embeddings').all().length }}"
            }
          ]
        }
      },
      "id": "response-summary",
      "name": "Response Summary",
      "type": "n8n-nodes-base.set",
      "typeVersion": 3.4,
      "position": [1560, 300]
    }
  ],
  "pinData": {},
  "connections": {
    "PDF Upload (Hybrid Processing)": {
      "main": [
        [
          {
            "node": "Extract Hybrid PDF Content",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Extract Hybrid PDF Content": {
      "main": [
        [
          {
            "node": "Route by Content Type",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Route by Content Type": {
      "main": [
        [
          {
            "node": "Generate Multimodal Embeddings",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Generate Context-3 Embeddings",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Generate Multimodal Embeddings": {
      "main": [
        [
          {
            "node": "Merge All Embeddings",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Generate Context-3 Embeddings": {
      "main": [
        [
          {
            "node": "Merge All Embeddings",
            "type": "main",
            "index": 1
          }
        ]
      ]
    },
    "Merge All Embeddings": {
      "main": [
        [
          {
            "node": "Store Hybrid Embeddings",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Store Hybrid Embeddings": {
      "main": [
        [
          {
            "node": "Response Summary",
            "type": "main",
            "index": 0
          }
        ]
      ]
    }
  },
  "active": false,
  "settings": {
    "executionOrder": "v1"
  },
  "versionId": "hybrid-multimodal-v1",
  "id": "hybrid-multimodal-context-agent",
  "tags": ["multimodal", "hybrid", "pdf", "voyage-context-3", "voyage-multimodal-3", "atlas-vector-search"]
}
```

# static/workflows/_archive/09-lab-assistant-chat.json

```json
{
  "name": "Lab Assistant RAG Chat",
  "nodes": [
    {
      "parameters": {
        "path": "lab-assistant",
        "responseMode": "lastNode",
        "options": {
          "responseHeaders": {
            "entries": [
              {
                "name": "Access-Control-Allow-Origin",
                "value": "*"
              }
            ]
          }
        }
      },
      "id": "chat-webhook",
      "name": "Chat Webhook",
      "type": "n8n-nodes-base.webhook",
      "typeVersion": 2,
      "position": [240, 400]
    },
    {
      "parameters": {
        "jsCode": "// Extract question and conversation history\nconst { question, history = [] } = $json;\n\nif (!question) {\n  throw new Error('No question provided');\n}\n\n// Prepare context from history\nconst contextWindow = history.slice(-5); // Keep last 5 exchanges\nconst contextString = contextWindow\n  .map(msg => `${msg.role}: ${msg.content}`)\n  .join('\\n');\n\nreturn [{\n  json: {\n    question,\n    history: contextWindow,\n    contextString,\n    timestamp: new Date().toISOString()\n  }\n}];"
      },
      "id": "parse-request",
      "name": "Parse Request",
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [460, 400]
    },
    {
      "parameters": {
        "url": "={{ $env.WORKSHOP_EMBEDDING_URL || 'https://workshop-embedding-api.vercel.app/api/embed' }}",
        "sendBody": true,
        "specifyBody": "json",
        "jsonBody": "={\n  \"text\": {{ JSON.stringify($json.question) }},\n  \"model\": \"voyage-3\"\n}",
        "options": {}
      },
      "id": "embed-question",
      "name": "Embed Question",
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.1,
      "position": [680, 400]
    },
    {
      "parameters": {
        "operation": "aggregate",
        "collection": "workshop_docs",
        "pipeline": "=[\n  {\n    \"$vectorSearch\": {\n      \"index\": \"workshop_docs_vector_index\",\n      \"path\": \"embedding\",\n      \"queryVector\": {{ JSON.stringify($json.embeddings[0]) }},\n      \"numCandidates\": 20,\n      \"limit\": 5\n    }\n  },\n  {\n    \"$project\": {\n      \"_id\": 0,\n      \"title\": 1,\n      \"section\": 1,\n      \"content\": 1,\n      \"filename\": 1,\n      \"score\": { \"$meta\": \"vectorSearchScore\" }\n    }\n  }\n]"
      },
      "id": "vector-search",
      "name": "Vector Search Docs",
      "type": "n8n-nodes-base.mongoDb",
      "typeVersion": 1,
      "position": [900, 400],
      "credentials": {
        "mongoDb": {
          "id": "mongodb-workshop",
          "name": "MongoDB Workshop"
        }
      },
      "continueOnFail": true
    },
    {
      "parameters": {
        "jsCode": "// Fallback to text search if vector search fails\nconst question = $('Parse Request').first().json.question;\n\n// Simple keyword extraction\nconst keywords = question.toLowerCase()\n  .split(' ')\n  .filter(word => word.length > 3)\n  .filter(word => !['what', 'when', 'where', 'which', 'how', 'does', 'should', 'could', 'would', 'with', 'about'].includes(word));\n\nreturn [{\n  json: {\n    question,\n    keywords,\n    searchQuery: {\n      $or: keywords.map(keyword => ({\n        content: { $regex: keyword, $options: 'i' }\n      }))\n    }\n  }\n}];"
      },
      "id": "fallback-search-prep",
      "name": "Prepare Text Search",
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [900, 600]
    },
    {
      "parameters": {
        "operation": "find",
        "collection": "workshop_docs",
        "query": "={{ $json.searchQuery }}",
        "limit": 5,
        "sort": "={{ { chunk_index: 1 } }}"
      },
      "id": "text-search",
      "name": "Text Search Fallback",
      "type": "n8n-nodes-base.mongoDb",
      "typeVersion": 1,
      "position": [1120, 600],
      "credentials": {
        "mongoDb": {
          "id": "mongodb-workshop",
          "name": "MongoDB Workshop"
        }
      }
    },
    {
      "parameters": {
        "jsCode": "// Combine search results\nconst vectorResults = $('Vector Search Docs').all();\nconst textResults = $('Text Search Fallback').all();\nconst question = $('Parse Request').first().json.question;\nconst history = $('Parse Request').first().json.history;\n\n// Use vector results if available, otherwise use text search\nlet searchResults = vectorResults.length > 0 ? vectorResults : textResults;\n\n// Format context from search results\nconst contextDocs = searchResults.slice(0, 3).map(item => {\n  const doc = item.json;\n  return `\\n### ${doc.title || 'Document'} - ${doc.section || 'Section'}\\n${doc.content || ''}`;\n}).join('\\n\\n');\n\n// Prepare prompt for LLM\nconst systemPrompt = `You are a helpful lab assistant for a workshop on building multimodal PDF agents with n8n, MongoDB Atlas, and Voyage AI. \nAnswer questions based on the workshop documentation provided in the context. \nBe concise, accurate, and helpful. If the answer isn't in the context, say so and provide general guidance.`;\n\nconst userPrompt = `Context from workshop documentation:\\n${contextDocs}\\n\\nConversation history:\\n${history.map(h => `${h.role}: ${h.content}`).join('\\n')}\\n\\nQuestion: ${question}\\n\\nProvide a helpful answer based on the workshop documentation:`;\n\nreturn [{\n  json: {\n    systemPrompt,\n    userPrompt,\n    question,\n    contextDocs,\n    searchResultsCount: searchResults.length\n  }\n}];"
      },
      "id": "prepare-prompt",
      "name": "Prepare LLM Prompt",
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [1340, 400]
    },
    {
      "parameters": {
        "resource": "chat",
        "operation": "complete",
        "modelId": {
          "__rl": true,
          "value": "gpt-4o-mini",
          "mode": "list"
        },
        "messages": {
          "values": [
            {
              "role": "system",
              "content": "={{ $json.systemPrompt }}"
            },
            {
              "role": "user", 
              "content": "={{ $json.userPrompt }}"
            }
          ]
        },
        "options": {
          "temperature": 0.7,
          "maxTokens": 500
        },
        "simplify": true
      },
      "id": "generate-response",
      "name": "Generate Response",
      "type": "@n8n/n8n-nodes-langchain.openAi",
      "typeVersion": 1.4,
      "position": [1560, 400],
      "credentials": {
        "openAiApi": {
          "id": "openai-api",
          "name": "OpenAI API"
        }
      }
    },
    {
      "parameters": {
        "jsCode": "// Mock LLM response for workshop demo\nconst question = $('Prepare LLM Prompt').first().json.question;\nconst contextDocs = $('Prepare LLM Prompt').first().json.contextDocs;\nconst hasContext = $('Prepare LLM Prompt').first().json.searchResultsCount > 0;\n\n// Generate appropriate response based on question\nlet response = '';\n\nif (question.toLowerCase().includes('pdf')) {\n  response = hasContext \n    ? \"Based on the workshop documentation, you'll work with PDF processing in Exercise 1. The workflow includes uploading PDFs via webhook, validating the file type, extracting text content, generating embeddings using Voyage AI, and storing the results in MongoDB Atlas. The complete workflow is available in the `/static/workflows/02-pdf-processor.json` file.\"\n    : \"The workshop covers PDF processing extensively. You'll learn to build workflows that handle PDF uploads, extract text, generate embeddings, and store them for retrieval.\";\n} else if (question.toLowerCase().includes('mongodb')) {\n  response = hasContext\n    ? \"MongoDB Atlas is used throughout the workshop for storing documents and embeddings. You'll need to configure MongoDB credentials with host: localhost, port: 27017, database: workshop, username: admin, and password: mongodb. The workshop uses MongoDB's vector search capabilities for RAG implementation.\"\n    : \"MongoDB Atlas is a key component in this workshop, used for storing and searching vector embeddings.\";\n} else if (question.toLowerCase().includes('vector') || question.toLowerCase().includes('embedding')) {\n  response = hasContext\n    ? \"The workshop uses Voyage AI's voyage-3 model to generate 1024-dimensional embeddings. These embeddings are stored in MongoDB Atlas and used for vector similarity search in the RAG system. You'll implement this in Exercise 2 where you create vector search indexes.\"\n    : \"Vector embeddings are central to the workshop. You'll learn to generate and search embeddings for building RAG systems.\";\n} else if (question.toLowerCase().includes('exercise')) {\n  response = hasContext\n    ? \"The workshop includes 4 main exercises:\\n1. PDF Processing Workflow - Process uploads and generate embeddings\\n2. Vector Search Workflow - Implement similarity search\\n3. Chat Interface - Build conversational interface\\n4. Advanced Features - Add memory, tools, and multimodal capabilities\\n\\nEach exercise builds on the previous one to create a complete multimodal agent.\"\n    : \"The workshop is structured as a series of hands-on exercises that progressively build a complete multimodal PDF agent.\";\n} else {\n  response = hasContext\n    ? `Based on the workshop documentation: ${contextDocs.substring(0, 300)}...\\n\\nThis relates to your question about ${question}.`\n    : `I don't have specific information about \"${question}\" in the workshop documentation. However, this workshop focuses on building multimodal PDF agents using n8n, MongoDB Atlas, and Voyage AI. Would you like to know about any specific aspect of these technologies?`;\n}\n\nreturn [{\n  json: {\n    response,\n    question,\n    sources: hasContext ? 'Workshop documentation' : 'General knowledge',\n    confidence: hasContext ? 'high' : 'medium'\n  }\n}];"
      },
      "id": "mock-llm-response",
      "name": "Mock LLM Response",
      "type": "n8n-nodes-base.code", 
      "typeVersion": 2,
      "position": [1560, 600]
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "conditions": [
              {
                "value1": "={{ $env.OPENAI_API_KEY }}",
                "operation": "isNotEmpty"
              }
            ]
          }
        }
      },
      "id": "check-openai",
      "name": "Check OpenAI Key",
      "type": "n8n-nodes-base.if",
      "typeVersion": 2,
      "position": [1340, 600]
    },
    {
      "parameters": {
        "values": {
          "string": [
            {
              "name": "answer",
              "value": "={{ $('Generate Response').isExecuted ? $('Generate Response').first().json.message.content : $('Mock LLM Response').first().json.response }}"
            },
            {
              "name": "sources",
              "value": "={{ $('Generate Response').isExecuted ? 'Workshop documentation (RAG)' : $('Mock LLM Response').first().json.sources }}"
            },
            {
              "name": "model",
              "value": "={{ $('Generate Response').isExecuted ? 'gpt-4o-mini' : 'mock-response' }}"
            }
          ],
          "number": [
            {
              "name": "context_docs_used",
              "value": "={{ $('Prepare LLM Prompt').first().json.searchResultsCount }}"
            }
          ]
        }
      },
      "id": "format-response",
      "name": "Format Response",
      "type": "n8n-nodes-base.set",
      "typeVersion": 3.2,
      "position": [1780, 400]
    }
  ],
  "pinData": {},
  "connections": {
    "Chat Webhook": {
      "main": [
        [
          {
            "node": "Parse Request",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Parse Request": {
      "main": [
        [
          {
            "node": "Embed Question",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Embed Question": {
      "main": [
        [
          {
            "node": "Vector Search Docs",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Vector Search Docs": {
      "main": [
        [
          {
            "node": "Prepare LLM Prompt",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Prepare Text Search",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Prepare Text Search": {
      "main": [
        [
          {
            "node": "Text Search Fallback",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Text Search Fallback": {
      "main": [
        [
          {
            "node": "Prepare LLM Prompt",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Prepare LLM Prompt": {
      "main": [
        [
          {
            "node": "Check OpenAI Key",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Check OpenAI Key": {
      "main": [
        [
          {
            "node": "Generate Response",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Mock LLM Response",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Generate Response": {
      "main": [
        [
          {
            "node": "Format Response",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Mock LLM Response": {
      "main": [
        [
          {
            "node": "Format Response",
            "type": "main",
            "index": 0
          }
        ]
      ]
    }
  },
  "active": false,
  "settings": {
    "executionOrder": "v1"
  },
  "versionId": "lab-assistant-v1",
  "meta": {
    "templateCredsSetupCompleted": false
  },
  "id": "lab-assistant-rag-chat",
  "tags": ["workshop", "rag", "chat", "assistant"]
}
```

# vercel.json

```json
{
  "buildCommand": "npm run build",
  "outputDirectory": "build"
}
```

