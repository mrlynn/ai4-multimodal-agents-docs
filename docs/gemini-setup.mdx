---
id: gemini-setup
title: ü§ñ Google Gemini API Key Setup
sidebar_label: ü§ñ Gemini Setup
sidebar_position: 3
---

import ClickableImage from '@site/src/components/ClickableImage';

# ü§ñ Google Gemini API Key Setup

## Why You Need a Gemini API Key

Google's Gemini 2.0 Flash is our chosen LLM for this workshop because it offers:
- Advanced function calling capabilities for tool use
- Multimodal understanding (text and images)
- Fast response times ideal for interactive agents
- Generous free tier for development

---

## Step-by-Step Gemini API Key Creation

### Step 1: Access Google AI Studio

Navigate to [Google AI Studio](https://aistudio.google.com/app/apikey) and sign in with your Google account.

You may be prompted to accept Google's AI Studio terms and conditions:

<ClickableImage 
  src="/img/gemini-1-consent.png" 
  alt="Google AI Studio consent and terms"
  caption="Accept the terms and conditions to continue"
/>

### Step 2: Get Your API Key

Once you're signed in, you'll see the API key management page:

<ClickableImage 
  src="/img/gemini-2-get-api-key.png" 
  alt="Google AI Studio API key page"
  caption="Click 'Get API key' to start the API key creation process"
/>

Click **"Get API key"** to start creating your API key.

### Step 3: Create API Key

You'll be presented with options for creating your API key:

<ClickableImage 
  src="/img/gemini-3-create-api-key.png" 
  alt="Create API key options"
  caption="Choose to create API key in existing project or new project"
/>

Choose **"Create API key in new project"** if this is your first time, or select an existing Google Cloud project if you have one.

### Step 4: Create in New Project

If you selected "Create API key in new project", you'll see this confirmation:

<ClickableImage 
  src="/img/gemini-4-create-api-new-project.png" 
  alt="Create API key in new project"
  caption="Confirm creating your API key in a new project"
/>

Click **"Create API key in new project"** to proceed.

### Step 5: Copy Your API Key

Your API key will be generated and displayed:

<ClickableImage 
  src="/img/gemini-6-copy-key.png" 
  alt="Copy your generated API key"
  caption="Copy your API key immediately - you won't be able to see it again"
/>

‚ö†Ô∏è **IMPORTANT**: Save your API key immediately:
- Click the copy button to copy the generated API key
- Store it in your `.env` file as `GOOGLE_API_KEY`
- Keep it secure and never share it publicly
- **You won't be able to view the key again after this screen**

---

## Setting Up Your Environment

### Add to .env File

Add your Gemini API key to your `.env` file:

```bash
# Google Gemini Configuration
GOOGLE_API_KEY="your_gemini_api_key_here"
```

### Install Required Packages

Make sure you have the Google GenAI package installed:

```bash
pip install google-genai
```

### Verify Your Setup

Test your API key with this Python code:

```python
from google import genai
import os

# Initialize the client with your API key
client = genai.Client(api_key=os.getenv("GOOGLE_API_KEY"))

# Test with a simple generation
try:
    response = client.models.generate_content(
        model="gemini-2.0-flash",
        contents="Hello, Gemini! Can you confirm you're working?"
    )
    print("‚úÖ Gemini API key verified!")
    print(f"Response: {response.text}")
except Exception as e:
    print(f"‚ùå Gemini verification failed: {e}")
```

---

## Understanding Gemini Capabilities

### Function Calling

Gemini 2.0 Flash supports advanced function calling, which we'll use for:
- Tool selection and execution
- Structured data extraction
- Multi-step reasoning (ReAct pattern)

### Multimodal Processing

Gemini can process both text and images simultaneously:
- Analyze PDF page images
- Understand visual content in context
- Generate responses based on both text and visual information

### Performance Characteristics

- **Speed**: Optimized for fast response times
- **Context Window**: Large context for complex conversations
- **Free Tier**: Generous limits for development and learning

---

## Best Practices

### API Key Security

1. **Never hardcode keys**: Always use environment variables
2. **Restrict access**: Use Google Cloud IAM for production environments
3. **Monitor usage**: Check your Google Cloud console for API usage
4. **Rotate keys**: Regenerate keys periodically for security

### Usage Optimization

1. **Batch requests**: Group multiple operations when possible
2. **Cache responses**: Store common responses to reduce API calls
3. **Monitor quotas**: Track your usage against free tier limits
4. **Error handling**: Implement proper retry logic for failed requests

---

## Troubleshooting

### Common Issues

**API Key Not Working**
- Ensure you've enabled the Gemini API in your Google Cloud project
- Check that your API key has the necessary permissions
- Verify you're using the correct model name: `gemini-2.0-flash`

**Quota Exceeded**
- Check your Google Cloud console for quota limits
- Consider upgrading to a paid plan if needed
- Implement rate limiting in your code

**Permission Denied**
- Verify your Google Cloud project has the Gemini API enabled
- Check that your API key is associated with the correct project
- Ensure your Google account has the necessary permissions

### Rate Limiting

Free tier limits:
- **Requests per minute**: Check your console for current limits
- **Tokens per request**: Large context windows count against quotas
- **Monthly usage**: Monitor your monthly API usage

### Getting Help

If you encounter issues:
- Check the [Google AI Studio documentation](https://ai.google.dev/docs)
- Review your Google Cloud console for error messages
- Ensure you're using the latest version of the `google-genai` package

---

## Advanced Configuration

### Setting Up Function Calling

For the workshop's ReAct agent, we'll configure function calling:

```python
from google.genai import types

# Define your function declarations
function_declaration = {
    "name": "search_documents",
    "description": "Search through PDF documents using vector similarity",
    "parameters": {
        "type": "object",
        "properties": {
            "query": {
                "type": "string",
                "description": "Search query for document retrieval"
            }
        },
        "required": ["query"]
    }
}

# Create tools configuration
tools = types.Tool(function_declarations=[function_declaration])
config = types.GenerateContentConfig(tools=[tools], temperature=0.0)
```

### Multimodal Inputs

Gemini can process images alongside text:

```python
from PIL import Image

# Load an image
image = Image.open("document_page.png")

# Generate content with both text and image
response = client.models.generate_content(
    model="gemini-2.0-flash",
    contents=["What do you see in this document page?", image]
)
```

---

**[‚Üê Back to Prerequisites Overview](./prerequisites)** | **[Next: Atlas Setup ‚Üí](./atlas-setup)**